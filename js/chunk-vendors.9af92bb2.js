(self["webpackChunktelem"]=self["webpackChunktelem"]||[]).push([[504],{953:function(t,e,n){"use strict";n.d(e,{C4:function(){return _},EW:function(){return kt},Gc:function(){return gt},IG:function(){return St},IJ:function(){return Dt},KR:function(){return At},Kh:function(){return mt},Pr:function(){return Yt},R1:function(){return It},X2:function(){return h},bl:function(){return y},fE:function(){return vt},g8:function(){return yt},hZ:function(){return E},i9:function(){return Rt},ju:function(){return bt},o5:function(){return l},u4:function(){return L},ux:function(){return Mt},yC:function(){return o}});var i=n(33);
/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let s,r;class o{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=s,!t&&s&&(this.index=(s.scopes||(s.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=s;try{return s=this,t()}finally{s=e}}else 0}on(){s=this}off(){s=this.parent}stop(t){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function a(t,e=s){e&&e.active&&e.effects.push(t)}function l(){return s}class h{constructor(t,e,n,i){this.fn=t,this.trigger=e,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,a(this,i)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,_();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed&&(c(e.computed),this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),y()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=m,e=r;try{return m=!0,r=this,this._runnings++,d(this),this.fn()}finally{u(this),this._runnings--,r=e,m=t}}stop(){this.active&&(d(this),u(this),this.onStop&&this.onStop(),this.active=!1)}}function c(t){return t.value}function d(t){t._trackId++,t._depsLength=0}function u(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)f(t.deps[e],t);t.deps.length=t._depsLength}}function f(t,e){const n=t.get(e);void 0!==n&&e._trackId!==n&&(t.delete(e),0===t.size&&t.cleanup())}let m=!0,g=0;const p=[];function _(){p.push(m),m=!1}function y(){const t=p.pop();m=void 0===t||t}function w(){g++}function v(){g--;while(!g&&M.length)M.shift()()}function b(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&f(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const M=[];function S(t,e,n){w();for(const i of t.keys()){let n;i._dirtyLevel<e&&(null!=n?n:n=t.get(i)===i._trackId)&&(i._shouldSchedule||(i._shouldSchedule=0===i._dirtyLevel),i._dirtyLevel=e),i._shouldSchedule&&(null!=n?n:n=t.get(i)===i._trackId)&&(i.trigger(),i._runnings&&!i.allowRecurse||2===i._dirtyLevel||(i._shouldSchedule=!1,i.scheduler&&M.push(i.scheduler)))}v()}const C=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},x=new WeakMap,T=Symbol(""),k=Symbol("");function L(t,e,n){if(m&&r){let e=x.get(t);e||x.set(t,e=new Map);let i=e.get(n);i||e.set(n,i=C((()=>e.delete(n)))),b(r,i,void 0)}}function E(t,e,n,s,r,o){const a=x.get(t);if(!a)return;let l=[];if("clear"===e)l=[...a.values()];else if("length"===n&&(0,i.cy)(t)){const t=Number(s);a.forEach(((e,n)=>{("length"===n||!(0,i.Bm)(n)&&n>=t)&&l.push(e)}))}else switch(void 0!==n&&l.push(a.get(n)),e){case"add":(0,i.cy)(t)?(0,i.yI)(n)&&l.push(a.get("length")):(l.push(a.get(T)),(0,i.CE)(t)&&l.push(a.get(k)));break;case"delete":(0,i.cy)(t)||(l.push(a.get(T)),(0,i.CE)(t)&&l.push(a.get(k)));break;case"set":(0,i.CE)(t)&&l.push(a.get(T));break}w();for(const i of l)i&&S(i,4,void 0);v()}const R=(0,i.pD)("__proto__,__v_isRef,__isVue"),A=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(i.Bm)),D=H();function H(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=Mt(this);for(let e=0,s=this.length;e<s;e++)L(n,"get",e+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(Mt)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){_(),w();const n=Mt(this)[e].apply(this,t);return v(),y(),n}})),t}function P(t){(0,i.Bm)(t)||(t=String(t));const e=Mt(this);return L(e,"has",t),e.hasOwnProperty(t)}class I{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){const s=this._isReadonly,r=this._isShallow;if("__v_isReactive"===e)return!s;if("__v_isReadonly"===e)return s;if("__v_isShallow"===e)return r;if("__v_raw"===e)return n===(s?r?dt:ct:r?ht:lt).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=(0,i.cy)(t);if(!s){if(o&&(0,i.$3)(D,e))return Reflect.get(D,e,n);if("hasOwnProperty"===e)return P}const a=Reflect.get(t,e,n);return((0,i.Bm)(e)?A.has(e):R(e))?a:(s||L(t,"get",e),r?a:Rt(a)?o&&(0,i.yI)(e)?a:a.value:(0,i.Gv)(a)?s?pt(a):mt(a):a)}}class O extends I{constructor(t=!1){super(!1,t)}set(t,e,n,s){let r=t[e];if(!this._isShallow){const e=wt(r);if(vt(n)||wt(n)||(r=Mt(r),n=Mt(n)),!(0,i.cy)(t)&&Rt(r)&&!Rt(n))return!e&&(r.value=n,!0)}const o=(0,i.cy)(t)&&(0,i.yI)(e)?Number(e)<t.length:(0,i.$3)(t,e),a=Reflect.set(t,e,n,s);return t===Mt(s)&&(o?(0,i.$H)(n,r)&&E(t,"set",e,n,r):E(t,"add",e,n)),a}deleteProperty(t,e){const n=(0,i.$3)(t,e),s=t[e],r=Reflect.deleteProperty(t,e);return r&&n&&E(t,"delete",e,void 0,s),r}has(t,e){const n=Reflect.has(t,e);return(0,i.Bm)(e)&&A.has(e)||L(t,"has",e),n}ownKeys(t){return L(t,"iterate",(0,i.cy)(t)?"length":T),Reflect.ownKeys(t)}}class Y extends I{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const N=new O,F=new Y,j=new O(!0),W=t=>t,V=t=>Reflect.getPrototypeOf(t);function B(t,e,n=!1,s=!1){t=t["__v_raw"];const r=Mt(t),o=Mt(e);n||((0,i.$H)(e,o)&&L(r,"get",e),L(r,"get",o));const{has:a}=V(r),l=s?W:n?xt:Ct;return a.call(r,e)?l(t.get(e)):a.call(r,o)?l(t.get(o)):void(t!==r&&t.get(e))}function z(t,e=!1){const n=this["__v_raw"],s=Mt(n),r=Mt(t);return e||((0,i.$H)(t,r)&&L(s,"has",t),L(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function U(t,e=!1){return t=t["__v_raw"],!e&&L(Mt(t),"iterate",T),Reflect.get(t,"size",t)}function $(t){t=Mt(t);const e=Mt(this),n=V(e),i=n.has.call(e,t);return i||(e.add(t),E(e,"add",t,t)),this}function G(t,e){e=Mt(e);const n=Mt(this),{has:s,get:r}=V(n);let o=s.call(n,t);o||(t=Mt(t),o=s.call(n,t));const a=r.call(n,t);return n.set(t,e),o?(0,i.$H)(e,a)&&E(n,"set",t,e,a):E(n,"add",t,e),this}function K(t){const e=Mt(this),{has:n,get:i}=V(e);let s=n.call(e,t);s||(t=Mt(t),s=n.call(e,t));const r=i?i.call(e,t):void 0,o=e.delete(t);return s&&E(e,"delete",t,void 0,r),o}function q(){const t=Mt(this),e=0!==t.size,n=void 0,i=t.clear();return e&&E(t,"clear",void 0,void 0,n),i}function X(t,e){return function(n,i){const s=this,r=s["__v_raw"],o=Mt(r),a=e?W:t?xt:Ct;return!t&&L(o,"iterate",T),r.forEach(((t,e)=>n.call(i,a(t),a(e),s)))}}function J(t,e,n){return function(...s){const r=this["__v_raw"],o=Mt(r),a=(0,i.CE)(o),l="entries"===t||t===Symbol.iterator&&a,h="keys"===t&&a,c=r[t](...s),d=n?W:e?xt:Ct;return!e&&L(o,"iterate",h?k:T),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:l?[d(t[0]),d(t[1])]:d(t),done:e}},[Symbol.iterator](){return this}}}}function Z(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function Q(){const t={get(t){return B(this,t)},get size(){return U(this)},has:z,add:$,set:G,delete:K,clear:q,forEach:X(!1,!1)},e={get(t){return B(this,t,!1,!0)},get size(){return U(this)},has:z,add:$,set:G,delete:K,clear:q,forEach:X(!1,!0)},n={get(t){return B(this,t,!0)},get size(){return U(this,!0)},has(t){return z.call(this,t,!0)},add:Z("add"),set:Z("set"),delete:Z("delete"),clear:Z("clear"),forEach:X(!0,!1)},i={get(t){return B(this,t,!0,!0)},get size(){return U(this,!0)},has(t){return z.call(this,t,!0)},add:Z("add"),set:Z("set"),delete:Z("delete"),clear:Z("clear"),forEach:X(!0,!0)},s=["keys","values","entries",Symbol.iterator];return s.forEach((s=>{t[s]=J(s,!1,!1),n[s]=J(s,!0,!1),e[s]=J(s,!1,!0),i[s]=J(s,!0,!0)})),[t,n,e,i]}const[tt,et,nt,it]=Q();function st(t,e){const n=e?t?it:nt:t?et:tt;return(e,s,r)=>"__v_isReactive"===s?!t:"__v_isReadonly"===s?t:"__v_raw"===s?e:Reflect.get((0,i.$3)(n,s)&&s in e?n:e,s,r)}const rt={get:st(!1,!1)},ot={get:st(!1,!0)},at={get:st(!0,!1)};const lt=new WeakMap,ht=new WeakMap,ct=new WeakMap,dt=new WeakMap;function ut(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ft(t){return t["__v_skip"]||!Object.isExtensible(t)?0:ut((0,i.Zf)(t))}function mt(t){return wt(t)?t:_t(t,!1,N,rt,lt)}function gt(t){return _t(t,!1,j,ot,ht)}function pt(t){return _t(t,!0,F,at,ct)}function _t(t,e,n,s,r){if(!(0,i.Gv)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=r.get(t);if(o)return o;const a=ft(t);if(0===a)return t;const l=new Proxy(t,2===a?s:n);return r.set(t,l),l}function yt(t){return wt(t)?yt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function wt(t){return!(!t||!t["__v_isReadonly"])}function vt(t){return!(!t||!t["__v_isShallow"])}function bt(t){return!!t&&!!t["__v_raw"]}function Mt(t){const e=t&&t["__v_raw"];return e?Mt(e):t}function St(t){return Object.isExtensible(t)&&(0,i.yQ)(t,"__v_skip",!0),t}const Ct=t=>(0,i.Gv)(t)?mt(t):t,xt=t=>(0,i.Gv)(t)?pt(t):t;class Tt{constructor(t,e,n,i){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this.effect=new h((()=>t(this._value)),(()=>Et(this,2===this.effect._dirtyLevel?2:3))),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=n}get value(){const t=Mt(this);return t._cacheable&&!t.effect.dirty||!(0,i.$H)(t._value,t._value=t.effect.run())||Et(t,4),Lt(t),t.effect._dirtyLevel>=2&&Et(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function kt(t,e,n=!1){let s,r;const o=(0,i.Tn)(t);o?(s=t,r=i.tE):(s=t.get,r=t.set);const a=new Tt(s,r,o||!r,n);return a}function Lt(t){var e;m&&r&&(t=Mt(t),b(r,null!=(e=t.dep)?e:t.dep=C((()=>t.dep=void 0),t instanceof Tt?t:void 0),void 0))}function Et(t,e=4,n){t=Mt(t);const i=t.dep;i&&S(i,e,void 0)}function Rt(t){return!(!t||!0!==t.__v_isRef)}function At(t){return Ht(t,!1)}function Dt(t){return Ht(t,!0)}function Ht(t,e){return Rt(t)?t:new Pt(t,e)}class Pt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Mt(t),this._value=e?t:Ct(t)}get value(){return Lt(this),this._value}set value(t){const e=this.__v_isShallow||vt(t)||wt(t);t=e?t:Mt(t),(0,i.$H)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Ct(t),Et(this,4,t))}}function It(t){return Rt(t)?t.value:t}const Ot={get:(t,e,n)=>It(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Rt(s)&&!Rt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function Yt(t){return yt(t)?t:new Proxy(t,Ot)}},641:function(t,e,n){"use strict";n.d(e,{$u:function(){return It},CE:function(){return on},Df:function(){return wt},EW:function(){return Gn},FK:function(){return Ke},Fv:function(){return yn},Gt:function(){return ge},Gy:function(){return ht},K9:function(){return Fe},Lk:function(){return un},MZ:function(){return yt},OW:function(){return gt},Q3:function(){return wn},QP:function(){return dt},Qi:function(){return I},RG:function(){return Bt},WQ:function(){return pe},Wv:function(){return an},bF:function(){return fn},bo:function(){return rt},dY:function(){return y},eW:function(){return _n},g2:function(){return U},h:function(){return Kn},hi:function(){return Yt},jt:function(){return O},k6:function(){return Y},nI:function(){return En},pI:function(){return Vt},pM:function(){return vt},pR:function(){return ft},qL:function(){return o},rE:function(){return qn},sV:function(){return Ht},uX:function(){return tn},wB:function(){return tt}});var i=n(953),s=n(33);function r(t,e,n,i){try{return i?t(...i):t()}catch(s){a(s,e,n)}}function o(t,e,n,i){if((0,s.Tn)(t)){const o=r(t,e,n,i);return o&&(0,s.yL)(o)&&o.catch((t=>{a(t,e,n)})),o}if((0,s.cy)(t)){const s=[];for(let r=0;r<t.length;r++)s.push(o(t[r],e,n,i));return s}}function a(t,e,n,s=!0){const o=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;while(s){const e=s.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,o,a))return;s=s.parent}const l=e.appContext.config.errorHandler;if(l)return(0,i.C4)(),r(l,null,10,[t,o,a]),void(0,i.bl)()}l(t,n,o,s)}function l(t,e,n,i=!0){console.error(t)}let h=!1,c=!1;const d=[];let u=0;const f=[];let m=null,g=0;const p=Promise.resolve();let _=null;function y(t){const e=_||p;return t?e.then(this?t.bind(this):t):e}function w(t){let e=u+1,n=d.length;while(e<n){const i=e+n>>>1,s=d[i],r=T(s);r<t||r===t&&s.pre?e=i+1:n=i}return e}function v(t){d.length&&d.includes(t,h&&t.allowRecurse?u+1:u)||(null==t.id?d.push(t):d.splice(w(t.id),0,t),b())}function b(){h||c||(c=!0,_=p.then(L))}function M(t){const e=d.indexOf(t);e>u&&d.splice(e,1)}function S(t){(0,s.cy)(t)?f.push(...t):m&&m.includes(t,t.allowRecurse?g+1:g)||f.push(t),b()}function C(t,e,n=(h?u+1:0)){for(0;n<d.length;n++){const e=d[n];if(e&&e.pre){if(t&&e.id!==t.uid)continue;0,d.splice(n,1),n--,e()}}}function x(t){if(f.length){const t=[...new Set(f)].sort(((t,e)=>T(t)-T(e)));if(f.length=0,m)return void m.push(...t);for(m=t,g=0;g<m.length;g++)m[g]();m=null,g=0}}const T=t=>null==t.id?1/0:t.id,k=(t,e)=>{const n=T(t)-T(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function L(t){c=!1,h=!0,d.sort(k);s.tE;try{for(u=0;u<d.length;u++){const t=d[u];t&&!1!==t.active&&r(t,null,14)}}finally{u=0,d.length=0,x(t),h=!1,_=null,(d.length||f.length)&&L(t)}}function E(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||s.MZ;let r=n;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in i){const t=`${"modelValue"===l?"model":l}Modifiers`,{number:e,trim:o}=i[t]||s.MZ;o&&(r=n.map((t=>(0,s.Kg)(t)?t.trim():t))),e&&(r=n.map(s.bB))}let h;let c=i[h=(0,s.rU)(e)]||i[h=(0,s.rU)((0,s.PT)(e))];!c&&a&&(c=i[h=(0,s.rU)((0,s.Tg)(e))]),c&&o(c,t,6,r);const d=i[h+"Once"];if(d){if(t.emitted){if(t.emitted[h])return}else t.emitted={};t.emitted[h]=!0,o(d,t,6,r)}}function R(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(void 0!==r)return r;const o=t.emits;let a={},l=!1;if(!(0,s.Tn)(t)){const i=t=>{const n=R(t,e,!0);n&&(l=!0,(0,s.X$)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return o||l?((0,s.cy)(o)?o.forEach((t=>a[t]=null)):(0,s.X$)(a,o),(0,s.Gv)(t)&&i.set(t,a),a):((0,s.Gv)(t)&&i.set(t,null),null)}function A(t,e){return!(!t||!(0,s.Mp)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,s.$3)(t,e[0].toLowerCase()+e.slice(1))||(0,s.$3)(t,(0,s.Tg)(e))||(0,s.$3)(t,e))}let D=null,H=null;function P(t){const e=D;return D=t,H=t&&t.type.__scopeId||null,e}function I(t){H=t}function O(){H=null}function Y(t,e=D,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&sn(-1);const s=P(e);let r;try{r=t(...n)}finally{P(s),i._d&&sn(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function N(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[o],slots:l,attrs:h,emit:c,render:d,renderCache:u,props:f,data:m,setupState:g,ctx:p,inheritAttrs:_}=t,y=P(t);let w,v;try{if(4&n.shapeFlag){const t=r||i,e=t;w=vn(d.call(e,t,u,f,g,m,p)),v=h}else{const t=e;0,w=vn(t.length>1?t(f,{attrs:h,slots:l,emit:c}):t(f,null)),v=e.props?h:F(h)}}catch(M){Ze.length=0,a(M,t,1),w=fn(Xe)}let b=w;if(v&&!1!==_){const t=Object.keys(v),{shapeFlag:e}=b;t.length&&7&e&&(o&&t.some(s.CP)&&(v=j(v,o)),b=pn(b,v,!1,!0))}return n.dirs&&(b=pn(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),w=b,P(y),w}const F=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,s.Mp)(n))&&((e||(e={}))[n]=t[n]);return e},j=(t,e)=>{const n={};for(const i in t)(0,s.CP)(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function W(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!s&&!a||a&&a.$stable)||i!==o&&(i?!o||V(i,o,h):!!o);if(1024&l)return!0;if(16&l)return i?V(i,o,h):!!o;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(o[n]!==i[n]&&!A(h,n))return!0}}return!1}function V(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!A(n,r))return!0}return!1}function B({vnode:t,parent:e},n){while(e){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i!==t)break;(t=e.vnode).el=n,e=e.parent}}const z="components";function U(t,e){return G(z,t,!0,e)||t}const $=Symbol.for("v-ndc");function G(t,e,n=!0,i=!1){const r=D||Ln;if(r){const n=r.type;if(t===z){const t=Un(n,!1);if(t&&(t===e||t===(0,s.PT)(e)||t===(0,s.ZH)((0,s.PT)(e))))return n}const o=K(r[t]||n[t],e)||K(r.appContext[t],e);return!o&&i?n:o}}function K(t,e){return t&&(t[e]||t[(0,s.PT)(e)]||t[(0,s.ZH)((0,s.PT)(e))])}const q=t=>t.__isSuspense;function X(t,e){e&&e.pendingBranch?(0,s.cy)(t)?e.effects.push(...t):e.effects.push(t):S(t)}const J=Symbol.for("v-scx"),Z=()=>{{const t=pe(J);return t}};const Q={};function tt(t,e,n){return et(t,e,n)}function et(t,e,{immediate:n,deep:a,flush:l,once:h,onTrack:c,onTrigger:d}=s.MZ){if(e&&h){const t=e;e=(...e)=>{t(...e),T()}}const u=Ln,f=t=>!0===a?t:st(t,!1===a?1:void 0);let m,g,p=!1,_=!1;if((0,i.i9)(t)?(m=()=>t.value,p=(0,i.fE)(t)):(0,i.g8)(t)?(m=()=>f(t),p=!0):(0,s.cy)(t)?(_=!0,p=t.some((t=>(0,i.g8)(t)||(0,i.fE)(t))),m=()=>t.map((t=>(0,i.i9)(t)?t.value:(0,i.g8)(t)?f(t):(0,s.Tn)(t)?r(t,u,2):void 0))):m=(0,s.Tn)(t)?e?()=>r(t,u,2):()=>(g&&g(),o(t,u,3,[w])):s.tE,e&&a){const t=m;m=()=>st(t())}let y,w=t=>{g=C.onStop=()=>{r(t,u,4),g=C.onStop=void 0}};if(Yn){if(w=s.tE,e?n&&o(e,u,3,[m(),_?[]:void 0,w]):m(),"sync"!==l)return s.tE;{const t=Z();y=t.__watcherHandles||(t.__watcherHandles=[])}}let b=_?new Array(t.length).fill(Q):Q;const M=()=>{if(C.active&&C.dirty)if(e){const t=C.run();(a||p||(_?t.some(((t,e)=>(0,s.$H)(t,b[e]))):(0,s.$H)(t,b)))&&(g&&g(),o(e,u,3,[t,b===Q?void 0:_&&b[0]===Q?[]:b,w]),b=t)}else C.run()};let S;M.allowRecurse=!!e,"sync"===l?S=M:"post"===l?S=()=>Ne(M,u&&u.suspense):(M.pre=!0,u&&(M.id=u.uid),S=()=>v(M));const C=new i.X2(m,s.tE,S),x=(0,i.o5)(),T=()=>{C.stop(),x&&(0,s.TF)(x.effects,C)};return e?n?M():b=C.run():"post"===l?Ne(C.run.bind(C),u&&u.suspense):C.run(),y&&y.push(T),T}function nt(t,e,n){const i=this.proxy,r=(0,s.Kg)(t)?t.includes(".")?it(i,t):()=>i[t]:t.bind(i,i);let o;(0,s.Tn)(e)?o=e:(o=e.handler,n=e);const a=Dn(this),l=et(r,o.bind(i),n);return a(),l}function it(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function st(t,e=1/0,n){if(e<=0||!(0,s.Gv)(t)||t["__v_skip"])return t;if(n=n||new Set,n.has(t))return t;if(n.add(t),e--,(0,i.i9)(t))st(t.value,e,n);else if((0,s.cy)(t))for(let i=0;i<t.length;i++)st(t[i],e,n);else if((0,s.vM)(t)||(0,s.CE)(t))t.forEach((t=>{st(t,e,n)}));else if((0,s.Qd)(t))for(const i in t)st(t[i],e,n);return t}function rt(t,e){if(null===D)return t;const n=zn(D)||D.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[t,o,a,l=s.MZ]=e[r];t&&((0,s.Tn)(t)&&(t={mounted:t,updated:t}),t.deep&&st(o),i.push({dir:t,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ot(t,e,n,s){const r=t.dirs,a=e&&e.dirs;for(let l=0;l<r.length;l++){const h=r[l];a&&(h.oldValue=a[l].value);let c=h.dir[s];c&&((0,i.C4)(),o(c,n,8,[t.el,h,t,e]),(0,i.bl)())}}const at=Symbol("_leaveCb"),lt=Symbol("_enterCb");function ht(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ht((()=>{t.isMounted=!0})),Ot((()=>{t.isUnmounting=!0})),t}const ct=[Function,Array],dt={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ct,onEnter:ct,onAfterEnter:ct,onEnterCancelled:ct,onBeforeLeave:ct,onLeave:ct,onAfterLeave:ct,onLeaveCancelled:ct,onBeforeAppear:ct,onAppear:ct,onAfterAppear:ct,onAppearCancelled:ct},ut={name:"BaseTransition",props:dt,setup(t,{slots:e}){const n=En(),s=ht();return()=>{const r=e.default&&wt(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){let t=!1;for(const e of r)if(e.type!==Xe){0,o=e,t=!0;break}}const a=(0,i.ux)(t),{mode:l}=a;if(s.isLeaving)return pt(o);const h=_t(o);if(!h)return pt(o);const c=gt(h,a,s,n);yt(h,c);const d=n.subTree,u=d&&_t(d);if(u&&u.type!==Xe&&!hn(h,u)){const t=gt(u,a,s,n);if(yt(u,t),"out-in"===l&&h.type!==Xe)return s.isLeaving=!0,t.afterLeave=()=>{s.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},pt(o);"in-out"===l&&h.type!==Xe&&(t.delayLeave=(t,e,n)=>{const i=mt(s,u);i[String(u.key)]=u,t[at]=()=>{e(),t[at]=void 0,delete c.delayedLeave},c.delayedLeave=n})}return o}}},ft=ut;function mt(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function gt(t,e,n,i){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:h,onEnter:c,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:f,onLeave:m,onAfterLeave:g,onLeaveCancelled:p,onBeforeAppear:_,onAppear:y,onAfterAppear:w,onAppearCancelled:v}=e,b=String(t.key),M=mt(n,t),S=(t,e)=>{t&&o(t,i,9,e)},C=(t,e)=>{const n=e[1];S(t,e),(0,s.cy)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},x={mode:a,persisted:l,beforeEnter(e){let i=h;if(!n.isMounted){if(!r)return;i=_||h}e[at]&&e[at](!0);const s=M[b];s&&hn(t,s)&&s.el[at]&&s.el[at](),S(i,[e])},enter(t){let e=c,i=d,s=u;if(!n.isMounted){if(!r)return;e=y||c,i=w||d,s=v||u}let o=!1;const a=t[lt]=e=>{o||(o=!0,S(e?s:i,[t]),x.delayedLeave&&x.delayedLeave(),t[lt]=void 0)};e?C(e,[t,a]):a()},leave(e,i){const s=String(t.key);if(e[lt]&&e[lt](!0),n.isUnmounting)return i();S(f,[e]);let r=!1;const o=e[at]=n=>{r||(r=!0,i(),S(n?p:g,[e]),e[at]=void 0,M[s]===t&&delete M[s])};M[s]=t,m?C(m,[e,o]):o()},clone(t){return gt(t,e,n,i)}};return x}function pt(t){if(Mt(t))return t=pn(t),t.children=null,t}function _t(t){if(!Mt(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(16&e)return n[0];if(32&e&&(0,s.Tn)(n.default))return n.default()}}function yt(t,e){6&t.shapeFlag&&t.component?yt(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function wt(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:r);o.type===Ke?(128&o.patchFlag&&s++,i=i.concat(wt(o.children,e,a))):(e||o.type!==Xe)&&i.push(null!=a?pn(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}
/*! #__NO_SIDE_EFFECTS__ */function vt(t,e){return(0,s.Tn)(t)?(()=>(0,s.X$)({name:t.name},e,{setup:t}))():t}const bt=t=>!!t.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const Mt=t=>t.type.__isKeepAlive;RegExp,RegExp;function St(t,e){return(0,s.cy)(t)?t.some((t=>St(t,e))):(0,s.Kg)(t)?t.split(",").includes(e):!!(0,s.gd)(t)&&t.test(e)}function Ct(t,e){Tt(t,"a",e)}function xt(t,e){Tt(t,"da",e)}function Tt(t,e,n=Ln){const i=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(Rt(e,i,n),n){let t=n.parent;while(t&&t.parent)Mt(t.parent.vnode)&&kt(i,e,n,t),t=t.parent}}function kt(t,e,n,i){const r=Rt(e,t,i,!0);Yt((()=>{(0,s.TF)(i[e],r)}),n)}function Lt(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Et(t){return 128&t.shapeFlag?t.ssContent:t}function Rt(t,e,n=Ln,s=!1){if(n){const r=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;(0,i.C4)();const r=Dn(n),a=o(e,n,t,s);return r(),(0,i.bl)(),a});return s?r.unshift(a):r.push(a),a}}const At=t=>(e,n=Ln)=>(!Yn||"sp"===t)&&Rt(t,((...t)=>e(...t)),n),Dt=At("bm"),Ht=At("m"),Pt=At("bu"),It=At("u"),Ot=At("bum"),Yt=At("um"),Nt=At("sp"),Ft=At("rtg"),jt=At("rtc");function Wt(t,e=Ln){Rt("ec",t,e)}function Vt(t,e,n,i){let r;const o=n&&n[i];if((0,s.cy)(t)||(0,s.Kg)(t)){r=new Array(t.length);for(let n=0,i=t.length;n<i;n++)r[n]=e(t[n],n,void 0,o&&o[n])}else if("number"===typeof t){0,r=new Array(t);for(let n=0;n<t;n++)r[n]=e(n+1,n,void 0,o&&o[n])}else if((0,s.Gv)(t))if(t[Symbol.iterator])r=Array.from(t,((t,n)=>e(t,n,void 0,o&&o[n])));else{const n=Object.keys(t);r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const s=n[i];r[i]=e(t[s],s,i,o&&o[i])}}else r=[];return n&&(n[i]=r),r}function Bt(t,e,n={},i,s){if(D.isCE||D.parent&&bt(D.parent)&&D.parent.isCE)return"default"!==e&&(n.name=e),fn("slot",n,i&&i());let r=t[e];r&&r._c&&(r._d=!1),tn();const o=r&&zt(r(n)),a=an(Ke,{key:n.key||o&&o.key||`_${e}`},o||(i?i():[]),o&&1===t._?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function zt(t){return t.some((t=>!ln(t)||t.type!==Xe&&!(t.type===Ke&&!zt(t.children))))?t:null}const Ut=t=>t?Pn(t)?zn(t)||t.proxy:Ut(t.parent):null,$t=(0,s.X$)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ut(t.parent),$root:t=>Ut(t.root),$emit:t=>t.emit,$options:t=>ee(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,v(t.update)}),$nextTick:t=>t.n||(t.n=y.bind(t.proxy)),$watch:t=>nt.bind(t)}),Gt=(t,e)=>t!==s.MZ&&!t.__isScriptSetup&&(0,s.$3)(t,e),Kt={get({_:t},e){if("__v_skip"===e)return!0;const{ctx:n,setupState:r,data:o,props:a,accessCache:l,type:h,appContext:c}=t;let d;if("$"!==e[0]){const i=l[e];if(void 0!==i)switch(i){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return a[e]}else{if(Gt(r,e))return l[e]=1,r[e];if(o!==s.MZ&&(0,s.$3)(o,e))return l[e]=2,o[e];if((d=t.propsOptions[0])&&(0,s.$3)(d,e))return l[e]=3,a[e];if(n!==s.MZ&&(0,s.$3)(n,e))return l[e]=4,n[e];Xt&&(l[e]=0)}}const u=$t[e];let f,m;return u?("$attrs"===e&&(0,i.u4)(t.attrs,"get",""),u(t)):(f=h.__cssModules)&&(f=f[e])?f:n!==s.MZ&&(0,s.$3)(n,e)?(l[e]=4,n[e]):(m=c.config.globalProperties,(0,s.$3)(m,e)?m[e]:void 0)},set({_:t},e,n){const{data:i,setupState:r,ctx:o}=t;return Gt(r,e)?(r[e]=n,!0):i!==s.MZ&&(0,s.$3)(i,e)?(i[e]=n,!0):!(0,s.$3)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:o}},a){let l;return!!n[a]||t!==s.MZ&&(0,s.$3)(t,a)||Gt(e,a)||(l=o[0])&&(0,s.$3)(l,a)||(0,s.$3)(i,a)||(0,s.$3)($t,a)||(0,s.$3)(r.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,s.$3)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function qt(t){return(0,s.cy)(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let Xt=!0;function Jt(t){const e=ee(t),n=t.proxy,r=t.ctx;Xt=!1,e.beforeCreate&&Qt(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:l,watch:h,provide:c,inject:d,created:u,beforeMount:f,mounted:m,beforeUpdate:g,updated:p,activated:_,deactivated:y,beforeDestroy:w,beforeUnmount:v,destroyed:b,unmounted:M,render:S,renderTracked:C,renderTriggered:x,errorCaptured:T,serverPrefetch:k,expose:L,inheritAttrs:E,components:R,directives:A,filters:D}=e,H=null;if(d&&Zt(d,r,H),l)for(const i in l){const t=l[i];(0,s.Tn)(t)&&(r[i]=t.bind(n))}if(o){0;const e=o.call(n,n);0,(0,s.Gv)(e)&&(t.data=(0,i.Kh)(e))}if(Xt=!0,a)for(const i in a){const t=a[i],e=(0,s.Tn)(t)?t.bind(n,n):(0,s.Tn)(t.get)?t.get.bind(n,n):s.tE;0;const o=!(0,s.Tn)(t)&&(0,s.Tn)(t.set)?t.set.bind(n):s.tE,l=Gn({get:e,set:o});Object.defineProperty(r,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(h)for(const i in h)te(h[i],r,n,i);if(c){const t=(0,s.Tn)(c)?c.call(n):c;Reflect.ownKeys(t).forEach((e=>{ge(e,t[e])}))}function P(t,e){(0,s.cy)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(u&&Qt(u,t,"c"),P(Dt,f),P(Ht,m),P(Pt,g),P(It,p),P(Ct,_),P(xt,y),P(Wt,T),P(jt,C),P(Ft,x),P(Ot,v),P(Yt,M),P(Nt,k),(0,s.cy)(L))if(L.length){const e=t.exposed||(t.exposed={});L.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});S&&t.render===s.tE&&(t.render=S),null!=E&&(t.inheritAttrs=E),R&&(t.components=R),A&&(t.directives=A)}function Zt(t,e,n=s.tE){(0,s.cy)(t)&&(t=oe(t));for(const r in t){const n=t[r];let o;o=(0,s.Gv)(n)?"default"in n?pe(n.from||r,n.default,!0):pe(n.from||r):pe(n),(0,i.i9)(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[r]=o}}function Qt(t,e,n){o((0,s.cy)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function te(t,e,n,i){const r=i.includes(".")?it(n,i):()=>n[i];if((0,s.Kg)(t)){const n=e[t];(0,s.Tn)(n)&&tt(r,n)}else if((0,s.Tn)(t))tt(r,t.bind(n));else if((0,s.Gv)(t))if((0,s.cy)(t))t.forEach((t=>te(t,e,n,i)));else{const i=(0,s.Tn)(t.handler)?t.handler.bind(n):e[t.handler];(0,s.Tn)(i)&&tt(r,i,t)}else 0}function ee(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,l=o.get(e);let h;return l?h=l:r.length||n||i?(h={},r.length&&r.forEach((t=>ne(h,t,a,!0))),ne(h,e,a)):h=e,(0,s.Gv)(e)&&o.set(e,h),h}function ne(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&ne(t,r,n,!0),s&&s.forEach((e=>ne(t,e,n,!0)));for(const o in e)if(i&&"expose"===o);else{const i=ie[o]||n&&n[o];t[o]=i?i(t[o],e[o]):e[o]}return t}const ie={data:se,props:he,emits:he,methods:le,computed:le,beforeCreate:ae,created:ae,beforeMount:ae,mounted:ae,beforeUpdate:ae,updated:ae,beforeDestroy:ae,beforeUnmount:ae,destroyed:ae,unmounted:ae,activated:ae,deactivated:ae,errorCaptured:ae,serverPrefetch:ae,components:le,directives:le,watch:ce,provide:se,inject:re};function se(t,e){return e?t?function(){return(0,s.X$)((0,s.Tn)(t)?t.call(this,this):t,(0,s.Tn)(e)?e.call(this,this):e)}:e:t}function re(t,e){return le(oe(t),oe(e))}function oe(t){if((0,s.cy)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ae(t,e){return t?[...new Set([].concat(t,e))]:e}function le(t,e){return t?(0,s.X$)(Object.create(null),t,e):e}function he(t,e){return t?(0,s.cy)(t)&&(0,s.cy)(e)?[...new Set([...t,...e])]:(0,s.X$)(Object.create(null),qt(t),qt(null!=e?e:{})):e}function ce(t,e){if(!t)return e;if(!e)return t;const n=(0,s.X$)(Object.create(null),t);for(const i in e)n[i]=ae(t[i],e[i]);return n}function de(){return{app:null,config:{isNativeTag:s.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ue=0;function fe(t,e){return function(n,i=null){(0,s.Tn)(n)||(n=(0,s.X$)({},n)),null==i||(0,s.Gv)(i)||(i=null);const r=de(),o=new WeakSet;let a=!1;const l=r.app={_uid:ue++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:qn,get config(){return r.config},set config(t){0},use(t,...e){return o.has(t)||(t&&(0,s.Tn)(t.install)?(o.add(t),t.install(l,...e)):(0,s.Tn)(t)&&(o.add(t),t(l,...e))),l},mixin(t){return r.mixins.includes(t)||r.mixins.push(t),l},component(t,e){return e?(r.components[t]=e,l):r.components[t]},directive(t,e){return e?(r.directives[t]=e,l):r.directives[t]},mount(s,o,h){if(!a){0;const c=fn(n,i);return c.appContext=r,!0===h?h="svg":!1===h&&(h=void 0),o&&e?e(c,s):t(c,s,h),a=!0,l._container=s,s.__vue_app__=l,zn(c.component)||c.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(t,e){return r.provides[t]=e,l},runWithContext(t){const e=me;me=l;try{return t()}finally{me=e}}};return l}}let me=null;function ge(t,e){if(Ln){let n=Ln.provides;const i=Ln.parent&&Ln.parent.provides;i===n&&(n=Ln.provides=Object.create(i)),n[t]=e}else 0}function pe(t,e,n=!1){const i=Ln||D;if(i||me){const r=i?null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:me._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&(0,s.Tn)(e)?e.call(i&&i.proxy):e}else 0}const _e={},ye=()=>Object.create(_e),we=t=>Object.getPrototypeOf(t)===_e;function ve(t,e,n,s=!1){const r={},o=ye();t.propsDefaults=Object.create(null),Me(t,e,r,o);for(const i in t.propsOptions[0])i in r||(r[i]=void 0);n?t.props=s?r:(0,i.Gc)(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function be(t,e,n,r){const{props:o,attrs:a,vnode:{patchFlag:l}}=t,h=(0,i.ux)(o),[c]=t.propsOptions;let d=!1;if(!(r||l>0)||16&l){let i;Me(t,e,o,a)&&(d=!0);for(const r in h)e&&((0,s.$3)(e,r)||(i=(0,s.Tg)(r))!==r&&(0,s.$3)(e,i))||(c?!n||void 0===n[r]&&void 0===n[i]||(o[r]=Se(c,h,r,void 0,t,!0)):delete o[r]);if(a!==h)for(const t in a)e&&(0,s.$3)(e,t)||(delete a[t],d=!0)}else if(8&l){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let r=n[i];if(A(t.emitsOptions,r))continue;const l=e[r];if(c)if((0,s.$3)(a,r))l!==a[r]&&(a[r]=l,d=!0);else{const e=(0,s.PT)(r);o[e]=Se(c,h,e,l,t,!1)}else l!==a[r]&&(a[r]=l,d=!0)}}d&&(0,i.hZ)(t.attrs,"set","")}function Me(t,e,n,r){const[o,a]=t.propsOptions;let l,h=!1;if(e)for(let i in e){if((0,s.SU)(i))continue;const c=e[i];let d;o&&(0,s.$3)(o,d=(0,s.PT)(i))?a&&a.includes(d)?(l||(l={}))[d]=c:n[d]=c:A(t.emitsOptions,i)||i in r&&c===r[i]||(r[i]=c,h=!0)}if(a){const e=(0,i.ux)(n),r=l||s.MZ;for(let i=0;i<a.length;i++){const l=a[i];n[l]=Se(o,e,l,r[l],t,!(0,s.$3)(r,l))}}return h}function Se(t,e,n,i,r,o){const a=t[n];if(null!=a){const t=(0,s.$3)(a,"default");if(t&&void 0===i){const t=a.default;if(a.type!==Function&&!a.skipFactory&&(0,s.Tn)(t)){const{propsDefaults:s}=r;if(n in s)i=s[n];else{const o=Dn(r);i=s[n]=t.call(null,e),o()}}else i=t}a[0]&&(o&&!t?i=!1:!a[1]||""!==i&&i!==(0,s.Tg)(n)||(i=!0))}return i}function Ce(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const o=t.props,a={},l=[];let h=!1;if(!(0,s.Tn)(t)){const i=t=>{h=!0;const[n,i]=Ce(t,e,!0);(0,s.X$)(a,n),i&&l.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!o&&!h)return(0,s.Gv)(t)&&i.set(t,s.Oj),s.Oj;if((0,s.cy)(o))for(let d=0;d<o.length;d++){0;const t=(0,s.PT)(o[d]);xe(t)&&(a[t]=s.MZ)}else if(o){0;for(const t in o){const e=(0,s.PT)(t);if(xe(e)){const n=o[t],i=a[e]=(0,s.cy)(n)||(0,s.Tn)(n)?{type:n}:(0,s.X$)({},n);if(i){const t=Le(Boolean,i.type),n=Le(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||(0,s.$3)(i,"default"))&&l.push(e)}}}}const c=[a,l];return(0,s.Gv)(t)&&i.set(t,c),c}function xe(t){return"$"!==t[0]&&!(0,s.SU)(t)}function Te(t){if(null===t)return"null";if("function"===typeof t)return t.name||"";if("object"===typeof t){const e=t.constructor&&t.constructor.name;return e||""}return""}function ke(t,e){return Te(t)===Te(e)}function Le(t,e){return(0,s.cy)(e)?e.findIndex((e=>ke(e,t))):(0,s.Tn)(e)&&ke(e,t)?0:-1}const Ee=t=>"_"===t[0]||"$stable"===t,Re=t=>(0,s.cy)(t)?t.map(vn):[vn(t)],Ae=(t,e,n)=>{if(e._n)return e;const i=Y(((...t)=>Re(e(...t))),n);return i._c=!1,i},De=(t,e,n)=>{const i=t._ctx;for(const r in t){if(Ee(r))continue;const n=t[r];if((0,s.Tn)(n))e[r]=Ae(r,n,i);else if(null!=n){0;const t=Re(n);e[r]=()=>t}}},He=(t,e)=>{const n=Re(e);t.slots.default=()=>n},Pe=(t,e)=>{const n=t.slots=ye();if(32&t.vnode.shapeFlag){const t=e._;t?((0,s.X$)(n,e),(0,s.yQ)(n,"_",t,!0)):De(e,n)}else e&&He(t,e)},Ie=(t,e,n)=>{const{vnode:i,slots:r}=t;let o=!0,a=s.MZ;if(32&i.shapeFlag){const t=e._;t?n&&1===t?o=!1:((0,s.X$)(r,e),n||1!==t||delete r._):(o=!e.$stable,De(e,r)),a=e}else e&&(He(t,e),a={default:1});if(o)for(const s in r)Ee(s)||null!=a[s]||delete r[s]};function Oe(t,e,n,o,a=!1){if((0,s.cy)(t))return void t.forEach(((t,i)=>Oe(t,e&&((0,s.cy)(e)?e[i]:e),n,o,a)));if(bt(o)&&!a)return;const l=4&o.shapeFlag?zn(o.component)||o.component.proxy:o.el,h=a?null:l,{i:c,r:d}=t;const u=e&&e.r,f=c.refs===s.MZ?c.refs={}:c.refs,m=c.setupState;if(null!=u&&u!==d&&((0,s.Kg)(u)?(f[u]=null,(0,s.$3)(m,u)&&(m[u]=null)):(0,i.i9)(u)&&(u.value=null)),(0,s.Tn)(d))r(d,c,12,[h,f]);else{const e=(0,s.Kg)(d),r=(0,i.i9)(d);if(e||r){const i=()=>{if(t.f){const n=e?(0,s.$3)(m,d)?m[d]:f[d]:d.value;a?(0,s.cy)(n)&&(0,s.TF)(n,l):(0,s.cy)(n)?n.includes(l)||n.push(l):e?(f[d]=[l],(0,s.$3)(m,d)&&(m[d]=f[d])):(d.value=[l],t.k&&(f[t.k]=d.value))}else e?(f[d]=h,(0,s.$3)(m,d)&&(m[d]=h)):r&&(d.value=h,t.k&&(f[t.k]=h))};h?(i.id=-1,Ne(i,n)):i()}else 0}}function Ye(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,s.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Ne=X;function Fe(t){return je(t)}function je(t,e){Ye();const n=(0,s.We)();n.__VUE__=!0;const{insert:r,remove:o,patchProp:a,createElement:l,createText:h,createComment:c,setText:d,setElementText:u,parentNode:f,nextSibling:m,setScopeId:g=s.tE,insertStaticContent:p}=t,_=(t,e,n,i=null,s=null,r=null,o=void 0,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!hn(t,e)&&(i=Z(t),G(t,s,r,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:h,ref:c,shapeFlag:d}=e;switch(h){case qe:y(t,e,n,i);break;case Xe:w(t,e,n,i);break;case Je:null==t&&b(e,n,i,o);break;case Ke:P(t,e,n,i,s,r,o,a,l);break;default:1&d?k(t,e,n,i,s,r,o,a,l):6&d?I(t,e,n,i,s,r,o,a,l):(64&d||128&d)&&h.process(t,e,n,i,s,r,o,a,l,et)}null!=c&&s&&Oe(c,t&&t.ref,r,e||t,!e)},y=(t,e,n,i)=>{if(null==t)r(e.el=h(e.children),n,i);else{const n=e.el=t.el;e.children!==t.children&&d(n,e.children)}},w=(t,e,n,i)=>{null==t?r(e.el=c(e.children||""),n,i):e.el=t.el},b=(t,e,n,i)=>{[t.el,t.anchor]=p(t.children,e,n,i,t.el,t.anchor)},S=({el:t,anchor:e},n,i)=>{let s;while(t&&t!==e)s=m(t),r(t,n,i),t=s;r(e,n,i)},T=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=m(t),o(t),t=n;o(e)},k=(t,e,n,i,s,r,o,a,l)=>{"svg"===e.type?o="svg":"math"===e.type&&(o="mathml"),null==t?L(e,n,i,s,r,o,a,l):A(t,e,s,r,o,a,l)},L=(t,e,n,i,o,h,c,d)=>{let f,m;const{props:g,shapeFlag:p,transition:_,dirs:y}=t;if(f=t.el=l(t.type,h,g&&g.is,g),8&p?u(f,t.children):16&p&&R(t.children,f,null,i,o,We(t,h),c,d),y&&ot(t,null,i,"created"),E(f,t,t.scopeId,c,i),g){for(const e in g)"value"===e||(0,s.SU)(e)||a(f,e,null,g[e],h,t.children,i,o,J);"value"in g&&a(f,"value",null,g.value,h),(m=g.onVnodeBeforeMount)&&Cn(m,i,t)}y&&ot(t,null,i,"beforeMount");const w=Be(o,_);w&&_.beforeEnter(f),r(f,e,n),((m=g&&g.onVnodeMounted)||w||y)&&Ne((()=>{m&&Cn(m,i,t),w&&_.enter(f),y&&ot(t,null,i,"mounted")}),o)},E=(t,e,n,i,s)=>{if(n&&g(t,n),i)for(let r=0;r<i.length;r++)g(t,i[r]);if(s){let n=s.subTree;if(e===n){const e=s.vnode;E(t,e,e.scopeId,e.slotScopeIds,s.parent)}}},R=(t,e,n,i,s,r,o,a,l=0)=>{for(let h=l;h<t.length;h++){const l=t[h]=a?bn(t[h]):vn(t[h]);_(null,l,e,n,i,s,r,o,a)}},A=(t,e,n,i,r,o,l)=>{const h=e.el=t.el;let{patchFlag:c,dynamicChildren:d,dirs:f}=e;c|=16&t.patchFlag;const m=t.props||s.MZ,g=e.props||s.MZ;let p;if(n&&Ve(n,!1),(p=g.onVnodeBeforeUpdate)&&Cn(p,n,e,t),f&&ot(e,t,n,"beforeUpdate"),n&&Ve(n,!0),d?D(t.dynamicChildren,d,h,n,i,We(e,r),o):l||V(t,e,h,null,n,i,We(e,r),o,!1),c>0){if(16&c)H(h,e,m,g,n,i,r);else if(2&c&&m.class!==g.class&&a(h,"class",null,g.class,r),4&c&&a(h,"style",m.style,g.style,r),8&c){const s=e.dynamicProps;for(let e=0;e<s.length;e++){const o=s[e],l=m[o],c=g[o];c===l&&"value"!==o||a(h,o,l,c,r,t.children,n,i,J)}}1&c&&t.children!==e.children&&u(h,e.children)}else l||null!=d||H(h,e,m,g,n,i,r);((p=g.onVnodeUpdated)||f)&&Ne((()=>{p&&Cn(p,n,e,t),f&&ot(e,t,n,"updated")}),i)},D=(t,e,n,i,s,r,o)=>{for(let a=0;a<e.length;a++){const l=t[a],h=e[a],c=l.el&&(l.type===Ke||!hn(l,h)||70&l.shapeFlag)?f(l.el):n;_(l,h,c,null,i,s,r,o,!0)}},H=(t,e,n,i,r,o,l)=>{if(n!==i){if(n!==s.MZ)for(const h in n)(0,s.SU)(h)||h in i||a(t,h,n[h],null,l,e.children,r,o,J);for(const h in i){if((0,s.SU)(h))continue;const c=i[h],d=n[h];c!==d&&"value"!==h&&a(t,h,d,c,l,e.children,r,o,J)}"value"in i&&a(t,"value",n.value,i.value,l)}},P=(t,e,n,i,s,o,a,l,c)=>{const d=e.el=t?t.el:h(""),u=e.anchor=t?t.anchor:h("");let{patchFlag:f,dynamicChildren:m,slotScopeIds:g}=e;g&&(l=l?l.concat(g):g),null==t?(r(d,n,i),r(u,n,i),R(e.children||[],n,u,s,o,a,l,c)):f>0&&64&f&&m&&t.dynamicChildren?(D(t.dynamicChildren,m,n,s,o,a,l),(null!=e.key||s&&e===s.subTree)&&ze(t,e,!0)):V(t,e,n,u,s,o,a,l,c)},I=(t,e,n,i,s,r,o,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?s.ctx.activate(e,n,i,o,l):O(e,n,i,s,r,o,l):Y(t,e,l)},O=(t,e,n,i,s,r,o)=>{const a=t.component=kn(t,i,s);if(Mt(t)&&(a.ctx.renderer=et),Nn(a),a.asyncDep){if(s&&s.registerDep(a,F),!t.el){const t=a.subTree=fn(Xe);w(null,t,e,n)}}else F(a,t,e,n,s,r,o)},Y=(t,e,n)=>{const i=e.component=t.component;if(W(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void j(i,e,n);i.next=e,M(i.update),i.effect.dirty=!0,i.update()}else e.el=t.el,i.vnode=e},F=(t,e,n,r,o,a,l)=>{const h=()=>{if(t.isMounted){let{next:e,bu:n,u:i,parent:r,vnode:c}=t;{const n=$e(t);if(n)return e&&(e.el=c.el,j(t,e,l)),void n.asyncDep.then((()=>{t.isUnmounted||h()}))}let d,u=e;0,Ve(t,!1),e?(e.el=c.el,j(t,e,l)):e=c,n&&(0,s.DY)(n),(d=e.props&&e.props.onVnodeBeforeUpdate)&&Cn(d,r,e,c),Ve(t,!0);const m=N(t);0;const g=t.subTree;t.subTree=m,_(g,m,f(g.el),Z(g),t,o,a),e.el=m.el,null===u&&B(t,m.el),i&&Ne(i,o),(d=e.props&&e.props.onVnodeUpdated)&&Ne((()=>Cn(d,r,e,c)),o)}else{let i;const{el:l,props:h}=e,{bm:c,m:d,parent:u}=t,f=bt(e);if(Ve(t,!1),c&&(0,s.DY)(c),!f&&(i=h&&h.onVnodeBeforeMount)&&Cn(i,u,e),Ve(t,!0),l&&it){const n=()=>{t.subTree=N(t),it(l,t.subTree,t,o,null)};f?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const i=t.subTree=N(t);0,_(null,i,n,r,t,o,a),e.el=i.el}if(d&&Ne(d,o),!f&&(i=h&&h.onVnodeMounted)){const t=e;Ne((()=>Cn(i,u,t)),o)}(256&e.shapeFlag||u&&bt(u.vnode)&&256&u.vnode.shapeFlag)&&t.a&&Ne(t.a,o),t.isMounted=!0,e=n=r=null}},c=t.effect=new i.X2(h,s.tE,(()=>v(d)),t.scope),d=t.update=()=>{c.dirty&&c.run()};d.id=t.uid,Ve(t,!0),d()},j=(t,e,n)=>{e.component=t;const s=t.vnode.props;t.vnode=e,t.next=null,be(t,e.props,s,n),Ie(t,e.children,n),(0,i.C4)(),C(t),(0,i.bl)()},V=(t,e,n,i,s,r,o,a,l=!1)=>{const h=t&&t.children,c=t?t.shapeFlag:0,d=e.children,{patchFlag:f,shapeFlag:m}=e;if(f>0){if(128&f)return void U(h,d,n,i,s,r,o,a,l);if(256&f)return void z(h,d,n,i,s,r,o,a,l)}8&m?(16&c&&J(h,s,r),d!==h&&u(n,d)):16&c?16&m?U(h,d,n,i,s,r,o,a,l):J(h,s,r,!0):(8&c&&u(n,""),16&m&&R(d,n,i,s,r,o,a,l))},z=(t,e,n,i,r,o,a,l,h)=>{t=t||s.Oj,e=e||s.Oj;const c=t.length,d=e.length,u=Math.min(c,d);let f;for(f=0;f<u;f++){const i=e[f]=h?bn(e[f]):vn(e[f]);_(t[f],i,n,null,r,o,a,l,h)}c>d?J(t,r,o,!0,!1,u):R(e,n,i,r,o,a,l,h,u)},U=(t,e,n,i,r,o,a,l,h)=>{let c=0;const d=e.length;let u=t.length-1,f=d-1;while(c<=u&&c<=f){const i=t[c],s=e[c]=h?bn(e[c]):vn(e[c]);if(!hn(i,s))break;_(i,s,n,null,r,o,a,l,h),c++}while(c<=u&&c<=f){const i=t[u],s=e[f]=h?bn(e[f]):vn(e[f]);if(!hn(i,s))break;_(i,s,n,null,r,o,a,l,h),u--,f--}if(c>u){if(c<=f){const t=f+1,s=t<d?e[t].el:i;while(c<=f)_(null,e[c]=h?bn(e[c]):vn(e[c]),n,s,r,o,a,l,h),c++}}else if(c>f)while(c<=u)G(t[c],r,o,!0),c++;else{const m=c,g=c,p=new Map;for(c=g;c<=f;c++){const t=e[c]=h?bn(e[c]):vn(e[c]);null!=t.key&&p.set(t.key,c)}let y,w=0;const v=f-g+1;let b=!1,M=0;const S=new Array(v);for(c=0;c<v;c++)S[c]=0;for(c=m;c<=u;c++){const i=t[c];if(w>=v){G(i,r,o,!0);continue}let s;if(null!=i.key)s=p.get(i.key);else for(y=g;y<=f;y++)if(0===S[y-g]&&hn(i,e[y])){s=y;break}void 0===s?G(i,r,o,!0):(S[s-g]=c+1,s>=M?M=s:b=!0,_(i,e[s],n,null,r,o,a,l,h),w++)}const C=b?Ue(S):s.Oj;for(y=C.length-1,c=v-1;c>=0;c--){const t=g+c,s=e[t],u=t+1<d?e[t+1].el:i;0===S[c]?_(null,s,n,u,r,o,a,l,h):b&&(y<0||c!==C[y]?$(s,n,u,2):y--)}}},$=(t,e,n,i,s=null)=>{const{el:o,type:a,transition:l,children:h,shapeFlag:c}=t;if(6&c)return void $(t.component.subTree,e,n,i);if(128&c)return void t.suspense.move(e,n,i);if(64&c)return void a.move(t,e,n,et);if(a===Ke){r(o,e,n);for(let t=0;t<h.length;t++)$(h[t],e,n,i);return void r(t.anchor,e,n)}if(a===Je)return void S(t,e,n);const d=2!==i&&1&c&&l;if(d)if(0===i)l.beforeEnter(o),r(o,e,n),Ne((()=>l.enter(o)),s);else{const{leave:t,delayLeave:i,afterLeave:s}=l,a=()=>r(o,e,n),h=()=>{t(o,(()=>{a(),s&&s()}))};i?i(o,a,h):h()}else r(o,e,n)},G=(t,e,n,i=!1,s=!1)=>{const{type:r,props:o,ref:a,children:l,dynamicChildren:h,shapeFlag:c,patchFlag:d,dirs:u}=t;if(null!=a&&Oe(a,null,n,t,!0),256&c)return void e.ctx.deactivate(t);const f=1&c&&u,m=!bt(t);let g;if(m&&(g=o&&o.onVnodeBeforeUnmount)&&Cn(g,e,t),6&c)X(t.component,n,i);else{if(128&c)return void t.suspense.unmount(n,i);f&&ot(t,null,e,"beforeUnmount"),64&c?t.type.remove(t,e,n,s,et,i):h&&(r!==Ke||d>0&&64&d)?J(h,e,n,!1,!0):(r===Ke&&384&d||!s&&16&c)&&J(l,e,n),i&&K(t)}(m&&(g=o&&o.onVnodeUnmounted)||f)&&Ne((()=>{g&&Cn(g,e,t),f&&ot(t,null,e,"unmounted")}),n)},K=t=>{const{type:e,el:n,anchor:i,transition:s}=t;if(e===Ke)return void q(n,i);if(e===Je)return void T(t);const r=()=>{o(n),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&t.shapeFlag&&s&&!s.persisted){const{leave:e,delayLeave:i}=s,o=()=>e(n,r);i?i(t.el,r,o):o()}else r()},q=(t,e)=>{let n;while(t!==e)n=m(t),o(t),t=n;o(e)},X=(t,e,n)=>{const{bum:i,scope:r,update:o,subTree:a,um:l}=t;i&&(0,s.DY)(i),r.stop(),o&&(o.active=!1,G(a,t,e,n)),l&&Ne(l,e),Ne((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},J=(t,e,n,i=!1,s=!1,r=0)=>{for(let o=r;o<t.length;o++)G(t[o],e,n,i,s)},Z=t=>6&t.shapeFlag?Z(t.component.subTree):128&t.shapeFlag?t.suspense.next():m(t.anchor||t.el);let Q=!1;const tt=(t,e,n)=>{null==t?e._vnode&&G(e._vnode,null,null,!0):_(e._vnode||null,t,e,null,null,null,n),Q||(Q=!0,C(),x(),Q=!1),e._vnode=t},et={p:_,um:G,m:$,r:K,mt:O,mc:R,pc:V,pbc:D,n:Z,o:t};let nt,it;return e&&([nt,it]=e(et)),{render:tt,hydrate:nt,createApp:fe(tt,nt)}}function We({type:t,props:e},n){return"svg"===n&&"foreignObject"===t||"mathml"===n&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ve({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Be(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ze(t,e,n=!1){const i=t.children,r=e.children;if((0,s.cy)(i)&&(0,s.cy)(r))for(let s=0;s<i.length;s++){const t=i[s];let e=r[s];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=r[s]=bn(r[s]),e.el=t.el),n||ze(t,e)),e.type===qe&&(e.el=t.el)}}function Ue(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(s=n[n.length-1],t[s]<l){e[i]=s,n.push(i);continue}r=0,o=n.length-1;while(r<o)a=r+o>>1,t[n[a]]<l?r=a+1:o=a;l<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}r=n.length,o=n[r-1];while(r-- >0)n[r]=o,o=e[o];return n}function $e(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:$e(e)}const Ge=t=>t.__isTeleport;const Ke=Symbol.for("v-fgt"),qe=Symbol.for("v-txt"),Xe=Symbol.for("v-cmt"),Je=Symbol.for("v-stc"),Ze=[];let Qe=null;function tn(t=!1){Ze.push(Qe=t?null:[])}function en(){Ze.pop(),Qe=Ze[Ze.length-1]||null}let nn=1;function sn(t){nn+=t}function rn(t){return t.dynamicChildren=nn>0?Qe||s.Oj:null,en(),nn>0&&Qe&&Qe.push(t),t}function on(t,e,n,i,s,r){return rn(un(t,e,n,i,s,r,!0))}function an(t,e,n,i,s){return rn(fn(t,e,n,i,s,!0))}function ln(t){return!!t&&!0===t.__v_isVNode}function hn(t,e){return t.type===e.type&&t.key===e.key}const cn=({key:t})=>null!=t?t:null,dn=({ref:t,ref_key:e,ref_for:n})=>("number"===typeof t&&(t=""+t),null!=t?(0,s.Kg)(t)||(0,i.i9)(t)||(0,s.Tn)(t)?{i:D,r:t,k:e,f:!!n}:t:null);function un(t,e=null,n=null,i=0,r=null,o=(t===Ke?0:1),a=!1,l=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cn(e),ref:e&&dn(e),scopeId:H,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:D};return l?(Mn(h,n),128&o&&t.normalize(h)):n&&(h.shapeFlag|=(0,s.Kg)(n)?8:16),nn>0&&!a&&Qe&&(h.patchFlag>0||6&o)&&32!==h.patchFlag&&Qe.push(h),h}const fn=mn;function mn(t,e=null,n=null,r=0,o=null,a=!1){if(t&&t!==$||(t=Xe),ln(t)){const i=pn(t,e,!0);return n&&Mn(i,n),nn>0&&!a&&Qe&&(6&i.shapeFlag?Qe[Qe.indexOf(t)]=i:Qe.push(i)),i.patchFlag|=-2,i}if($n(t)&&(t=t.__vccOpts),e){e=gn(e);let{class:t,style:n}=e;t&&!(0,s.Kg)(t)&&(e.class=(0,s.C4)(t)),(0,s.Gv)(n)&&((0,i.ju)(n)&&!(0,s.cy)(n)&&(n=(0,s.X$)({},n)),e.style=(0,s.Tr)(n))}const l=(0,s.Kg)(t)?1:q(t)?128:Ge(t)?64:(0,s.Gv)(t)?4:(0,s.Tn)(t)?2:0;return un(t,e,n,r,o,l,a,!0)}function gn(t){return t?(0,i.ju)(t)||we(t)?(0,s.X$)({},t):t:null}function pn(t,e,n=!1,i=!1){const{props:r,ref:o,patchFlag:a,children:l,transition:h}=t,c=e?Sn(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&cn(c),ref:e&&e.ref?n&&o?(0,s.cy)(o)?o.concat(dn(e)):[o,dn(e)]:dn(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ke?-1===a?16:16|a:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:h,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&pn(t.ssContent),ssFallback:t.ssFallback&&pn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return h&&i&&(d.transition=h.clone(d)),d}function _n(t=" ",e=0){return fn(qe,null,t,e)}function yn(t,e){const n=fn(Je,null,t);return n.staticCount=e,n}function wn(t="",e=!1){return e?(tn(),an(Xe,null,t)):fn(Xe,null,t)}function vn(t){return null==t||"boolean"===typeof t?fn(Xe):(0,s.cy)(t)?fn(Ke,null,t.slice()):"object"===typeof t?bn(t):fn(qe,null,String(t))}function bn(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:pn(t)}function Mn(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if((0,s.cy)(e))n=16;else if("object"===typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),Mn(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||we(e)?3===i&&D&&(1===D.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=D}}else(0,s.Tn)(e)?(e={default:e,_ctx:D},n=32):(e=String(e),64&i?(n=16,e=[_n(e)]):n=8);t.children=e,t.shapeFlag|=n}function Sn(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=(0,s.C4)([e.class,i.class]));else if("style"===t)e.style=(0,s.Tr)([e.style,i.style]);else if((0,s.Mp)(t)){const n=e[t],r=i[t];!r||n===r||(0,s.cy)(n)&&n.includes(r)||(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=i[t])}return e}function Cn(t,e,n,i=null){o(t,e,7,[n,i])}const xn=de();let Tn=0;function kn(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||xn,a={uid:Tn++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ce(r,o),emitsOptions:R(r,o),emit:null,emitted:null,propsDefaults:s.MZ,inheritAttrs:r.inheritAttrs,ctx:s.MZ,data:s.MZ,props:s.MZ,attrs:s.MZ,slots:s.MZ,refs:s.MZ,setupState:s.MZ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=E.bind(null,a),t.ce&&t.ce(a),a}let Ln=null;const En=()=>Ln||D;let Rn,An;{const t=(0,s.We)(),e=(e,n)=>{let i;return(i=t[e])||(i=t[e]=[]),i.push(n),t=>{i.length>1?i.forEach((e=>e(t))):i[0](t)}};Rn=e("__VUE_INSTANCE_SETTERS__",(t=>Ln=t)),An=e("__VUE_SSR_SETTERS__",(t=>Yn=t))}const Dn=t=>{const e=Ln;return Rn(t),t.scope.on(),()=>{t.scope.off(),Rn(e)}},Hn=()=>{Ln&&Ln.scope.off(),Rn(null)};function Pn(t){return 4&t.vnode.shapeFlag}let In,On,Yn=!1;function Nn(t,e=!1){e&&An(e);const{props:n,children:i}=t.vnode,s=Pn(t);ve(t,n,s,e),Pe(t,i);const r=s?Fn(t,e):void 0;return e&&An(!1),r}function Fn(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Kt);const{setup:o}=n;if(o){const n=t.setupContext=o.length>1?Bn(t):null,l=Dn(t);(0,i.C4)();const h=r(o,t,0,[t.props,n]);if((0,i.bl)(),l(),(0,s.yL)(h)){if(h.then(Hn,Hn),e)return h.then((n=>{jn(t,n,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=h}else jn(t,h,e)}else Wn(t,e)}function jn(t,e,n){(0,s.Tn)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,s.Gv)(e)&&(t.setupState=(0,i.Pr)(e)),Wn(t,n)}function Wn(t,e,n){const r=t.type;if(!t.render){if(!e&&In&&!r.render){const e=r.template||ee(t).template;if(e){0;const{isCustomElement:n,compilerOptions:i}=t.appContext.config,{delimiters:o,compilerOptions:a}=r,l=(0,s.X$)((0,s.X$)({isCustomElement:n,delimiters:o},i),a);r.render=In(e,l)}}t.render=r.render||s.tE,On&&On(t)}{const e=Dn(t);(0,i.C4)();try{Jt(t)}finally{(0,i.bl)(),e()}}}const Vn={get(t,e){return(0,i.u4)(t,"get",""),t[e]}};function Bn(t){const e=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,Vn),slots:t.slots,emit:t.emit,expose:e}}function zn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,i.Pr)((0,i.IG)(t.exposed)),{get(e,n){return n in e?e[n]:n in $t?$t[n](t):void 0},has(t,e){return e in t||e in $t}}))}function Un(t,e=!0){return(0,s.Tn)(t)?t.displayName||t.name:t.name||e&&t.__name}function $n(t){return(0,s.Tn)(t)&&"__vccOpts"in t}const Gn=(t,e)=>{const n=(0,i.EW)(t,e,Yn);return n};function Kn(t,e,n){const i=arguments.length;return 2===i?(0,s.Gv)(e)&&!(0,s.cy)(e)?ln(e)?fn(t,null,[e]):fn(t,e):fn(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&ln(n)&&(n=[n]),fn(t,e,n))}const qn="3.4.27"},3751:function(t,e,n){"use strict";n.d(e,{D$:function(){return Ct},Ef:function(){return Lt},Jo:function(){return yt},u1:function(){return wt}});var i=n(641),s=n(33),r=n(953);
/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
const o="http://www.w3.org/2000/svg",a="http://www.w3.org/1998/Math/MathML",l="undefined"!==typeof document?document:null,h=l&&l.createElement("template"),c={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s="svg"===e?l.createElementNS(o,t):"mathml"===e?l.createElementNS(a,t):l.createElement(t,n?{is:n}:void 0);return"select"===t&&i&&null!=i.multiple&&s.setAttribute("multiple",i.multiple),s},createText:t=>l.createTextNode(t),createComment:t=>l.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>l.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling)){while(1)if(e.insertBefore(s.cloneNode(!0),n),s===r||!(s=s.nextSibling))break}else{h.innerHTML="svg"===i?`<svg>${t}</svg>`:"mathml"===i?`<math>${t}</math>`:t;const s=h.content;if("svg"===i||"mathml"===i){const t=s.firstChild;while(t.firstChild)s.appendChild(t.firstChild);s.removeChild(t)}e.insertBefore(s,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},d="transition",u="animation",f=Symbol("_vtc"),m=(t,{slots:e})=>(0,i.h)(i.pR,w(t),e);m.displayName="Transition";const g={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},p=m.props=(0,s.X$)({},i.QP,g),_=(t,e=[])=>{(0,s.cy)(t)?t.forEach((t=>t(...e))):t&&t(...e)},y=t=>!!t&&((0,s.cy)(t)?t.some((t=>t.length>1)):t.length>1);function w(t){const e={};for(const s in t)s in g||(e[s]=t[s]);if(!1===t.css)return e;const{name:n="v",type:i,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:h=o,appearActiveClass:c=a,appearToClass:d=l,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,p=v(r),w=p&&p[0],b=p&&p[1],{onBeforeEnter:x,onEnter:k,onEnterCancelled:L,onLeave:E,onLeaveCancelled:A,onBeforeAppear:D=x,onAppear:H=k,onAppearCancelled:P=L}=e,I=(t,e,n)=>{S(t,e?d:l),S(t,e?c:a),n&&n()},O=(t,e)=>{t._isLeaving=!1,S(t,u),S(t,m),S(t,f),e&&e()},Y=t=>(e,n)=>{const s=t?H:k,r=()=>I(e,t,n);_(s,[e,r]),C((()=>{S(e,t?h:o),M(e,t?d:l),y(s)||T(e,i,w,r)}))};return(0,s.X$)(e,{onBeforeEnter(t){_(x,[t]),M(t,o),M(t,a)},onBeforeAppear(t){_(D,[t]),M(t,h),M(t,c)},onEnter:Y(!1),onAppear:Y(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>O(t,e);M(t,u),M(t,f),R(),C((()=>{t._isLeaving&&(S(t,u),M(t,m),y(E)||T(t,i,b,n))})),_(E,[t,n])},onEnterCancelled(t){I(t,!1),_(L,[t])},onAppearCancelled(t){I(t,!0),_(P,[t])},onLeaveCancelled(t){O(t),_(A,[t])}})}function v(t){if(null==t)return null;if((0,s.Gv)(t))return[b(t.enter),b(t.leave)];{const e=b(t);return[e,e]}}function b(t){const e=(0,s.Ro)(t);return e}function M(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t[f]||(t[f]=new Set)).add(e)}function S(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const n=t[f];n&&(n.delete(e),n.size||(t[f]=void 0))}function C(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let x=0;function T(t,e,n,i){const s=t._endId=++x,r=()=>{s===t._endId&&i()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=k(t,e);if(!o)return i();const h=o+"end";let c=0;const d=()=>{t.removeEventListener(h,u),r()},u=e=>{e.target===t&&++c>=l&&d()};setTimeout((()=>{c<l&&d()}),a+1),t.addEventListener(h,u)}function k(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),s=i(`${d}Delay`),r=i(`${d}Duration`),o=L(s,r),a=i(`${u}Delay`),l=i(`${u}Duration`),h=L(a,l);let c=null,f=0,m=0;e===d?o>0&&(c=d,f=o,m=r.length):e===u?h>0&&(c=u,f=h,m=l.length):(f=Math.max(o,h),c=f>0?o>h?d:u:null,m=c?c===d?r.length:l.length:0);const g=c===d&&/\b(transform|all)(,|$)/.test(i(`${d}Property`).toString());return{type:c,timeout:f,propCount:m,hasTransform:g}}function L(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>E(e)+E(t[n]))))}function E(t){return"auto"===t?0:1e3*Number(t.slice(0,-1).replace(",","."))}function R(){return document.body.offsetHeight}function A(t,e,n){const i=t[f];i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const D=Symbol("_vod"),H=Symbol("_vsh");const P=Symbol("");const I=/(^|;)\s*display\s*:/;function O(t,e,n){const i=t.style,r=(0,s.Kg)(n);let o=!1;if(n&&!r){if(e)if((0,s.Kg)(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==n[e]&&N(i,e,"")}else for(const t in e)null==n[t]&&N(i,t,"");for(const t in n)"display"===t&&(o=!0),N(i,t,n[t])}else if(r){if(e!==n){const t=i[P];t&&(n+=";"+t),i.cssText=n,o=I.test(n)}}else e&&t.removeAttribute("style");D in t&&(t[D]=o?i.display:"",t[H]&&(i.display="none"))}const Y=/\s*!important$/;function N(t,e,n){if((0,s.cy)(n))n.forEach((n=>N(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=W(t,e);Y.test(n)?t.setProperty((0,s.Tg)(i),n.replace(Y,""),"important"):t[i]=n}}const F=["Webkit","Moz","ms"],j={};function W(t,e){const n=j[e];if(n)return n;let i=(0,s.PT)(e);if("filter"!==i&&i in t)return j[e]=i;i=(0,s.ZH)(i);for(let s=0;s<F.length;s++){const n=F[s]+i;if(n in t)return j[e]=n}return e}const V="http://www.w3.org/1999/xlink";function B(t,e,n,i,r){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(V,e.slice(6,e.length)):t.setAttributeNS(V,e,n);else{const i=(0,s.J$)(e);null==n||i&&!(0,s.Y2)(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function z(t,e,n,i,r,o,a){if("innerHTML"===e||"textContent"===e)return i&&a(i,r,o),void(t[e]=null==n?"":n);const l=t.tagName;if("value"===e&&"PROGRESS"!==l&&!l.includes("-")){const i="OPTION"===l?t.getAttribute("value")||"":t.value,s=null==n?"":n;return i===s&&"_value"in t||(t.value=s),null==n&&t.removeAttribute(e),void(t._value=n)}let h=!1;if(""===n||null==n){const i=typeof t[e];"boolean"===i?n=(0,s.Y2)(n):null==n&&"string"===i?(n="",h=!0):"number"===i&&(n=0,h=!0)}try{t[e]=n}catch(c){0}h&&t.removeAttribute(e)}function U(t,e,n,i){t.addEventListener(e,n,i)}function $(t,e,n,i){t.removeEventListener(e,n,i)}const G=Symbol("_vei");function K(t,e,n,i,s=null){const r=t[G]||(t[G]={}),o=r[e];if(i&&o)o.value=i;else{const[n,a]=X(e);if(i){const o=r[e]=tt(i,s);U(t,n,o,a)}else o&&($(t,n,o,a),r[e]=void 0)}}const q=/(?:Once|Passive|Capture)$/;function X(t){let e;if(q.test(t)){let n;e={};while(n=t.match(q))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):(0,s.Tg)(t.slice(2));return[n,e]}let J=0;const Z=Promise.resolve(),Q=()=>J||(Z.then((()=>J=0)),J=Date.now());function tt(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();(0,i.qL)(et(t,n.value),e,5,[t])};return n.value=t,n.attached=Q(),n}function et(t,e){if((0,s.cy)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const nt=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,it=(t,e,n,i,r,o,a,l,h)=>{const c="svg"===r;"class"===e?A(t,i,c):"style"===e?O(t,n,i):(0,s.Mp)(e)?(0,s.CP)(e)||K(t,e,n,i,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):st(t,e,i,c))?z(t,e,i,o,a,l,h):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),B(t,e,i,c))};function st(t,e,n,i){if(i)return"innerHTML"===e||"textContent"===e||!!(e in t&&nt(e)&&(0,s.Tn)(n));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}return(!nt(e)||!(0,s.Kg)(n))&&e in t}
/*! #__NO_SIDE_EFFECTS__ */
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;const rt=new WeakMap,ot=new WeakMap,at=Symbol("_moveCb"),lt=Symbol("_enterCb"),ht={name:"TransitionGroup",props:(0,s.X$)({},p,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=(0,i.nI)(),s=(0,i.Gy)();let o,a;return(0,i.$u)((()=>{if(!o.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!ft(o[0].el,n.vnode.el,e))return;o.forEach(ct),o.forEach(dt);const i=o.filter(ut);R(),i.forEach((t=>{const n=t.el,i=n.style;M(n,e),i.transform=i.webkitTransform=i.transitionDuration="";const s=n[at]=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",s),n[at]=null,S(n,e))};n.addEventListener("transitionend",s)}))})),()=>{const l=(0,r.ux)(t),h=w(l);let c=l.tag||i.FK;if(o=[],a)for(let t=0;t<a.length;t++){const e=a[t];e.el&&e.el instanceof Element&&(o.push(e),(0,i.MZ)(e,(0,i.OW)(e,h,s,n)),rt.set(e,e.el.getBoundingClientRect()))}a=e.default?(0,i.Df)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,i.MZ)(e,(0,i.OW)(e,h,s,n))}return(0,i.bF)(c,null,a)}}};ht.props;function ct(t){const e=t.el;e[at]&&e[at](),e[lt]&&e[lt]()}function dt(t){ot.set(t,t.el.getBoundingClientRect())}function ut(t){const e=rt.get(t),n=ot.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${i}px,${s}px)`,e.transitionDuration="0s",t}}function ft(t,e,n){const i=t.cloneNode(),s=t[f];s&&s.forEach((t=>{t.split(/\s+/).forEach((t=>t&&i.classList.remove(t)))})),n.split(/\s+/).forEach((t=>t&&i.classList.add(t))),i.style.display="none";const r=1===e.nodeType?e:e.parentNode;r.appendChild(i);const{hasTransform:o}=k(i);return r.removeChild(i),o}const mt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,s.cy)(e)?t=>(0,s.DY)(e,t):e};function gt(t){t.target.composing=!0}function pt(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const _t=Symbol("_assign"),yt={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[_t]=mt(r);const o=i||r.props&&"number"===r.props.type;U(t,e?"change":"input",(e=>{if(e.target.composing)return;let i=t.value;n&&(i=i.trim()),o&&(i=(0,s.bB)(i)),t[_t](i)})),n&&U(t,"change",(()=>{t.value=t.value.trim()})),e||(U(t,"compositionstart",gt),U(t,"compositionend",pt),U(t,"change",pt))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:r}},o){if(t[_t]=mt(o),t.composing)return;const a=!r&&"number"!==t.type||/^0\d/.test(t.value)?t.value:(0,s.bB)(t.value),l=null==e?"":e;if(a!==l){if(document.activeElement===t&&"range"!==t.type){if(n)return;if(i&&t.value.trim()===l)return}t.value=l}}};const wt={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const o=(0,s.vM)(e);U(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?(0,s.bB)(bt(t)):bt(t)));t[_t](t.multiple?o?new Set(e):e:e[0]),t._assigning=!0,(0,i.dY)((()=>{t._assigning=!1}))})),t[_t]=mt(r)},mounted(t,{value:e,modifiers:{number:n}}){vt(t,e)},beforeUpdate(t,e,n){t[_t]=mt(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||vt(t,e)}};function vt(t,e,n){const i=t.multiple,r=(0,s.cy)(e);if(!i||r||(0,s.vM)(e)){for(let n=0,o=t.options.length;n<o;n++){const o=t.options[n],a=bt(o);if(i)if(r){const t=typeof a;o.selected="string"===t||"number"===t?e.some((t=>String(t)===String(a))):(0,s.u3)(e,a)>-1}else o.selected=e.has(a);else if((0,s.BX)(bt(o),e))return void(t.selectedIndex!==n&&(t.selectedIndex=n))}i||-1===t.selectedIndex||(t.selectedIndex=-1)}}function bt(t){return"_value"in t?t._value:t.value}const Mt=["ctrl","shift","alt","meta"],St={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Mt.some((n=>t[`${n}Key`]&&!e.includes(n)))},Ct=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(n,...i)=>{for(let t=0;t<e.length;t++){const i=St[e[t]];if(i&&i(n,e))return}return t(n,...i)})},xt=(0,s.X$)({patchProp:it},c);let Tt;function kt(){return Tt||(Tt=(0,i.K9)(xt))}const Lt=(...t)=>{const e=kt().createApp(...t);const{mount:n}=e;return e.mount=t=>{const i=Rt(t);if(!i)return;const r=e._component;(0,s.Tn)(r)||r.render||r.template||(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,Et(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Et(t){return t instanceof SVGElement?"svg":"function"===typeof MathMLElement&&t instanceof MathMLElement?"mathml":void 0}function Rt(t){if((0,s.Kg)(t)){const e=document.querySelector(t);return e}return t}},33:function(t,e,n){"use strict";
/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function i(t,e){const n=new Set(t.split(","));return e?t=>n.has(t.toLowerCase()):t=>n.has(t)}n.d(e,{$3:function(){return f},$H:function(){return Y},BH:function(){return U},BX:function(){return nt},Bm:function(){return b},C4:function(){return J},CE:function(){return g},CP:function(){return h},DY:function(){return N},Gv:function(){return M},J$:function(){return Q},Kg:function(){return v},MZ:function(){return s},Mp:function(){return l},NO:function(){return a},Oj:function(){return r},PT:function(){return D},Qd:function(){return k},Ro:function(){return W},SU:function(){return E},TF:function(){return d},Tg:function(){return P},Tn:function(){return w},Tr:function(){return $},We:function(){return B},X$:function(){return c},Y2:function(){return tt},ZH:function(){return I},Zf:function(){return T},bB:function(){return j},cy:function(){return m},gd:function(){return y},pD:function(){return i},rU:function(){return O},tE:function(){return o},u3:function(){return it},vM:function(){return p},v_:function(){return st},yI:function(){return L},yL:function(){return S},yQ:function(){return F}});const s={},r=[],o=()=>{},a=()=>!1,l=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),h=t=>t.startsWith("onUpdate:"),c=Object.assign,d=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},u=Object.prototype.hasOwnProperty,f=(t,e)=>u.call(t,e),m=Array.isArray,g=t=>"[object Map]"===x(t),p=t=>"[object Set]"===x(t),_=t=>"[object Date]"===x(t),y=t=>"[object RegExp]"===x(t),w=t=>"function"===typeof t,v=t=>"string"===typeof t,b=t=>"symbol"===typeof t,M=t=>null!==t&&"object"===typeof t,S=t=>(M(t)||w(t))&&w(t.then)&&w(t.catch),C=Object.prototype.toString,x=t=>C.call(t),T=t=>x(t).slice(8,-1),k=t=>"[object Object]"===x(t),L=t=>v(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,E=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),R=t=>{const e=Object.create(null);return n=>{const i=e[n];return i||(e[n]=t(n))}},A=/-(\w)/g,D=R((t=>t.replace(A,((t,e)=>e?e.toUpperCase():"")))),H=/\B([A-Z])/g,P=R((t=>t.replace(H,"-$1").toLowerCase())),I=R((t=>t.charAt(0).toUpperCase()+t.slice(1))),O=R((t=>{const e=t?`on${I(t)}`:"";return e})),Y=(t,e)=>!Object.is(t,e),N=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},F=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},j=t=>{const e=parseFloat(t);return isNaN(e)?t:e},W=t=>{const e=v(t)?Number(t):NaN;return isNaN(e)?t:e};let V;const B=()=>V||(V="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const z="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",U=i(z);function $(t){if(m(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=v(i)?X(i):$(i);if(s)for(const t in s)e[t]=s[t]}return e}if(v(t)||M(t))return t}const G=/;(?![^(]*\))/g,K=/:([^]+)/,q=/\/\*[^]*?\*\//g;function X(t){const e={};return t.replace(q,"").split(G).forEach((t=>{if(t){const n=t.split(K);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function J(t){let e="";if(v(t))e=t;else if(m(t))for(let n=0;n<t.length;n++){const i=J(t[n]);i&&(e+=i+" ")}else if(M(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Z="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Q=i(Z);function tt(t){return!!t||""===t}function et(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=nt(t[i],e[i]);return n}function nt(t,e){if(t===e)return!0;let n=_(t),i=_(e);if(n||i)return!(!n||!i)&&t.getTime()===e.getTime();if(n=b(t),i=b(e),n||i)return t===e;if(n=m(t),i=m(e),n||i)return!(!n||!i)&&et(t,e);if(n=M(t),i=M(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const n in t){const i=t.hasOwnProperty(n),s=e.hasOwnProperty(n);if(i&&!s||!i&&s||!nt(t[n],e[n]))return!1}}return String(t)===String(e)}function it(t,e){return t.findIndex((t=>nt(t,e)))}const st=t=>v(t)?t:null==t?"":m(t)||M(t)&&(t.toString===C||!w(t.toString))?JSON.stringify(t,rt,2):String(t),rt=(t,e)=>e&&e.__v_isRef?rt(t,e.value):g(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n],i)=>(t[ot(e,i)+" =>"]=n,t)),{})}:p(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>ot(t)))}:b(e)?ot(e):!M(e)||m(e)||k(e)?e:String(e),ot=(t,e="")=>{var n;return b(t)?`Symbol(${null!=(n=t.description)?n:e})`:t}},9937:function(t){
/*! @license DOMPurify 2.5.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.5/LICENSE */
(function(e,n){t.exports=n()})(0,(function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function i(t,s,r){return i=n()?Reflect.construct:function(t,n,i){var s=[null];s.push.apply(s,n);var r=Function.bind.apply(t,s),o=new r;return i&&e(o,i.prototype),o},i.apply(null,arguments)}function s(t){return r(t)||o(t)||a(t)||h()}function r(t){if(Array.isArray(t))return l(t)}function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function a(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c=Object.hasOwnProperty,d=Object.setPrototypeOf,u=Object.isFrozen,f=Object.getPrototypeOf,m=Object.getOwnPropertyDescriptor,g=Object.freeze,p=Object.seal,_=Object.create,y="undefined"!==typeof Reflect&&Reflect,w=y.apply,v=y.construct;w||(w=function(t,e,n){return t.apply(e,n)}),g||(g=function(t){return t}),p||(p=function(t){return t}),v||(v=function(t,e){return i(t,s(e))});var b=D(Array.prototype.forEach),M=D(Array.prototype.pop),S=D(Array.prototype.push),C=D(String.prototype.toLowerCase),x=D(String.prototype.toString),T=D(String.prototype.match),k=D(String.prototype.replace),L=D(String.prototype.indexOf),E=D(String.prototype.trim),R=D(RegExp.prototype.test),A=H(TypeError);function D(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return w(t,e,i)}}function H(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return v(t,n)}}function P(t,e,n){var i;n=null!==(i=n)&&void 0!==i?i:C,d&&d(t,null);var s=e.length;while(s--){var r=e[s];if("string"===typeof r){var o=n(r);o!==r&&(u(e)||(e[s]=o),r=o)}t[r]=!0}return t}function I(t){var e,n=_(null);for(e in t)!0===w(c,t,[e])&&(n[e]=t[e]);return n}function O(t,e){while(null!==t){var n=m(t,e);if(n){if(n.get)return D(n.get);if("function"===typeof n.value)return D(n.value)}t=f(t)}function i(t){return console.warn("fallback value for",t),null}return i}var Y=g(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N=g(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=g(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),j=g(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),W=g(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),V=g(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),B=g(["#text"]),z=g(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),U=g(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$=g(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=g(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K=p(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=p(/<%[\w\W]*|[\w\W]*%>/gm),X=p(/\${[\w\W]*}/gm),J=p(/^data-[\-\w.\u00B7-\uFFFF]/),Z=p(/^aria-[\-\w]+$/),Q=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tt=p(/^(?:\w+script|data):/i),et=p(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),nt=p(/^html$/i),it=p(/^[a-z][.\w]*(-[.\w]+)+$/i),st=function(){return"undefined"===typeof window?null:window},rt=function(e,n){if("object"!==t(e)||"function"!==typeof e.createPolicy)return null;var i=null,s="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(s)&&(i=n.currentScript.getAttribute(s));var r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(o){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st(),n=function(t){return ot(t)};if(n.version="2.5.5",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var i=e.document,r=e.document,o=e.DocumentFragment,a=e.HTMLTemplateElement,l=e.Node,h=e.Element,c=e.NodeFilter,d=e.NamedNodeMap,u=void 0===d?e.NamedNodeMap||e.MozNamedAttrMap:d,f=e.HTMLFormElement,m=e.DOMParser,p=e.trustedTypes,_=h.prototype,y=O(_,"cloneNode"),w=O(_,"nextSibling"),v=O(_,"childNodes"),D=O(_,"parentNode");if("function"===typeof a){var H=r.createElement("template");H.content&&H.content.ownerDocument&&(r=H.content.ownerDocument)}var at=rt(p,i),lt=at?at.createHTML(""):"",ht=r,ct=ht.implementation,dt=ht.createNodeIterator,ut=ht.createDocumentFragment,ft=ht.getElementsByTagName,mt=i.importNode,gt={};try{gt=I(r).documentMode?r.documentMode:{}}catch(Oe){}var pt={};n.isSupported="function"===typeof D&&ct&&void 0!==ct.createHTMLDocument&&9!==gt;var _t,yt,wt=K,vt=q,bt=X,Mt=J,St=Z,Ct=tt,xt=et,Tt=it,kt=Q,Lt=null,Et=P({},[].concat(s(Y),s(N),s(F),s(W),s(B))),Rt=null,At=P({},[].concat(s(z),s(U),s($),s(G))),Dt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ht=null,Pt=null,It=!0,Ot=!0,Yt=!1,Nt=!0,Ft=!1,jt=!0,Wt=!1,Vt=!1,Bt=!1,zt=!1,Ut=!1,$t=!1,Gt=!0,Kt=!1,qt="user-content-",Xt=!0,Jt=!1,Zt={},Qt=null,te=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ee=null,ne=P({},["audio","video","img","source","image","track"]),ie=null,se=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),re="http://www.w3.org/1998/Math/MathML",oe="http://www.w3.org/2000/svg",ae="http://www.w3.org/1999/xhtml",le=ae,he=!1,ce=null,de=P({},[re,oe,ae],x),ue=["application/xhtml+xml","text/html"],fe="text/html",me=null,ge=r.createElement("form"),pe=function(t){return t instanceof RegExp||t instanceof Function},_e=function(e){me&&me===e||(e&&"object"===t(e)||(e={}),e=I(e),_t=_t=-1===ue.indexOf(e.PARSER_MEDIA_TYPE)?fe:e.PARSER_MEDIA_TYPE,yt="application/xhtml+xml"===_t?x:C,Lt="ALLOWED_TAGS"in e?P({},e.ALLOWED_TAGS,yt):Et,Rt="ALLOWED_ATTR"in e?P({},e.ALLOWED_ATTR,yt):At,ce="ALLOWED_NAMESPACES"in e?P({},e.ALLOWED_NAMESPACES,x):de,ie="ADD_URI_SAFE_ATTR"in e?P(I(se),e.ADD_URI_SAFE_ATTR,yt):se,ee="ADD_DATA_URI_TAGS"in e?P(I(ne),e.ADD_DATA_URI_TAGS,yt):ne,Qt="FORBID_CONTENTS"in e?P({},e.FORBID_CONTENTS,yt):te,Ht="FORBID_TAGS"in e?P({},e.FORBID_TAGS,yt):{},Pt="FORBID_ATTR"in e?P({},e.FORBID_ATTR,yt):{},Zt="USE_PROFILES"in e&&e.USE_PROFILES,It=!1!==e.ALLOW_ARIA_ATTR,Ot=!1!==e.ALLOW_DATA_ATTR,Yt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Nt=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ft=e.SAFE_FOR_TEMPLATES||!1,jt=!1!==e.SAFE_FOR_XML,Wt=e.WHOLE_DOCUMENT||!1,zt=e.RETURN_DOM||!1,Ut=e.RETURN_DOM_FRAGMENT||!1,$t=e.RETURN_TRUSTED_TYPE||!1,Bt=e.FORCE_BODY||!1,Gt=!1!==e.SANITIZE_DOM,Kt=e.SANITIZE_NAMED_PROPS||!1,Xt=!1!==e.KEEP_CONTENT,Jt=e.IN_PLACE||!1,kt=e.ALLOWED_URI_REGEXP||kt,le=e.NAMESPACE||ae,Dt=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&pe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Dt.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&pe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Dt.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Dt.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ft&&(Ot=!1),Ut&&(zt=!0),Zt&&(Lt=P({},s(B)),Rt=[],!0===Zt.html&&(P(Lt,Y),P(Rt,z)),!0===Zt.svg&&(P(Lt,N),P(Rt,U),P(Rt,G)),!0===Zt.svgFilters&&(P(Lt,F),P(Rt,U),P(Rt,G)),!0===Zt.mathMl&&(P(Lt,W),P(Rt,$),P(Rt,G))),e.ADD_TAGS&&(Lt===Et&&(Lt=I(Lt)),P(Lt,e.ADD_TAGS,yt)),e.ADD_ATTR&&(Rt===At&&(Rt=I(Rt)),P(Rt,e.ADD_ATTR,yt)),e.ADD_URI_SAFE_ATTR&&P(ie,e.ADD_URI_SAFE_ATTR,yt),e.FORBID_CONTENTS&&(Qt===te&&(Qt=I(Qt)),P(Qt,e.FORBID_CONTENTS,yt)),Xt&&(Lt["#text"]=!0),Wt&&P(Lt,["html","head","body"]),Lt.table&&(P(Lt,["tbody"]),delete Ht.tbody),g&&g(e),me=e)},ye=P({},["mi","mo","mn","ms","mtext"]),we=P({},["foreignobject","annotation-xml"]),ve=P({},["title","style","font","a","script"]),be=P({},N);P(be,F),P(be,j);var Me=P({},W);P(Me,V);var Se=function(t){var e=D(t);e&&e.tagName||(e={namespaceURI:le,tagName:"template"});var n=C(t.tagName),i=C(e.tagName);return!!ce[t.namespaceURI]&&(t.namespaceURI===oe?e.namespaceURI===ae?"svg"===n:e.namespaceURI===re?"svg"===n&&("annotation-xml"===i||ye[i]):Boolean(be[n]):t.namespaceURI===re?e.namespaceURI===ae?"math"===n:e.namespaceURI===oe?"math"===n&&we[i]:Boolean(Me[n]):t.namespaceURI===ae?!(e.namespaceURI===oe&&!we[i])&&(!(e.namespaceURI===re&&!ye[i])&&(!Me[n]&&(ve[n]||!be[n]))):!("application/xhtml+xml"!==_t||!ce[t.namespaceURI]))},Ce=function(t){S(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(Oe){try{t.outerHTML=lt}catch(Oe){t.remove()}}},xe=function(t,e){try{S(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(Oe){S(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Rt[t])if(zt||Ut)try{Ce(e)}catch(Oe){}else try{e.setAttribute(t,"")}catch(Oe){}},Te=function(t){var e,n;if(Bt)t="<remove></remove>"+t;else{var i=T(t,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===_t&&le===ae&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var s=at?at.createHTML(t):t;if(le===ae)try{e=(new m).parseFromString(s,_t)}catch(Oe){}if(!e||!e.documentElement){e=ct.createDocument(le,"template",null);try{e.documentElement.innerHTML=he?lt:s}catch(Oe){}}var o=e.body||e.documentElement;return t&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),le===ae?ft.call(e,Wt?"html":"body")[0]:Wt?e.documentElement:o},ke=function(t){return dt.call(t.ownerDocument||t,t,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null,!1)},Le=function(t){return t instanceof f&&("string"!==typeof t.nodeName||"string"!==typeof t.textContent||"function"!==typeof t.removeChild||!(t.attributes instanceof u)||"function"!==typeof t.removeAttribute||"function"!==typeof t.setAttribute||"string"!==typeof t.namespaceURI||"function"!==typeof t.insertBefore||"function"!==typeof t.hasChildNodes)},Ee=function(e){return"object"===t(l)?e instanceof l:e&&"object"===t(e)&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},Re=function(t,e,i){pt[t]&&b(pt[t],(function(t){t.call(n,e,i,me)}))},Ae=function(t){var e;if(Re("beforeSanitizeElements",t,null),Le(t))return Ce(t),!0;if(R(/[\u0080-\uFFFF]/,t.nodeName))return Ce(t),!0;var i=yt(t.nodeName);if(Re("uponSanitizeElement",t,{tagName:i,allowedTags:Lt}),t.hasChildNodes()&&!Ee(t.firstElementChild)&&(!Ee(t.content)||!Ee(t.content.firstElementChild))&&R(/<[/\w]/g,t.innerHTML)&&R(/<[/\w]/g,t.textContent))return Ce(t),!0;if("select"===i&&R(/<template/i,t.innerHTML))return Ce(t),!0;if(7===t.nodeType)return Ce(t),!0;if(jt&&8===t.nodeType&&R(/<[/\w]/g,t.data))return Ce(t),!0;if(!Lt[i]||Ht[i]){if(!Ht[i]&&He(i)){if(Dt.tagNameCheck instanceof RegExp&&R(Dt.tagNameCheck,i))return!1;if(Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck(i))return!1}if(Xt&&!Qt[i]){var s=D(t)||t.parentNode,r=v(t)||t.childNodes;if(r&&s)for(var o=r.length,a=o-1;a>=0;--a){var l=y(r[a],!0);l.__removalCount=(t.__removalCount||0)+1,s.insertBefore(l,w(t))}}return Ce(t),!0}return t instanceof h&&!Se(t)?(Ce(t),!0):"noscript"!==i&&"noembed"!==i&&"noframes"!==i||!R(/<\/no(script|embed|frames)/i,t.innerHTML)?(Ft&&3===t.nodeType&&(e=t.textContent,e=k(e,wt," "),e=k(e,vt," "),e=k(e,bt," "),t.textContent!==e&&(S(n.removed,{element:t.cloneNode()}),t.textContent=e)),Re("afterSanitizeElements",t,null),!1):(Ce(t),!0)},De=function(t,e,n){if(Gt&&("id"===e||"name"===e)&&(n in r||n in ge))return!1;if(Ot&&!Pt[e]&&R(Mt,e));else if(It&&R(St,e));else if(!Rt[e]||Pt[e]){if(!(He(t)&&(Dt.tagNameCheck instanceof RegExp&&R(Dt.tagNameCheck,t)||Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck(t))&&(Dt.attributeNameCheck instanceof RegExp&&R(Dt.attributeNameCheck,e)||Dt.attributeNameCheck instanceof Function&&Dt.attributeNameCheck(e))||"is"===e&&Dt.allowCustomizedBuiltInElements&&(Dt.tagNameCheck instanceof RegExp&&R(Dt.tagNameCheck,n)||Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck(n))))return!1}else if(ie[e]);else if(R(kt,k(n,xt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==L(n,"data:")||!ee[t]){if(Yt&&!R(Ct,k(n,xt,"")));else if(n)return!1}else;return!0},He=function(t){return"annotation-xml"!==t&&T(t,Tt)},Pe=function(e){var i,s,r,o;Re("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Rt};o=a.length;while(o--){i=a[o];var h=i,c=h.name,d=h.namespaceURI;if(s="value"===c?i.value:E(i.value),r=yt(c),l.attrName=r,l.attrValue=s,l.keepAttr=!0,l.forceKeepAttr=void 0,Re("uponSanitizeAttribute",e,l),s=l.attrValue,!l.forceKeepAttr&&(xe(c,e),l.keepAttr))if(Nt||!R(/\/>/i,s))if(jt&&R(/((--!?|])>)|<\/(style|title)/i,s))xe(c,e);else{Ft&&(s=k(s,wt," "),s=k(s,vt," "),s=k(s,bt," "));var u=yt(e.nodeName);if(De(u,r,s)){if(!Kt||"id"!==r&&"name"!==r||(xe(c,e),s=qt+s),at&&"object"===t(p)&&"function"===typeof p.getAttributeType)if(d);else switch(p.getAttributeType(u,r)){case"TrustedHTML":s=at.createHTML(s);break;case"TrustedScriptURL":s=at.createScriptURL(s);break}try{d?e.setAttributeNS(d,c,s):e.setAttribute(c,s),Le(e)?Ce(e):M(n.removed)}catch(Oe){}}}else xe(c,e)}Re("afterSanitizeAttributes",e,null)}},Ie=function t(e){var n,i=ke(e);Re("beforeSanitizeShadowDOM",e,null);while(n=i.nextNode())Re("uponSanitizeShadowNode",n,null),Ae(n)||(n.content instanceof o&&t(n.content),Pe(n));Re("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(s){var r,a,h,c,d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(he=!s,he&&(s="\x3c!--\x3e"),"string"!==typeof s&&!Ee(s)){if("function"!==typeof s.toString)throw A("toString is not a function");if(s=s.toString(),"string"!==typeof s)throw A("dirty is not a string, aborting")}if(!n.isSupported){if("object"===t(e.toStaticHTML)||"function"===typeof e.toStaticHTML){if("string"===typeof s)return e.toStaticHTML(s);if(Ee(s))return e.toStaticHTML(s.outerHTML)}return s}if(Vt||_e(u),n.removed=[],"string"===typeof s&&(Jt=!1),Jt){if(s.nodeName){var f=yt(s.nodeName);if(!Lt[f]||Ht[f])throw A("root node is forbidden and cannot be sanitized in-place")}}else if(s instanceof l)r=Te("\x3c!----\x3e"),a=r.ownerDocument.importNode(s,!0),1===a.nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!zt&&!Ft&&!Wt&&-1===s.indexOf("<"))return at&&$t?at.createHTML(s):s;if(r=Te(s),!r)return zt?null:$t?lt:""}r&&Bt&&Ce(r.firstChild);var m=ke(Jt?s:r);while(h=m.nextNode())3===h.nodeType&&h===c||Ae(h)||(h.content instanceof o&&Ie(h.content),Pe(h),c=h);if(c=null,Jt)return s;if(zt){if(Ut){d=ut.call(r.ownerDocument);while(r.firstChild)d.appendChild(r.firstChild)}else d=r;return(Rt.shadowroot||Rt.shadowrootmod)&&(d=mt.call(i,d,!0)),d}var g=Wt?r.outerHTML:r.innerHTML;return Wt&&Lt["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&R(nt,r.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+g),Ft&&(g=k(g,wt," "),g=k(g,vt," "),g=k(g,bt," ")),at&&$t?at.createHTML(g):g},n.setConfig=function(t){_e(t),Vt=!0},n.clearConfig=function(){me=null,Vt=!1},n.isValidAttribute=function(t,e,n){me||_e({});var i=yt(t),s=yt(e);return De(i,s,n)},n.addHook=function(t,e){"function"===typeof e&&(pt[t]=pt[t]||[],S(pt[t],e))},n.removeHook=function(t){if(pt[t])return M(pt[t])},n.removeHooks=function(t){pt[t]&&(pt[t]=[])},n.removeAllHooks=function(){pt={}},n}var at=ot();return at}))},4707:function(){},5177:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}});return e}))},1488:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(t){return function(i,s,r,o){var a=e(i),l=n[t][e(i)];return 2===a&&(l=l[s?0:1]),l.replace(/%d/i,i)}},s=["","","","","","","","","","","",""],r=t.defineLocale("ar-dz",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:0,doy:4}});return r}))},8676:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}});return e}))},2353:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},s=function(t){return function(e,s,r,o){var a=n(e),l=i[t][n(e)];return 2===a&&(l=l[s?0:1]),l.replace(/%d/i,e)}},r=["","","","","","","","","","","",""],o=t.defineLocale("ar-ly",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:s("s"),ss:s("s"),m:s("m"),mm:s("m"),h:s("h"),hh:s("h"),d:s("d"),dd:s("d"),M:s("M"),MM:s("M"),y:s("y"),yy:s("y")},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}});return o}))},4496:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return e}))},2682:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:0,doy:6}});return i}))},9756:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return e}))},1509:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},s={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(t){return function(e,n,r,o){var a=i(e),l=s[t][i(e)];return 2===a&&(l=l[n?0:1]),l.replace(/%d/i,e)}},o=["","","","","","","","","","","",""],a=t.defineLocale("ar",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}});return a}))},5533:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"},n=t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var n=t%10,i=t%100-n,s=t>=100?100:null;return t+(e[n]||e[i]||e[s])},week:{dow:1,doy:7}});return n}))},8959:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e){var n=t.split("_");return e%10===1&&e%100!==11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,i){var s={ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":"h"===i?n?"":"":t+" "+e(s[i],+t)}var i=t.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!==2&&t%10!==3||t%100===12||t%100===13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}});return i}))},7777:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}});return e}))},4903:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});return e}))},7357:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e||""===e?t:""===e?t>=3?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<6?"":t<12?"":t<15?"":t<18?"":t<20?"":""},week:{dow:0,doy:6}});return i}))},1290:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return i}))},1545:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return i}))},1470:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n){var i={mm:"munutenn",MM:"miz",dd:"devezh"};return t+" "+s(i[n],t)}function n(t){switch(i(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}function i(t){return t>9?i(t%10):t}function s(t,e){return 2===e?r(t):t}function r(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}var o=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],a=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,l=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,h=/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,c=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],d=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],u=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i],f=t.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:u,fullWeekdaysParse:c,shortWeekdaysParse:d,minWeekdaysParse:u,monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:l,monthsShortStrictRegex:h,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){var e=1===t?"a":"vet";return t+e},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(t){return"g.m."===t},meridiem:function(t,e,n){return t<12?"a.m.":"g.m."}});return f}))},4429:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n){var i=t+" ";switch(n){case"ss":return i+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi",i;case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta",i;case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati",i;case"dd":return i+=1===t?"dan":"dana",i;case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci",i;case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina",i}}var n=t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},7306:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}});return e}))},6464:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={format:"leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),standalone:"ledna_nora_bezna_dubna_kvtna_ervna_ervence_srpna_z_jna_listopadu_prosince".split("_")},n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),i=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],s=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function r(t){return t>1&&t<5&&1!==~~(t/10)}function o(t,e,n,i){var s=t+" ";switch(n){case"s":return e||i?"pr sekund":"pr sekundami";case"ss":return e||i?s+(r(t)?"sekundy":"sekund"):s+"sekundami";case"m":return e?"minuta":i?"minutu":"minutou";case"mm":return e||i?s+(r(t)?"minuty":"minut"):s+"minutami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?s+(r(t)?"hodiny":"hodin"):s+"hodinami";case"d":return e||i?"den":"dnem";case"dd":return e||i?s+(r(t)?"dny":"dn"):s+"dny";case"M":return e||i?"msc":"mscem";case"MM":return e||i?s+(r(t)?"msce":"msc"):s+"msci";case"y":return e||i?"rok":"rokem";case"yy":return e||i?s+(r(t)?"roky":"let"):s+"lety"}}var a=t.defineLocale("cs",{months:e,monthsShort:n,monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a}))},3635:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){var e=/$/i.exec(t)?"":/$/i.exec(t)?"":"";return t+e},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}});return e}))},4226:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e=t,n="",i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return e>20?n=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(n=i[e]),t+n},week:{dow:1,doy:4}});return e}))},3601:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},6111:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n,i){var s={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?s[n][0]:s[n][1]}var n=t.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},4697:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n,i){var s={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?s[n][0]:s[n][1]}var n=t.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},7853:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n,i){var s={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?s[n][0]:s[n][1]}var n=t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},708:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=["","","","","","","","","","","",""],n=["","","","","","",""],i=t.defineLocale("dv",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}});return i}))},4691:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t){return"undefined"!==typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}var n=t.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return t?"string"===typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,n){return t>11?n?"":"":n?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,n){var i=this._calendarEl[t],s=n&&n.hours();return e(i)&&(i=i.apply(n)),i.replace("{}",s%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return n}))},3872:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n},week:{dow:0,doy:4}});return e}))},8298:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}});return e}))},6195:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n},week:{dow:1,doy:4}});return e}))},6584:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n},week:{dow:1,doy:4}});return e}))},5543:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}});return e}))},9033:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n},week:{dow:0,doy:6}});return e}))},9402:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n},week:{dow:1,doy:4}});return e}))},3004:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n},week:{dow:1,doy:4}});return e}))},2934:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return e}))},838:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],s=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,r=t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return r}))},7730:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],s=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,r=t.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"});return r}))},6575:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],s=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,r=t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}});return r}))},7650:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],s=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,r=t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return r}))},3035:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n,i){var s={s:["mne sekundi","mni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?s[n][2]?s[n][2]:s[n][1]:i?s[n][0]:s[n][1]}var n=t.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d peva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},3508:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return e}))},119:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,n){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});return i}))},527:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",e[7],e[8],e[9]];function i(t,e,n,i){var r="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"ss":r=i?"sekunnin":"sekuntia";break;case"m":return i?"minuutin":"minuutti";case"mm":r=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":r=i?"tunnin":"tuntia";break;case"d":return i?"pivn":"piv";case"dd":r=i?"pivn":"piv";break;case"M":return i?"kuukauden":"kuukausi";case"MM":r=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":r=i?"vuoden":"vuotta";break}return r=s(t,i)+" "+r,r}function s(t,i){return t<10?i?n[t]:e[t]:t}var r=t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r}))},5995:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}});return e}))},2477:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},6435:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}});return e}))},7892:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}});return e}))},5498:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,i=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,s=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],r=t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:e,monthsShortStrictRegex:n,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}});return r}))},7071:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),i=t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}});return i}))},1734:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],n=["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],i=["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],s=["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],r=["Do","Lu","M","C","D","A","Sa"],o=t.defineLocale("ga",{months:e,monthsShort:n,monthsParseExact:!0,weekdays:i,weekdaysShort:s,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){var e=1===t?"d":t%10===2?"na":"mh";return t+e},week:{dow:1,doy:4}});return o}))},217:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],n=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],i=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],s=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],r=["D","Lu","M","Ci","Ar","Ha","Sa"],o=t.defineLocale("gd",{months:e,monthsShort:n,monthsParseExact:!0,weekdays:i,weekdaysShort:s,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){var e=1===t?"d":t%10===2?"na":"mh";return t+e},week:{dow:1,doy:4}});return o}))},7329:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},2124:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n,i){var s={s:[" "," "],ss:[t+" ",t+" "],m:[" "," "],mm:[t+" ",t+" "],h:[" "," "],hh:[t+" ",t+" "],d:[" "," "],dd:[t+" ",t+" "],M:[" "," "],MM:[t+" ",t+" "],y:[" "," "],yy:[t+" ",t+" "]};return i?s[n][0]:s[n][1]}var n=t.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t,e){switch(e){case"D":return t+"";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>12?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<12?"":t<16?"":t<20?"":""}});return n}))},3383:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n,i){var s={s:["thoddea sekondamni","thodde sekond"],ss:[t+" sekondamni",t+" sekond"],m:["eka mintan","ek minut"],mm:[t+" mintamni",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voramni",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disamni",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineamni",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsamni",t+" vorsam"]};return i?s[n][0]:s[n][1]}var n=t.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokallim"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokallim":t<16?"donparam":t<20?"sanje":"rati"}});return n}))},5050:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return i}))},1713:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10===0&&10!==t?t+" ":t+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(t){return/^("| |)$/.test(t)},meridiem:function(t,e,n){return t<5?" ":t<10?"":t<12?n?'"':" ":t<18?n?'"':" ":""}});return e}))},3861:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i],s=[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],r=t.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:i,longMonthsParse:i,shortMonthsParse:s,monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return r}))},6308:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n){var i=t+" ";switch(n){case"ss":return i+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi",i;case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta",i;case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati",i;case"dd":return i+=1===t?"dan":"dana",i;case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci",i;case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina",i}}var n=t.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},609:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(t,e,n,i){var s=t;switch(n){case"s":return i||e?"nhny msodperc":"nhny msodperce";case"ss":return s+(i||e)?" msodperc":" msodperce";case"m":return"egy"+(i||e?" perc":" perce");case"mm":return s+(i||e?" perc":" perce");case"h":return"egy"+(i||e?" ra":" rja");case"hh":return s+(i||e?" ra":" rja");case"d":return"egy"+(i||e?" nap":" napja");case"dd":return s+(i||e?" nap":" napja");case"M":return"egy"+(i||e?" hnap":" hnapja");case"MM":return s+(i||e?" hnap":" hnapja");case"y":return"egy"+(i||e?" v":" ve");case"yy":return s+(i||e?" v":" ve")}return""}function i(t){return(t?"":"[mlt] ")+"["+e[this.day()]+"] LT[-kor]"}var s=t.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s}))},7160:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}});return e}))},4063:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}});return e}))},9374:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t){return t%100===11||t%10!==1}function n(t,n,i,s){var r=t+" ";switch(i){case"s":return n||s?"nokkrar sekndur":"nokkrum sekndum";case"ss":return e(t)?r+(n||s?"sekndur":"sekndum"):r+"seknda";case"m":return n?"mnta":"mntu";case"mm":return e(t)?r+(n||s?"mntur":"mntum"):n?r+"mnta":r+"mntu";case"hh":return e(t)?r+(n||s?"klukkustundir":"klukkustundum"):r+"klukkustund";case"d":return n?"dagur":s?"dag":"degi";case"dd":return e(t)?n?r+"dagar":r+(s?"daga":"dgum"):n?r+"dagur":r+(s?"dag":"degi");case"M":return n?"mnuur":s?"mnu":"mnui";case"MM":return e(t)?n?r+"mnuir":r+(s?"mnui":"mnuum"):n?r+"mnuur":r+(s?"mnu":"mnui");case"y":return n||s?"r":"ri";case"yy":return e(t)?r+(n||s?"r":"rum"):r+(n||s?"r":"ri")}}var i=t.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i}))},1827:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},8383:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},3827:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(t,e){return""===e[1]?1:parseInt(e[1]||t,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t,e){switch(e){case"y":return 1===t?"":t+"";case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return e}))},9722:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});return e}))},1794:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return t.replace(/(|||||)(|)/,(function(t,e,n){return""===n?e+"":e+n+""}))},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):t},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20===0||t%100===0?"-"+t:t+"-"},week:{dow:1,doy:7}});return e}))},7088:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},n=t.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){var n=t%10,i=t>=100?100:null;return t+(e[t]||e[n]||e[i])},week:{dow:1,doy:7}});return n}))},6870:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}});return i}))},4451:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t){return t+""},week:{dow:0,doy:6}});return i}))},3164:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""}});return e}))},8174:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=[" ","","","","","","","",""," "," "," "],s=t.defineLocale("ku",{months:i,monthsShort:i,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return//.test(t)},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}});return s}))},8474:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},n=t.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(t){var n=t%10,i=t>=100?100:null;return t+(e[t]||e[n]||e[i])},week:{dow:1,doy:7}});return n}))},9680:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n,i){var s={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?s[n][0]:s[n][1]}function n(t){var e=t.substr(0,t.indexOf(" "));return s(e)?"a "+t:"an "+t}function i(t){var e=t.substr(0,t.indexOf(" "));return s(e)?"viru "+t:"virun "+t}function s(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10,n=t/10;return s(0===e?n:e)}if(t<1e4){while(t>=10)t/=10;return s(t)}return t/=1e3,s(t)}var r=t.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:i,s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Mint",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r}))},5867:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(t){return""+t}});return e}))},5766:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(t,e,n,i){return e?"kelios sekunds":i?"keli sekundi":"kelias sekundes"}function i(t,e,n,i){return e?r(n)[0]:i?r(n)[1]:r(n)[2]}function s(t){return t%10===0||t>10&&t<20}function r(t){return e[t].split("_")}function o(t,e,n,o){var a=t+" ";return 1===t?a+i(t,e,n[0],o):e?a+(s(t)?r(n)[1]:r(n)[0]):o?a+r(n)[1]:a+(s(t)?r(n)[1]:r(n)[2])}var a=t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:n,ss:o,m:i,mm:o,h:i,hh:o,d:i,dd:o,M:i,MM:o,y:i,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}});return a}))},9532:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(t,e,n){return n?e%10===1&&e%100!==11?t[2]:t[3]:e%10===1&&e%100!==11?t[0]:t[1]}function i(t,i,s){return t+" "+n(e[s],t,i)}function s(t,i,s){return n(e[s],t,i)}function r(t,e){return e?"daas sekundes":"dam sekundm"}var o=t.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:r,ss:i,m:s,mm:i,h:s,hh:i,d:s,dd:i,M:s,MM:i,y:s,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},8076:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,i){var s=e.words[i];return 1===i.length?n?s[0]:s[1]:t+" "+e.correctGrammaticalCase(t,s)}},n=t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var t=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return t[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},1848:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},306:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}});return e}))},3739:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||" "===e||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?" ":t<20?"":""}});return e}))},9053:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n,i){switch(n){case"s":return e?" ":" ";case"ss":return t+(e?" ":" ");case"m":case"mm":return t+(e?" ":" ");case"h":case"hh":return t+(e?" ":" ");case"d":case"dd":return t+(e?" ":" ");case"M":case"MM":return t+(e?" ":" ");case"y":case"yy":return t+(e?" ":" ");default:return t}}var n=t.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" ";default:return t}}});return n}))},6169:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function i(t,e,n,i){var s="";if(e)switch(n){case"s":s=" ";break;case"ss":s="%d ";break;case"m":s=" ";break;case"mm":s="%d ";break;case"h":s=" ";break;case"hh":s="%d ";break;case"d":s=" ";break;case"dd":s="%d ";break;case"M":s=" ";break;case"MM":s="%d ";break;case"y":s=" ";break;case"yy":s="%d ";break}else switch(n){case"s":s=" ";break;case"ss":s="%d ";break;case"m":s=" ";break;case"mm":s="%d ";break;case"h":s=" ";break;case"hh":s="%d ";break;case"d":s=" ";break;case"dd":s="%d ";break;case"M":s=" ";break;case"MM":s="%d ";break;case"y":s=" ";break;case"yy":s="%d ";break}return s.replace(/%d/i,t)}var s=t.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e?t:""===e||""===e||""===e?t>=12?t:t+12:void 0},meridiem:function(t,e,n){return t>=0&&t<6?"":t<12?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return s}))},2297:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return e}))},3386:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return e}))},7075:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},2264:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}});return i}))},2274:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},8235:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});return i}))},3784:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],s=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,r=t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}});return r}))},2572:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],s=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,r=t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}});return r}))},4566:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},9330:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}});return e}))},9849:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return i}))},4418:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),i=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function s(t){return t%10<5&&t%10>1&&~~(t/10)%10!==1}function r(t,e,n){var i=t+" ";switch(n){case"ss":return i+(s(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut";case"mm":return i+(s(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return i+(s(t)?"godziny":"godzin");case"ww":return i+(s(t)?"tygodnie":"tygodni");case"MM":return i+(s(t)?"miesice":"miesicy");case"yy":return i+(s(t)?"lata":"lat")}}var o=t.defineLocale("pl",{months:function(t,i){return t?/D MMMM/.test(i)?n[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:r,m:r,mm:r,h:r,hh:r,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:r,M:"miesic",MM:r,y:"rok",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},8303:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"});return e}))},9834:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},4457:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n){var i={ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"},s=" ";return(t%100>=20||t>=100&&t%100===0)&&(s=" de "),t+s+i[n]}var n=t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:e,m:"un minut",mm:e,h:"o or",hh:e,d:"o zi",dd:e,w:"o sptmn",ww:e,M:"o lun",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}});return n}))},2271:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e){var n=t.split("_");return e%10===1&&e%100!==11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,i){var s={ss:n?"__":"__",mm:n?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":t+" "+e(s[i],+t)}var i=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],s=t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,w:"",ww:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}});return s}))},1221:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=["","","","","","","","","","","",""],n=["","","","","","",""],i=t.defineLocale("sd",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}});return i}))},3478:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},7538:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t){return t+" "},meridiemParse:/ | |.|../,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,n){return t>11?n?"..":" ":n?"..":" "}});return e}))},5784:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function i(t){return t>1&&t<5}function s(t,e,n,s){var r=t+" ";switch(n){case"s":return e||s?"pr seknd":"pr sekundami";case"ss":return e||s?r+(i(t)?"sekundy":"seknd"):r+"sekundami";case"m":return e?"minta":s?"mintu":"mintou";case"mm":return e||s?r+(i(t)?"minty":"mint"):r+"mintami";case"h":return e?"hodina":s?"hodinu":"hodinou";case"hh":return e||s?r+(i(t)?"hodiny":"hodn"):r+"hodinami";case"d":return e||s?"de":"dom";case"dd":return e||s?r+(i(t)?"dni":"dn"):r+"dami";case"M":return e||s?"mesiac":"mesiacom";case"MM":return e||s?r+(i(t)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return e||s?"rok":"rokom";case"yy":return e||s?r+(i(t)?"roky":"rokov"):r+"rokmi"}}var r=t.defineLocale("sk",{months:e,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r}))},6637:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e,n,i){var s=t+" ";switch(n){case"s":return e||i?"nekaj sekund":"nekaj sekundami";case"ss":return s+=1===t?e?"sekundo":"sekundi":2===t?e||i?"sekundi":"sekundah":t<5?e||i?"sekunde":"sekundah":"sekund",s;case"m":return e?"ena minuta":"eno minuto";case"mm":return s+=1===t?e?"minuta":"minuto":2===t?e||i?"minuti":"minutama":t<5?e||i?"minute":"minutami":e||i?"minut":"minutami",s;case"h":return e?"ena ura":"eno uro";case"hh":return s+=1===t?e?"ura":"uro":2===t?e||i?"uri":"urama":t<5?e||i?"ure":"urami":e||i?"ur":"urami",s;case"d":return e||i?"en dan":"enim dnem";case"dd":return s+=1===t?e||i?"dan":"dnem":2===t?e||i?"dni":"dnevoma":e||i?"dni":"dnevi",s;case"M":return e||i?"en mesec":"enim mesecem";case"MM":return s+=1===t?e||i?"mesec":"mesecem":2===t?e||i?"meseca":"mesecema":t<5?e||i?"mesece":"meseci":e||i?"mesecev":"meseci",s;case"y":return e||i?"eno leto":"enim letom";case"yy":return s+=1===t?e||i?"leto":"letom":2===t?e||i?"leti":"letoma":t<5?e||i?"leta":"leti":e||i?"let":"leti",s}}var n=t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},6794:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return e}))},3322:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],d:[" "," "],dd:["","",""],M:[" "," "],MM:["","",""],y:[" "," "],yy:["","",""]},correctGrammaticalCase:function(t,e){return t%10>=1&&t%10<=4&&(t%100<10||t%100>=20)?t%10===1?e[0]:e[1]:e[2]},translate:function(t,n,i,s){var r,o=e.words[i];return 1===i.length?"y"===i&&n?" ":s||n?o[0]:o[1]:(r=e.correctGrammaticalCase(t,o),"yy"===i&&n&&""===r?t+" ":t+" "+r)}},n=t.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var t=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return t[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:e.translate,dd:e.translate,M:e.translate,MM:e.translate,y:e.translate,yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},5719:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(t,e){return t%10>=1&&t%10<=4&&(t%100<10||t%100>=20)?t%10===1?e[0]:e[1]:e[2]},translate:function(t,n,i,s){var r,o=e.words[i];return 1===i.length?"y"===i&&n?"jedna godina":s||n?o[0]:o[1]:(r=e.correctGrammaticalCase(t,o),"yy"===i&&n&&"godinu"===r?t+" godina":t+" "+r)}},n=t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var t=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return t[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:e.translate,dd:e.translate,M:e.translate,MM:e.translate,y:e.translate,yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},6e3:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return e}))},1011:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?":e":1===e||2===e?":a":":e";return t+n},week:{dow:1,doy:4}});return e}))},748:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});return e}))},1025:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=t.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||||/,meridiem:function(t,e,n){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e||""===e&&t>=10?t:t+12},week:{dow:0,doy:6}});return i}))},1885:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});return e}))},8861:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n},week:{dow:1,doy:4}});return e}))},6571:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},n=t.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=11?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<11?"":t<16?"":t<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){var n=t%10,i=t>=100?100:null;return t+(e[t]||e[n]||e[i])},week:{dow:1,doy:7}});return n}))},5802:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return e}))},9527:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"},n=t.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'unjy";var i=t%10,s=t%100-i,r=t>=100?100:null;return t+(e[i]||e[s]||e[r])}},week:{dow:1,doy:7}});return n}))},9231:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}});return e}))},1052:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq",e}function i(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret",e}function s(t,e,n,i){var s=r(t);switch(n){case"ss":return s+" lup";case"mm":return s+" tup";case"hh":return s+" rep";case"dd":return s+" jaj";case"MM":return s+" jar";case"yy":return s+" DIS"}}function r(t){var n=Math.floor(t%1e3/100),i=Math.floor(t%100/10),s=t%10,r="";return n>0&&(r+=e[n]+"vatlh"),i>0&&(r+=(""!==r?" ":"")+e[i]+"maH"),s>0&&(r+=(""!==r?" ":"")+e[s]),""===r?"pagh":r}var o=t.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:n,past:i,s:"puS lup",ss:s,m:"wa tup",mm:s,h:"wa rep",hh:s,d:"wa jaj",dd:s,M:"wa jar",MM:s,y:"wa DIS",yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},5096:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},n=t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(t,e,n){return t<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(t){return"s"===t||"S"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'nc";var i=t%10,s=t%100-i,r=t>=100?100:null;return t+(e[i]||e[s]||e[r])}},week:{dow:1,doy:7}});return n}))},9846:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return t>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function n(t,e,n,i){var s={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return i||e?s[n][0]:s[n][1]}return e}))},7711:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return e}))},1765:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return e}))},8414:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(t,e){return 12===t&&(t=0)," "===e||""===e||" "===e?t:" "===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?" ":i<900?"":i<1130?" ":i<1230?"":i<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-";case"w":case"W":return t+"-";default:return t}},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:7}});return e}))},6618:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
function e(t,e){var n=t.split("_");return e%10===1&&e%100!==11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,i){var s={ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":"h"===i?n?"":"":t+" "+e(s[i],+t)}function i(t,e){var n,i={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===t?i["nominative"].slice(1,7).concat(i["nominative"].slice(0,1)):t?(n=/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative",i[n][t.day()]):i["nominative"]}function s(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}var r=t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:s("[ "),nextDay:s("[ "),lastDay:s("[ "),nextWeek:s("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return s("[] dddd [").call(this);case 1:case 2:case 4:return s("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}});return r}))},158:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=["","","","","","","","","","","",""],n=["","","","","","",""],i=t.defineLocale("ur",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}});return i}))},2475:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}});return e}))},7609:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});return e}))},1135:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}});return e}))},4051:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n},week:{dow:1,doy:4}});return e}))},2218:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}});return e}))},2648:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}});return e}))},1632:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1200?"":1200===i?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return e}))},1541:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return e}))},304:function(t,e,n){(function(t,e){e(n(5093))})(0,(function(t){"use strict";
//! moment.js locale configuration
var e=t.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return e}))},5093:function(t,e,n){t=n.nmd(t),function(e,n){t.exports=n()}(0,(function(){"use strict";var e,i;function s(){return e.apply(null,arguments)}function r(t){e=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(l(t,e))return!1;return!0}function c(t){return void 0===t}function d(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function f(t,e){var n,i=[],s=t.length;for(n=0;n<s;++n)i.push(e(t[n],n));return i}function m(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function g(t,e,n,i){return qn(t,e,n,i,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function _(t){return null==t._pf&&(t._pf=p()),t._pf}function y(t){if(null==t._isValid){var e=_(t),n=i.call(e.parsedDateParts,(function(t){return null!=t})),s=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(s=s&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return s;t._isValid=s}return t._isValid}function w(t){var e=g(NaN);return null!=t?m(_(e),t):_(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),i=n.length>>>0;for(e=0;e<i;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var v=s.momentProperties=[],b=!1;function M(t,e){var n,i,s,r=v.length;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=_(e)),c(e._locale)||(t._locale=e._locale),r>0)for(n=0;n<r;n++)i=v[n],s=e[i],c(s)||(t[i]=s);return t}function S(t){M(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,s.updateOffset(this),b=!1)}function C(t){return t instanceof S||null!=t&&null!=t._isAMomentObject}function x(t){!1===s.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(t,e){var n=!0;return m((function(){if(null!=s.deprecationHandler&&s.deprecationHandler(null,t),n){var i,r,o,a=[],h=arguments.length;for(r=0;r<h;r++){if(i="","object"===typeof arguments[r]){for(o in i+="\n["+r+"] ",arguments[0])l(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[r];a.push(i)}x(t+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var k,L={};function E(t,e){null!=s.deprecationHandler&&s.deprecationHandler(t,e),L[t]||(x(e),L[t]=!0)}function R(t){return"undefined"!==typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t){var e,n;for(n in t)l(t,n)&&(e=t[n],R(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(t,e){var n,i=m({},t);for(n in e)l(e,n)&&(a(t[n])&&a(e[n])?(i[n]={},m(i[n],t[n]),m(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)l(t,n)&&!l(e,n)&&a(t[n])&&(i[n]=m({},i[n]));return i}function H(t){null!=t&&this.set(t)}s.suppressDeprecationWarnings=!1,s.deprecationHandler=null,k=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function I(t,e,n){var i=this._calendar[t]||this._calendar["sameElse"];return R(i)?i.call(e,n):i}function O(t,e,n){var i=""+Math.abs(t),s=e-i.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}var Y=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},j={};function W(t,e,n,i){var s=i;"string"===typeof i&&(s=function(){return this[i]()}),t&&(j[t]=s),e&&(j[e[0]]=function(){return O(s.apply(this,arguments),e[1],e[2])}),n&&(j[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function B(t){var e,n,i=t.match(Y);for(e=0,n=i.length;e<n;e++)j[i[e]]?i[e]=j[i[e]]:i[e]=V(i[e]);return function(e){var s,r="";for(s=0;s<n;s++)r+=R(i[s])?i[s].call(e,t):i[s];return r}}function z(t,e){return t.isValid()?(e=U(e,t.localeData()),F[e]=F[e]||B(e),F[e](t)):t.localeData().invalidDate()}function U(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}N.lastIndex=0;while(n>=0&&N.test(t))t=t.replace(N,i),N.lastIndex=0,n-=1;return t}var $={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Y).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var K="Invalid date";function q(){return this._invalidDate}var X="%d",J=/\d{1,2}/;function Z(t){return this._ordinal.replace("%d",t)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tt(t,e,n,i){var s=this._relativeTime[n];return R(s)?s(t,e,n,i):s.replace(/%d/i,t)}function et(t,e){var n=this._relativeTime[t>0?"future":"past"];return R(n)?n(e):n.replace(/%s/i,e)}var nt={};function it(t,e){var n=t.toLowerCase();nt[n]=nt[n+"s"]=nt[e]=t}function st(t){return"string"===typeof t?nt[t]||nt[t.toLowerCase()]:void 0}function rt(t){var e,n,i={};for(n in t)l(t,n)&&(e=st(n),e&&(i[e]=t[n]));return i}var ot={};function at(t,e){ot[t]=e}function lt(t){var e,n=[];for(e in t)l(t,e)&&n.push({unit:e,priority:ot[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}function ht(t){return t%4===0&&t%100!==0||t%400===0}function ct(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function dt(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=ct(e)),n}function ut(t,e){return function(n){return null!=n?(mt(this,t,n),s.updateOffset(this,e),this):ft(this,t)}}function ft(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function mt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&ht(t.year())&&1===t.month()&&29===t.date()?(n=dt(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),te(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function gt(t){return t=st(t),R(this[t])?this[t]():this}function pt(t,e){if("object"===typeof t){t=rt(t);var n,i=lt(t),s=i.length;for(n=0;n<s;n++)this[i[n].unit](t[i[n].unit])}else if(t=st(t),R(this[t]))return this[t](e);return this}var _t,yt=/\d/,wt=/\d\d/,vt=/\d{3}/,bt=/\d{4}/,Mt=/[+-]?\d{6}/,St=/\d\d?/,Ct=/\d\d\d\d?/,xt=/\d\d\d\d\d\d?/,Tt=/\d{1,3}/,kt=/\d{1,4}/,Lt=/[+-]?\d{1,6}/,Et=/\d+/,Rt=/[+-]?\d+/,At=/Z|[+-]\d\d:?\d\d/gi,Dt=/Z|[+-]\d\d(?::?\d\d)?/gi,Ht=/[+-]?\d+(\.\d{1,3})?/,Pt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function It(t,e,n){_t[t]=R(e)?e:function(t,i){return t&&n?n:e}}function Ot(t,e){return l(_t,t)?_t[t](e._strict,e._locale):new RegExp(Yt(t))}function Yt(t){return Nt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,s){return e||n||i||s})))}function Nt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}_t={};var Ft={};function jt(t,e){var n,i,s=e;for("string"===typeof t&&(t=[t]),d(e)&&(s=function(t,n){n[e]=dt(t)}),i=t.length,n=0;n<i;n++)Ft[t[n]]=s}function Wt(t,e){jt(t,(function(t,n,i,s){i._w=i._w||{},e(t,i._w,i,s)}))}function Vt(t,e,n){null!=e&&l(Ft,t)&&Ft[t](e,n._a,n,t)}var Bt,zt=0,Ut=1,$t=2,Gt=3,Kt=4,qt=5,Xt=6,Jt=7,Zt=8;function Qt(t,e){return(t%e+e)%e}function te(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Qt(e,12);return t+=(e-n)/12,1===n?ht(t)?29:28:31-n%7%2}Bt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",(function(){return this.month()+1})),W("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),W("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),it("month","M"),at("month",8),It("M",St),It("MM",St,wt),It("MMM",(function(t,e){return e.monthsShortRegex(t)})),It("MMMM",(function(t,e){return e.monthsRegex(t)})),jt(["M","MM"],(function(t,e){e[Ut]=dt(t)-1})),jt(["MMM","MMMM"],(function(t,e,n,i){var s=n._locale.monthsParse(t,i,n._strict);null!=s?e[Ut]=s:_(n).invalidMonth=t}));var ee="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ne="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ie=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,se=Pt,re=Pt;function oe(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ie).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months["standalone"]}function ae(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ie.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}function le(t,e,n){var i,s,r,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=g([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?(s=Bt.call(this._shortMonthsParse,o),-1!==s?s:null):(s=Bt.call(this._longMonthsParse,o),-1!==s?s:null):"MMM"===e?(s=Bt.call(this._shortMonthsParse,o),-1!==s?s:(s=Bt.call(this._longMonthsParse,o),-1!==s?s:null)):(s=Bt.call(this._longMonthsParse,o),-1!==s?s:(s=Bt.call(this._shortMonthsParse,o),-1!==s?s:null))}function he(t,e,n){var i,s,r;if(this._monthsParseExact)return le.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=g([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ce(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=dt(e);else if(e=t.localeData().monthsParse(e),!d(e))return t;return n=Math.min(t.date(),te(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function de(t){return null!=t?(ce(this,t),s.updateOffset(this,!0),this):ft(this,"Month")}function ue(){return te(this.year(),this.month())}function fe(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ge.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=se),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function me(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ge.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=re),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ge(){function t(t,e){return e.length-t.length}var e,n,i=[],s=[],r=[];for(e=0;e<12;e++)n=g([2e3,e]),i.push(this.monthsShort(n,"")),s.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),s.sort(t),r.sort(t),e=0;e<12;e++)i[e]=Nt(i[e]),s[e]=Nt(s[e]);for(e=0;e<24;e++)r[e]=Nt(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function pe(t){return ht(t)?366:365}W("Y",0,0,(function(){var t=this.year();return t<=9999?O(t,4):"+"+t})),W(0,["YY",2],0,(function(){return this.year()%100})),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),it("year","y"),at("year",1),It("Y",Rt),It("YY",St,wt),It("YYYY",kt,bt),It("YYYYY",Lt,Mt),It("YYYYYY",Lt,Mt),jt(["YYYYY","YYYYYY"],zt),jt("YYYY",(function(t,e){e[zt]=2===t.length?s.parseTwoDigitYear(t):dt(t)})),jt("YY",(function(t,e){e[zt]=s.parseTwoDigitYear(t)})),jt("Y",(function(t,e){e[zt]=parseInt(t,10)})),s.parseTwoDigitYear=function(t){return dt(t)+(dt(t)>68?1900:2e3)};var _e=ut("FullYear",!0);function ye(){return ht(this.year())}function we(t,e,n,i,s,r,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,i,s,r,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,i,s,r,o),a}function ve(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function be(t,e,n){var i=7+e-n,s=(7+ve(t,0,i).getUTCDay()-e)%7;return-s+i-1}function Me(t,e,n,i,s){var r,o,a=(7+n-i)%7,l=be(t,i,s),h=1+7*(e-1)+a+l;return h<=0?(r=t-1,o=pe(r)+h):h>pe(t)?(r=t+1,o=h-pe(t)):(r=t,o=h),{year:r,dayOfYear:o}}function Se(t,e,n){var i,s,r=be(t.year(),e,n),o=Math.floor((t.dayOfYear()-r-1)/7)+1;return o<1?(s=t.year()-1,i=o+Ce(s,e,n)):o>Ce(t.year(),e,n)?(i=o-Ce(t.year(),e,n),s=t.year()+1):(s=t.year(),i=o),{week:i,year:s}}function Ce(t,e,n){var i=be(t,e,n),s=be(t+1,e,n);return(pe(t)-i+s)/7}function xe(t){return Se(t,this._week.dow,this._week.doy).week}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),it("week","w"),it("isoWeek","W"),at("week",5),at("isoWeek",5),It("w",St),It("ww",St,wt),It("W",St),It("WW",St,wt),Wt(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=dt(t)}));var Te={dow:0,doy:6};function ke(){return this._week.dow}function Le(){return this._week.doy}function Ee(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Re(t){var e=Se(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ae(t,e){return"string"!==typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"===typeof t?t:null):parseInt(t,10)}function De(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function He(t,e){return t.slice(e,7).concat(t.slice(0,e))}W("d",0,"do","day"),W("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),W("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),W("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),it("day","d"),it("weekday","e"),it("isoWeekday","E"),at("day",11),at("weekday",11),at("isoWeekday",11),It("d",St),It("e",St),It("E",St),It("dd",(function(t,e){return e.weekdaysMinRegex(t)})),It("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),It("dddd",(function(t,e){return e.weekdaysRegex(t)})),Wt(["dd","ddd","dddd"],(function(t,e,n,i){var s=n._locale.weekdaysParse(t,i,n._strict);null!=s?e.d=s:_(n).invalidWeekday=t})),Wt(["d","e","E"],(function(t,e,n,i){e[i]=dt(t)}));var Pe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ie="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ye=Pt,Ne=Pt,Fe=Pt;function je(t,e){var n=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?He(n,this._week.dow):t?n[t.day()]:n}function We(t){return!0===t?He(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ve(t){return!0===t?He(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Be(t,e,n){var i,s,r,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=g([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?(s=Bt.call(this._weekdaysParse,o),-1!==s?s:null):"ddd"===e?(s=Bt.call(this._shortWeekdaysParse,o),-1!==s?s:null):(s=Bt.call(this._minWeekdaysParse,o),-1!==s?s:null):"dddd"===e?(s=Bt.call(this._weekdaysParse,o),-1!==s?s:(s=Bt.call(this._shortWeekdaysParse,o),-1!==s?s:(s=Bt.call(this._minWeekdaysParse,o),-1!==s?s:null))):"ddd"===e?(s=Bt.call(this._shortWeekdaysParse,o),-1!==s?s:(s=Bt.call(this._weekdaysParse,o),-1!==s?s:(s=Bt.call(this._minWeekdaysParse,o),-1!==s?s:null))):(s=Bt.call(this._minWeekdaysParse,o),-1!==s?s:(s=Bt.call(this._weekdaysParse,o),-1!==s?s:(s=Bt.call(this._shortWeekdaysParse,o),-1!==s?s:null)))}function ze(t,e,n){var i,s,r;if(this._weekdaysParseExact)return Be.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=g([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ue(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ae(t,this.localeData()),this.add(t-e,"d")):e}function $e(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ge(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=De(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ke(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ye),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function qe(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ne),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xe(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Fe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Je(){function t(t,e){return e.length-t.length}var e,n,i,s,r,o=[],a=[],l=[],h=[];for(e=0;e<7;e++)n=g([2e3,1]).day(e),i=Nt(this.weekdaysMin(n,"")),s=Nt(this.weekdaysShort(n,"")),r=Nt(this.weekdays(n,"")),o.push(i),a.push(s),l.push(r),h.push(i),h.push(s),h.push(r);o.sort(t),a.sort(t),l.sort(t),h.sort(t),this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ze(){return this.hours()%12||12}function Qe(){return this.hours()||24}function tn(t,e){W(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function en(t,e){return e._meridiemParse}function nn(t){return"p"===(t+"").toLowerCase().charAt(0)}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Ze),W("k",["kk",2],0,Qe),W("hmm",0,0,(function(){return""+Ze.apply(this)+O(this.minutes(),2)})),W("hmmss",0,0,(function(){return""+Ze.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),W("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),W("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),tn("a",!0),tn("A",!1),it("hour","h"),at("hour",13),It("a",en),It("A",en),It("H",St),It("h",St),It("k",St),It("HH",St,wt),It("hh",St,wt),It("kk",St,wt),It("hmm",Ct),It("hmmss",xt),It("Hmm",Ct),It("Hmmss",xt),jt(["H","HH"],Gt),jt(["k","kk"],(function(t,e,n){var i=dt(t);e[Gt]=24===i?0:i})),jt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),jt(["h","hh"],(function(t,e,n){e[Gt]=dt(t),_(n).bigHour=!0})),jt("hmm",(function(t,e,n){var i=t.length-2;e[Gt]=dt(t.substr(0,i)),e[Kt]=dt(t.substr(i)),_(n).bigHour=!0})),jt("hmmss",(function(t,e,n){var i=t.length-4,s=t.length-2;e[Gt]=dt(t.substr(0,i)),e[Kt]=dt(t.substr(i,2)),e[qt]=dt(t.substr(s)),_(n).bigHour=!0})),jt("Hmm",(function(t,e,n){var i=t.length-2;e[Gt]=dt(t.substr(0,i)),e[Kt]=dt(t.substr(i))})),jt("Hmmss",(function(t,e,n){var i=t.length-4,s=t.length-2;e[Gt]=dt(t.substr(0,i)),e[Kt]=dt(t.substr(i,2)),e[qt]=dt(t.substr(s))}));var sn=/[ap]\.?m?\.?/i,rn=ut("Hours",!0);function on(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var an,ln={calendar:P,longDateFormat:$,invalidDate:K,ordinal:X,dayOfMonthOrdinalParse:J,relativeTime:Q,months:ee,monthsShort:ne,week:Te,weekdays:Pe,weekdaysMin:Oe,weekdaysShort:Ie,meridiemParse:sn},hn={},cn={};function dn(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function un(t){return t?t.toLowerCase().replace("_","-"):t}function fn(t){var e,n,i,s,r=0;while(r<t.length){s=un(t[r]).split("-"),e=s.length,n=un(t[r+1]),n=n?n.split("-"):null;while(e>0){if(i=gn(s.slice(0,e).join("-")),i)return i;if(n&&n.length>=e&&dn(s,n)>=e-1)break;e--}r++}return an}function mn(t){return null!=t.match("^[^/\\\\]*$")}function gn(e){var i=null;if(void 0===hn[e]&&t&&t.exports&&mn(e))try{i=an._abbr,void 0,n(5358)("./"+e),pn(i)}catch(s){hn[e]=null}return hn[e]}function pn(t,e){var n;return t&&(n=c(e)?wn(t):_n(t,e),n?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),an._abbr}function _n(t,e){if(null!==e){var n,i=ln;if(e.abbr=t,null!=hn[t])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=hn[t]._config;else if(null!=e.parentLocale)if(null!=hn[e.parentLocale])i=hn[e.parentLocale]._config;else{if(n=gn(e.parentLocale),null==n)return cn[e.parentLocale]||(cn[e.parentLocale]=[]),cn[e.parentLocale].push({name:t,config:e}),null;i=n._config}return hn[t]=new H(D(i,e)),cn[t]&&cn[t].forEach((function(t){_n(t.name,t.config)})),pn(t),hn[t]}return delete hn[t],null}function yn(t,e){if(null!=e){var n,i,s=ln;null!=hn[t]&&null!=hn[t].parentLocale?hn[t].set(D(hn[t]._config,e)):(i=gn(t),null!=i&&(s=i._config),e=D(s,e),null==i&&(e.abbr=t),n=new H(e),n.parentLocale=hn[t],hn[t]=n),pn(t)}else null!=hn[t]&&(null!=hn[t].parentLocale?(hn[t]=hn[t].parentLocale,t===pn()&&pn(t)):null!=hn[t]&&delete hn[t]);return hn[t]}function wn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return an;if(!o(t)){if(e=gn(t),e)return e;t=[t]}return fn(t)}function vn(){return k(hn)}function bn(t){var e,n=t._a;return n&&-2===_(t).overflow&&(e=n[Ut]<0||n[Ut]>11?Ut:n[$t]<1||n[$t]>te(n[zt],n[Ut])?$t:n[Gt]<0||n[Gt]>24||24===n[Gt]&&(0!==n[Kt]||0!==n[qt]||0!==n[Xt])?Gt:n[Kt]<0||n[Kt]>59?Kt:n[qt]<0||n[qt]>59?qt:n[Xt]<0||n[Xt]>999?Xt:-1,_(t)._overflowDayOfYear&&(e<zt||e>$t)&&(e=$t),_(t)._overflowWeeks&&-1===e&&(e=Jt),_(t)._overflowWeekday&&-1===e&&(e=Zt),_(t).overflow=e),t}var Mn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cn=/Z|[+-]\d\d(?::?\d\d)?/,xn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kn=/^\/?Date\((-?\d+)/i,Ln=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,En={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Rn(t){var e,n,i,s,r,o,a=t._i,l=Mn.exec(a)||Sn.exec(a),h=xn.length,c=Tn.length;if(l){for(_(t).iso=!0,e=0,n=h;e<n;e++)if(xn[e][1].exec(l[1])){s=xn[e][0],i=!1!==xn[e][2];break}if(null==s)return void(t._isValid=!1);if(l[3]){for(e=0,n=c;e<n;e++)if(Tn[e][1].exec(l[3])){r=(l[2]||" ")+Tn[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(l[4]){if(!Cn.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=s+(r||"")+(o||""),Vn(t)}else t._isValid=!1}function An(t,e,n,i,s,r){var o=[Dn(t),ne.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(s,10)];return r&&o.push(parseInt(r,10)),o}function Dn(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Hn(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Pn(t,e,n){if(t){var i=Ie.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(i!==s)return _(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function In(t,e,n){if(t)return En[t];if(e)return 0;var i=parseInt(n,10),s=i%100,r=(i-s)/100;return 60*r+s}function On(t){var e,n=Ln.exec(Hn(t._i));if(n){if(e=An(n[4],n[3],n[2],n[5],n[6],n[7]),!Pn(n[1],e,t))return;t._a=e,t._tzm=In(n[8],n[9],n[10]),t._d=ve.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),_(t).rfc2822=!0}else t._isValid=!1}function Yn(t){var e=kn.exec(t._i);null===e?(Rn(t),!1===t._isValid&&(delete t._isValid,On(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:s.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Nn(t,e,n){return null!=t?t:null!=e?e:n}function Fn(t){var e=new Date(s.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function jn(t){var e,n,i,s,r,o=[];if(!t._d){for(i=Fn(t),t._w&&null==t._a[$t]&&null==t._a[Ut]&&Wn(t),null!=t._dayOfYear&&(r=Nn(t._a[zt],i[zt]),(t._dayOfYear>pe(r)||0===t._dayOfYear)&&(_(t)._overflowDayOfYear=!0),n=ve(r,0,t._dayOfYear),t._a[Ut]=n.getUTCMonth(),t._a[$t]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Gt]&&0===t._a[Kt]&&0===t._a[qt]&&0===t._a[Xt]&&(t._nextDay=!0,t._a[Gt]=0),t._d=(t._useUTC?ve:we).apply(null,o),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Gt]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==s&&(_(t).weekdayMismatch=!0)}}function Wn(t){var e,n,i,s,r,o,a,l,h;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,o=4,n=Nn(e.GG,t._a[zt],Se(Xn(),1,4).year),i=Nn(e.W,1),s=Nn(e.E,1),(s<1||s>7)&&(l=!0)):(r=t._locale._week.dow,o=t._locale._week.doy,h=Se(Xn(),r,o),n=Nn(e.gg,t._a[zt],h.year),i=Nn(e.w,h.week),null!=e.d?(s=e.d,(s<0||s>6)&&(l=!0)):null!=e.e?(s=e.e+r,(e.e<0||e.e>6)&&(l=!0)):s=r),i<1||i>Ce(n,r,o)?_(t)._overflowWeeks=!0:null!=l?_(t)._overflowWeekday=!0:(a=Me(n,i,s,r,o),t._a[zt]=a.year,t._dayOfYear=a.dayOfYear)}function Vn(t){if(t._f!==s.ISO_8601)if(t._f!==s.RFC_2822){t._a=[],_(t).empty=!0;var e,n,i,r,o,a,l,h=""+t._i,c=h.length,d=0;for(i=U(t._f,t._locale).match(Y)||[],l=i.length,e=0;e<l;e++)r=i[e],n=(h.match(Ot(r,t))||[])[0],n&&(o=h.substr(0,h.indexOf(n)),o.length>0&&_(t).unusedInput.push(o),h=h.slice(h.indexOf(n)+n.length),d+=n.length),j[r]?(n?_(t).empty=!1:_(t).unusedTokens.push(r),Vt(r,n,t)):t._strict&&!n&&_(t).unusedTokens.push(r);_(t).charsLeftOver=c-d,h.length>0&&_(t).unusedInput.push(h),t._a[Gt]<=12&&!0===_(t).bigHour&&t._a[Gt]>0&&(_(t).bigHour=void 0),_(t).parsedDateParts=t._a.slice(0),_(t).meridiem=t._meridiem,t._a[Gt]=Bn(t._locale,t._a[Gt],t._meridiem),a=_(t).era,null!==a&&(t._a[zt]=t._locale.erasConvertYear(a,t._a[zt])),jn(t),bn(t)}else On(t);else Rn(t)}function Bn(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function zn(t){var e,n,i,s,r,o,a=!1,l=t._f.length;if(0===l)return _(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<l;s++)r=0,o=!1,e=M({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],Vn(e),y(e)&&(o=!0),r+=_(e).charsLeftOver,r+=10*_(e).unusedTokens.length,_(e).score=r,a?r<i&&(i=r,n=e):(null==i||r<i||o)&&(i=r,n=e,o&&(a=!0));m(t,n||e)}function Un(t){if(!t._d){var e=rt(t._i),n=void 0===e.day?e.date:e.day;t._a=f([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),jn(t)}}function $n(t){var e=new S(bn(Gn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Gn(t){var e=t._i,n=t._f;return t._locale=t._locale||wn(t._l),null===e||void 0===n&&""===e?w({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),C(e)?new S(bn(e)):(u(e)?t._d=e:o(n)?zn(t):n?Vn(t):Kn(t),y(t)||(t._d=null),t))}function Kn(t){var e=t._i;c(e)?t._d=new Date(s.now()):u(e)?t._d=new Date(e.valueOf()):"string"===typeof e?Yn(t):o(e)?(t._a=f(e.slice(0),(function(t){return parseInt(t,10)})),jn(t)):a(e)?Un(t):d(e)?t._d=new Date(e):s.createFromInputFallback(t)}function qn(t,e,n,i,s){var r={};return!0!==e&&!1!==e||(i=e,e=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(a(t)&&h(t)||o(t)&&0===t.length)&&(t=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=n,r._i=t,r._f=e,r._strict=i,$n(r)}function Xn(t,e,n,i){return qn(t,e,n,i,!1)}s.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),s.ISO_8601=function(){},s.RFC_2822=function(){};var Jn=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Xn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:w()})),Zn=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Xn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:w()}));function Qn(t,e){var n,i;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Xn();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function ti(){var t=[].slice.call(arguments,0);return Qn("isBefore",t)}function ei(){var t=[].slice.call(arguments,0);return Qn("isAfter",t)}var ni=function(){return Date.now?Date.now():+new Date},ii=["year","quarter","month","week","day","hour","minute","second","millisecond"];function si(t){var e,n,i=!1,s=ii.length;for(e in t)if(l(t,e)&&(-1===Bt.call(ii,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<s;++n)if(t[ii[n]]){if(i)return!1;parseFloat(t[ii[n]])!==dt(t[ii[n]])&&(i=!0)}return!0}function ri(){return this._isValid}function oi(){return Ei(NaN)}function ai(t){var e=rt(t),n=e.year||0,i=e.quarter||0,s=e.month||0,r=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=si(e),this._milliseconds=+c+1e3*h+6e4*l+1e3*a*60*60,this._days=+o+7*r,this._months=+s+3*i+12*n,this._data={},this._locale=wn(),this._bubble()}function li(t){return t instanceof ai}function hi(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ci(t,e,n){var i,s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(i=0;i<s;i++)(n&&t[i]!==e[i]||!n&&dt(t[i])!==dt(e[i]))&&o++;return o+r}function di(t,e){W(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+O(~~(t/60),2)+e+O(~~t%60,2)}))}di("Z",":"),di("ZZ",""),It("Z",Dt),It("ZZ",Dt),jt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=fi(Dt,t)}));var ui=/([\+\-]|\d\d)/gi;function fi(t,e){var n,i,s,r=(e||"").match(t);return null===r?null:(n=r[r.length-1]||[],i=(n+"").match(ui)||["-",0,0],s=60*i[1]+dt(i[2]),0===s?0:"+"===i[0]?s:-s)}function mi(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(C(t)||u(t)?t.valueOf():Xn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),s.updateOffset(n,!1),n):Xn(t).local()}function gi(t){return-Math.round(t._d.getTimezoneOffset())}function pi(t,e,n){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(t=fi(Dt,t),null===t)return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=gi(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?Pi(this,Ei(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,s.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:gi(this)}function _i(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function yi(t){return this.utcOffset(0,t)}function wi(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(gi(this),"m")),this}function vi(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=fi(At,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function bi(t){return!!this.isValid()&&(t=t?Xn(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Mi(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Si(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t,e={};return M(e,this),e=Gn(e),e._a?(t=e._isUTC?g(e._a):Xn(e._a),this._isDSTShifted=this.isValid()&&ci(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ci(){return!!this.isValid()&&!this._isUTC}function xi(){return!!this.isValid()&&this._isUTC}function Ti(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}s.updateOffset=function(){};var ki=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Li=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ei(t,e){var n,i,s,r=t,o=null;return li(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:d(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(o=ki.exec(t))?(n="-"===o[1]?-1:1,r={y:0,d:dt(o[$t])*n,h:dt(o[Gt])*n,m:dt(o[Kt])*n,s:dt(o[qt])*n,ms:dt(hi(1e3*o[Xt]))*n}):(o=Li.exec(t))?(n="-"===o[1]?-1:1,r={y:Ri(o[2],n),M:Ri(o[3],n),w:Ri(o[4],n),d:Ri(o[5],n),h:Ri(o[6],n),m:Ri(o[7],n),s:Ri(o[8],n)}):null==r?r={}:"object"===typeof r&&("from"in r||"to"in r)&&(s=Di(Xn(r.from),Xn(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),i=new ai(r),li(t)&&l(t,"_locale")&&(i._locale=t._locale),li(t)&&l(t,"_isValid")&&(i._isValid=t._isValid),i}function Ri(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ai(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Di(t,e){var n;return t.isValid()&&e.isValid()?(e=mi(e,t),t.isBefore(e)?n=Ai(t,e):(n=Ai(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Hi(t,e){return function(n,i){var s,r;return null===i||isNaN(+i)||(E(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),s=Ei(n,i),Pi(this,s,t),this}}function Pi(t,e,n,i){var r=e._milliseconds,o=hi(e._days),a=hi(e._months);t.isValid()&&(i=null==i||i,a&&ce(t,ft(t,"Month")+a*n),o&&mt(t,"Date",ft(t,"Date")+o*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&s.updateOffset(t,o||a))}Ei.fn=ai.prototype,Ei.invalid=oi;var Ii=Hi(1,"add"),Oi=Hi(-1,"subtract");function Yi(t){return"string"===typeof t||t instanceof String}function Ni(t){return C(t)||u(t)||Yi(t)||d(t)||ji(t)||Fi(t)||null===t||void 0===t}function Fi(t){var e,n,i=a(t)&&!h(t),s=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o=r.length;for(e=0;e<o;e+=1)n=r[e],s=s||l(t,n);return i&&s}function ji(t){var e=o(t),n=!1;return e&&(n=0===t.filter((function(e){return!d(e)&&Yi(t)})).length),e&&n}function Wi(t){var e,n,i=a(t)&&!h(t),s=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<r.length;e+=1)n=r[e],s=s||l(t,n);return i&&s}function Vi(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Bi(t,e){1===arguments.length&&(arguments[0]?Ni(arguments[0])?(t=arguments[0],e=void 0):Wi(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Xn(),i=mi(n,this).startOf("day"),r=s.calendarFormat(this,i)||"sameElse",o=e&&(R(e[r])?e[r].call(this,n):e[r]);return this.format(o||this.localeData().calendar(r,this,Xn(n)))}function zi(){return new S(this)}function Ui(t,e){var n=C(t)?t:Xn(t);return!(!this.isValid()||!n.isValid())&&(e=st(e)||"millisecond","millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function $i(t,e){var n=C(t)?t:Xn(t);return!(!this.isValid()||!n.isValid())&&(e=st(e)||"millisecond","millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Gi(t,e,n,i){var s=C(t)?t:Xn(t),r=C(e)?e:Xn(e);return!!(this.isValid()&&s.isValid()&&r.isValid())&&(i=i||"()",("("===i[0]?this.isAfter(s,n):!this.isBefore(s,n))&&(")"===i[1]?this.isBefore(r,n):!this.isAfter(r,n)))}function Ki(t,e){var n,i=C(t)?t:Xn(t);return!(!this.isValid()||!i.isValid())&&(e=st(e)||"millisecond","millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function qi(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Xi(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Ji(t,e,n){var i,s,r;if(!this.isValid())return NaN;if(i=mi(t,this),!i.isValid())return NaN;switch(s=6e4*(i.utcOffset()-this.utcOffset()),e=st(e),e){case"year":r=Zi(this,i)/12;break;case"month":r=Zi(this,i);break;case"quarter":r=Zi(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-s)/864e5;break;case"week":r=(this-i-s)/6048e5;break;default:r=this-i}return n?r:ct(r)}function Zi(t,e){if(t.date()<e.date())return-Zi(e,t);var n,i,s=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(s,"months");return e-r<0?(n=t.clone().add(s-1,"months"),i=(e-r)/(r-n)):(n=t.clone().add(s+1,"months"),i=(e-r)/(n-r)),-(s+i)||0}function Qi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ts(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):R(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function es(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,i,s="moment",r="";return this.isLocal()||(s=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),t="["+s+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",i=r+'[")]',this.format(t+e+n+i)}function ns(t){t||(t=this.isUtc()?s.defaultFormatUtc:s.defaultFormat);var e=z(this,t);return this.localeData().postformat(e)}function is(t,e){return this.isValid()&&(C(t)&&t.isValid()||Xn(t).isValid())?Ei({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ss(t){return this.from(Xn(),t)}function rs(t,e){return this.isValid()&&(C(t)&&t.isValid()||Xn(t).isValid())?Ei({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function os(t){return this.to(Xn(),t)}function as(t){var e;return void 0===t?this._locale._abbr:(e=wn(t),null!=e&&(this._locale=e),this)}s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",s.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ls=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function hs(){return this._locale}var cs=1e3,ds=60*cs,us=60*ds,fs=3506328*us;function ms(t,e){return(t%e+e)%e}function gs(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-fs:new Date(t,e,n).valueOf()}function ps(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-fs:Date.UTC(t,e,n)}function _s(t){var e,n;if(t=st(t),void 0===t||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?ps:gs,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ms(e+(this._isUTC?0:this.utcOffset()*ds),us);break;case"minute":e=this._d.valueOf(),e-=ms(e,ds);break;case"second":e=this._d.valueOf(),e-=ms(e,cs);break}return this._d.setTime(e),s.updateOffset(this,!0),this}function ys(t){var e,n;if(t=st(t),void 0===t||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?ps:gs,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=us-ms(e+(this._isUTC?0:this.utcOffset()*ds),us)-1;break;case"minute":e=this._d.valueOf(),e+=ds-ms(e,ds)-1;break;case"second":e=this._d.valueOf(),e+=cs-ms(e,cs)-1;break}return this._d.setTime(e),s.updateOffset(this,!0),this}function ws(){return this._d.valueOf()-6e4*(this._offset||0)}function vs(){return Math.floor(this.valueOf()/1e3)}function bs(){return new Date(this.valueOf())}function Ms(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ss(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Cs(){return this.isValid()?this.toISOString():null}function xs(){return y(this)}function Ts(){return m({},_(this))}function ks(){return _(this).overflow}function Ls(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Es(t,e){var n,i,r,o=this._eras||wn("en")._eras;for(n=0,i=o.length;n<i;++n){switch(typeof o[n].since){case"string":r=s(o[n].since).startOf("day"),o[n].since=r.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":r=s(o[n].until).startOf("day").valueOf(),o[n].until=r.valueOf();break}}return o}function Rs(t,e,n){var i,s,r,o,a,l=this.eras();for(t=t.toUpperCase(),i=0,s=l.length;i<s;++i)if(r=l[i].name.toUpperCase(),o=l[i].abbr.toUpperCase(),a=l[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(o===t)return l[i];break;case"NNNN":if(r===t)return l[i];break;case"NNNNN":if(a===t)return l[i];break}else if([r,o,a].indexOf(t)>=0)return l[i]}function As(t,e){var n=t.since<=t.until?1:-1;return void 0===e?s(t.since).year():s(t.since).year()+(e-t.offset)*n}function Ds(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].name;if(i[t].until<=n&&n<=i[t].since)return i[t].name}return""}function Hs(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].narrow;if(i[t].until<=n&&n<=i[t].since)return i[t].narrow}return""}function Ps(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].abbr;if(i[t].until<=n&&n<=i[t].since)return i[t].abbr}return""}function Is(){var t,e,n,i,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=r[t].since<=r[t].until?1:-1,i=this.clone().startOf("day").valueOf(),r[t].since<=i&&i<=r[t].until||r[t].until<=i&&i<=r[t].since)return(this.year()-s(r[t].since).year())*n+r[t].offset;return this.year()}function Os(t){return l(this,"_erasNameRegex")||Bs.call(this),t?this._erasNameRegex:this._erasRegex}function Ys(t){return l(this,"_erasAbbrRegex")||Bs.call(this),t?this._erasAbbrRegex:this._erasRegex}function Ns(t){return l(this,"_erasNarrowRegex")||Bs.call(this),t?this._erasNarrowRegex:this._erasRegex}function Fs(t,e){return e.erasAbbrRegex(t)}function js(t,e){return e.erasNameRegex(t)}function Ws(t,e){return e.erasNarrowRegex(t)}function Vs(t,e){return e._eraYearOrdinalRegex||Et}function Bs(){var t,e,n=[],i=[],s=[],r=[],o=this.eras();for(t=0,e=o.length;t<e;++t)i.push(Nt(o[t].name)),n.push(Nt(o[t].abbr)),s.push(Nt(o[t].narrow)),r.push(Nt(o[t].name)),r.push(Nt(o[t].abbr)),r.push(Nt(o[t].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function zs(t,e){W(0,[t,t.length],0,e)}function Us(t){return Js.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $s(t){return Js.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Gs(){return Ce(this.year(),1,4)}function Ks(){return Ce(this.isoWeekYear(),1,4)}function qs(){var t=this.localeData()._week;return Ce(this.year(),t.dow,t.doy)}function Xs(){var t=this.localeData()._week;return Ce(this.weekYear(),t.dow,t.doy)}function Js(t,e,n,i,s){var r;return null==t?Se(this,i,s).year:(r=Ce(t,i,s),e>r&&(e=r),Zs.call(this,t,e,n,i,s))}function Zs(t,e,n,i,s){var r=Me(t,e,n,i,s),o=ve(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Qs(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}W("N",0,0,"eraAbbr"),W("NN",0,0,"eraAbbr"),W("NNN",0,0,"eraAbbr"),W("NNNN",0,0,"eraName"),W("NNNNN",0,0,"eraNarrow"),W("y",["y",1],"yo","eraYear"),W("y",["yy",2],0,"eraYear"),W("y",["yyy",3],0,"eraYear"),W("y",["yyyy",4],0,"eraYear"),It("N",Fs),It("NN",Fs),It("NNN",Fs),It("NNNN",js),It("NNNNN",Ws),jt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,i){var s=n._locale.erasParse(t,i,n._strict);s?_(n).era=s:_(n).invalidEra=t})),It("y",Et),It("yy",Et),It("yyy",Et),It("yyyy",Et),It("yo",Vs),jt(["y","yy","yyy","yyyy"],zt),jt(["yo"],(function(t,e,n,i){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[zt]=n._locale.eraYearOrdinalParse(t,s):e[zt]=parseInt(t,10)})),W(0,["gg",2],0,(function(){return this.weekYear()%100})),W(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),zs("gggg","weekYear"),zs("ggggg","weekYear"),zs("GGGG","isoWeekYear"),zs("GGGGG","isoWeekYear"),it("weekYear","gg"),it("isoWeekYear","GG"),at("weekYear",1),at("isoWeekYear",1),It("G",Rt),It("g",Rt),It("GG",St,wt),It("gg",St,wt),It("GGGG",kt,bt),It("gggg",kt,bt),It("GGGGG",Lt,Mt),It("ggggg",Lt,Mt),Wt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=dt(t)})),Wt(["gg","GG"],(function(t,e,n,i){e[i]=s.parseTwoDigitYear(t)})),W("Q",0,"Qo","quarter"),it("quarter","Q"),at("quarter",7),It("Q",yt),jt("Q",(function(t,e){e[Ut]=3*(dt(t)-1)})),W("D",["DD",2],"Do","date"),it("date","D"),at("date",9),It("D",St),It("DD",St,wt),It("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),jt(["D","DD"],$t),jt("Do",(function(t,e){e[$t]=dt(t.match(St)[0])}));var tr=ut("Date",!0);function er(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}W("DDD",["DDDD",3],"DDDo","dayOfYear"),it("dayOfYear","DDD"),at("dayOfYear",4),It("DDD",Tt),It("DDDD",vt),jt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=dt(t)})),W("m",["mm",2],0,"minute"),it("minute","m"),at("minute",14),It("m",St),It("mm",St,wt),jt(["m","mm"],Kt);var nr=ut("Minutes",!1);W("s",["ss",2],0,"second"),it("second","s"),at("second",15),It("s",St),It("ss",St,wt),jt(["s","ss"],qt);var ir,sr,rr=ut("Seconds",!1);for(W("S",0,0,(function(){return~~(this.millisecond()/100)})),W(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),W(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),W(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),W(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),W(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),W(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),it("millisecond","ms"),at("millisecond",16),It("S",Tt,yt),It("SS",Tt,wt),It("SSS",Tt,vt),ir="SSSS";ir.length<=9;ir+="S")It(ir,Et);function or(t,e){e[Xt]=dt(1e3*("0."+t))}for(ir="S";ir.length<=9;ir+="S")jt(ir,or);function ar(){return this._isUTC?"UTC":""}function lr(){return this._isUTC?"Coordinated Universal Time":""}sr=ut("Milliseconds",!1),W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var hr=S.prototype;function cr(t){return Xn(1e3*t)}function dr(){return Xn.apply(null,arguments).parseZone()}function ur(t){return t}hr.add=Ii,hr.calendar=Bi,hr.clone=zi,hr.diff=Ji,hr.endOf=ys,hr.format=ns,hr.from=is,hr.fromNow=ss,hr.to=rs,hr.toNow=os,hr.get=gt,hr.invalidAt=ks,hr.isAfter=Ui,hr.isBefore=$i,hr.isBetween=Gi,hr.isSame=Ki,hr.isSameOrAfter=qi,hr.isSameOrBefore=Xi,hr.isValid=xs,hr.lang=ls,hr.locale=as,hr.localeData=hs,hr.max=Zn,hr.min=Jn,hr.parsingFlags=Ts,hr.set=pt,hr.startOf=_s,hr.subtract=Oi,hr.toArray=Ms,hr.toObject=Ss,hr.toDate=bs,hr.toISOString=ts,hr.inspect=es,"undefined"!==typeof Symbol&&null!=Symbol.for&&(hr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),hr.toJSON=Cs,hr.toString=Qi,hr.unix=vs,hr.valueOf=ws,hr.creationData=Ls,hr.eraName=Ds,hr.eraNarrow=Hs,hr.eraAbbr=Ps,hr.eraYear=Is,hr.year=_e,hr.isLeapYear=ye,hr.weekYear=Us,hr.isoWeekYear=$s,hr.quarter=hr.quarters=Qs,hr.month=de,hr.daysInMonth=ue,hr.week=hr.weeks=Ee,hr.isoWeek=hr.isoWeeks=Re,hr.weeksInYear=qs,hr.weeksInWeekYear=Xs,hr.isoWeeksInYear=Gs,hr.isoWeeksInISOWeekYear=Ks,hr.date=tr,hr.day=hr.days=Ue,hr.weekday=$e,hr.isoWeekday=Ge,hr.dayOfYear=er,hr.hour=hr.hours=rn,hr.minute=hr.minutes=nr,hr.second=hr.seconds=rr,hr.millisecond=hr.milliseconds=sr,hr.utcOffset=pi,hr.utc=yi,hr.local=wi,hr.parseZone=vi,hr.hasAlignedHourOffset=bi,hr.isDST=Mi,hr.isLocal=Ci,hr.isUtcOffset=xi,hr.isUtc=Ti,hr.isUTC=Ti,hr.zoneAbbr=ar,hr.zoneName=lr,hr.dates=T("dates accessor is deprecated. Use date instead.",tr),hr.months=T("months accessor is deprecated. Use month instead",de),hr.years=T("years accessor is deprecated. Use year instead",_e),hr.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_i),hr.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Si);var fr=H.prototype;function mr(t,e,n,i){var s=wn(),r=g().set(i,e);return s[n](r,t)}function gr(t,e,n){if(d(t)&&(e=t,t=void 0),t=t||"",null!=e)return mr(t,e,n,"month");var i,s=[];for(i=0;i<12;i++)s[i]=mr(t,i,n,"month");return s}function pr(t,e,n,i){"boolean"===typeof t?(d(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,d(e)&&(n=e,e=void 0),e=e||"");var s,r=wn(),o=t?r._week.dow:0,a=[];if(null!=n)return mr(e,(n+o)%7,i,"day");for(s=0;s<7;s++)a[s]=mr(e,(s+o)%7,i,"day");return a}function _r(t,e){return gr(t,e,"months")}function yr(t,e){return gr(t,e,"monthsShort")}function wr(t,e,n){return pr(t,e,n,"weekdays")}function vr(t,e,n){return pr(t,e,n,"weekdaysShort")}function br(t,e,n){return pr(t,e,n,"weekdaysMin")}fr.calendar=I,fr.longDateFormat=G,fr.invalidDate=q,fr.ordinal=Z,fr.preparse=ur,fr.postformat=ur,fr.relativeTime=tt,fr.pastFuture=et,fr.set=A,fr.eras=Es,fr.erasParse=Rs,fr.erasConvertYear=As,fr.erasAbbrRegex=Ys,fr.erasNameRegex=Os,fr.erasNarrowRegex=Ns,fr.months=oe,fr.monthsShort=ae,fr.monthsParse=he,fr.monthsRegex=me,fr.monthsShortRegex=fe,fr.week=xe,fr.firstDayOfYear=Le,fr.firstDayOfWeek=ke,fr.weekdays=je,fr.weekdaysMin=Ve,fr.weekdaysShort=We,fr.weekdaysParse=ze,fr.weekdaysRegex=Ke,fr.weekdaysShortRegex=qe,fr.weekdaysMinRegex=Xe,fr.isPM=nn,fr.meridiem=on,pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===dt(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),s.lang=T("moment.lang is deprecated. Use moment.locale instead.",pn),s.langData=T("moment.langData is deprecated. Use moment.localeData instead.",wn);var Mr=Math.abs;function Sr(){var t=this._data;return this._milliseconds=Mr(this._milliseconds),this._days=Mr(this._days),this._months=Mr(this._months),t.milliseconds=Mr(t.milliseconds),t.seconds=Mr(t.seconds),t.minutes=Mr(t.minutes),t.hours=Mr(t.hours),t.months=Mr(t.months),t.years=Mr(t.years),this}function Cr(t,e,n,i){var s=Ei(e,n);return t._milliseconds+=i*s._milliseconds,t._days+=i*s._days,t._months+=i*s._months,t._bubble()}function xr(t,e){return Cr(this,t,e,1)}function Tr(t,e){return Cr(this,t,e,-1)}function kr(t){return t<0?Math.floor(t):Math.ceil(t)}function Lr(){var t,e,n,i,s,r=this._milliseconds,o=this._days,a=this._months,l=this._data;return r>=0&&o>=0&&a>=0||r<=0&&o<=0&&a<=0||(r+=864e5*kr(Rr(a)+o),o=0,a=0),l.milliseconds=r%1e3,t=ct(r/1e3),l.seconds=t%60,e=ct(t/60),l.minutes=e%60,n=ct(e/60),l.hours=n%24,o+=ct(n/24),s=ct(Er(o)),a+=s,o-=kr(Rr(s)),i=ct(a/12),a%=12,l.days=o,l.months=a,l.years=i,this}function Er(t){return 4800*t/146097}function Rr(t){return 146097*t/4800}function Ar(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if(t=st(t),"month"===t||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+Er(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Rr(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Dr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*dt(this._months/12):NaN}function Hr(t){return function(){return this.as(t)}}var Pr=Hr("ms"),Ir=Hr("s"),Or=Hr("m"),Yr=Hr("h"),Nr=Hr("d"),Fr=Hr("w"),jr=Hr("M"),Wr=Hr("Q"),Vr=Hr("y");function Br(){return Ei(this)}function zr(t){return t=st(t),this.isValid()?this[t+"s"]():NaN}function Ur(t){return function(){return this.isValid()?this._data[t]:NaN}}var $r=Ur("milliseconds"),Gr=Ur("seconds"),Kr=Ur("minutes"),qr=Ur("hours"),Xr=Ur("days"),Jr=Ur("months"),Zr=Ur("years");function Qr(){return ct(this.days()/7)}var to=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function no(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}function io(t,e,n,i){var s=Ei(t).abs(),r=to(s.as("s")),o=to(s.as("m")),a=to(s.as("h")),l=to(s.as("d")),h=to(s.as("M")),c=to(s.as("w")),d=to(s.as("y")),u=r<=n.ss&&["s",r]||r<n.s&&["ss",r]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(u=u||c<=1&&["w"]||c<n.w&&["ww",c]),u=u||h<=1&&["M"]||h<n.M&&["MM",h]||d<=1&&["y"]||["yy",d],u[2]=e,u[3]=+t>0,u[4]=i,no.apply(null,u)}function so(t){return void 0===t?to:"function"===typeof t&&(to=t,!0)}function ro(t,e){return void 0!==eo[t]&&(void 0===e?eo[t]:(eo[t]=e,"s"===t&&(eo.ss=e-1),!0))}function oo(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,i,s=!1,r=eo;return"object"===typeof t&&(e=t,t=!1),"boolean"===typeof t&&(s=t),"object"===typeof e&&(r=Object.assign({},eo,e),null!=e.s&&null==e.ss&&(r.ss=e.s-1)),n=this.localeData(),i=io(this,!s,r,n),s&&(i=n.pastFuture(+this,i)),n.postformat(i)}var ao=Math.abs;function lo(t){return(t>0)-(t<0)||+t}function ho(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i,s,r,o,a,l=ao(this._milliseconds)/1e3,h=ao(this._days),c=ao(this._months),d=this.asSeconds();return d?(t=ct(l/60),e=ct(t/60),l%=60,t%=60,n=ct(c/12),c%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",s=d<0?"-":"",r=lo(this._months)!==lo(d)?"-":"",o=lo(this._days)!==lo(d)?"-":"",a=lo(this._milliseconds)!==lo(d)?"-":"",s+"P"+(n?r+n+"Y":"")+(c?r+c+"M":"")+(h?o+h+"D":"")+(e||t||l?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(l?a+i+"S":"")):"P0D"}var co=ai.prototype;return co.isValid=ri,co.abs=Sr,co.add=xr,co.subtract=Tr,co.as=Ar,co.asMilliseconds=Pr,co.asSeconds=Ir,co.asMinutes=Or,co.asHours=Yr,co.asDays=Nr,co.asWeeks=Fr,co.asMonths=jr,co.asQuarters=Wr,co.asYears=Vr,co.valueOf=Dr,co._bubble=Lr,co.clone=Br,co.get=zr,co.milliseconds=$r,co.seconds=Gr,co.minutes=Kr,co.hours=qr,co.days=Xr,co.weeks=Qr,co.months=Jr,co.years=Zr,co.humanize=oo,co.toISOString=ho,co.toString=ho,co.toJSON=ho,co.locale=as,co.localeData=hs,co.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ho),co.lang=ls,W("X",0,0,"unix"),W("x",0,0,"valueOf"),It("x",Rt),It("X",Ht),jt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),jt("x",(function(t,e,n){n._d=new Date(dt(t))})),
//! moment.js
s.version="2.29.4",r(Xn),s.fn=hr,s.min=ti,s.max=ei,s.now=ni,s.utc=g,s.unix=cr,s.months=_r,s.isDate=u,s.locale=pn,s.invalid=w,s.duration=Ei,s.isMoment=C,s.weekdays=wr,s.parseZone=dr,s.localeData=wn,s.isDuration=li,s.monthsShort=yr,s.weekdaysMin=br,s.defineLocale=_n,s.updateLocale=yn,s.locales=vn,s.weekdaysShort=vr,s.normalizeUnits=st,s.relativeTimeRounding=so,s.relativeTimeThreshold=ro,s.calendarFormat=Vi,s.prototype=hr,s.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},s}))},8646:function(t){!function(e){t.exports=e()}((function(){return function t(e,n,i){function s(o,a){if(!n[o]){if(!e[o]){var l=void 0;if(!a&&l)return require(o,!0);if(r)return r(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[o]={exports:{}};e[o][0].call(c.exports,(function(t){return s(e[o][1][t]||t)}),c,c.exports,t,e,n,i)}return n[o].exports}for(var r=void 0,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(t,e,n){!function(t){"use strict";var n,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,r=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,h=14,c=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],u=1e7,f=1e9;function m(t){var e=0|t;return 0<t||t===e?e:e-1}function g(t){for(var e,n,i=1,s=t.length,r=t[0]+"";i<s;){for(e=t[i++]+"",n=h-e.length;n--;e="0"+e);r+=e}for(s=r.length;48===r.charCodeAt(--s););return r.slice(0,s+1||1)}function p(t,e){var n,i,s=t.c,r=e.c,o=t.s,a=e.s,l=t.e,h=e.e;if(!o||!a)return null;if(n=s&&!s[0],i=r&&!r[0],n||i)return n?i?0:-a:o;if(o!=a)return o;if(n=o<0,i=l==h,!s||!r)return i?0:!s^n?1:-1;if(!i)return h<l^n?1:-1;for(a=(l=s.length)<(h=r.length)?l:h,o=0;o<a;o++)if(s[o]!=r[o])return s[o]>r[o]^n?1:-1;return l==h?0:h<l^n?1:-1}function _(t,e,n,i){if(t<e||n<t||t!==(t<0?s(t):r(t)))throw Error(o+(i||"Argument")+("number"==typeof t?t<e||n<t?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function y(t){var e=t.c.length-1;return m(t.e/h)==e&&t.c[e]%2!=0}function w(t,e){return(1<t.length?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function v(t,e,n){var i,s;if(e<0){for(s=n+".";++e;s+=n);t=s+t}else if(++e>(i=t.length)){for(s=n,e-=i;--e;s+=n);t+=s}else e<i&&(t=t.slice(0,e)+"."+t.slice(e));return t}(n=function t(e){var n,b,M,S,C,x,T,k,L,E,R=B.prototype={constructor:B,toString:null,valueOf:null},A=new B(1),D=20,H=4,P=-7,I=21,O=-1e7,Y=1e7,N=!1,F=1,j=0,W={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},V="0123456789abcdefghijklmnopqrstuvwxyz";function B(t,e){var n,s,o,l,d,u,f,m,g=this;if(!(g instanceof B))return new B(t,e);if(null==e){if(t instanceof B)return g.s=t.s,g.e=t.e,void(g.c=(t=t.c)?t.slice():t);if((u="number"==typeof t)&&0*t==0){if(g.s=1/t<0?(t=-t,-1):1,t===~~t){for(l=0,d=t;10<=d;d/=10,l++);return g.e=l,void(g.c=[t])}m=String(t)}else{if(m=String(t),!i.test(m))return M(g,m,u);g.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}-1<(l=m.indexOf("."))&&(m=m.replace(".","")),0<(d=m.search(/e/i))?(l<0&&(l=d),l+=+m.slice(d+1),m=m.substring(0,d)):l<0&&(l=m.length)}else{if(_(e,2,V.length,"Base"),m=String(t),10==e)return G(g=new B(t instanceof B?t:m),D+g.e+1,H);if(u="number"==typeof t){if(0*t!=0)return M(g,m,u,e);if(g.s=1/t<0?(m=m.slice(1),-1):1,B.DEBUG&&15<m.replace(/^0\.0*|\./,"").length)throw Error(a+t);u=!1}else g.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(n=V.slice(0,e),l=d=0,f=m.length;d<f;d++)if(n.indexOf(s=m.charAt(d))<0){if("."==s){if(l<d){l=f;continue}}else if(!o&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){o=!0,d=-1,l=0;continue}return M(g,String(t),u,e)}-1<(l=(m=b(m,e,10,g.s)).indexOf("."))?m=m.replace(".",""):l=m.length}for(d=0;48===m.charCodeAt(d);d++);for(f=m.length;48===m.charCodeAt(--f););if(m=m.slice(d,++f)){if(f-=d,u&&B.DEBUG&&15<f&&(c<t||t!==r(t)))throw Error(a+g.s*t);if(Y<(l=l-d-1))g.c=g.e=null;else if(l<O)g.c=[g.e=0];else{if(g.e=l,g.c=[],d=(l+1)%h,l<0&&(d+=h),d<f){for(d&&g.c.push(+m.slice(0,d)),f-=h;d<f;)g.c.push(+m.slice(d,d+=h));m=m.slice(d),d=h-m.length}else d-=f;for(;d--;m+="0");g.c.push(+m)}}else g.c=[g.e=0]}function z(t,e,n,i){var s,r,o,a,l;if(null==n?n=H:_(n,0,8),!t.c)return t.toString();if(s=t.c[0],o=t.e,null==e)l=g(t.c),l=1==i||2==i&&(o<=P||I<=o)?w(l,o):v(l,o,"0");else if(r=(t=G(new B(t),e,n)).e,a=(l=g(t.c)).length,1==i||2==i&&(e<=r||r<=P)){for(;a<e;l+="0",a++);l=w(l,r)}else if(e-=o,l=v(l,r,"0"),a<r+1){if(0<--e)for(l+=".";e--;l+="0");}else if(0<(e+=r-a))for(r+1==a&&(l+=".");e--;l+="0");return t.s<0&&s?"-"+l:l}function U(t,e){for(var n,i=1,s=new B(t[0]);i<t.length;i++){if(!(n=new B(t[i])).s){s=n;break}e.call(s,n)&&(s=n)}return s}function $(t,e,n){for(var i=1,s=e.length;!e[--s];e.pop());for(s=e[0];10<=s;s/=10,i++);return(n=i+n*h-1)>Y?t.c=t.e=null:t.c=n<O?[t.e=0]:(t.e=n,e),t}function G(t,e,n,i){var o,a,c,u,f,m,g,p=t.c,_=d;if(p){t:{for(o=1,u=p[0];10<=u;u/=10,o++);if((a=e-o)<0)a+=h,c=e,g=(f=p[m=0])/_[o-c-1]%10|0;else if((m=s((a+1)/h))>=p.length){if(!i)break t;for(;p.length<=m;p.push(0));f=g=0,c=(a%=h)-h+(o=1)}else{for(f=u=p[m],o=1;10<=u;u/=10,o++);g=(c=(a%=h)-h+o)<0?0:f/_[o-c-1]%10|0}if(i=i||e<0||null!=p[m+1]||(c<0?f:f%_[o-c-1]),i=n<4?(g||i)&&(0==n||n==(t.s<0?3:2)):5<g||5==g&&(4==n||i||6==n&&(0<a?0<c?f/_[o-c]:0:p[m-1])%10&1||n==(t.s<0?8:7)),e<1||!p[0])return p.length=0,i?(e-=t.e+1,p[0]=_[(h-e%h)%h],t.e=-e||0):p[0]=t.e=0,t;if(0==a?(p.length=m,u=1,m--):(p.length=m+1,u=_[h-a],p[m]=0<c?r(f/_[o-c]%_[c])*u:0),i)for(;;){if(0==m){for(a=1,c=p[0];10<=c;c/=10,a++);for(c=p[0]+=u,u=1;10<=c;c/=10,u++);a!=u&&(t.e++,p[0]==l&&(p[0]=1));break}if(p[m]+=u,p[m]!=l)break;p[m--]=0,u=1}for(a=p.length;0===p[--a];p.pop());}t.e>Y?t.c=t.e=null:t.e<O&&(t.c=[t.e=0])}return t}function K(t){var e,n=t.e;return null===n?t.toString():(e=g(t.c),e=n<=P||I<=n?w(e,n):v(e,n,"0"),t.s<0?"-"+e:e)}return B.clone=t,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(o+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(_(n=t[e],0,f,e),D=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(_(n=t[e],0,8,e),H=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((n=t[e])&&n.pop?(_(n[0],-f,0,e),_(n[1],0,f,e),P=n[0],I=n[1]):(_(n,-f,f,e),P=-(I=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if((n=t[e])&&n.pop)_(n[0],-f,-1,e),_(n[1],1,f,e),O=n[0],Y=n[1];else{if(_(n,-f,f,e),!n)throw Error(o+e+" cannot be zero: "+n);O=-(Y=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(o+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw N=!n,Error(o+"crypto unavailable");N=n}else N=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(_(n=t[e],0,9,e),F=n),t.hasOwnProperty(e="POW_PRECISION")&&(_(n=t[e],0,f,e),j=n),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(n=t[e]))throw Error(o+e+" not an object: "+n);W=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(o+e+" invalid: "+n);V=n}}return{DECIMAL_PLACES:D,ROUNDING_MODE:H,EXPONENTIAL_AT:[P,I],RANGE:[O,Y],CRYPTO:N,MODULO_MODE:F,POW_PRECISION:j,FORMAT:W,ALPHABET:V}},B.isBigNumber=function(t){return t instanceof B||t&&!0===t._isBigNumber||!1},B.maximum=B.max=function(){return U(arguments,R.lt)},B.minimum=B.min=function(){return U(arguments,R.gt)},B.random=(S=9007199254740992,C=Math.random()*S&2097151?function(){return r(Math.random()*S)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,i,a,l,c=0,u=[],m=new B(A);if(null==t?t=D:_(t,0,f),a=s(t/h),N)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(a*=2));c<a;)9e15<=(l=131072*e[c]+(e[c+1]>>>11))?(n=crypto.getRandomValues(new Uint32Array(2)),e[c]=n[0],e[c+1]=n[1]):(u.push(l%1e14),c+=2);c=a/2}else{if(!crypto.randomBytes)throw N=!1,Error(o+"crypto unavailable");for(e=crypto.randomBytes(a*=7);c<a;)9e15<=(l=281474976710656*(31&e[c])+1099511627776*e[c+1]+4294967296*e[c+2]+16777216*e[c+3]+(e[c+4]<<16)+(e[c+5]<<8)+e[c+6])?crypto.randomBytes(7).copy(e,c):(u.push(l%1e14),c+=7);c=a/7}if(!N)for(;c<a;)(l=C())<9e15&&(u[c++]=l%1e14);for(a=u[--c],t%=h,a&&t&&(l=d[h-t],u[c]=r(a/l)*l);0===u[c];u.pop(),c--);if(c<0)u=[i=0];else{for(i=-1;0===u[0];u.splice(0,1),i-=h);for(c=1,l=u[0];10<=l;l/=10,c++);c<h&&(i-=h-c)}return m.e=i,m.c=u,m}),B.sum=function(){for(var t=1,e=arguments,n=new B(e[0]);t<e.length;)n=n.plus(e[t++]);return n},b=function(){var t="0123456789";function e(t,e,n,i){for(var s,r,o=[0],a=0,l=t.length;a<l;){for(r=o.length;r--;o[r]*=e);for(o[0]+=i.indexOf(t.charAt(a++)),s=0;s<o.length;s++)o[s]>n-1&&(null==o[s+1]&&(o[s+1]=0),o[s+1]+=o[s]/n|0,o[s]%=n)}return o.reverse()}return function(i,s,r,o,a){var l,h,c,d,u,f,m,p,_=i.indexOf("."),y=D,w=H;for(0<=_&&(d=j,j=0,i=i.replace(".",""),f=(p=new B(s)).pow(i.length-_),j=d,p.c=e(v(g(f.c),f.e,"0"),10,r,t),p.e=p.c.length),c=d=(m=e(i,s,r,a?(l=V,t):(l=t,V))).length;0==m[--d];m.pop());if(!m[0])return l.charAt(0);if(_<0?--c:(f.c=m,f.e=c,f.s=o,m=(f=n(f,p,y,w,r)).c,u=f.r,c=f.e),_=m[h=c+y+1],d=r/2,u=u||h<0||null!=m[h+1],u=w<4?(null!=_||u)&&(0==w||w==(f.s<0?3:2)):d<_||_==d&&(4==w||u||6==w&&1&m[h-1]||w==(f.s<0?8:7)),h<1||!m[0])i=u?v(l.charAt(1),-y,l.charAt(0)):l.charAt(0);else{if(m.length=h,u)for(--r;++m[--h]>r;)m[h]=0,h||(++c,m=[1].concat(m));for(d=m.length;!m[--d];);for(_=0,i="";_<=d;i+=l.charAt(m[_++]));i=v(i,c,l.charAt(0))}return i}}(),n=function(){function t(t,e,n){var i,s,r,o,a=0,l=t.length,h=e%u,c=e/u|0;for(t=t.slice();l--;)a=((s=h*(r=t[l]%u)+(i=c*r+(o=t[l]/u|0)*h)%u*u+a)/n|0)+(i/u|0)+c*o,t[l]=s%n;return a&&(t=[a].concat(t)),t}function e(t,e,n,i){var s,r;if(n!=i)r=i<n?1:-1;else for(s=r=0;s<n;s++)if(t[s]!=e[s]){r=t[s]>e[s]?1:-1;break}return r}function n(t,e,n,i){for(var s=0;n--;)t[n]-=s,s=t[n]<e[n]?1:0,t[n]=s*i+t[n]-e[n];for(;!t[0]&&1<t.length;t.splice(0,1));}return function(i,s,o,a,c){var d,u,f,g,p,_,y,w,v,b,M,S,C,x,T,k,L,E=i.s==s.s?1:-1,R=i.c,A=s.c;if(!(R&&R[0]&&A&&A[0]))return new B(i.s&&s.s&&(R?!A||R[0]!=A[0]:A)?R&&0==R[0]||!A?0*E:E/0:NaN);for(v=(w=new B(E)).c=[],E=o+(u=i.e-s.e)+1,c||(c=l,u=m(i.e/h)-m(s.e/h),E=E/h|0),f=0;A[f]==(R[f]||0);f++);if(A[f]>(R[f]||0)&&u--,E<0)v.push(1),g=!0;else{for(x=R.length,k=A.length,E+=2,1<(p=r(c/(A[f=0]+1)))&&(A=t(A,p,c),R=t(R,p,c),k=A.length,x=R.length),C=k,M=(b=R.slice(0,k)).length;M<k;b[M++]=0);L=A.slice(),L=[0].concat(L),T=A[0],A[1]>=c/2&&T++;do{if(p=0,(d=e(A,b,k,M))<0){if(S=b[0],k!=M&&(S=S*c+(b[1]||0)),1<(p=r(S/T)))for(c<=p&&(p=c-1),y=(_=t(A,p,c)).length,M=b.length;1==e(_,b,y,M);)p--,n(_,k<y?L:A,y,c),y=_.length,d=1;else 0==p&&(d=p=1),y=(_=A.slice()).length;if(y<M&&(_=[0].concat(_)),n(b,_,M,c),M=b.length,-1==d)for(;e(A,b,k,M)<1;)p++,n(b,k<M?L:A,M,c),M=b.length}else 0===d&&(p++,b=[0]);v[f++]=p,b[0]?b[M++]=R[C]||0:(b=[R[C]],M=1)}while((C++<x||null!=b[0])&&E--);g=null!=b[0],v[0]||v.splice(0,1)}if(c==l){for(f=1,E=v[0];10<=E;E/=10,f++);G(w,o+(w.e=f+u*h-1)+1,a,g)}else w.e=u,w.r=+g;return w}}(),x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,k=/^\.([^.]+)$/,L=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g,M=function(t,e,n,i){var s,r=n?e:e.replace(E,"");if(L.test(r))t.s=isNaN(r)?null:r<0?-1:1,t.c=t.e=null;else{if(!n&&(r=r.replace(x,(function(t,e,n){return s="x"==(n=n.toLowerCase())?16:"b"==n?2:8,i&&i!=s?t:e})),i&&(s=i,r=r.replace(T,"$1").replace(k,"0.$1")),e!=r))return new B(r,s);if(B.DEBUG)throw Error(o+"Not a"+(i?" base "+i:"")+" number: "+e);t.c=t.e=t.s=null}},R.absoluteValue=R.abs=function(){var t=new B(this);return t.s<0&&(t.s=1),t},R.comparedTo=function(t,e){return p(this,new B(t,e))},R.decimalPlaces=R.dp=function(t,e){var n,i,s;if(null!=t)return _(t,0,f),null==e?e=H:_(e,0,8),G(new B(this),t+this.e+1,e);if(!(n=this.c))return null;if(i=((s=n.length-1)-m(this.e/h))*h,s=n[s])for(;s%10==0;s/=10,i--);return i<0&&(i=0),i},R.dividedBy=R.div=function(t,e){return n(this,new B(t,e),D,H)},R.dividedToIntegerBy=R.idiv=function(t,e){return n(this,new B(t,e),0,1)},R.exponentiatedBy=R.pow=function(t,e){var n,i,a,l,c,d,u,f,m=this;if((t=new B(t)).c&&!t.isInteger())throw Error(o+"Exponent not an integer: "+K(t));if(null!=e&&(e=new B(e)),c=14<t.e,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!t.c||!t.c[0])return f=new B(Math.pow(+K(m),c?2-y(t):+K(t))),e?f.mod(e):f;if(d=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new B(NaN);(i=!d&&m.isInteger()&&e.isInteger())&&(m=m.mod(e))}else{if(9<t.e&&(0<m.e||m.e<-1||(0==m.e?1<m.c[0]||c&&24e7<=m.c[1]:m.c[0]<8e13||c&&m.c[0]<=9999975e7)))return l=m.s<0&&y(t)?-0:0,-1<m.e&&(l=1/l),new B(d?1/l:l);j&&(l=s(j/h+2))}for(u=c?(n=new B(.5),d&&(t.s=1),y(t)):(a=Math.abs(+K(t)))%2,f=new B(A);;){if(u){if(!(f=f.times(m)).c)break;l?f.c.length>l&&(f.c.length=l):i&&(f=f.mod(e))}if(a){if(0===(a=r(a/2)))break;u=a%2}else if(G(t=t.times(n),t.e+1,1),14<t.e)u=y(t);else{if(0==(a=+K(t)))break;u=a%2}m=m.times(m),l?m.c&&m.c.length>l&&(m.c.length=l):i&&(m=m.mod(e))}return i?f:(d&&(f=A.div(f)),e?f.mod(e):l?G(f,j,H,void 0):f)},R.integerValue=function(t){var e=new B(this);return null==t?t=H:_(t,0,8),G(e,e.e+1,t)},R.isEqualTo=R.eq=function(t,e){return 0===p(this,new B(t,e))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(t,e){return 0<p(this,new B(t,e))},R.isGreaterThanOrEqualTo=R.gte=function(t,e){return 1===(e=p(this,new B(t,e)))||0===e},R.isInteger=function(){return!!this.c&&m(this.e/h)>this.c.length-2},R.isLessThan=R.lt=function(t,e){return p(this,new B(t,e))<0},R.isLessThanOrEqualTo=R.lte=function(t,e){return-1===(e=p(this,new B(t,e)))||0===e},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return 0<this.s},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(t,e){var n,i,s,r,o=this,a=o.s;if(e=(t=new B(t,e)).s,!a||!e)return new B(NaN);if(a!=e)return t.s=-e,o.plus(t);var c=o.e/h,d=t.e/h,u=o.c,f=t.c;if(!c||!d){if(!u||!f)return u?(t.s=-e,t):new B(f?o:NaN);if(!u[0]||!f[0])return f[0]?(t.s=-e,t):new B(u[0]?o:3==H?-0:0)}if(c=m(c),d=m(d),u=u.slice(),a=c-d){for((s=(r=a<0)?(a=-a,u):(d=c,f)).reverse(),e=a;e--;s.push(0));s.reverse()}else for(i=(r=(a=u.length)<(e=f.length))?a:e,a=e=0;e<i;e++)if(u[e]!=f[e]){r=u[e]<f[e];break}if(r&&(s=u,u=f,f=s,t.s=-t.s),0<(e=(i=f.length)-(n=u.length)))for(;e--;u[n++]=0);for(e=l-1;a<i;){if(u[--i]<f[i]){for(n=i;n&&!u[--n];u[n]=e);--u[n],u[i]+=l}u[i]-=f[i]}for(;0==u[0];u.splice(0,1),--d);return u[0]?$(t,u,d):(t.s=3==H?-1:1,t.c=[t.e=0],t)},R.modulo=R.mod=function(t,e){var i,s,r=this;return t=new B(t,e),!r.c||!t.s||t.c&&!t.c[0]?new B(NaN):!t.c||r.c&&!r.c[0]?new B(r):(9==F?(s=t.s,t.s=1,i=n(r,t,0,3),t.s=s,i.s*=s):i=n(r,t,0,F),(t=r.minus(i.times(t))).c[0]||1!=F||(t.s=r.s),t)},R.multipliedBy=R.times=function(t,e){var n,i,s,r,o,a,c,d,f,g,p,_,y,w,v,b=this,M=b.c,S=(t=new B(t,e)).c;if(!(M&&S&&M[0]&&S[0]))return!b.s||!t.s||M&&!M[0]&&!S||S&&!S[0]&&!M?t.c=t.e=t.s=null:(t.s*=b.s,M&&S?(t.c=[0],t.e=0):t.c=t.e=null),t;for(i=m(b.e/h)+m(t.e/h),t.s*=b.s,(c=M.length)<(g=S.length)&&(y=M,M=S,S=y,s=c,c=g,g=s),s=c+g,y=[];s--;y.push(0));for(w=l,v=u,s=g;0<=--s;){for(n=0,p=S[s]%v,_=S[s]/v|0,r=s+(o=c);s<r;)n=((d=p*(d=M[--o]%v)+(a=_*d+(f=M[o]/v|0)*p)%v*v+y[r]+n)/w|0)+(a/v|0)+_*f,y[r--]=d%w;y[r]=n}return n?++i:y.splice(0,1),$(t,y,i)},R.negated=function(){var t=new B(this);return t.s=-t.s||null,t},R.plus=function(t,e){var n,i=this,s=i.s;if(e=(t=new B(t,e)).s,!s||!e)return new B(NaN);if(s!=e)return t.s=-e,i.minus(t);var r=i.e/h,o=t.e/h,a=i.c,c=t.c;if(!r||!o){if(!a||!c)return new B(s/0);if(!a[0]||!c[0])return c[0]?t:new B(a[0]?i:0*s)}if(r=m(r),o=m(o),a=a.slice(),s=r-o){for((n=0<s?(o=r,c):(s=-s,a)).reverse();s--;n.push(0));n.reverse()}for((s=a.length)-(e=c.length)<0&&(n=c,c=a,a=n,e=s),s=0;e;)s=(a[--e]=a[e]+c[e]+s)/l|0,a[e]=l===a[e]?0:a[e]%l;return s&&(a=[s].concat(a),++o),$(t,a,o)},R.precision=R.sd=function(t,e){var n,i,s;if(null!=t&&t!==!!t)return _(t,1,f),null==e?e=H:_(e,0,8),G(new B(this),t,e);if(!(n=this.c))return null;if(i=(s=n.length-1)*h+1,s=n[s]){for(;s%10==0;s/=10,i--);for(s=n[0];10<=s;s/=10,i++);}return t&&this.e+1>i&&(i=this.e+1),i},R.shiftedBy=function(t){return _(t,-c,c),this.times("1e"+t)},R.squareRoot=R.sqrt=function(){var t,e,i,s,r,o=this,a=o.c,l=o.s,h=o.e,c=D+4,d=new B("0.5");if(1!==l||!a||!a[0])return new B(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);if((i=0==(l=Math.sqrt(+K(o)))||l==1/0?(((e=g(a)).length+h)%2==0&&(e+="0"),l=Math.sqrt(+e),h=m((h+1)/2)-(h<0||h%2),new B(e=l==1/0?"1e"+h:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+h)):new B(l+"")).c[0])for((l=(h=i.e)+c)<3&&(l=0);;)if(r=i,i=d.times(r.plus(n(o,r,c,1))),g(r.c).slice(0,l)===(e=g(i.c)).slice(0,l)){if(i.e<h&&--l,"9999"!=(e=e.slice(l-3,l+1))&&(s||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(G(i,i.e+D+2,1),t=!i.times(i).eq(o));break}if(!s&&(G(r,r.e+D+2,0),r.times(r).eq(o))){i=r;break}c+=4,l+=4,s=1}return G(i,i.e+D+1,H,t)},R.toExponential=function(t,e){return null!=t&&(_(t,0,f),t++),z(this,t,e,1)},R.toFixed=function(t,e){return null!=t&&(_(t,0,f),t=t+this.e+1),z(this,t,e)},R.toFormat=function(t,e,n){var i;if(null==n)null!=t&&e&&"object"==typeof e?(n=e,e=null):t&&"object"==typeof t?(n=t,t=e=null):n=W;else if("object"!=typeof n)throw Error(o+"Argument not an object: "+n);if(i=this.toFixed(t,e),this.c){var s,r=i.split("."),a=+n.groupSize,l=+n.secondaryGroupSize,h=n.groupSeparator||"",c=r[0],d=r[1],u=this.s<0,f=u?c.slice(1):c,m=f.length;if(l&&(s=a,a=l,m-=l=s),0<a&&0<m){for(s=m%a||a,c=f.substr(0,s);s<m;s+=a)c+=h+f.substr(s,a);0<l&&(c+=h+f.slice(s)),u&&(c="-"+c)}i=d?c+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):c}return(n.prefix||"")+i+(n.suffix||"")},R.toFraction=function(t){var e,i,s,r,a,l,c,u,f,m,p,_,y=this,w=y.c;if(null!=t&&(!(c=new B(t)).isInteger()&&(c.c||1!==c.s)||c.lt(A)))throw Error(o+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+K(c));if(!w)return new B(y);for(e=new B(A),f=i=new B(A),s=u=new B(A),_=g(w),a=e.e=_.length-y.e-1,e.c[0]=d[(l=a%h)<0?h+l:l],t=!t||0<c.comparedTo(e)?0<a?e:f:c,l=Y,Y=1/0,c=new B(_),u.c[0]=0;m=n(c,e,0,1),1!=(r=i.plus(m.times(s))).comparedTo(t);)i=s,s=r,f=u.plus(m.times(r=f)),u=r,e=c.minus(m.times(r=e)),c=r;return r=n(t.minus(i),s,0,1),u=u.plus(r.times(f)),i=i.plus(r.times(s)),u.s=f.s=y.s,p=n(f,s,a*=2,H).minus(y).abs().comparedTo(n(u,i,a,H).minus(y).abs())<1?[f,s]:[u,i],Y=l,p},R.toNumber=function(){return+K(this)},R.toPrecision=function(t,e){return null!=t&&_(t,1,f),z(this,t,e,2)},R.toString=function(t){var e,n=this,i=n.s,s=n.e;return null===s?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(e=null==t?s<=P||I<=s?w(g(n.c),s):v(g(n.c),s,"0"):10===t?v(g((n=G(new B(n),D+s+1,H)).c),n.e,"0"):(_(t,2,V.length,"Base"),b(v(g(n.c),s,"0"),10,t,i,!0)),i<0&&n.c[0]&&(e="-"+e)),e},R.valueOf=R.toJSON=function(){return K(this)},R._isBigNumber=!0,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(R[Symbol.toStringTag]="BigNumber",R[Symbol.for("nodejs.util.inspect.custom")]=R.valueOf),null!=e&&B.set(e),B}()).default=n.BigNumber=n,void 0!==e&&e.exports?e.exports=n:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=n)}(this)},{}],2:[function(t,e,n){"use strict";e.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(t,e,n){"use strict";function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){s=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=t("./globalState"),r=t("./validating"),o=t("./parsing"),a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l={general:{scale:1024,suffixes:a,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:a,marker:"d"}},h={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function c(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if("string"==typeof e&&(e=o.parseFormat(e)),!r.validateFormat(e))return"ERROR: invalid format";var i=e.prefix||"",a=e.postfix||"",c=function(t,e,n){switch(e.output){case"currency":return e=g(e,s.currentCurrencyDefaultFormat()),function(t,e,n){var i=n.currentCurrency(),s=Object.assign({},h,e),r=void 0,o="",a=!!s.totalLength||!!s.forceAverage||s.average,l=e.currencyPosition||i.position,c=e.currencySymbol||i.symbol;s.spaceSeparated&&(o=" "),"infix"===l&&(r=o+c+o);var d=m({instance:t,providedFormat:e,state:n,decimalSeparator:r});return"prefix"===l&&(d=t._value<0&&"sign"===s.negative?"-".concat(o).concat(c).concat(d.slice(1)):c+o+d),l&&"postfix"!==l||(d=d+(o=a?"":o)+c),d}(t,e,s);case"percent":return e=g(e,s.currentPercentageDefaultFormat()),function(t,e,n,i){var s=e.prefixSymbol,r=m({instance:i(100*t._value),providedFormat:e,state:n}),o=Object.assign({},h,e);return s?"%".concat(o.spaceSeparated?" ":"").concat(r):"".concat(r).concat(o.spaceSeparated?" ":"","%")}(t,e,s,n);case"byte":return e=g(e,s.currentByteDefaultFormat()),v=t,M=s,S=n,C=(b=e).base||"binary",x=l[C],T=d(v._value,x.suffixes,x.scale),k=T.value,L=T.suffix,E=m({instance:S(k),providedFormat:b,state:M,defaults:M.currentByteDefaultFormat()}),R=M.currentAbbreviations(),"".concat(E).concat(R.spaced?" ":"").concat(L);case"time":return e=g(e,s.currentTimeDefaultFormat()),p=t,_=Math.floor(p._value/60/60),y=Math.floor((p._value-60*_*60)/60),w=Math.round(p._value-60*_*60-60*y),"".concat(_,":").concat(y<10?"0":"").concat(y,":").concat(w<10?"0":"").concat(w);case"ordinal":return e=g(e,s.currentOrdinalDefaultFormat()),i=t,r=e,a=(o=s).currentOrdinal(),c=Object.assign({},h,r),u=m({instance:i,providedFormat:r,state:o}),f=a(i._value),"".concat(u).concat(c.spaceSeparated?" ":"").concat(f);case"number":default:return m({instance:t,providedFormat:e,numbro:n})}var i,r,o,a,c,u,f,p,_,y,w,v,b,M,S,C,x,T,k,L,E,R}(t,e,n);return(c=i+c)+a}function d(t,e,n){var i=e[0],s=Math.abs(t);if(n<=s){for(var r=1;r<e.length;++r){var o=Math.pow(n,r),a=Math.pow(n,r+1);if(o<=s&&s<a){i=e[r],t/=o;break}}i===e[0]&&(t/=Math.pow(n,e.length-1),i=e[e.length-1])}return{value:t,suffix:i}}function u(t){for(var e="",n=0;n<t;n++)e+="0";return e}function f(t,e){return-1!==t.toString().indexOf("e")?function(t,e){var n=t.toString(),s=i(n.split("e"),2),r=s[0],o=s[1],a=i(r.split("."),2),l=a[0],h=a[1],c=void 0===h?"":h;if(0<+o)n=l+c+u(o-c.length);else{var d=".";d=+l<0?"-0".concat(d):"0".concat(d);var f=(u(-o-1)+Math.abs(l)+c).substr(0,e);f.length<e&&(f+=u(e-f.length)),n=d+f}return 0<+o&&0<e&&(n+=".".concat(u(e))),n}(t,e):(Math.round(+"".concat(t,"e+").concat(e))/Math.pow(10,e)).toFixed(e)}function m(t){var e=t.instance,n=t.providedFormat,r=t.state,o=void 0===r?s:r,a=t.decimalSeparator,l=t.defaults,c=void 0===l?o.currentDefaults():l,d=e._value;if(0===d&&o.hasZeroFormat())return o.getZeroFormat();if(!isFinite(d))return d.toString();var u,m,g,p,_,y,w,v,b=Object.assign({},h,c,n),M=b.totalLength,S=M?0:b.characteristic,C=b.optionalCharacteristic,x=b.forceAverage,T=!!M||!!x||b.average,k=M?-1:T&&void 0===n.mantissa?0:b.mantissa,L=!M&&(void 0===n.optionalMantissa?-1===k:b.optionalMantissa),E=b.trimMantissa,R=b.thousandSeparated,A=b.spaceSeparated,D=b.negative,H=b.forceSign,P=b.exponential,I="";if(T){var O=function(t){var e=t.value,n=t.forceAverage,i=t.abbreviations,s=t.spaceSeparated,r=void 0!==s&&s,o=t.totalLength,a=void 0===o?0:o,l="",h=Math.abs(e),c=-1;if(h>=Math.pow(10,12)&&!n||"trillion"===n?(l=i.trillion,e/=Math.pow(10,12)):h<Math.pow(10,12)&&h>=Math.pow(10,9)&&!n||"billion"===n?(l=i.billion,e/=Math.pow(10,9)):h<Math.pow(10,9)&&h>=Math.pow(10,6)&&!n||"million"===n?(l=i.million,e/=Math.pow(10,6)):(h<Math.pow(10,6)&&h>=Math.pow(10,3)&&!n||"thousand"===n)&&(l=i.thousand,e/=Math.pow(10,3)),l&&(l=(r?" ":"")+l),a){var d=e.toString().split(".")[0];c=Math.max(a-d.length,0)}return{value:e,abbreviation:l,mantissaPrecision:c}}({value:d,forceAverage:x,abbreviations:o.currentAbbreviations(),spaceSeparated:A,totalLength:M});d=O.value,I+=O.abbreviation,M&&(k=O.mantissaPrecision)}if(P){var Y=(m=(u={value:d,characteristicPrecision:S}).value,g=u.characteristicPrecision,p=void 0===g?0:g,_=i(m.toExponential().split("e"),2),y=_[0],w=_[1],v=+y,p&&1<p&&(v*=Math.pow(10,p-1),w=0<=(w=+w-(p-1))?"+".concat(w):w),{value:v,abbreviation:"e".concat(w)});d=Y.value,I=Y.abbreviation+I}var N,F,j,W=function(t,e,n,s,r){if(-1===s)return t;var o=f(e,s),a=i(o.toString().split("."),2),l=a[0],h=a[1],c=void 0===h?"":h;if(c.match(/^0+$/)&&(n||r))return l;var d=c.match(/0+$/);return r&&d?"".concat(l,".").concat(c.toString().slice(0,d.index)):o.toString()}(d.toString(),d,L,k,E);return W=function(t,e,n,i,s){var r=i.currentDelimiters(),o=r.thousands;s=s||r.decimal;var a=r.thousandsSize||3,l=t.toString(),h=l.split(".")[0],c=l.split(".")[1];return n&&(e<0&&(h=h.slice(1)),function(t,e){for(var n=[],i=0,s=t;0<s;s--)i===e&&(n.unshift(s),i=0),i++;return n}(h.length,a).forEach((function(t,e){h=h.slice(0,t+e)+o+h.slice(t+e)})),e<0&&(h="-".concat(h))),c?h+s+c:h}(W=function(t,e,n,s){var r=t,o=i(r.toString().split("."),2),a=o[0],l=o[1];if(a.match(/^-?0$/)&&n)return l?"".concat(a.replace("0",""),".").concat(l):a.replace("0","");if(a.length<s)for(var h=s-a.length,c=0;c<h;c++)r="0".concat(r);return r.toString()}(W,0,C,S),d,R,o,a),(T||P)&&(W+=I),(H||d<0)&&(N=W,j=D,W=0===(F=d)?N:0==+N?N.replace("-",""):0<F?"+".concat(N):"sign"===j?N:"(".concat(N.replace("-",""),")")),W}function g(t,e){if(!t)return e;var n=Object.keys(t);return 1===n.length&&"output"===n[0]?e:t}e.exports=function(t){return{format:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return c.apply(void 0,n.concat([t]))},getByteUnit:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(t){var e=l.general;return d(t._value,e.suffixes,e.scale).suffix}.apply(void 0,n.concat([t]))},getBinaryByteUnit:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(t){var e=l.binary;return d(t._value,e.suffixes,e.scale).suffix}.apply(void 0,n.concat([t]))},getDecimalByteUnit:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(t){var e=l.decimal;return d(t._value,e.suffixes,e.scale).suffix}.apply(void 0,n.concat([t]))},formatOrDefault:g}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(t,e,n){"use strict";var i=t("./en-US"),s=t("./validating"),r=t("./parsing"),o={},a=void 0,l={},h=null,c={};function d(t){a=t}function u(){return l[a]}o.languages=function(){return Object.assign({},l)},o.currentLanguage=function(){return a},o.currentCurrency=function(){return u().currency},o.currentAbbreviations=function(){return u().abbreviations},o.currentDelimiters=function(){return u().delimiters},o.currentOrdinal=function(){return u().ordinal},o.currentDefaults=function(){return Object.assign({},u().defaults,c)},o.currentOrdinalDefaultFormat=function(){return Object.assign({},o.currentDefaults(),u().ordinalFormat)},o.currentByteDefaultFormat=function(){return Object.assign({},o.currentDefaults(),u().byteFormat)},o.currentPercentageDefaultFormat=function(){return Object.assign({},o.currentDefaults(),u().percentageFormat)},o.currentCurrencyDefaultFormat=function(){return Object.assign({},o.currentDefaults(),u().currencyFormat)},o.currentTimeDefaultFormat=function(){return Object.assign({},o.currentDefaults(),u().timeFormat)},o.setDefaults=function(t){t=r.parseFormat(t),s.validateFormat(t)&&(c=t)},o.getZeroFormat=function(){return h},o.setZeroFormat=function(t){return h="string"==typeof t?t:null},o.hasZeroFormat=function(){return null!==h},o.languageData=function(t){if(t){if(l[t])return l[t];throw new Error('Unknown tag "'.concat(t,'"'))}return u()},o.registerLanguage=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!s.validateLanguage(t))throw new Error("Invalid language data");l[t.languageTag]=t,e&&d(t.languageTag)},o.setLanguage=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.languageTag;if(!l[t]){var n=t.split("-")[0],s=Object.keys(l).find((function(t){return t.split("-")[0]===n}));return l[s]?void d(s):void d(e)}d(t)},o.registerLanguage(i),a=i.languageTag,e.exports=o},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(t,e,n){"use strict";e.exports=function(e){return{loadLanguagesInNode:function(n){return i=e,void n.forEach((function(e){var n=void 0;try{n=t("../languages/".concat(e))}catch(n){console.error('Unable to load "'.concat(e,'". No matching language file found.'))}n&&i.registerLanguage(n)}));var i}}}},{}],6:[function(t,e,n){"use strict";var i=t("bignumber.js");function s(t,e,n){var s=new i(t._value),r=e;return n.isNumbro(e)&&(r=e._value),r=new i(r),t._value=s.minus(r).toNumber(),t}e.exports=function(t){return{add:function(e,n){return r=n,o=t,a=new i((s=e)._value),l=r,o.isNumbro(r)&&(l=r._value),l=new i(l),s._value=a.plus(l).toNumber(),s;var s,r,o,a,l},subtract:function(e,n){return s(e,n,t)},multiply:function(e,n){return r=n,o=t,a=new i((s=e)._value),l=r,o.isNumbro(r)&&(l=r._value),l=new i(l),s._value=a.times(l).toNumber(),s;var s,r,o,a,l},divide:function(e,n){return r=n,o=t,a=new i((s=e)._value),l=r,o.isNumbro(r)&&(l=r._value),l=new i(l),s._value=a.dividedBy(l).toNumber(),s;var s,r,o,a,l},set:function(e,n){return i=e,r=s=n,t.isNumbro(s)&&(r=s._value),i._value=r,i;var i,s,r},difference:function(e,n){return i=n,s(o=(r=t)(e._value),i,r),Math.abs(o._value);var i,r,o}}}},{"bignumber.js":1}],7:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=t("./globalState"),r=t("./validating"),o=t("./loading")(f),a=t("./unformatting"),l=t("./formatting")(f),h=t("./manipulating")(f),c=t("./parsing"),d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._value=e}var e,n,r;return e=t,(n=[{key:"clone",value:function(){return f(this._value)}},{key:"format",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return l.format(this,t)}},{key:"formatCurrency",value:function(t){return"string"==typeof t&&(t=c.parseFormat(t)),(t=l.formatOrDefault(t,s.currentCurrencyDefaultFormat())).output="currency",l.format(this,t)}},{key:"formatTime",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.output="time",l.format(this,t)}},{key:"binaryByteUnits",value:function(){return l.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return l.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return l.getByteUnit(this)}},{key:"difference",value:function(t){return h.difference(this,t)}},{key:"add",value:function(t){return h.add(this,t)}},{key:"subtract",value:function(t){return h.subtract(this,t)}},{key:"multiply",value:function(t){return h.multiply(this,t)}},{key:"divide",value:function(t){return h.divide(this,t)}},{key:"set",value:function(t){return h.set(this,u(t))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&i(e.prototype,n),r&&i(e,r),t}();function u(t){var e=t;return f.isNumbro(t)?e=t._value:"string"==typeof t?e=f.unformat(t):isNaN(t)&&(e=NaN),e}function f(t){return new d(u(t))}f.version="2.1.2",f.isNumbro=function(t){return t instanceof d},f.language=s.currentLanguage,f.registerLanguage=s.registerLanguage,f.setLanguage=s.setLanguage,f.languages=s.languages,f.languageData=s.languageData,f.zeroFormat=s.setZeroFormat,f.defaultFormat=s.currentDefaults,f.setDefaults=s.setDefaults,f.defaultCurrencyFormat=s.currentCurrencyDefaultFormat,f.validate=r.validate,f.loadLanguagesInNode=o.loadLanguagesInNode,f.unformat=a.unformat,e.exports=f},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(t,e,n){"use strict";e.exports={parseFormat:function(t){var e,n,i,s,r,o,a,l,h,c,d,u,f,m,g,p,_,y,w,v,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof t?t:(n=b,t=(i=(e=t).match(/^{([^}]*)}/))?(n.prefix=i[1],e.slice(i[0].length)):e,r=b,function(t,e){if(-1===t.indexOf("$")){if(-1===t.indexOf("%"))return-1!==t.indexOf("bd")?(e.output="byte",e.base="general"):-1!==t.indexOf("b")?(e.output="byte",e.base="binary"):-1!==t.indexOf("d")?(e.output="byte",e.base="decimal"):-1===t.indexOf(":")?-1!==t.indexOf("o")&&(e.output="ordinal"):e.output="time";e.output="percent"}else e.output="currency"}(t=(o=(s=t).match(/{([^}]*)}$/))?(r.postfix=o[1],s.slice(0,-o[0].length)):s,b),a=b,(l=t.match(/[1-9]+[0-9]*/))&&(a.totalLength=+l[0]),h=b,(c=t.split(".")[0].match(/0+/))&&(h.characteristic=c[0].length),function(t,e){if(-1!==t.indexOf(".")){var n=t.split(".")[0];e.optionalCharacteristic=-1===n.indexOf("0")}}(t,b),d=b,-1!==t.indexOf("a")&&(d.average=!0),f=b,-1!==(u=t).indexOf("K")?f.forceAverage="thousand":-1!==u.indexOf("M")?f.forceAverage="million":-1!==u.indexOf("B")?f.forceAverage="billion":-1!==u.indexOf("T")&&(f.forceAverage="trillion"),function(t,e){var n=t.split(".")[1];if(n){var i=n.match(/0+/);i&&(e.mantissa=i[0].length)}}(t,b),g=b,(m=t).match(/\[\.]/)?g.optionalMantissa=!0:m.match(/\./)&&(g.optionalMantissa=!1),p=b,-1!==t.indexOf(",")&&(p.thousandSeparated=!0),_=b,-1!==t.indexOf(" ")&&(_.spaceSeparated=!0),w=b,(y=t).match(/^\+?\([^)]*\)$/)&&(w.negative="parenthesis"),y.match(/^\+?-/)&&(w.negative="sign"),v=b,t.match(/^\+/)&&(v.forceSign=!0),b)}}},{}],9:[function(t,e,n){"use strict";var i=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function s(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function r(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0,a=5<arguments.length?arguments[5]:void 0,l=6<arguments.length?arguments[6]:void 0;if(""!==t)return t===o?0:function t(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0,l=5<arguments.length?arguments[5]:void 0,h=6<arguments.length?arguments[6]:void 0;if(!isNaN(+e))return+e;var c="",d=e.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(d!==e)return-1*t(d,n,r,o,a,l,h);for(var u=0;u<i.length;u++){var f=i[u];if((c=e.replace(f.key,""))!==e)return t(c,n,r,o,a,l,h)*f.factor}if((c=e.replace("%",""))!==e)return t(c,n,r,o,a,l,h)/100;var m=parseFloat(e);if(!isNaN(m)){var g=o(m);if(g&&"."!==g&&(c=e.replace(new RegExp("".concat(s(g),"$")),""))!==e)return t(c,n,r,o,a,l,h);var p={};Object.keys(l).forEach((function(t){p[l[t]]=t}));for(var _=Object.keys(p).sort().reverse(),y=_.length,w=0;w<y;w++){var v=_[w],b=p[v];if((c=e.replace(v,""))!==e){var M=void 0;switch(b){case"thousand":M=Math.pow(10,3);break;case"million":M=Math.pow(10,6);break;case"billion":M=Math.pow(10,9);break;case"trillion":M=Math.pow(10,12)}return t(c,n,r,o,a,l,h)*M}}}}(function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=t.replace(n,"");return(i=i.replace(new RegExp("([0-9])".concat(s(e.thousands),"([0-9])"),"g"),"$1$2")).replace(e.decimal,".")}(t,e,n),e,n,r,o,a,l)}e.exports={unformat:function(e,n){var i,s,o,a=t("./globalState"),l=a.currentDelimiters(),h=a.currentCurrency().symbol,c=a.currentOrdinal(),d=a.getZeroFormat(),u=a.currentAbbreviations(),f=void 0;if("string"==typeof e)f=function(t,e){if(!t.indexOf(":")||":"===e.thousands)return!1;var n=t.split(":");if(3!==n.length)return!1;var i=+n[0],s=+n[1],r=+n[2];return!isNaN(i)&&!isNaN(s)&&!isNaN(r)}(e,l)?(i=e.split(":"),s=+i[0],o=+i[1],+i[2]+60*o+3600*s):r(e,l,h,c,d,u,n);else{if("number"!=typeof e)return;f=e}if(void 0!==f)return f}}},{"./globalState":4}],10:[function(t,e,n){"use strict";function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=t("./unformatting"),o=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,a={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(t,e){return"byte"===e.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(t){return"byte"===t.output}},characteristic:{type:"number",restriction:function(t){return 0<=t},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(t){return 0<=t},message:"value must be positive"},{restriction:function(t,e){return!e.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(t){return 0<=t},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(t,e){return"percent"===e.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},l={languageTag:{type:"string",mandatory:!0,restriction:function(t){return t.match(o)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function h(t){return!!r.unformat(t)}function c(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=Object.keys(t).map((function(i){if(!e[i])return console.error("".concat(n," Invalid key: ").concat(i)),!1;var r=t[i],o=e[i];if("string"==typeof o&&(o={type:o}),"format"===o.type){if(!c(r,a,"[Validate ".concat(i,"]"),!0))return!1}else if(s(r)!==o.type)return console.error("".concat(n," ").concat(i,' type mismatched: "').concat(o.type,'" expected, "').concat(s(r),'" provided')),!1;if(o.restrictions&&o.restrictions.length)for(var l=o.restrictions.length,h=0;h<l;h++){var d=o.restrictions[h],u=d.restriction,f=d.message;if(!u(r,t))return console.error("".concat(n," ").concat(i," invalid value: ").concat(f)),!1}return o.restriction&&!o.restriction(r,t)?(console.error("".concat(n," ").concat(i," invalid value: ").concat(o.message)),!1):o.validValues&&-1===o.validValues.indexOf(r)?(console.error("".concat(n," ").concat(i," invalid value: must be among ").concat(JSON.stringify(o.validValues),', "').concat(r,'" provided')),!1):!(o.children&&!c(r,o.children,"[Validate ".concat(i,"]")))}));return r||o.push.apply(o,i(Object.keys(e).map((function(i){var s=e[i];if("string"==typeof s&&(s={type:s}),s.mandatory){var r=s.mandatory;if("function"==typeof r&&(r=r(t)),r&&void 0===t[i])return console.error("".concat(n,' Missing mandatory key "').concat(i,'"')),!1}return!0})))),o.reduce((function(t,e){return t&&e}),!0)}function d(t){return c(t,a,"[Validate format]")}e.exports={validate:function(t,e){var n=h(t),i=d(e);return n&&i},validateFormat:d,validateInput:h,validateLanguage:function(t){return c(t,l,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)}))},4809:function(t,e){var n,i,s;
/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/!function(r,o){i=[],n=o,s="function"===typeof n?n.apply(e,i):n,void 0===s||(t.exports=s)}(0,(function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,i=e.IS_PAPA_WORKER||!1,s={},r=0,o={parse:function(n,i){var a=(i=i||{}).dynamicTyping||!1;if(b(a)&&(i.dynamicTypingFunction=a,a={}),i.dynamicTyping=a,i.transform=!!b(i.transform)&&i.transform,i.worker&&o.WORKERS_SUPPORTED){var l=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,i,a=(n=e.URL||e.webkitURL||null,i=t.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))),l=new e.Worker(a);return l.onmessage=p,l.id=r++,s[l.id]=l}();return l.userStep=i.step,l.userChunk=i.chunk,l.userComplete=i.complete,l.userError=i.error,i.step=b(i.step),i.chunk=b(i.chunk),i.complete=b(i.complete),i.error=b(i.error),delete i.worker,void l.postMessage({input:n,config:i,workerId:l.id})}var f=null;return o.NODE_STREAM_INPUT,"string"==typeof n?(n=function(t){return 65279===t.charCodeAt(0)?t.slice(1):t}(n),f=i.download?new h(i):new d(i)):!0===n.readable&&b(n.read)&&b(n.on)?f=new u(i):(e.File&&n instanceof File||n instanceof Object)&&(f=new c(i)),f.stream(n)},unparse:function(t,e){var n=!1,i=!0,s=",",r="\r\n",a='"',l=a+a,h=!1,c=null,d=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||o.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(s=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(h=e.skipEmptyLines),"string"==typeof e.newline&&(r=e.newline),"string"==typeof e.quoteChar&&(a=e.quoteChar),"boolean"==typeof e.header&&(i=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");c=e.columns}void 0!==e.escapeChar&&(l=e.escapeChar+a),("boolean"==typeof e.escapeFormulae||e.escapeFormulae instanceof RegExp)&&(d=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var u=new RegExp(m(a),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return f(null,t,h);if("object"==typeof t[0])return f(c||Object.keys(t[0]),t,h)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||c),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:"object"==typeof t.data[0]?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),f(t.fields||[],t.data||[],h);throw new Error("Unable to serialize unrecognized input");function f(t,e,n){var o="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,l=!Array.isArray(e[0]);if(a&&i){for(var h=0;h<t.length;h++)0<h&&(o+=s),o+=g(t[h],h);0<e.length&&(o+=r)}for(var c=0;c<e.length;c++){var d=a?t.length:e[c].length,u=!1,f=a?0===Object.keys(e[c]).length:0===e[c].length;if(n&&!a&&(u="greedy"===n?""===e[c].join("").trim():1===e[c].length&&0===e[c][0].length),"greedy"===n&&a){for(var m=[],p=0;p<d;p++){var _=l?t[p]:p;m.push(e[c][_])}u=""===m.join("").trim()}if(!u){for(var y=0;y<d;y++){0<y&&!f&&(o+=s);var w=a&&l?t[y]:y;o+=g(e[c][w],y)}c<e.length-1&&(!n||0<d&&!f)&&(o+=r)}}return o}function g(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var i=!1;d&&"string"==typeof t&&d.test(t)&&(t="'"+t,i=!0);var r=t.toString().replace(u,l);return(i=i||!0===n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(r,o.BAD_DELIMITERS)||-1<r.indexOf(s)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?a+r+a:r}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!e.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=g,o.ParserHandle=f,o.NetworkStreamer=h,o.FileStreamer=c,o.StringStreamer=d,o.ReadableStreamStreamer=u,e.jQuery){var a=e.jQuery;a.fn.parse=function(t){var n=t.config||{},i=[];return this.each((function(t){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)i.push({file:this.files[s],inputElem:this,instanceConfig:a.extend({},n)})})),s(),this;function s(){if(0!==i.length){var e,n,s,l,h=i[0];if(b(t.before)){var c=t.before(h.file,h.inputElem);if("object"==typeof c){if("abort"===c.action)return e="AbortError",n=h.file,s=h.inputElem,l=c.reason,void(b(t.error)&&t.error({name:e},n,s,l));if("skip"===c.action)return void r();"object"==typeof c.config&&(h.instanceConfig=a.extend(h.instanceConfig,c.config))}else if("skip"===c)return void r()}var d=h.instanceConfig.complete;h.instanceConfig.complete=function(t){b(d)&&d(t,h.file,h.inputElem),r()},o.parse(h.file,h.instanceConfig)}else b(t.complete)&&t.complete()}function r(){i.splice(0,1),s()}}}function l(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=w(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new f(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&b(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(t);void 0!==s&&(t=s)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+t;this._partialLine="";var a=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=r.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var h=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)e.postMessage({results:a,workerId:o.WORKER_ID,finished:h});else if(b(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!h||!b(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),h||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(t){b(this._config.error)?this._config.error(t):i&&this._config.error&&e.postMessage({workerId:o.WORKER_ID,error:t,finished:!1})}}function h(t){var e;(t=t||{}).chunkSize||(t.chunkSize=o.RemoteChunkSize),l.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=v(this._chunkLoaded,this),e.onerror=v(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var i in t)e.setRequestHeader(i,t[i])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+s)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function c(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=o.LocalChunkSize),l.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=v(this._chunkLoaded,this),e.onerror=v(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var s=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,s)}var r=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function d(t){var e;l.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function u(t){l.call(this,t=t||{});var e=[],n=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=v((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=v((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=v((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=v((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(t){var e,n,i,s=Math.pow(2,53),r=-s,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,h=this,c=0,d=0,u=!1,f=!1,p=[],_={data:[],errors:[],meta:{}};if(b(t.step)){var y=t.step;t.step=function(e){if(_=e,S())M();else{if(M(),0===_.data.length)return;c+=e.data.length,t.preview&&c>t.preview?n.abort():(_.data=_.data[0],y(_,h))}}}function v(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function M(){return _&&i&&(x("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines&&(_.data=_.data.filter((function(t){return!v(t)}))),S()&&function(){if(_)if(Array.isArray(_.data[0])){for(var e=0;S()&&e<_.data.length;e++)_.data[e].forEach(n);_.data.splice(0,1)}else _.data.forEach(n);function n(e,n){b(t.transformHeader)&&(e=t.transformHeader(e,n)),p.push(e)}}(),function(){if(!_||!t.header&&!t.dynamicTyping&&!t.transform)return _;function e(e,n){var i,s=t.header?{}:[];for(i=0;i<e.length;i++){var r=i,o=e[i];t.header&&(r=i>=p.length?"__parsed_extra":p[i]),t.transform&&(o=t.transform(o,r)),o=C(r,o),"__parsed_extra"===r?(s[r]=s[r]||[],s[r].push(o)):s[r]=o}return t.header&&(i>p.length?x("FieldMismatch","TooManyFields","Too many fields: expected "+p.length+" fields but parsed "+i,d+n):i<p.length&&x("FieldMismatch","TooFewFields","Too few fields: expected "+p.length+" fields but parsed "+i,d+n)),s}var n=1;return!_.data.length||Array.isArray(_.data[0])?(_.data=_.data.map(e),n=_.data.length):_.data=e(_.data,0),t.header&&_.meta&&(_.meta.fields=p),d+=n,_}()}function S(){return t.header&&0===p.length}function C(e,n){return i=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[i]&&(t.dynamicTyping[i]=t.dynamicTypingFunction(i)),!0===(t.dynamicTyping[i]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(a.test(t)){var e=parseFloat(t);if(r<e&&e<s)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var i}function x(t,e,n,i){var s={type:t,code:e,message:n};void 0!==i&&(s.row=i),_.errors.push(s)}this.parse=function(s,r,a){var l=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(m(e)+"([^]*?)"+m(e),"gm"),i=(t=t.replace(n,"")).split("\r"),s=t.split("\n"),r=1<s.length&&s[0].length<i[0].length;if(1===i.length||r)return"\n";for(var o=0,a=0;a<i.length;a++)"\n"===i[a][0]&&o++;return o>=i.length/2?"\r\n":"\r"}(s,l)),i=!1,t.delimiter)b(t.delimiter)&&(t.delimiter=t.delimiter(s),_.meta.delimiter=t.delimiter);else{var h=function(e,n,i,s,r){var a,l,h,c;r=r||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var d=0;d<r.length;d++){var u=r[d],f=0,m=0,p=0;h=void 0;for(var _=new g({comments:s,delimiter:u,newline:n,preview:10}).parse(e),y=0;y<_.data.length;y++)if(i&&v(_.data[y]))p++;else{var w=_.data[y].length;m+=w,void 0!==h?0<w&&(f+=Math.abs(w-h),h=w):h=w}0<_.data.length&&(m/=_.data.length-p),(void 0===l||f<=l)&&(void 0===c||c<m)&&1.99<m&&(l=f,a=u,c=m)}return{successful:!!(t.delimiter=a),bestDelimiter:a}}(s,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);h.successful?t.delimiter=h.bestDelimiter:(i=!0,t.delimiter=o.DefaultDelimiter),_.meta.delimiter=t.delimiter}var c=w(t);return t.preview&&t.header&&c.preview++,e=s,n=new g(c),_=n.parse(e,r,a),M(),u?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,n.abort(),e=b(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){h.streamer._halted?(u=!1,h.streamer.parseChunk(e,!0)):setTimeout(h.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),_.meta.aborted=!0,b(t.complete)&&t.complete(_),e=""}}function m(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(t){var e,n=(t=t||{}).delimiter,i=t.newline,s=t.comments,r=t.step,a=t.preview,l=t.fastMode,h=e=void 0===t.quoteChar||null===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(h=t.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),s===n)throw new Error("Comment character same as delimiter");!0===s?s="#":("string"!=typeof s||-1<o.BAD_DELIMITERS.indexOf(s))&&(s=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var c=0,d=!1;this.parse=function(o,u,f){if("string"!=typeof o)throw new Error("Input must be a string");var g=o.length,p=n.length,_=i.length,y=s.length,w=b(r),v=[],M=[],S=[],C=c=0;if(!o)return $();if(t.header&&!u){var x=o.split(i)[0].split(n),T=[],k={},L=!1;for(var E in x){var R=x[E];b(t.transformHeader)&&(R=t.transformHeader(R,E));var A=R,D=k[R]||0;for(0<D&&(L=!0,A=R+"_"+D),k[R]=D+1;T.includes(A);)A=A+"_"+D;T.push(A)}if(L){var H=o.split(i);H[0]=T.join(n),o=H.join(i)}}if(l||!1!==l&&-1===o.indexOf(e)){for(var P=o.split(i),I=0;I<P.length;I++){if(S=P[I],c+=S.length,I!==P.length-1)c+=i.length;else if(f)return $();if(!s||S.substring(0,y)!==s){if(w){if(v=[],V(S.split(n)),G(),d)return $()}else V(S.split(n));if(a&&a<=I)return v=v.slice(0,a),$(!0)}}return $()}for(var O=o.indexOf(n,c),Y=o.indexOf(i,c),N=new RegExp(m(h)+m(e),"g"),F=o.indexOf(e,c);;)if(o[c]!==e)if(s&&0===S.length&&o.substring(c,c+y)===s){if(-1===Y)return $();c=Y+_,Y=o.indexOf(i,c),O=o.indexOf(n,c)}else if(-1!==O&&(O<Y||-1===Y))S.push(o.substring(c,O)),c=O+p,O=o.indexOf(n,c);else{if(-1===Y)break;if(S.push(o.substring(c,Y)),U(Y+_),w&&(G(),d))return $();if(a&&v.length>=a)return $(!0)}else for(F=c,c++;;){if(-1===(F=o.indexOf(e,F+1)))return f||M.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:c}),z();if(F===g-1)return z(o.substring(c,F).replace(N,e));if(e!==h||o[F+1]!==h){if(e===h||0===F||o[F-1]!==h){-1!==O&&O<F+1&&(O=o.indexOf(n,F+1)),-1!==Y&&Y<F+1&&(Y=o.indexOf(i,F+1));var j=B(-1===Y?O:Math.min(O,Y));if(o.substr(F+1+j,p)===n){S.push(o.substring(c,F).replace(N,e)),o[c=F+1+j+p]!==e&&(F=o.indexOf(e,c)),O=o.indexOf(n,c),Y=o.indexOf(i,c);break}var W=B(Y);if(o.substring(F+1+W,F+1+W+_)===i){if(S.push(o.substring(c,F).replace(N,e)),U(F+1+W+_),O=o.indexOf(n,c),F=o.indexOf(e,c),w&&(G(),d))return $();if(a&&v.length>=a)return $(!0);break}M.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:c}),F++}}else F++}return z();function V(t){v.push(t),C=c}function B(t){var e=0;if(-1!==t){var n=o.substring(F+1,t);n&&""===n.trim()&&(e=n.length)}return e}function z(t){return f||(void 0===t&&(t=o.substring(c)),S.push(t),c=g,V(S),w&&G()),$()}function U(t){c=t,V(S),S=[],Y=o.indexOf(i,c)}function $(t){return{data:v,errors:M,meta:{delimiter:n,linebreak:i,aborted:d,truncated:!!t,cursor:C+(u||0)}}}function G(){r($()),v=[],M=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return c}}function p(t){var e=t.data,n=s[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){i=!0,_(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(b(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:e.results.data[o],errors:e.results.errors,meta:e.results.meta},r),!i);o++);delete e.results}else b(n.userChunk)&&(n.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!i&&_(e.workerId,e.results)}function _(t,e){var n=s[t];b(n.userComplete)&&n.userComplete(e),n.terminate(),delete s[t]}function y(){throw new Error("Not implemented.")}function w(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=w(t[n]);return e}function v(t,e){return function(){t.apply(e,arguments)}}function b(t){return"function"==typeof t}return i&&(e.onmessage=function(t){var n=t.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var i=o.parse(n.input,n.config);i&&e.postMessage({workerId:o.WORKER_ID,results:i,finished:!0})}}),(h.prototype=Object.create(l.prototype)).constructor=h,(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(d.prototype)).constructor=d,(u.prototype=Object.create(l.prototype)).constructor=u,o}))},6262:function(t,e){"use strict";e.A=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n}},9306:function(t,e,n){"use strict";var i=n(4901),s=n(6823),r=TypeError;t.exports=function(t){if(i(t))return t;throw new r(s(t)+" is not a function")}},3506:function(t,e,n){"use strict";var i=n(3925),s=String,r=TypeError;t.exports=function(t){if(i(t))return t;throw new r("Can't set "+s(t)+" as a prototype")}},6469:function(t,e,n){"use strict";var i=n(8227),s=n(2360),r=n(4913).f,o=i("unscopables"),a=Array.prototype;void 0===a[o]&&r(a,o,{configurable:!0,value:s(null)}),t.exports=function(t){a[o][t]=!0}},8551:function(t,e,n){"use strict";var i=n(34),s=String,r=TypeError;t.exports=function(t){if(i(t))return t;throw new r(s(t)+" is not an object")}},9617:function(t,e,n){"use strict";var i=n(5397),s=n(5610),r=n(6198),o=function(t){return function(e,n,o){var a=i(e),l=r(a);if(0===l)return!t&&-1;var h,c=s(o,l);if(t&&n!==n){while(l>c)if(h=a[c++],h!==h)return!0}else for(;l>c;c++)if((t||c in a)&&a[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},4527:function(t,e,n){"use strict";var i=n(3724),s=n(4376),r=TypeError,o=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(s(t)&&!o(t,"length").writable)throw new r("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7680:function(t,e,n){"use strict";var i=n(9504);t.exports=i([].slice)},4576:function(t,e,n){"use strict";var i=n(9504),s=i({}.toString),r=i("".slice);t.exports=function(t){return r(s(t),8,-1)}},6955:function(t,e,n){"use strict";var i=n(2140),s=n(4901),r=n(4576),o=n(8227),a=o("toStringTag"),l=Object,h="Arguments"===r(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=l(t),a))?n:h?r(e):"Object"===(i=r(e))&&s(e.callee)?"Arguments":i}},7740:function(t,e,n){"use strict";var i=n(9297),s=n(5031),r=n(7347),o=n(4913);t.exports=function(t,e,n){for(var a=s(e),l=o.f,h=r.f,c=0;c<a.length;c++){var d=a[c];i(t,d)||n&&i(n,d)||l(t,d,h(e,d))}}},6699:function(t,e,n){"use strict";var i=n(3724),s=n(4913),r=n(6980);t.exports=i?function(t,e,n){return s.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2278:function(t,e,n){"use strict";var i=n(3724),s=n(4913),r=n(6980);t.exports=function(t,e,n){i?s.f(t,e,r(0,n)):t[e]=n}},2106:function(t,e,n){"use strict";var i=n(283),s=n(4913);t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),s.f(t,e,n)}},6840:function(t,e,n){"use strict";var i=n(4901),s=n(4913),r=n(283),o=n(9433);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,h=void 0!==a.name?a.name:e;if(i(n)&&r(n,h,a),a.global)l?t[e]=n:o(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(c){}l?t[e]=n:s.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},9433:function(t,e,n){"use strict";var i=n(4475),s=Object.defineProperty;t.exports=function(t,e){try{s(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},4606:function(t,e,n){"use strict";var i=n(6823),s=TypeError;t.exports=function(t,e){if(!delete t[e])throw new s("Cannot delete property "+i(e)+" of "+i(t))}},3724:function(t,e,n){"use strict";var i=n(9039);t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(t,e,n){"use strict";var i=n(4475),s=n(34),r=i.document,o=s(r)&&s(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},6837:function(t){"use strict";var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},6763:function(t){"use strict";t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},8119:function(t,e,n){"use strict";var i=n(9392);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},9088:function(t,e,n){"use strict";var i=n(4475),s=n(4576);t.exports="process"===s(i.process)},9392:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(t,e,n){"use strict";var i,s,r=n(4475),o=n(9392),a=r.process,l=r.Deno,h=a&&a.versions||l&&l.version,c=h&&h.v8;c&&(i=c.split("."),s=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!s&&o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(s=+i[1]))),t.exports=s},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6193:function(t,e,n){"use strict";var i=n(9504),s=Error,r=i("".replace),o=function(t){return String(new s(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(o);t.exports=function(t,e){if(l&&"string"==typeof t&&!s.prepareStackTrace)while(e--)t=r(t,a,"");return t}},747:function(t,e,n){"use strict";var i=n(6699),s=n(6193),r=n(4659),o=Error.captureStackTrace;t.exports=function(t,e,n,a){r&&(o?o(t,e):i(t,"stack",s(n,a)))}},4659:function(t,e,n){"use strict";var i=n(9039),s=n(6980);t.exports=!i((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",s(1,7)),7!==t.stack)}))},6518:function(t,e,n){"use strict";var i=n(4475),s=n(7347).f,r=n(6699),o=n(6840),a=n(9433),l=n(7740),h=n(2796);t.exports=function(t,e){var n,c,d,u,f,m,g=t.target,p=t.global,_=t.stat;if(c=p?i:_?i[g]||a(g,{}):i[g]&&i[g].prototype,c)for(d in e){if(f=e[d],t.dontCallGetSet?(m=s(c,d),u=m&&m.value):u=c[d],n=h(p?d:g+(_?".":"#")+d,t.forced),!n&&void 0!==u){if(typeof f==typeof u)continue;l(f,u)}(t.sham||u&&u.sham)&&r(f,"sham",!0),o(c,d,f,t)}}},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},8745:function(t,e,n){"use strict";var i=n(616),s=Function.prototype,r=s.apply,o=s.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(r):function(){return o.apply(r,arguments)})},6080:function(t,e,n){"use strict";var i=n(7476),s=n(9306),r=n(616),o=i(i.bind);t.exports=function(t,e){return s(t),void 0===e?t:r?o(t,e):function(){return t.apply(e,arguments)}}},616:function(t,e,n){"use strict";var i=n(9039);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:function(t,e,n){"use strict";var i=n(616),s=Function.prototype.call;t.exports=i?s.bind(s):function(){return s.apply(s,arguments)}},350:function(t,e,n){"use strict";var i=n(3724),s=n(9297),r=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=s(r,"name"),l=a&&"something"===function(){}.name,h=a&&(!i||i&&o(r,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:h}},6706:function(t,e,n){"use strict";var i=n(9504),s=n(9306);t.exports=function(t,e,n){try{return i(s(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(r){}}},7476:function(t,e,n){"use strict";var i=n(4576),s=n(9504);t.exports=function(t){if("Function"===i(t))return s(t)}},9504:function(t,e,n){"use strict";var i=n(616),s=Function.prototype,r=s.call,o=i&&s.bind.bind(r,r);t.exports=i?o:function(t){return function(){return r.apply(t,arguments)}}},7751:function(t,e,n){"use strict";var i=n(4475),s=n(4901),r=function(t){return s(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?r(i[t]):i[t]&&i[t][e]}},851:function(t,e,n){"use strict";var i=n(6955),s=n(5966),r=n(4117),o=n(6269),a=n(8227),l=a("iterator");t.exports=function(t){if(!r(t))return s(t,l)||s(t,"@@iterator")||o[i(t)]}},81:function(t,e,n){"use strict";var i=n(9565),s=n(9306),r=n(8551),o=n(6823),a=n(851),l=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(s(n))return r(i(n,t));throw new l(o(t)+" is not iterable")}},6933:function(t,e,n){"use strict";var i=n(9504),s=n(4376),r=n(4901),o=n(4576),a=n(655),l=i([].push);t.exports=function(t){if(r(t))return t;if(s(t)){for(var e=t.length,n=[],i=0;i<e;i++){var h=t[i];"string"==typeof h?l(n,h):"number"!=typeof h&&"Number"!==o(h)&&"String"!==o(h)||l(n,a(h))}var c=n.length,d=!0;return function(t,e){if(d)return d=!1,e;if(s(this))return e;for(var i=0;i<c;i++)if(n[i]===t)return e}}}},5966:function(t,e,n){"use strict";var i=n(9306),s=n(4117);t.exports=function(t,e){var n=t[e];return s(n)?void 0:i(n)}},2478:function(t,e,n){"use strict";var i=n(9504),s=n(8981),r=Math.floor,o=i("".charAt),a=i("".replace),l=i("".slice),h=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,i,d,u){var f=n+t.length,m=i.length,g=c;return void 0!==d&&(d=s(d),g=h),a(u,g,(function(s,a){var h;switch(o(a,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,n);case"'":return l(e,f);case"<":h=d[l(a,1,-1)];break;default:var c=+a;if(0===c)return s;if(c>m){var u=r(c/10);return 0===u?s:u<=m?void 0===i[u-1]?o(a,1):i[u-1]+o(a,1):s}h=i[c-1]}return void 0===h?"":h}))}},4475:function(t,e,n){"use strict";var i=function(t){return t&&t.Math===Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,n){"use strict";var i=n(9504),s=n(8981),r=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(s(t),e)}},421:function(t){"use strict";t.exports={}},397:function(t,e,n){"use strict";var i=n(7751);t.exports=i("document","documentElement")},5917:function(t,e,n){"use strict";var i=n(3724),s=n(9039),r=n(4055);t.exports=!i&&!s((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},7055:function(t,e,n){"use strict";var i=n(9504),s=n(9039),r=n(4576),o=Object,a=i("".split);t.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===r(t)?a(t,""):o(t)}:o},3167:function(t,e,n){"use strict";var i=n(4901),s=n(34),r=n(2967);t.exports=function(t,e,n){var o,a;return r&&i(o=e.constructor)&&o!==n&&s(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},3706:function(t,e,n){"use strict";var i=n(9504),s=n(4901),r=n(7629),o=i(Function.toString);s(r.inspectSource)||(r.inspectSource=function(t){return o(t)}),t.exports=r.inspectSource},7584:function(t,e,n){"use strict";var i=n(34),s=n(6699);t.exports=function(t,e){i(e)&&"cause"in e&&s(t,"cause",e.cause)}},1181:function(t,e,n){"use strict";var i,s,r,o=n(8622),a=n(4475),l=n(34),h=n(6699),c=n(9297),d=n(7629),u=n(6119),f=n(421),m="Object already initialized",g=a.TypeError,p=a.WeakMap,_=function(t){return r(t)?s(t):i(t,{})},y=function(t){return function(e){var n;if(!l(e)||(n=s(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return n}};if(o||d.state){var w=d.state||(d.state=new p);w.get=w.get,w.has=w.has,w.set=w.set,i=function(t,e){if(w.has(t))throw new g(m);return e.facade=t,w.set(t,e),e},s=function(t){return w.get(t)||{}},r=function(t){return w.has(t)}}else{var v=u("state");f[v]=!0,i=function(t,e){if(c(t,v))throw new g(m);return e.facade=t,h(t,v,e),e},s=function(t){return c(t,v)?t[v]:{}},r=function(t){return c(t,v)}}t.exports={set:i,get:s,has:r,enforce:_,getterFor:y}},4209:function(t,e,n){"use strict";var i=n(8227),s=n(6269),r=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(s.Array===t||o[r]===t)}},4376:function(t,e,n){"use strict";var i=n(4576);t.exports=Array.isArray||function(t){return"Array"===i(t)}},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:function(t,e,n){"use strict";var i=n(9039),s=n(4901),r=/#|\.prototype\./,o=function(t,e){var n=l[a(t)];return n===c||n!==h&&(s(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},l=o.data={},h=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},4117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},34:function(t,e,n){"use strict";var i=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},3925:function(t,e,n){"use strict";var i=n(34);t.exports=function(t){return i(t)||null===t}},6395:function(t){"use strict";t.exports=!1},788:function(t,e,n){"use strict";var i=n(34),s=n(4576),r=n(8227),o=r("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===s(t))}},757:function(t,e,n){"use strict";var i=n(7751),s=n(4901),r=n(1625),o=n(7040),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return s(e)&&r(e.prototype,a(t))}},2652:function(t,e,n){"use strict";var i=n(6080),s=n(9565),r=n(8551),o=n(6823),a=n(4209),l=n(6198),h=n(1625),c=n(81),d=n(851),u=n(9539),f=TypeError,m=function(t,e){this.stopped=t,this.result=e},g=m.prototype;t.exports=function(t,e,n){var p,_,y,w,v,b,M,S=n&&n.that,C=!(!n||!n.AS_ENTRIES),x=!(!n||!n.IS_RECORD),T=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),L=i(e,S),E=function(t){return p&&u(p,"normal",t),new m(!0,t)},R=function(t){return C?(r(t),k?L(t[0],t[1],E):L(t[0],t[1])):k?L(t,E):L(t)};if(x)p=t.iterator;else if(T)p=t;else{if(_=d(t),!_)throw new f(o(t)+" is not iterable");if(a(_)){for(y=0,w=l(t);w>y;y++)if(v=R(t[y]),v&&h(g,v))return v;return new m(!1)}p=c(t,_)}b=x?t.next:p.next;while(!(M=s(b,p)).done){try{v=R(M.value)}catch(A){u(p,"throw",A)}if("object"==typeof v&&v&&h(g,v))return v}return new m(!1)}},9539:function(t,e,n){"use strict";var i=n(9565),s=n(8551),r=n(5966);t.exports=function(t,e,n){var o,a;s(t);try{if(o=r(t,"return"),!o){if("throw"===e)throw n;return n}o=i(o,t)}catch(l){a=!0,o=l}if("throw"===e)throw n;if(a)throw o;return s(o),n}},6269:function(t){"use strict";t.exports={}},6198:function(t,e,n){"use strict";var i=n(8014);t.exports=function(t){return i(t.length)}},283:function(t,e,n){"use strict";var i=n(9504),s=n(9039),r=n(4901),o=n(9297),a=n(3724),l=n(350).CONFIGURABLE,h=n(3706),c=n(1181),d=c.enforce,u=c.get,f=String,m=Object.defineProperty,g=i("".slice),p=i("".replace),_=i([].join),y=a&&!s((function(){return 8!==m((function(){}),"length",{value:8}).length})),w=String(String).split("String"),v=t.exports=function(t,e,n){"Symbol("===g(f(e),0,7)&&(e="["+p(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||l&&t.name!==e)&&(a?m(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&o(n,"arity")&&t.length!==n.arity&&m(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&m(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(s){}var i=d(t);return o(i,"source")||(i.source=_(w,"string"==typeof e?e:"")),t};Function.prototype.toString=v((function(){return r(this)&&u(this).source||h(this)}),"toString")},741:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},2603:function(t,e,n){"use strict";var i=n(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},2360:function(t,e,n){"use strict";var i,s=n(8551),r=n(6801),o=n(8727),a=n(421),l=n(397),h=n(4055),c=n(6119),d=">",u="<",f="prototype",m="script",g=c("IE_PROTO"),p=function(){},_=function(t){return u+m+d+t+u+"/"+m+d},y=function(t){t.write(_("")),t.close();var e=t.parentWindow.Object;return t=null,e},w=function(){var t,e=h("iframe"),n="java"+m+":";return e.style.display="none",l.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(_("document.F=Object")),t.close(),t.F},v=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}v="undefined"!=typeof document?document.domain&&i?y(i):w():y(i);var t=o.length;while(t--)delete v[f][o[t]];return v()};a[g]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[f]=s(t),n=new p,p[f]=null,n[g]=t):n=v(),void 0===e?n:r.f(n,e)}},6801:function(t,e,n){"use strict";var i=n(3724),s=n(8686),r=n(4913),o=n(8551),a=n(5397),l=n(1072);e.f=i&&!s?Object.defineProperties:function(t,e){o(t);var n,i=a(e),s=l(e),h=s.length,c=0;while(h>c)r.f(t,n=s[c++],i[n]);return t}},4913:function(t,e,n){"use strict";var i=n(3724),s=n(5917),r=n(8686),o=n(8551),a=n(6969),l=TypeError,h=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",u="configurable",f="writable";e.f=i?r?function(t,e,n){if(o(t),e=a(e),o(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var i=c(t,e);i&&i[f]&&(t[e]=n.value,n={configurable:u in n?n[u]:i[u],enumerable:d in n?n[d]:i[d],writable:!1})}return h(t,e,n)}:h:function(t,e,n){if(o(t),e=a(e),o(n),s)try{return h(t,e,n)}catch(i){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:function(t,e,n){"use strict";var i=n(3724),s=n(9565),r=n(8773),o=n(6980),a=n(5397),l=n(6969),h=n(9297),c=n(5917),d=Object.getOwnPropertyDescriptor;e.f=i?d:function(t,e){if(t=a(t),e=l(e),c)try{return d(t,e)}catch(n){}if(h(t,e))return o(!s(r.f,t,e),t[e])}},8480:function(t,e,n){"use strict";var i=n(1828),s=n(8727),r=s.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},1625:function(t,e,n){"use strict";var i=n(9504);t.exports=i({}.isPrototypeOf)},1828:function(t,e,n){"use strict";var i=n(9504),s=n(9297),r=n(5397),o=n(9617).indexOf,a=n(421),l=i([].push);t.exports=function(t,e){var n,i=r(t),h=0,c=[];for(n in i)!s(a,n)&&s(i,n)&&l(c,n);while(e.length>h)s(i,n=e[h++])&&(~o(c,n)||l(c,n));return c}},1072:function(t,e,n){"use strict";var i=n(1828),s=n(8727);t.exports=Object.keys||function(t){return i(t,s)}},8773:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!n.call({1:2},1);e.f=s?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},2967:function(t,e,n){"use strict";var i=n(6706),s=n(34),r=n(7750),o=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=i(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(a){}return function(n,i){return r(n),o(i),s(n)?(e?t(n,i):n.__proto__=i,n):n}}():void 0)},4270:function(t,e,n){"use strict";var i=n(9565),s=n(4901),r=n(34),o=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&s(n=t.toString)&&!r(a=i(n,t)))return a;if(s(n=t.valueOf)&&!r(a=i(n,t)))return a;if("string"!==e&&s(n=t.toString)&&!r(a=i(n,t)))return a;throw new o("Can't convert object to primitive value")}},5031:function(t,e,n){"use strict";var i=n(7751),s=n(9504),r=n(8480),o=n(3717),a=n(8551),l=s([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?l(e,n(t)):e}},1056:function(t,e,n){"use strict";var i=n(4913).f;t.exports=function(t,e,n){n in t||i(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},7979:function(t,e,n){"use strict";var i=n(8551);t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},1034:function(t,e,n){"use strict";var i=n(9565),s=n(9297),r=n(1625),o=n(7979),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||s(t,"flags")||!r(a,t)?e:i(o,t)}},7750:function(t,e,n){"use strict";var i=n(4117),s=TypeError;t.exports=function(t){if(i(t))throw new s("Can't call method on "+t);return t}},9472:function(t,e,n){"use strict";var i=n(4475),s=n(8745),r=n(4901),o=n(6763),a=n(9392),l=n(7680),h=n(2812),c=i.Function,d=/MSIE .\./.test(a)||o&&function(){var t=i.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}();t.exports=function(t,e){var n=e?2:1;return d?function(i,o){var a=h(arguments.length,1)>n,d=r(i)?i:c(i),u=a?l(arguments,n):[],f=a?function(){s(d,this,u)}:d;return e?t(f,o):t(f)}:t}},6119:function(t,e,n){"use strict";var i=n(5745),s=n(3392),r=i("keys");t.exports=function(t){return r[t]||(r[t]=s(t))}},7629:function(t,e,n){"use strict";var i=n(6395),s=n(4475),r=n(9433),o="__core-js_shared__",a=t.exports=s[o]||r(o,{});(a.versions||(a.versions=[])).push({version:"3.37.1",mode:i?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,n){"use strict";var i=n(7629);t.exports=function(t,e){return i[t]||(i[t]=e||{})}},4495:function(t,e,n){"use strict";var i=n(7388),s=n(9039),r=n(4475),o=r.String;t.exports=!!Object.getOwnPropertySymbols&&!s((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},9225:function(t,e,n){"use strict";var i,s,r,o,a=n(4475),l=n(8745),h=n(6080),c=n(4901),d=n(9297),u=n(9039),f=n(397),m=n(7680),g=n(4055),p=n(2812),_=n(8119),y=n(9088),w=a.setImmediate,v=a.clearImmediate,b=a.process,M=a.Dispatch,S=a.Function,C=a.MessageChannel,x=a.String,T=0,k={},L="onreadystatechange";u((function(){i=a.location}));var E=function(t){if(d(k,t)){var e=k[t];delete k[t],e()}},R=function(t){return function(){E(t)}},A=function(t){E(t.data)},D=function(t){a.postMessage(x(t),i.protocol+"//"+i.host)};w&&v||(w=function(t){p(arguments.length,1);var e=c(t)?t:S(t),n=m(arguments,1);return k[++T]=function(){l(e,void 0,n)},s(T),T},v=function(t){delete k[t]},y?s=function(t){b.nextTick(R(t))}:M&&M.now?s=function(t){M.now(R(t))}:C&&!_?(r=new C,o=r.port2,r.port1.onmessage=A,s=h(o.postMessage,o)):a.addEventListener&&c(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!u(D)?(s=D,a.addEventListener("message",A,!1)):s=L in g("script")?function(t){f.appendChild(g("script"))[L]=function(){f.removeChild(this),E(t)}}:function(t){setTimeout(R(t),0)}),t.exports={set:w,clear:v}},5610:function(t,e,n){"use strict";var i=n(1291),s=Math.max,r=Math.min;t.exports=function(t,e){var n=i(t);return n<0?s(n+e,0):r(n,e)}},5397:function(t,e,n){"use strict";var i=n(7055),s=n(7750);t.exports=function(t){return i(s(t))}},1291:function(t,e,n){"use strict";var i=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},8014:function(t,e,n){"use strict";var i=n(1291),s=Math.min;t.exports=function(t){var e=i(t);return e>0?s(e,9007199254740991):0}},8981:function(t,e,n){"use strict";var i=n(7750),s=Object;t.exports=function(t){return s(i(t))}},2777:function(t,e,n){"use strict";var i=n(9565),s=n(34),r=n(757),o=n(5966),a=n(4270),l=n(8227),h=TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!s(t)||r(t))return t;var n,l=o(t,c);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!s(n)||r(n))return n;throw new h("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},6969:function(t,e,n){"use strict";var i=n(2777),s=n(757);t.exports=function(t){var e=i(t,"string");return s(e)?e:e+""}},2140:function(t,e,n){"use strict";var i=n(8227),s=i("toStringTag"),r={};r[s]="z",t.exports="[object z]"===String(r)},655:function(t,e,n){"use strict";var i=n(6955),s=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return s(t)}},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},3392:function(t,e,n){"use strict";var i=n(9504),s=0,r=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++s+r,36)}},7040:function(t,e,n){"use strict";var i=n(4495);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,n){"use strict";var i=n(3724),s=n(9039);t.exports=i&&s((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},8622:function(t,e,n){"use strict";var i=n(4475),s=n(4901),r=i.WeakMap;t.exports=s(r)&&/native code/.test(String(r))},8227:function(t,e,n){"use strict";var i=n(4475),s=n(5745),r=n(9297),o=n(3392),a=n(4495),l=n(7040),h=i.Symbol,c=s("wks"),d=l?h["for"]||h:h&&h.withoutSetter||o;t.exports=function(t){return r(c,t)||(c[t]=a&&r(h,t)?h[t]:d("Symbol."+t)),c[t]}},4601:function(t,e,n){"use strict";var i=n(7751),s=n(9297),r=n(6699),o=n(1625),a=n(2967),l=n(7740),h=n(1056),c=n(3167),d=n(2603),u=n(7584),f=n(747),m=n(3724),g=n(6395);t.exports=function(t,e,n,p){var _="stackTraceLimit",y=p?2:1,w=t.split("."),v=w[w.length-1],b=i.apply(null,w);if(b){var M=b.prototype;if(!g&&s(M,"cause")&&delete M.cause,!n)return b;var S=i("Error"),C=e((function(t,e){var n=d(p?e:t,void 0),i=p?new b(t):new b;return void 0!==n&&r(i,"message",n),f(i,C,i.stack,2),this&&o(M,this)&&c(i,this,C),arguments.length>y&&u(i,arguments[y]),i}));if(C.prototype=M,"Error"!==v?a?a(C,S):l(C,S,{name:!0}):m&&_ in b&&(h(C,b,_),h(C,b,"prepareStackTrace")),l(C,b),!g)try{M.name!==v&&r(M,"name",v),M.constructor=C}catch(x){}return C}}},8107:function(t,e,n){"use strict";var i=n(6518),s=n(8981),r=n(6198),o=n(1291),a=n(6469);i({target:"Array",proto:!0},{at:function(t){var e=s(this),n=r(e),i=o(t),a=i>=0?i:n+i;return a<0||a>=n?void 0:e[a]}}),a("at")},4114:function(t,e,n){"use strict";var i=n(6518),s=n(8981),r=n(6198),o=n(4527),a=n(6837),l=n(9039),h=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},d=h||!c();i({target:"Array",proto:!0,arity:1,forced:d},{push:function(t){var e=s(this),n=r(e),i=arguments.length;a(n+i);for(var l=0;l<i;l++)e[n]=arguments[l],n++;return o(e,n),n}})},237:function(t,e,n){"use strict";var i=n(6469);i("flatMap")},3514:function(t,e,n){"use strict";var i=n(6469);i("flat")},3609:function(t,e,n){"use strict";var i=n(6518),s=n(8981),r=n(6198),o=n(4527),a=n(4606),l=n(6837),h=1!==[].unshift(0),c=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},d=h||!c();i({target:"Array",proto:!0,arity:1,forced:d},{unshift:function(t){var e=s(this),n=r(e),i=arguments.length;if(i){l(n+i);var h=n;while(h--){var c=h+i;h in e?e[c]=e[h]:a(e,c)}for(var d=0;d<i;d++)e[d]=arguments[d]}return o(e,n+i)}})},6280:function(t,e,n){"use strict";var i=n(6518),s=n(4475),r=n(8745),o=n(4601),a="WebAssembly",l=s[a],h=7!==new Error("e",{cause:7}).cause,c=function(t,e){var n={};n[t]=o(t,e,h),i({global:!0,constructor:!0,arity:1,forced:h},n)},d=function(t,e){if(l&&l[t]){var n={};n[t]=o(a+"."+t,e,h),i({target:a,stat:!0,constructor:!0,arity:1,forced:h},n)}};c("Error",(function(t){return function(e){return r(t,this,arguments)}})),c("EvalError",(function(t){return function(e){return r(t,this,arguments)}})),c("RangeError",(function(t){return function(e){return r(t,this,arguments)}})),c("ReferenceError",(function(t){return function(e){return r(t,this,arguments)}})),c("SyntaxError",(function(t){return function(e){return r(t,this,arguments)}})),c("TypeError",(function(t){return function(e){return r(t,this,arguments)}})),c("URIError",(function(t){return function(e){return r(t,this,arguments)}})),d("CompileError",(function(t){return function(e){return r(t,this,arguments)}})),d("LinkError",(function(t){return function(e){return r(t,this,arguments)}})),d("RuntimeError",(function(t){return function(e){return r(t,this,arguments)}}))},3110:function(t,e,n){"use strict";var i=n(6518),s=n(7751),r=n(8745),o=n(9565),a=n(9504),l=n(9039),h=n(4901),c=n(757),d=n(7680),u=n(6933),f=n(4495),m=String,g=s("JSON","stringify"),p=a(/./.exec),_=a("".charAt),y=a("".charCodeAt),w=a("".replace),v=a(1..toString),b=/[\uD800-\uDFFF]/g,M=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,C=!f||l((function(){var t=s("Symbol")("stringify detection");return"[null]"!==g([t])||"{}"!==g({a:t})||"{}"!==g(Object(t))})),x=l((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),T=function(t,e){var n=d(arguments),i=u(e);if(h(i)||void 0!==t&&!c(t))return n[1]=function(t,e){if(h(i)&&(e=o(i,this,m(t),e)),!c(e))return e},r(g,null,n)},k=function(t,e,n){var i=_(n,e-1),s=_(n,e+1);return p(M,t)&&!p(S,s)||p(S,t)&&!p(M,i)?"\\u"+v(y(t,0),16):t};g&&i({target:"JSON",stat:!0,arity:3,forced:C||x},{stringify:function(t,e,n){var i=d(arguments),s=r(C?T:g,null,i);return x&&"string"==typeof s?w(s,b,k):s}})},3921:function(t,e,n){"use strict";var i=n(6518),s=n(2652),r=n(2278);i({target:"Object",stat:!0},{fromEntries:function(t){var e={};return s(t,(function(t,n){r(e,t,n)}),{AS_ENTRIES:!0}),e}})},9978:function(t,e,n){"use strict";var i=n(6518),s=n(9565),r=n(9504),o=n(7750),a=n(4901),l=n(4117),h=n(788),c=n(655),d=n(5966),u=n(1034),f=n(2478),m=n(8227),g=n(6395),p=m("replace"),_=TypeError,y=r("".indexOf),w=r("".replace),v=r("".slice),b=Math.max;i({target:"String",proto:!0},{replaceAll:function(t,e){var n,i,r,m,M,S,C,x,T,k=o(this),L=0,E=0,R="";if(!l(t)){if(n=h(t),n&&(i=c(o(u(t))),!~y(i,"g")))throw new _("`.replaceAll` does not allow non-global regexes");if(r=d(t,p),r)return s(r,t,k,e);if(g&&n)return w(c(k),t,e)}m=c(k),M=c(t),S=a(e),S||(e=c(e)),C=M.length,x=b(1,C),L=y(m,M);while(-1!==L)T=S?c(e(M,L,m)):f(M,m,L,[],void 0,e),R+=v(m,E,L)+T,E=L+C,L=L+x>m.length?-1:y(m,M,L+x);return E<m.length&&(R+=v(m,E)),R}})},6368:function(t,e,n){"use strict";var i=n(6518),s=n(4475),r=n(9225).clear;i({global:!0,bind:!0,enumerable:!0,forced:s.clearImmediate!==r},{clearImmediate:r})},9848:function(t,e,n){"use strict";n(6368),n(9309)},9309:function(t,e,n){"use strict";var i=n(6518),s=n(4475),r=n(9225).set,o=n(9472),a=s.setImmediate?o(r,!1):r;i({global:!0,bind:!0,enumerable:!0,forced:s.setImmediate!==a},{setImmediate:a})},4603:function(t,e,n){"use strict";var i=n(6840),s=n(9504),r=n(655),o=n(2812),a=URLSearchParams,l=a.prototype,h=s(l.append),c=s(l["delete"]),d=s(l.forEach),u=s([].push),f=new a("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&i(l,"delete",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return c(this,t);var i=[];d(this,(function(t,e){u(i,{key:e,value:t})})),o(e,1);var s,a=r(t),l=r(n),f=0,m=0,g=!1,p=i.length;while(f<p)s=i[f++],g||s.key===a?(g=!0,c(this,s.key)):m++;while(m<p)s=i[m++],s.key===a&&s.value===l||h(this,s.key,s.value)}),{enumerable:!0,unsafe:!0})},7566:function(t,e,n){"use strict";var i=n(6840),s=n(9504),r=n(655),o=n(2812),a=URLSearchParams,l=a.prototype,h=s(l.getAll),c=s(l.has),d=new a("a=1");!d.has("a",2)&&d.has("a",void 0)||i(l,"has",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return c(this,t);var i=h(this,t);o(e,1);var s=r(n),a=0;while(a<i.length)if(i[a++]===s)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(t,e,n){"use strict";var i=n(3724),s=n(9504),r=n(2106),o=URLSearchParams.prototype,a=s(o.forEach);i&&!("size"in o)&&r(o,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})},2022:function(t,e,n){"use strict";
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
function i(t){return t+.5|0}n.d(e,{A6:function(){return Di},E8:function(){return Qr},PP:function(){return Yo},t1:function(){return Vr},s$:function(){return lo},kc:function(){return Wo},hE:function(){return uo},m_:function(){return Do}});const s=(t,e,n)=>Math.max(Math.min(t,n),e);function r(t){return s(i(2.55*t),0,255)}function o(t){return s(i(255*t),0,255)}function a(t){return s(i(t/2.55)/100,0,1)}function l(t){return s(i(100*t),0,100)}const h={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},c=[..."0123456789ABCDEF"],d=t=>c[15&t],u=t=>c[(240&t)>>4]+c[15&t],f=t=>(240&t)>>4===(15&t),m=t=>f(t.r)&&f(t.g)&&f(t.b)&&f(t.a);function g(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*h[t[1]],g:255&17*h[t[2]],b:255&17*h[t[3]],a:5===n?17*h[t[4]]:255}:7!==n&&9!==n||(e={r:h[t[1]]<<4|h[t[2]],g:h[t[3]]<<4|h[t[4]],b:h[t[5]]<<4|h[t[6]],a:9===n?h[t[7]]<<4|h[t[8]]:255})),e}const p=(t,e)=>t<255?e(t):"";function _(t){var e=m(t)?d:u;return t?"#"+e(t.r)+e(t.g)+e(t.b)+p(t.a,e):void 0}const y=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function w(t,e,n){const i=e*Math.min(n,1-n),s=(e,s=(e+t/30)%12)=>n-i*Math.max(Math.min(s-3,9-s,1),-1);return[s(0),s(8),s(4)]}function v(t,e,n){const i=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function b(t,e,n){const i=w(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function M(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function S(t){const e=255,n=t.r/e,i=t.g/e,s=t.b/e,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,h,c;return r!==o&&(c=r-o,h=a>.5?c/(2-r-o):c/(r+o),l=M(n,i,s,c,r),l=60*l+.5),[0|l,h||0,a]}function C(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(o)}function x(t,e,n){return C(w,t,e,n)}function T(t,e,n){return C(b,t,e,n)}function k(t,e,n){return C(v,t,e,n)}function L(t){return(t%360+360)%360}function E(t){const e=y.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?r(+e[5]):o(+e[5]));const s=L(+e[2]),a=+e[3]/100,l=+e[4]/100;return n="hwb"===e[1]?T(s,a,l):"hsv"===e[1]?k(s,a,l):x(s,a,l),{r:n[0],g:n[1],b:n[2],a:i}}function R(t,e){var n=S(t);n[0]=L(n[0]+e),n=x(n),t.r=n[0],t.g=n[1],t.b=n[2]}function A(t){if(!t)return;const e=S(t),n=e[0],i=l(e[1]),s=l(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${a(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const D={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},H={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function P(){const t={},e=Object.keys(H),n=Object.keys(D);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,D[r]);r=parseInt(H[o],16),t[a]=[r>>16&255,r>>8&255,255&r]}return t}let I;function O(t){I||(I=P(),I.transparent=[0,0,0,0]);const e=I[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Y=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function N(t){const e=Y.exec(t);let n,i,o,a=255;if(e){if(e[7]!==n){const t=+e[7];a=e[8]?r(t):s(255*t,0,255)}return n=+e[1],i=+e[3],o=+e[5],n=255&(e[2]?r(n):s(n,0,255)),i=255&(e[4]?r(i):s(i,0,255)),o=255&(e[6]?r(o):s(o,0,255)),{r:n,g:i,b:o,a:a}}}function F(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${a(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const j=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,W=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function V(t,e,n){const i=W(a(t.r)),s=W(a(t.g)),r=W(a(t.b));return{r:o(j(i+n*(W(a(e.r))-i))),g:o(j(s+n*(W(a(e.g))-s))),b:o(j(r+n*(W(a(e.b))-r))),a:t.a+n*(e.a-t.a)}}function B(t,e,n){if(t){let i=S(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=x(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function z(t,e){return t?Object.assign(e||{},t):t}function U(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=o(t[3]))):(e=z(t,{r:0,g:0,b:0,a:1}),e.a=o(e.a)),e}function $(t){return"r"===t.charAt(0)?N(t):E(t)}class G{constructor(t){if(t instanceof G)return t;const e=typeof t;let n;"object"===e?n=U(t):"string"===e&&(n=g(t)||O(t)||$(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=z(this._rgb);return t&&(t.a=a(t.a)),t}set rgb(t){this._rgb=U(t)}rgbString(){return this._valid?F(this._rgb):void 0}hexString(){return this._valid?_(this._rgb):void 0}hslString(){return this._valid?A(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let s;const r=e===s?.5:e,o=2*r-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;s=1-l,n.r=255&l*n.r+s*i.r+.5,n.g=255&l*n.g+s*i.g+.5,n.b=255&l*n.b+s*i.b+.5,n.a=r*n.a+(1-r)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=V(this._rgb,t._rgb,e)),this}clone(){return new G(this.rgb)}alpha(t){return this._rgb.a=o(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=i(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return B(this._rgb,2,t),this}darken(t){return B(this._rgb,2,-t),this}saturate(t){return B(this._rgb,1,t),this}desaturate(t){return B(this._rgb,1,-t),this}rotate(t){return R(this._rgb,t),this}}
/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */
function K(){}const q=(()=>{let t=0;return()=>t++})();function X(t){return null===t||"undefined"===typeof t}function J(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Z(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Q(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function tt(t,e){return Q(t)?t:e}function et(t,e){return"undefined"===typeof t?e:t}const nt=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function it(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function st(t,e,n,i){let s,r,o;if(J(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(Z(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function rt(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function ot(t){if(J(t))return t.map(ot);if(Z(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=ot(t[n[s]]);return e}return t}function at(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function lt(t,e,n,i){if(!at(t))return;const s=e[t],r=n[t];Z(s)&&Z(r)?ht(s,r,i):e[t]=ot(r)}function ht(t,e,n){const i=J(e)?e:[e],s=i.length;if(!Z(t))return t;n=n||{};const r=n.merger||lt;let o;for(let a=0;a<s;++a){if(o=i[a],!Z(o))continue;const e=Object.keys(o);for(let i=0,s=e.length;i<s;++i)r(e[i],t,o,n)}return t}function ct(t,e){return ht(t,e,{merger:dt})}function dt(t,e,n){if(!at(t))return;const i=e[t],s=n[t];Z(i)&&Z(s)?ct(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ot(s))}const ut={"":t=>t,x:t=>t.x,y:t=>t.y};function ft(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function mt(t){const e=ft(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}function gt(t,e){const n=ut[e]||(ut[e]=mt(e));return n(t)}function pt(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _t=t=>"undefined"!==typeof t,yt=t=>"function"===typeof t,wt=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function vt(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}const bt=Math.PI,Mt=2*bt,St=Number.POSITIVE_INFINITY,Ct=bt/180,xt=bt/2,Tt=bt/4,kt=2*bt/3,Lt=Math.log10,Et=Math.sign;function Rt(t,e,n){return Math.abs(t-e)<n}function At(t){const e=Math.round(t);t=Rt(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Lt(t))),i=t/n,s=i<=1?1:i<=2?2:i<=5?5:10;return s*n}function Dt(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}function Ht(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Pt(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function It(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Ot(t){return t*(bt/180)}function Yt(t){return t*(180/bt)}function Nt(t){if(!Q(t))return;let e=1,n=0;while(Math.round(t*e)/e!==t)e*=10,n++;return n}function Ft(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*bt&&(r+=Mt),{angle:r,distance:s}}function jt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Wt(t){return(t%Mt+Mt)%Mt}function Vt(t,e,n,i){const s=Wt(t),r=Wt(e),o=Wt(n),a=Wt(r-s),l=Wt(o-s),h=Wt(s-r),c=Wt(s-o);return s===r||s===o||i&&r===o||a>l&&h<c}function Bt(t,e,n){return Math.max(e,Math.min(n,t))}function zt(t){return Bt(t,-32768,32767)}function Ut(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function $t(t,e,n){n=n||(n=>t[n]<e);let i,s=t.length-1,r=0;while(s-r>1)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Gt=(t,e,n,i)=>$t(t,n,i?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),Kt=(t,e,n)=>$t(t,n,(i=>t[i][e]>=n));function qt(t,e,n){let i=0,s=t.length;while(i<s&&t[i]<e)i++;while(s>i&&t[s-1]>n)s--;return i>0||s<t.length?t.slice(i,s):t}const Xt=["push","pop","shift","splice","unshift"];function Jt(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Xt.forEach((e=>{const n="_onData"+pt(e),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const s=i.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"===typeof t[n]&&t[n](...e)})),s}})})))}function Zt(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);-1!==s&&i.splice(s,1),i.length>0||(Xt.forEach((e=>{delete t[e]})),delete t._chartjs)}function Qt(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const te=function(){return"undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame}();function ee(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,te.call(window,(()=>{i=!1,t.apply(e,n)})))}}function ne(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const ie=t=>"start"===t?"left":"end"===t?"right":"center",se=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2,re=(t,e,n,i)=>{const s=i?"left":"right";return t===s?n:"center"===t?(e+n)/2:e};const oe=t=>0===t||1===t,ae=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Mt/n),le=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Mt/n)+1,he={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*xt),easeOutSine:t=>Math.sin(t*xt),easeInOutSine:t=>-.5*(Math.cos(bt*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>oe(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>oe(t)?t:ae(t,.075,.3),easeOutElastic:t=>oe(t)?t:le(t,.075,.3),easeInOutElastic(t){const e=.1125,n=.45;return oe(t)?t:t<.5?.5*ae(2*t,e,n):.5+.5*le(2*t-1,e,n)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-he.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*he.easeInBounce(2*t):.5*he.easeOutBounce(2*t-1)+.5};function ce(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function de(t){return ce(t)?t:new G(t)}function ue(t){return ce(t)?t:new G(t).saturate(.5).darken(.1).hexString()}const fe=["x","y","borderWidth","radius","tension"],me=["color","borderColor","backgroundColor"];function ge(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:me},numbers:{type:"number",properties:fe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})}function pe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const _e=new Map;function ye(t,e){e=e||{};const n=t+JSON.stringify(e);let i=_e.get(n);return i||(i=new Intl.NumberFormat(t,e),_e.set(n,i)),i}function we(t,e,n){return ye(e,n).format(t)}const ve={values(t){return J(t)?t:""+t},numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(s="scientific"),r=be(t,n)}const o=Lt(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),we(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Lt(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?ve.numeric.call(this,t,e,n):""}};function be(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Me={formatters:ve};function Se(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Me.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}const Ce=Object.create(null),xe=Object.create(null);function Te(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function ke(t,e,n){return"string"===typeof e?ht(Te(t,e),n):ht(Te(t,""),e)}class Le{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>ue(e.backgroundColor),this.hoverBorderColor=(t,e)=>ue(e.borderColor),this.hoverColor=(t,e)=>ue(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ke(this,t,e)}get(t){return Te(this,t)}describe(t,e){return ke(xe,t,e)}override(t,e){return ke(Ce,t,e)}route(t,e,n,i){const s=Te(this,t),r=Te(this,n),o="_"+e;Object.defineProperties(s,{[o]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=r[i];return Z(t)?Object.assign({},e,t):et(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var Ee=new Le({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ge,pe,Se]);function Re(t){return!t||X(t.size)||X(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ae(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function De(t,e,n){const i=t.currentDevicePixelRatio,s=0!==n?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function He(t,e){(e||t)&&(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Pe(t,e,n,i){Ie(t,e,n,i,null)}function Ie(t,e,n,i,s){let r,o,a,l,h,c,d,u;const f=e.pointStyle,m=e.rotation,g=e.radius;let p=(m||0)*Ct;if(f&&"object"===typeof f&&(r=f.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return t.save(),t.translate(n,i),t.rotate(p),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:s?t.ellipse(n,i,s/2,g,0,0,Mt):t.arc(n,i,g,0,Mt),t.closePath();break;case"triangle":c=s?s/2:g,t.moveTo(n+Math.sin(p)*c,i-Math.cos(p)*g),p+=kt,t.lineTo(n+Math.sin(p)*c,i-Math.cos(p)*g),p+=kt,t.lineTo(n+Math.sin(p)*c,i-Math.cos(p)*g),t.closePath();break;case"rectRounded":h=.516*g,l=g-h,o=Math.cos(p+Tt)*l,d=Math.cos(p+Tt)*(s?s/2-h:l),a=Math.sin(p+Tt)*l,u=Math.sin(p+Tt)*(s?s/2-h:l),t.arc(n-d,i-a,h,p-bt,p-xt),t.arc(n+u,i-o,h,p-xt,p),t.arc(n+d,i+a,h,p,p+xt),t.arc(n-u,i+o,h,p+xt,p+bt),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,c=s?s/2:l,t.rect(n-c,i-l,2*c,2*l);break}p+=Tt;case"rectRot":d=Math.cos(p)*(s?s/2:g),o=Math.cos(p)*g,a=Math.sin(p)*g,u=Math.sin(p)*(s?s/2:g),t.moveTo(n-d,i-a),t.lineTo(n+u,i-o),t.lineTo(n+d,i+a),t.lineTo(n-u,i+o),t.closePath();break;case"crossRot":p+=Tt;case"cross":d=Math.cos(p)*(s?s/2:g),o=Math.cos(p)*g,a=Math.sin(p)*g,u=Math.sin(p)*(s?s/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+u,i-o),t.lineTo(n-u,i+o);break;case"star":d=Math.cos(p)*(s?s/2:g),o=Math.cos(p)*g,a=Math.sin(p)*g,u=Math.sin(p)*(s?s/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+u,i-o),t.lineTo(n-u,i+o),p+=Tt,d=Math.cos(p)*(s?s/2:g),o=Math.cos(p)*g,a=Math.sin(p)*g,u=Math.sin(p)*(s?s/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+u,i-o),t.lineTo(n-u,i+o);break;case"line":o=s?s/2:Math.cos(p)*g,a=Math.sin(p)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(p)*(s?s/2:g),i+Math.sin(p)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Oe(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ye(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ne(t){t.restore()}function Fe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),X(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function je(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,h=n+r.actualBoundingBoxDescent,c=s.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function We(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ve(t,e,n,i,s,r={}){const o=J(e)?e:[e],a=r.strokeWidth>0&&""!==r.strokeColor;let l,h;for(t.save(),t.font=s.string,Fe(t,r),l=0;l<o.length;++l)h=o[l],r.backdrop&&We(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),X(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(h,n,i,r.maxWidth)),t.fillText(h,n,i,r.maxWidth),je(t,n,i,h,r),i+=Number(s.lineHeight);t.restore()}function Be(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*bt,bt,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,bt,xt,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,xt,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-xt,!0),t.lineTo(n+o.topLeft,i)}const ze=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ue=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $e(t,e){const n=(""+t).match(ze);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Ge=t=>+t||0;function Ke(t,e){const n={},i=Z(e),s=i?Object.keys(e):e,r=Z(t)?i?n=>et(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of s)n[o]=Ge(r(o));return n}function qe(t){return Ke(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Xe(t){return Ke(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Je(t){const e=qe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ze(t,e){t=t||{},e=e||Ee.font;let n=et(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=et(t.style,e.style);i&&!(""+i).match(Ue)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:et(t.family,e.family),lineHeight:$e(et(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:et(t.weight,e.weight),string:""};return s.string=Re(s),s}function Qe(t,e,n,i){let s,r,o,a=!0;for(s=0,r=t.length;s<r;++s)if(o=t[s],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&J(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function tn(t,e,n){const{min:i,max:s}=t,r=nt(e,(s-i)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function en(t,e){return Object.assign(Object.create(t),e)}function nn(t,e=[""],n,i,s=(()=>t[0])){const r=n||t;"undefined"===typeof i&&(i=wn("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:n=>nn([n,...t],e,r,i)};return new Proxy(o,{deleteProperty(e,n){return delete e[n],delete e._keys,delete t[0][n],!0},get(n,i){return ln(n,i,(()=>yn(i,e,t,n)))},getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(t,e){return vn(t).includes(e)},ownKeys(t){return vn(t)},set(t,e,n){const i=t._storage||(t._storage=s());return t[e]=i[e]=n,delete t._keys,!0}})}function sn(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:rn(t,i),setContext:e=>sn(t,e,n,i),override:s=>sn(t.override(s),e,n,i)};return new Proxy(s,{deleteProperty(e,n){return delete e[n],delete t[n],!0},get(t,e,n){return ln(t,e,(()=>hn(t,e,n)))},getOwnPropertyDescriptor(e,n){return e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(e,n){return Reflect.has(t,n)},ownKeys(){return Reflect.ownKeys(t)},set(e,n,i){return t[n]=i,delete e[n],!0}})}function rn(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:yt(n)?n:()=>n,isIndexable:yt(i)?i:()=>i}}const on=(t,e)=>t?t+pt(e):e,an=(t,e)=>Z(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function ln(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=n();return t[e]=i,i}function hn(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return yt(a)&&o.isScriptable(e)&&(a=cn(e,a,t,n)),J(a)&&a.length&&(a=dn(e,a,t,o.isIndexable)),an(e,a)&&(a=sn(a,s,r&&r[e],o)),a}function cn(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);return a.delete(t),an(t,l)&&(l=gn(s._scopes,s,t,l)),l}function dn(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof r.index&&i(t))return e[r.index%e.length];if(Z(e[0])){const n=e,i=s._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=gn(i,s,t,l);e.push(sn(n,r,o&&o[t],a))}}return e}function un(t,e,n){return yt(t)?t(e,n):t}const fn=(t,e)=>!0===t?e:"string"===typeof t?gt(e,t):void 0;function mn(t,e,n,i,s){for(const r of e){const e=fn(n,r);if(e){t.add(e);const r=un(e._fallback,n,s);if("undefined"!==typeof r&&r!==n&&r!==i)return r}else if(!1===e&&"undefined"!==typeof i&&n!==i)return null}return!1}function gn(t,e,n,i){const s=e._rootScopes,r=un(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=pn(a,o,n,r||n,i);return null!==l&&(("undefined"===typeof r||r===n||(l=pn(a,o,r,l,i),null!==l))&&nn(Array.from(a),[""],s,r,(()=>_n(e,n,i))))}function pn(t,e,n,i,s){while(n)n=mn(t,e,n,i,s);return n}function _n(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return J(s)&&Z(n)?n:s||{}}function yn(t,e,n,i){let s;for(const r of e)if(s=wn(on(r,t),n),"undefined"!==typeof s)return an(t,s)?gn(n,i,t,s):s}function wn(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function vn(t){let e=t._keys;return e||(e=t._keys=bn(t._scopes)),e}function bn(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}Number.EPSILON;function Mn(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Sn(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Cn(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const xn=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Tn(t,e){return xn(t).getPropertyValue(e)}const kn=["top","right","bottom","left"];function Ln(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=kn[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const En=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Rn(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o,a,l=!1;if(En(s,r,t.target))o=s,a=r;else{const t=e.getBoundingClientRect();o=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:o,y:a,box:l}}function An(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=xn(n),r="border-box"===s.boxSizing,o=Ln(s,"padding"),a=Ln(s,"border","width"),{x:l,y:h,box:c}=Rn(t,n),d=o.left+(c&&a.left),u=o.top+(c&&a.top);let{width:f,height:m}=e;return r&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/f*n.width/i),y:Math.round((h-u)/m*n.height/i)}}function Dn(t,e,n){let i,s;if(void 0===e||void 0===n){const r=t&&Sn(t);if(r){const t=r.getBoundingClientRect(),o=xn(r),a=Ln(o,"border","width"),l=Ln(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=Cn(o.maxWidth,r,"clientWidth"),s=Cn(o.maxHeight,r,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||St,maxHeight:s||St}}const Hn=t=>Math.round(10*t)/10;function Pn(t,e,n,i){const s=xn(t),r=Ln(s,"margin"),o=Cn(s.maxWidth,t,"clientWidth")||St,a=Cn(s.maxHeight,t,"clientHeight")||St,l=Dn(t,e,n);let{width:h,height:c}=l;if("content-box"===s.boxSizing){const t=Ln(s,"border","width"),e=Ln(s,"padding");h-=e.width+t.width,c-=e.height+t.height}h=Math.max(0,h-r.width),c=Math.max(0,i?h/i:c-r.height),h=Hn(Math.min(h,o,l.maxWidth)),c=Hn(Math.min(c,a,l.maxHeight)),h&&!c&&(c=Hn(h/2));const d=void 0!==e||void 0!==n;return d&&i&&l.height&&c>l.height&&(c=l.height,h=Hn(Math.floor(c*i))),{width:h,height:c}}function In(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r)&&(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0)}const On=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Mn()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return t}();function Yn(t,e){const n=Tn(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const Nn=function(t,e){return{x(n){return t+t+e-n},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},Fn=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function jn(t,e,n){return t?Nn(e,n):Fn()}function Wn(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Vn(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}
/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */
class Bn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const s=e.listeners[i],r=e.duration;s.forEach((i=>i({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(n-e.start,r)})))}_refresh(){this._request||(this._running=!0,this._request=te.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let r,o=s.length-1,a=!1;for(;o>=0;--o)r=s[o],r._active?(r._total>n.duration&&(n.duration=r._total),r.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),s.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=s.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var zn=new Bn;const Un="transparent",$n={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=de(t||Un),s=i.valid&&de(e||Un);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Gn{constructor(t,e,n,i){const s=e[n];i=Qe([t.to,i,s,t.from]);const r=Qe([t.from,s,i]);this._active=!0,this._fn=t.fn||$n[t.type||typeof r],this._easing=he[t.easing]||he.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,r=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Qe([t.to,e,i,t.from]),this._from=Qe([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,s=this._from,r=this._loop,o=this._to;let a;if(this._active=s!==o&&(r||e<n),!this._active)return this._target[i]=o,void this._notify(!0);e<0?this._target[i]=s:(a=e/n%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(s,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class Kn{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Z(t))return;const e=Object.keys(Ee.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const s=t[i];if(!Z(s))return;const r={};for(const t of e)r[t]=s[t];(J(s.properties)&&s.properties||[i]).forEach((t=>{t!==i&&n.has(t)||n.set(t,r)}))}))}_animateOptions(t,e){const n=e.options,i=Xn(t,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&qn(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),s}_createAnimations(t,e){const n=this._properties,i=[],s=t.$animations||(t.$animations={}),r=Object.keys(e),o=Date.now();let a;for(a=r.length-1;a>=0;--a){const l=r[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const h=e[l];let c=s[l];const d=n.get(l);if(c){if(d&&c.active()){c.update(d,h,o);continue}c.cancel()}d&&d.duration?(s[l]=c=new Gn(d,t,l,h),i.push(c)):t[l]=h}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(zn.add(this._chart,n),!0):void 0}}function qn(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const e=t[i[s]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}function Xn(t,e){if(!e)return;let n=t.options;if(n)return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;t.options=e}function Jn(t,e){const n=t&&t.options||{},i=n.reverse,s=void 0===n.min?e:0,r=void 0===n.max?e:0;return{start:i?r:s,end:i?s:r}}function Zn(t,e,n){if(!1===n)return!1;const i=Jn(t,n),s=Jn(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Qn(t){let e,n,i,s;return Z(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:!1===t}}function ti(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function ei(t,e,n,i={}){const s=t.keys,r="single"===i.mode;let o,a,l,h;if(null!==e){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}h=t.values[l],Q(h)&&(r||0===e||Et(e)===Et(h))&&(e+=h)}return e}}function ni(t,e){const{iScale:n,vScale:i}=e,s="x"===n.axis?"x":"y",r="x"===i.axis?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,h,c;for(l=0,h=o.length;l<h;++l)c=o[l],a[l]={[s]:c,[r]:t[c]};return a}function ii(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function si(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function ri(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function oi(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function ai(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const e=t[s.index];if(n&&e>0||!n&&e<0)return s.index}return null}function li(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,h=o.axis,c=si(r,o,i),d=e.length;let u;for(let f=0;f<d;++f){const t=e[f],{[l]:n,[h]:r}=t,d=t._stacks||(t._stacks={});u=d[h]=oi(s,c,n),u[a]=r,u._top=ai(u,o,!0,i.type),u._bottom=ai(u,o,!1,i.type);const m=u._visualValues||(u._visualValues={});m[a]=r}}function hi(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function ci(t,e){return en(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function di(t,e,n){return en(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ui(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const fi=t=>"reset"===t||"none"===t,mi=(t,e)=>e?t:Object.assign({},t),gi=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ti(n,!0),values:null};class pi{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ii(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ui(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,s=e.xAxisID=et(n.xAxisID,hi(t,"x")),r=e.yAxisID=et(n.yAxisID,hi(t,"y")),o=e.rAxisID=et(n.rAxisID,hi(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,s,r,o),h=e.vAxisID=i(a,r,s,o);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Zt(this._data,this),t._stacked&&ui(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Z(e)){const t=this._cachedMeta;this._data=ni(e,t)}else if(n!==e){if(n){Zt(n,this);const t=this._cachedMeta;ui(t),t._parsed=[]}e&&Object.isExtensible(e)&&Jt(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=e._stacked;e._stacked=ii(e.vScale,e),e.stack!==n.stack&&(i=!0,ui(e),e.stack=n.stack),this._resyncElements(t),(i||s!==e._stacked)&&li(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:r}=n,o=s.axis;let a,l,h,c=0===t&&e===i.length||n._sorted,d=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,h=i;else{h=J(i[t])?this.parseArrayData(n,i,t,e):Z(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const s=()=>null===l[o]||d&&l[o]<d[o];for(a=0;a<e;++a)n._parsed[a+t]=l=h[a],c&&(s()&&(c=!1),d=l);n._sorted=c}r&&li(this,h)}parsePrimitiveData(t,e,n,i){const{iScale:s,vScale:r}=t,o=s.axis,a=r.axis,l=s.getLabels(),h=s===r,c=new Array(i);let d,u,f;for(d=0,u=i;d<u;++d)f=d+n,c[d]={[o]:h||s.parse(l[f],f),[a]:r.parse(e[f],f)};return c}parseArrayData(t,e,n,i){const{xScale:s,yScale:r}=t,o=new Array(i);let a,l,h,c;for(a=0,l=i;a<l;++a)h=a+n,c=e[h],o[a]={x:s.parse(c[0],h),y:r.parse(c[1],h)};return o}parseObjectData(t,e,n,i){const{xScale:s,yScale:r}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let h,c,d,u;for(h=0,c=i;h<c;++h)d=h+n,u=e[d],l[h]={x:s.parse(gt(u,o),d),y:r.parse(gt(u,a),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,s=this._cachedMeta,r=e[t.axis],o={keys:ti(i,!0),values:e._stacks[t.axis]._visualValues};return ei(o,r,s.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const s=n[e.axis];let r=null===s?NaN:s;const o=i&&n._stacks[e.axis];i&&o&&(i.values=o,r=ei(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&t===n.iScale,r=i.length,o=this._getOtherScale(t),a=gi(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:c}=ri(o);let d,u;function f(){u=i[d];const e=u[o.axis];return!Q(u[t.axis])||h>e||c<e}for(d=0;d<r;++d)if(!f()&&(this.updateRangeFromParsed(l,t,u,a),s))break;if(s)for(d=r-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(l,t,u,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i][t.axis],Q(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,s=this.getParsed(t);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Qn(et(this.options.clip,Zn(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],s=e.chartArea,r=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(t,s,o,a),h=o;h<o+a;++h){const e=i[h];e.hidden||(e.active&&l?r.push(e):e.draw(t,s))}for(h=0;h<r.length;++h)r[h].draw(t,s)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];s=e.$context||(e.$context=di(this.getContext(),t,e)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=ci(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=n,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const i="active"===e,s=this._cachedDataOpts,r=t+"-"+e,o=s[r],a=this.enableOptionSharing&&_t(n);if(o)return mi(o,a);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),c=i?[`${t}Hover`,"hover",t,""]:[t,""],d=l.getOptionScopes(this.getDataset(),h),u=Object.keys(Ee.elements[t]),f=()=>this.getContext(n,i,e),m=l.resolveNamedOptions(d,u,f,c);return m.$shared&&(m.$shared=a,s[r]=Object.freeze(mi(m,a))),m}_resolveAnimations(t,e,n){const i=this.chart,s=this._cachedDataOpts,r=`animation-${e}`,o=s[r];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,s=i.datasetAnimationScopeKeys(this._type,e),r=i.getOptionScopes(this.getDataset(),s);a=i.createResolver(r,this.getContext(t,n,e))}const l=new Kn(i,a&&a.animations);return a&&a._cacheable&&(s[r]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||fi(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,s=this.getSharedOptions(n),r=this.includeOptions(e,s)||s!==i;return this.updateSharedOptions(s,e,n),{sharedOptions:s,includeOptions:r}}updateElement(t,e,n,i){fi(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!fi(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const s=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,s=e.length,r=Math.min(s,i);r&&this.parse(0,r),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,e,n=!0){const i=this._cachedMeta,s=i.data,r=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=r;o--)t[o]=t[o-e]};for(a(s),o=t;o<r;++o)s[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(s,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&ui(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function _i(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,s=n.length;e<s;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=Qt(i.sort(((t,e)=>t-e)))}return t._cache.$bar}function yi(t){const e=t.iScale,n=_i(e,t.type);let i,s,r,o,a=e._length;const l=()=>{32767!==r&&-32768!==r&&(_t(o)&&(a=Math.min(a,Math.abs(r-o)||a)),o=r)};for(i=0,s=n.length;i<s;++i)r=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)r=e.getPixelForTick(i),l();return a}function wi(t,e,n,i){const s=n.barThickness;let r,o;return X(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function vi(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;null===o&&(o=r-(null===a?e.end-e.start:a-r)),null===a&&(a=r+r-o);const h=r-(r-Math.min(o,a))/2*l,c=Math.abs(a-o)/2*l;return{chunk:c/i,ratio:n.barPercentage,start:h}}function bi(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,h=a;Math.abs(o)>Math.abs(a)&&(l=a,h=o),e[n.axis]=h,e._custom={barStart:l,barEnd:h,start:s,end:r,min:o,max:a}}function Mi(t,e,n,i){return J(t)?bi(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Si(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let h,c,d,u;for(h=n,c=n+i;h<c;++h)u=e[h],d={},d[s.axis]=a||s.parse(o[h],h),l.push(Mi(u,d,r,h));return l}function Ci(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function xi(t,e,n){return 0!==t?Et(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Ti(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function ki(t,e,n,i){let s=e.borderSkipped;const r={};if(!s)return void(t.borderSkipped=r);if(!0===s)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:h,bottom:c}=Ti(t);"middle"===s&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=h:(n._bottom||0)===i?s=c:(r[Li(c,o,a,l)]=!0,s=h)),r[Li(s,o,a,l)]=!0,t.borderSkipped=r}function Li(t,e,n,i){return i?(t=Ei(t,e,n),t=Ri(t,n,e)):t=Ri(t,e,n),t}function Ei(t,e,n){return t===e?n:t===n?e:t}function Ri(t,e,n){return"start"===t?e:"end"===t?n:t}function Ai(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}class Di extends pi{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,i){return Si(t,e,n,i)}parseArrayData(t,e,n,i){return Si(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:s,vScale:r}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===s.axis?o:a,h="x"===r.axis?o:a,c=[];let d,u,f,m;for(d=n,u=n+i;d<u;++d)m=e[d],f={},f[s.axis]=s.parse(gt(m,l),d),c.push(Mi(gt(m,h),f,r,d));return c}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const s=n._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,s=this.getParsed(t),r=s._custom,o=Ci(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const s="reset"===i,{index:r,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),h=this._getRuler(),{sharedOptions:c,includeOptions:d}=this._getSharedOptions(e,i);for(let u=e;u<e+n;u++){const e=this.getParsed(u),n=s||X(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(u),f=this._calculateBarIndexPixels(u,h),m=(e._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!m||Ci(e._custom)||r===m._top||r===m._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};d&&(g.options=c||this.resolveDataElementOptions(u,t[u].active?"active":i));const p=g.options||t[u].options;ki(g,p,m,r),Ai(g,p,h.ratio),this.updateElement(t[u],u,g,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),s=n.options.stacked,r=[],o=t=>{const n=t.controller.getParsed(e),i=n&&n[t.vScale.axis];if(X(i)||isNaN(i))return!0};for(const a of i)if((void 0===e||!o(a))&&((!1===s||-1===r.indexOf(a.stack)||void 0===s&&void 0===a.stack)&&r.push(a.stack),a.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),s=void 0!==e?i.indexOf(e):-1;return-1===s?i.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let s,r;for(s=0,r=e.data.length;s<r;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=t.barThickness,a=o||yi(e);return{min:a,pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:s,minBarLength:r}}=this,o=s||0,a=this.getParsed(t),l=a._custom,h=Ci(l);let c,d,u=a[e.axis],f=0,m=n?this.applyStack(e,a,n):u;m!==u&&(f=m-u,m=u),h&&(u=l.barStart,m=l.barEnd-l.barStart,0!==u&&Et(u)!==Et(l.barEnd)&&(f=0),f+=u);const g=X(s)||h?f:s;let p=e.getPixelForValue(g);if(c=this.chart.getDataVisibility(t)?e.getPixelForValue(f+m):p,d=c-p,Math.abs(d)<r){d=xi(d,e,o)*r,u===o&&(p-=d/2);const t=e.getPixelForDecimal(0),s=e.getPixelForDecimal(1),l=Math.min(t,s),f=Math.max(t,s);p=Math.max(Math.min(p,f),l),c=p+d,n&&!h&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(c)-e.getValueForPixel(p))}if(p===e.getPixelForValue(o)){const t=Et(d)*e.getLineWidthForValue(o)/2;p+=t,d-=t}return{size:d,base:p,head:c,center:c+d/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,s=i.skipNull,r=et(i.maxBarThickness,1/0);let o,a;if(e.grouped){const n=s?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?vi(t,e,i,n):wi(t,e,i,n),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);o=l.start+l.chunk*h+l.chunk/2,a=Math.min(r,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(r,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let s=0;for(;s<i;++s)null===this.getParsed(s)[e.axis]||n[s].hidden||n[s].draw(this._ctx)}}function Hi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pi{static override(t){Object.assign(Pi.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Hi()}parse(){return Hi()}format(){return Hi()}add(){return Hi()}diff(){return Hi()}startOf(){return Hi()}endOf(){return Hi()}}var Ii={_date:Pi};function Oi(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&r.length){const t=a._reversePixels?Kt:Gt;if(!i)return t(r,e,n);if(s._sharedOptions){const i=r[0],s="function"===typeof i.getRange&&i.getRange(e);if(s){const i=t(r,e,n-s),o=t(r,e,n+s);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:r.length-1}}function Yi(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:t,data:n}=r[a],{lo:l,hi:h}=Oi(r[a],e,o,s);for(let e=l;e<=h;++e){const s=n[e];s.skip||i(s,t,e)}}}function Ni(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const s=e?Math.abs(t.x-i.x):0,r=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}function Fi(t,e,n,i,s){const r=[];if(!s&&!t.isPointInArea(e))return r;const o=function(n,o,a){(s||Oe(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&r.push({element:n,datasetIndex:o,index:a})};return Yi(t,n,e,o,!0),r}function ji(t,e,n,i){let s=[];function r(t,n,r){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=Ft(t,{x:e.x,y:e.y});Vt(l,o,a)&&s.push({element:t,datasetIndex:n,index:r})}return Yi(t,n,e,r),s}function Wi(t,e,n,i,s,r){let o=[];const a=Ni(n);let l=Number.POSITIVE_INFINITY;function h(n,h,c){const d=n.inRange(e.x,e.y,s);if(i&&!d)return;const u=n.getCenterPoint(s),f=!!r||t.isPointInArea(u);if(!f&&!d)return;const m=a(e,u);m<l?(o=[{element:n,datasetIndex:h,index:c}],l=m):m===l&&o.push({element:n,datasetIndex:h,index:c})}return Yi(t,n,e,h),o}function Vi(t,e,n,i,s,r){return r||t.isPointInArea(e)?"r"!==n||i?Wi(t,e,n,i,s,r):ji(t,e,n,s):[]}function Bi(t,e,n,i,s){const r=[],o="x"===n?"inXRange":"inYRange";let a=!1;return Yi(t,n,e,((t,i,l)=>{t[o](e[n],s)&&(r.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,s))})),i&&!a?[]:r}var zi={evaluateInteractionItems:Yi,modes:{index(t,e,n,i){const s=An(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Fi(t,s,r,i,o):Vi(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const s=An(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Fi(t,s,r,i,o):Vi(t,s,r,!1,i,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point(t,e,n,i){const s=An(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Fi(t,s,r,i,o)},nearest(t,e,n,i){const s=An(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Vi(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=An(e,t);return Bi(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=An(e,t);return Bi(t,s,"y",n.intersect,i)}}};const Ui=["left","top","right","bottom"];function $i(t,e){return t.filter((t=>t.pos===e))}function Gi(t,e){return t.filter((t=>-1===Ui.indexOf(t.pos)&&t.box.axis===e))}function Ki(t,e){return t.sort(((t,n)=>{const i=e?n:t,s=e?t:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight}))}function qi(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],({position:r,options:{stack:o,stackWeight:a=1}}=s),e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function Xi(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:s}=n;if(!t||!Ui.includes(i))continue;const r=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return e}function Ji(t,e){const n=Xi(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:o}=a.box,l=n[a.stack],h=l&&a.stackWeight/l.weight;a.horizontal?(a.width=h?h*i:o&&e.availableWidth,a.height=s):(a.width=i,a.height=h?h*s:o&&e.availableHeight)}return n}function Zi(t){const e=qi(t),n=Ki(e.filter((t=>t.box.fullSize)),!0),i=Ki($i(e,"left"),!0),s=Ki($i(e,"right")),r=Ki($i(e,"top"),!0),o=Ki($i(e,"bottom")),a=Gi(e,"x"),l=Gi(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:$i(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function Qi(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ts(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function es(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!Z(s)){n.size&&(t[s]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?r.height:r.width),n.size=e.size/e.count,t[s]+=n.size}r.getPadding&&ts(o,r.getPadding());const a=Math.max(0,e.outerWidth-Qi(o,t,"left","right")),l=Math.max(0,e.outerHeight-Qi(o,t,"top","bottom")),h=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:h,other:c}:{same:c,other:h}}function ns(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function is(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function ss(t,e,n,i){const s=[];let r,o,a,l,h,c;for(r=0,o=t.length,h=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,is(a.horizontal,e));const{same:o,other:d}=es(e,n,a,i);h|=o&&s.length,c=c||d,l.fullSize||s.push(a)}return h&&ss(s,e,n,i)||c}function rs(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function os(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*h,r=l.size||t.height;_t(l.start)&&(o=l.start),t.fullSize?rs(t,s.left,o,n.outerWidth-s.right-s.left,r):rs(t,e.left+l.placed,o,i,r),l.start=o,l.placed+=i,o=t.bottom}else{const i=e.h*h,o=l.size||t.width;_t(l.start)&&(r=l.start),t.fullSize?rs(t,r,s.top,o,n.outerHeight-s.bottom-s.top):rs(t,r,e.top+l.placed,o,i),l.start=r,l.placed+=i,r=t.right}}e.x=r,e.y=o}var as={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Je(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=Zi(t.boxes),l=a.vertical,h=a.horizontal;st(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/c,hBoxMaxHeight:o/2}),u=Object.assign({},s);ts(u,Je(i));const f=Object.assign({maxPadding:u,w:r,h:o,x:s.left,y:s.top},s),m=Ji(l.concat(h),d);ss(a.fullSize,f,d,m),ss(l,f,d,m),ss(h,f,d,m)&&ss(l,f,d,m),ns(f),os(a.leftAndTop,f,d,m),f.x+=f.w,f.y+=f.h,os(a.rightAndBottom,f,d,m),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},st(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class ls{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class hs extends ls{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const cs="$chartjs",ds={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},us=t=>null===t||""===t;function fs(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[cs]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",us(s)){const e=Yn(t,"width");void 0!==e&&(t.width=e)}if(us(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Yn(t,"height");void 0!==e&&(t.height=e)}return t}const ms=!!On&&{passive:!0};function gs(t,e,n){t&&t.addEventListener(e,n,ms)}function ps(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,ms)}function _s(t,e){const n=ds[t.type]||t.type,{x:i,y:s}=An(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==s?s:null}}function ys(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ws(t,e,n){const i=t.canvas,s=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||ys(n.addedNodes,i),e=e&&!ys(n.removedNodes,i);e&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}function vs(t,e,n){const i=t.canvas,s=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||ys(n.removedNodes,i),e=e&&!ys(n.addedNodes,i);e&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}const bs=new Map;let Ms=0;function Ss(){const t=window.devicePixelRatio;t!==Ms&&(Ms=t,bs.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Cs(t,e){bs.size||window.addEventListener("resize",Ss),bs.set(t,e)}function xs(t){bs.delete(t),bs.size||window.removeEventListener("resize",Ss)}function Ts(t,e,n){const i=t.canvas,s=i&&Sn(i);if(!s)return;const r=ee(((t,e)=>{const i=s.clientWidth;n(t,e),i<s.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||r(n,i)}));return o.observe(s),Cs(t,r),o}function ks(t,e,n){n&&n.disconnect(),"resize"===e&&xs(t)}function Ls(t,e,n){const i=t.canvas,s=ee((e=>{null!==t.ctx&&n(_s(e,t))}),t);return gs(i,e,s),s}class Es extends ls{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(fs(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[cs])return!1;const n=e[cs].initial;["height","width"].forEach((t=>{const i=n[t];X(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[cs],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),s={attach:ws,detach:vs,resize:Ts},r=s[e]||Ls;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;const s={attach:ks,detach:ks,resize:ks},r=s[e]||ps;r(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return Pn(t,e,n,i)}isAttached(t){const e=t&&Sn(t);return!(!e||!e.isConnected)}}function Rs(t){return!Mn()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?hs:Es}class As{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Ht(this.x)&&Ht(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}function Ds(t,e){const n=t.options.ticks,i=Hs(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?Is(e):[],o=r.length,a=r[0],l=r[o-1],h=[];if(o>s)return Os(e,h,r,o/s),h;const c=Ps(r,e,s);if(o>0){let t,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(Ys(e,h,c,X(i)?0:a-i,a),t=0,n=o-1;t<n;t++)Ys(e,h,c,r[t],r[t+1]);return Ys(e,h,c,l,X(i)?e.length:l+i),h}return Ys(e,h,c),h}function Hs(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function Ps(t,e,n){const i=Ns(t),s=e.length/n;if(!i)return Math.max(s,1);const r=Dt(i);for(let o=0,a=r.length-1;o<a;o++){const t=r[o];if(t>s)return t}return Math.max(s,1)}function Is(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Os(t,e,n,i){let s,r=0,o=n[0];for(i=Math.ceil(i),s=0;s<t.length;s++)s===o&&(e.push(t[s]),r++,o=n[r*i])}function Ys(t,e,n,i,s){const r=et(i,0),o=Math.min(et(s,t.length),t.length);let a,l,h,c=0;n=Math.ceil(n),s&&(a=s-i,n=a/Math.floor(a/n)),h=r;while(h<0)c++,h=Math.round(r+c*n);for(l=Math.max(r,0);l<o;l++)l===h&&(e.push(t[l]),c++,h=Math.round(r+c*n))}function Ns(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Fs=t=>"left"===t?"right":"right"===t?"left":t,js=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,Ws=(t,e)=>Math.min(e||t,t);function Vs(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function Bs(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l,h=t.getPixelForTick(s);if(!(n&&(l=1===i?Math.max(h-r,o-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(s-1))/2,h+=s<e?l:-l,h<r-a||h>o+a)))return h}function zs(t,e){st(t,(t=>{const n=t.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[n[s]];n.splice(0,i)}}))}function Us(t){return t.drawTicks?t.tickLength:0}function $s(t,e){if(!t.display)return 0;const n=Ze(t.font,e),i=Je(t.padding),s=J(t.text)?t.text.length:1;return s*n.lineHeight+i.height}function Gs(t,e){return en(t,{scale:e,type:"scale"})}function Ks(t,e,n){return en(t,{tick:n,index:e,type:"tick"})}function qs(t,e,n){let i=ie(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=Fs(i)),i}function Xs(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:h,scales:c}=l;let d,u,f,m=0;const g=o-s,p=a-r;if(t.isHorizontal()){if(u=se(i,r,a),Z(n)){const t=Object.keys(n)[0],i=n[t];f=c[t].getPixelForValue(i)+g-e}else f="center"===n?(h.bottom+h.top)/2+g-e:js(t,n,e);d=a-r}else{if(Z(n)){const t=Object.keys(n)[0],i=n[t];u=c[t].getPixelForValue(i)-p+e}else u="center"===n?(h.left+h.right)/2-p+e:js(t,n,e);f=se(i,o,s),m="left"===n?-xt:xt}return{titleX:u,titleY:f,maxWidth:d,rotation:m}}class Js extends As{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=tt(t,Number.POSITIVE_INFINITY),e=tt(e,Number.NEGATIVE_INFINITY),n=tt(n,Number.POSITIVE_INFINITY),i=tt(i,Number.NEGATIVE_INFINITY),{min:tt(t,n),max:tt(e,i),minDefined:Q(t),maxDefined:Q(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds();if(s&&r)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),s||(n=Math.min(n,e.min)),r||(i=Math.max(i,e.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:tt(n,tt(i,n)),max:tt(i,tt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){const e=this._labelItems||(this._labelItems=this._computeLabelItems(t));return e}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){it(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:s,ticks:r}=this.options,o=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tn(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?Vs(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=Ds(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){it(this.options.afterUpdate,[this])}beforeSetDimensions(){it(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){it(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),it(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){it(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n],s.label=it(e.callback,[s.value,n,t],this)}afterTickToLabelConversion(){it(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){it(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Ws(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,s=e.maxRotation;let r,o,a,l=i;if(!this._isVisible()||!e.display||i>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const h=this._getLabelSizes(),c=h.widest.width,d=h.highest.height,u=Bt(this.chart.width-c,0,this.maxWidth);r=t.offset?this.maxWidth/n:u/(n-1),c+6>r&&(r=u/(n-(t.offset?.5:1)),o=this.maxHeight-Us(t.grid)-e.padding-$s(t.title,this.chart.options.font),a=Math.sqrt(c*c+d*d),l=Yt(Math.min(Math.asin(Bt((h.highest.height+6)/r,-1,1)),Math.asin(Bt(o/a,-1,1))-Math.asin(Bt(d/a,-1,1)))),l=Math.max(i,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){it(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){it(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:s}}=this,r=this._isVisible(),o=this.isHorizontal();if(r){const r=$s(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=Us(s)+r):(t.height=this.maxHeight,t.width=Us(s)+r),n.display&&this.ticks.length){const{first:e,last:i,widest:s,highest:r}=this._getLabelSizes(),a=2*n.padding,l=Ot(this.labelRotation),h=Math.cos(l),c=Math.sin(l);if(o){const e=n.mirror?0:c*s.width+h*r.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:h*s.width+c*r.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,c,h)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:s,padding:r},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,d=0;a?l?(c=i*t.width,d=n*e.height):(c=n*t.height,d=i*e.width):"start"===s?d=e.width:"end"===s?c=t.width:"inner"!==s&&(c=t.width/2,d=e.width/2),this.paddingLeft=Math.max((c-o+r)*this.width/(this.width-o),0),this.paddingRight=Math.max((d-h+r)*this.width/(this.width-h),0)}else{let n=e.height/2,i=t.height/2;"start"===s?(n=0,i=t.height):"end"===s&&(n=e.height,i=0),this.paddingTop=n+r,this.paddingBottom=i+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){it(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)X(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Vs(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:s}=this,r=[],o=[],a=Math.floor(e/Ws(e,n));let l,h,c,d,u,f,m,g,p,_,y,w=0,v=0;for(l=0;l<e;l+=a){if(d=t[l].label,u=this._resolveTickFontOptions(l),i.font=f=u.string,m=s[f]=s[f]||{data:{},gc:[]},g=u.lineHeight,p=_=0,X(d)||J(d)){if(J(d))for(h=0,c=d.length;h<c;++h)y=d[h],X(y)||J(y)||(p=Ae(i,m.data,m.gc,p,y),_+=g)}else p=Ae(i,m.data,m.gc,p,d),_=g;r.push(p),o.push(_),w=Math.max(p,w),v=Math.max(_,v)}zs(s,e);const b=r.indexOf(w),M=o.indexOf(v),S=t=>({width:r[t]||0,height:o[t]||0});return{first:S(0),last:S(e-1),widest:S(b),highest:S(M),widths:r,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return zt(this._alignToPixels?De(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=Ks(this.getContext(),t,n))}return this.$context||(this.$context=Gs(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ot(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),s=this._getLabelSizes(),r=t.autoSkipPadding||0,o=s?s.widest.width+r:0,a=s?s.highest.height+r:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:s,position:r,border:o}=i,a=s.offset,l=this.isHorizontal(),h=this.ticks,c=h.length+(a?1:0),d=Us(s),u=[],f=o.setContext(this.getContext()),m=f.display?f.width:0,g=m/2,p=function(t){return De(n,t,m)};let _,y,w,v,b,M,S,C,x,T,k,L;if("top"===r)_=p(this.bottom),M=this.bottom-d,C=_-g,T=p(t.top)+g,L=t.bottom;else if("bottom"===r)_=p(this.top),T=t.top,L=p(t.bottom)-g,M=_+g,C=this.top+d;else if("left"===r)_=p(this.right),b=this.right-d,S=_-g,x=p(t.left)+g,k=t.right;else if("right"===r)_=p(this.left),x=t.left,k=p(t.right)-g,b=_+g,S=this.left+d;else if("x"===e){if("center"===r)_=p((t.top+t.bottom)/2+.5);else if(Z(r)){const t=Object.keys(r)[0],e=r[t];_=p(this.chart.scales[t].getPixelForValue(e))}T=t.top,L=t.bottom,M=_+g,C=M+d}else if("y"===e){if("center"===r)_=p((t.left+t.right)/2);else if(Z(r)){const t=Object.keys(r)[0],e=r[t];_=p(this.chart.scales[t].getPixelForValue(e))}b=_-g,S=b-d,x=t.left,k=t.right}const E=et(i.ticks.maxTicksLimit,c),R=Math.max(1,Math.ceil(c/E));for(y=0;y<c;y+=R){const t=this.getContext(y),e=s.setContext(t),i=o.setContext(t),r=e.lineWidth,h=e.color,c=i.dash||[],d=i.dashOffset,f=e.tickWidth,m=e.tickColor,g=e.tickBorderDash||[],p=e.tickBorderDashOffset;w=Bs(this,y,a),void 0!==w&&(v=De(n,w,r),l?b=S=x=k=v:M=C=T=L=v,u.push({tx1:b,ty1:M,tx2:S,ty2:C,x1:x,y1:T,x2:k,y2:L,width:r,color:h,borderDash:c,borderDashOffset:d,tickWidth:f,tickColor:m,tickBorderDash:g,tickBorderDashOffset:p}))}return this._ticksLength=c,this._borderValue=_,u}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:s}=n,r=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:h,mirror:c}=s,d=Us(n.grid),u=d+h,f=c?-h:u,m=-Ot(this.labelRotation),g=[];let p,_,y,w,v,b,M,S,C,x,T,k,L="middle";if("top"===i)b=this.bottom-f,M=this._getXAxisLabelAlignment();else if("bottom"===i)b=this.top+f,M=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(d);M=t.textAlign,v=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(d);M=t.textAlign,v=t.x}else if("x"===e){if("center"===i)b=(t.top+t.bottom)/2+u;else if(Z(i)){const t=Object.keys(i)[0],e=i[t];b=this.chart.scales[t].getPixelForValue(e)+u}M=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)v=(t.left+t.right)/2-u;else if(Z(i)){const t=Object.keys(i)[0],e=i[t];v=this.chart.scales[t].getPixelForValue(e)}M=this._getYAxisLabelAlignment(d).textAlign}"y"===e&&("start"===a?L="top":"end"===a&&(L="bottom"));const E=this._getLabelSizes();for(p=0,_=o.length;p<_;++p){y=o[p],w=y.label;const t=s.setContext(this.getContext(p));S=this.getPixelForTick(p)+s.labelOffset,C=this._resolveTickFontOptions(p),x=C.lineHeight,T=J(w)?w.length:1;const e=T/2,n=t.color,a=t.textStrokeColor,h=t.textStrokeWidth;let d,u=M;if(r?(v=S,"inner"===M&&(u=p===_-1?this.options.reverse?"left":"right":0===p?this.options.reverse?"right":"left":"center"),k="top"===i?"near"===l||0!==m?-T*x+x/2:"center"===l?-E.highest.height/2-e*x+x:-E.highest.height+x/2:"near"===l||0!==m?x/2:"center"===l?E.highest.height/2-e*x:E.highest.height-T*x,c&&(k*=-1),0===m||t.showLabelBackdrop||(v+=x/2*Math.sin(m))):(b=S,k=(1-T)*x/2),t.showLabelBackdrop){const e=Je(t.backdropPadding),n=E.heights[p],i=E.widths[p];let s=k-e.top,r=0-e.left;switch(L){case"middle":s-=n/2;break;case"bottom":s-=n;break}switch(M){case"center":r-=i/2;break;case"right":r-=i;break;case"inner":p===_-1?r-=i:p>0&&(r-=i/2);break}d={left:r,top:s,width:i+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:w,font:C,textOffset:k,options:{rotation:m,color:n,strokeColor:a,strokeWidth:h,textAlign:u,textBaseline:L,translation:[v,b],backdrop:d}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options,n=-Ot(this.labelRotation);if(n)return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,r=this._getLabelSizes(),o=t+s,a=r.widest.width;let l,h;return"left"===e?i?(h=this.right+s,"near"===n?l="left":"center"===n?(l="center",h+=a/2):(l="right",h+=a)):(h=this.right-o,"near"===n?l="right":"center"===n?(l="center",h-=a/2):(l="left",h=this.left)):"right"===e?i?(h=this.left+s,"near"===n?l="right":"center"===n?(l="center",h-=a/2):(l="left",h-=a)):(h=this.left+o,"near"===n?l="left":"center"===n?(l="center",h+=a/2):(l="right",h=this.right)):l="right",{textAlign:l,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:s,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,s,r),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks,i=n.findIndex((e=>e.value===t));if(i>=0){const t=e.setContext(this.getContext(i));return t.lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,r;const o=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(s=0,r=i.length;s<r;++s){const t=i[s];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),r=n.display?s.width:0;if(!r)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,h,c,d;this.isHorizontal()?(l=De(t,this.left,r)-r/2,h=De(t,this.right,o)+o/2,c=d=a):(c=De(t,this.top,r)-r/2,d=De(t,this.bottom,o)+o/2,l=h=a),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(l,c),e.lineTo(h,d),e.stroke(),e.restore()}drawLabels(t){const e=this.options.ticks;if(!e.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Ye(n,i);const s=this.getLabelItems(t);for(const r of s){const t=r.options,e=r.font,i=r.label,s=r.textOffset;Ve(n,i,0,s,e,t)}i&&Ne(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const s=Ze(n.font),r=Je(n.padding),o=n.align;let a=s.lineHeight/2;"bottom"===e||"center"===e||Z(e)?(a+=r.bottom,J(n.text)&&(a+=s.lineHeight*(n.text.length-1))):a+=r.top;const{titleX:l,titleY:h,maxWidth:c,rotation:d}=Xs(this,a,e,o);Ve(t,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:d,textAlign:qs(o,e,i),textBaseline:"middle",translation:[l,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=et(t.grid&&t.grid.z,-1),i=et(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Js.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,r;for(s=0,r=e.length;s<r;++s){const r=e[s];r[n]!==this.id||t&&r.type!==t||i.push(r)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ze(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Zs{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;er(e)&&(n=this.register(e));const i=this.items,s=t.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,Qs(t,r,n),this.override&&Ee.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in Ee[i]&&(delete Ee[i][n],this.override&&delete Ce[n])}}function Qs(t,e,n){const i=ht(Object.create(null),[n?Ee.get(n):{},Ee.get(e),t.defaults]);Ee.set(e,i),t.defaultRoutes&&tr(e,t.defaultRoutes),t.descriptors&&Ee.describe(e,t.descriptors)}function tr(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ee.route(r,s,l,a)}))}function er(t){return"id"in t&&"defaults"in t}class nr{constructor(){this.controllers=new Zs(pi,"datasets",!0),this.elements=new Zs(As,"elements"),this.plugins=new Zs(Object,"plugins"),this.scales=new Zs(Js,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):st(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=pt(t);it(n["before"+i],[],n),e[t](n),it(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var ir=new nr;class sr{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(s,t,e,n);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,n,i){i=i||{};for(const s of t){const t=s.plugin,r=t[n],o=[e,i,s.options];if(!1===it(r,o,t)&&i.cancelable)return!1}return!0}invalidate(){X(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=et(n.options&&n.options.plugins,{}),s=rr(n);return!1!==i||e?ar(t,s,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function rr(t){const e={},n=[],i=Object.keys(ir.plugins.items);for(let r=0;r<i.length;r++)n.push(ir.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const t=s[r];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}function or(t,e){return e||!1!==t?!0===t?{}:t:null}function ar(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const e=a.id,l=or(i[e],s);null!==l&&r.push({plugin:a,options:lr(t.config,{plugin:a,local:n[e]},l,o)})}return r}function lr(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hr(t,e){const n=Ee.datasets[t]||{},i=(e.datasets||{})[t]||{};return i.indexAxis||e.indexAxis||n.indexAxis||"x"}function cr(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}function dr(t,e){return t===e?"_index_":"_value_"}function ur(t){if("x"===t||"y"===t||"r"===t)return t}function fr(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function mr(t,...e){if(ur(t))return t;for(const n of e){const e=n.axis||fr(n.position)||t.length>1&&ur(t[0].toLowerCase());if(e)return e}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function gr(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function pr(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return gr(t,"x",n[0])||gr(t,"y",n[0])}return{}}function _r(t,e){const n=Ce[t.type]||{scales:{}},i=e.scales||{},s=hr(t.type,e),r=Object.create(null);return Object.keys(i).forEach((e=>{const o=i[e];if(!Z(o))return console.error(`Invalid scale configuration for scale: ${e}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const a=mr(e,o,pr(e,t),Ee.scales[o.type]),l=dr(a,s),h=n.scales||{};r[e]=ct(Object.create(null),[{axis:a},o,h[a],h[l]])})),t.data.datasets.forEach((n=>{const s=n.type||t.type,o=n.indexAxis||hr(s,e),a=Ce[s]||{},l=a.scales||{};Object.keys(l).forEach((t=>{const e=cr(t,o),s=n[e+"AxisID"]||e;r[s]=r[s]||Object.create(null),ct(r[s],[{axis:e},i[s],l[t]])}))})),Object.keys(r).forEach((t=>{const e=r[t];ct(e,[Ee.scales[e.type],Ee.scale])})),r}function yr(t){const e=t.options||(t.options={});e.plugins=et(e.plugins,{}),e.scales=_r(t,e)}function wr(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function vr(t){return t=t||{},t.data=wr(t.data),yr(t),t}const br=new Map,Mr=new Set;function Sr(t,e){let n=br.get(t);return n||(n=e(),br.set(t,n),Mr.add(n)),n}const Cr=(t,e,n)=>{const i=gt(e,n);void 0!==i&&t.add(i)};class xr{constructor(t){this._config=vr(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=wr(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),yr(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Sr(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return Sr(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return Sr(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return Sr(`${n}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:s}=this,r=this._cachedScopes(t,n),o=r.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>Cr(a,t,e)))),e.forEach((t=>Cr(a,i,t))),e.forEach((t=>Cr(a,Ce[s]||{},t))),e.forEach((t=>Cr(a,Ee,t))),e.forEach((t=>Cr(a,xe,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),Mr.has(e)&&r.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ce[e]||{},Ee.datasets[e]||{},{type:e},Ee,xe]}resolveNamedOptions(t,e,n,i=[""]){const s={$shared:!0},{resolver:r,subPrefixes:o}=Tr(this._resolverCache,t,i);let a=r;if(Lr(r,e)){s.$shared=!1,n=yt(n)?n():n;const e=this.createResolver(t,n,o);a=sn(r,n,e)}for(const l of e)s[l]=a[l];return s}createResolver(t,e,n=[""],i){const{resolver:s}=Tr(this._resolverCache,t,n);return Z(e)?sn(s,e,void 0,i):s}}function Tr(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);if(!r){const t=nn(e,n);r={resolver:t,subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(s,r)}return r}const kr=t=>Z(t)&&Object.getOwnPropertyNames(t).some((e=>yt(t[e])));function Lr(t,e){const{isScriptable:n,isIndexable:i}=rn(t);for(const s of e){const e=n(s),r=i(s),o=(r||e)&&t[s];if(e&&(yt(o)||kr(o))||r&&J(o))return!0}return!1}var Er="4.4.3";const Rr=["top","bottom","left","right","chartArea"];function Ar(t,e){return"top"===t||"bottom"===t||-1===Rr.indexOf(t)&&"x"===e}function Dr(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Hr(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),it(n&&n.onComplete,[t],e)}function Pr(t){const e=t.chart,n=e.options.animation;it(n&&n.onProgress,[t],e)}function Ir(t){return Mn()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Or={},Yr=t=>{const e=Ir(t);return Object.values(Or).filter((t=>t.canvas===e)).pop()};function Nr(t,e,n){const i=Object.keys(t);for(const s of i){const i=+s;if(i>=e){const r=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=r)}}}function Fr(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}function jr(t,e,n){return t.options.clip?t[n]:e[n]}function Wr(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:jr(n,e,"left"),right:jr(n,e,"right"),top:jr(i,e,"top"),bottom:jr(i,e,"bottom")}:e}class Vr{static defaults=Ee;static instances=Or;static overrides=Ce;static registry=ir;static version=Er;static getChart=Yr;static register(...t){ir.add(...t),Br()}static unregister(...t){ir.remove(...t),Br()}constructor(t,e){const n=this.config=new xr(e),i=Ir(t),s=Yr(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Rs(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,r.aspectRatio),a=o&&o.canvas,l=a&&a.height,h=a&&a.width;this.id=q(),this.ctx=o,this.canvas=a,this.width=h,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sr,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ne((t=>this.update(t)),r.resizeDelay||0),this._dataChanges=[],Or[this.id]=this,o&&a?(zn.listen(this,"complete",Hr),zn.listen(this,"progress",Pr),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:s}=this;return X(t)?e&&s?s:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ir}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():In(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return He(this.canvas,this.ctx),this}stop(){return zn.stop(this),this}resize(t,e){zn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,e,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,In(this,o,!0)&&(this.notifyPlugins("resize",{size:r}),it(n.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{};st(e,((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let s=[];e&&(s=s.concat(Object.keys(e).map((t=>{const n=e[t],i=mr(t,n),s="r"===i,r="x"===i;return{options:n,dposition:s?"chartArea":r?"bottom":"left",dtype:s?"radialLinear":r?"category":"linear"}})))),st(s,(e=>{const s=e.options,r=s.id,o=mr(r,s),a=et(s.type,e.dtype);void 0!==s.position&&Ar(s.position,o)===Ar(e.dposition)||(s.position=e.dposition),i[r]=!0;let l=null;if(r in n&&n[r].type===a)l=n[r];else{const t=ir.getScale(a);l=new t({id:r,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(s,t)})),st(i,((t,e)=>{t||delete n[e]})),st(n,(t=>{as.configure(this,t,t.options),as.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Dr("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let s=this.getDatasetMeta(n);const r=i.type||this.config.type;if(s.type&&s.type!==r&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=r,s.indexAxis=i.indexAxis||hr(r,this.options),s.order=i.order||0,s.index=n,s.label=""+i.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const e=ir.getController(r),{datasetElementType:i,dataElementType:o}=Ee.datasets[r];Object.assign(e,{dataElementType:ir.getElement(o),datasetElementType:i&&ir.getElement(i)}),s.controller=new e(this,n),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){st(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,h=this.data.datasets.length;l<h;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===s.indexOf(t);t.buildOrUpdateElements(e),r=Math.max(+t.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||st(s,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Dr("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){st(this.scales,(t=>{as.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);wt(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of e){const e="_removeElements"===n?-s:s;Nr(t,i,e)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let s=1;s<e;s++)if(!wt(i,n(s)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;as.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],st(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,yt(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(zn.has(this)?this.attached&&!zn.running(this)&&zn.start(this):(this.draw(),Hr({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,s;for(i=0,s=e.length;i<s;++i){const s=e[i];t&&!s.visible||n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,s=Wr(t,this.chartArea),r={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(i&&Ye(e,{left:!1===n.left?0:s.left-n.left,right:!1===n.right?this.width:s.right+n.right,top:!1===n.top?0:s.top-n.top,bottom:!1===n.bottom?this.height:s.bottom+n.bottom}),t.controller.draw(),i&&Ne(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Oe(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const s=zi.modes[e];return"function"===typeof s?s(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=en(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",s=this.getDatasetMeta(t),r=s.controller._resolveAnimations(void 0,i);_t(e)?(s.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(s,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),zn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),He(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Or[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};st(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},s=(t,e)=>{this.canvas&&this.resize(t,e)};let r;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",r)};r=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():r()}unbindEvents(){st(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},st(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let s,r,o,a;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){r=t[o];const e=r&&this.getDatasetMeta(r.datasetIndex).controller;e&&e[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((({datasetIndex:t,index:e})=>{const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),i=!rt(n,e);i&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const i=this.options.hover,s=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),r=s(e,t),o=n?t:s(t,e);r.length&&this.updateHoverStyle(r,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const s=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:s}=this,r=e,o=this._getActiveElements(t,i,n,r),a=vt(t),l=Fr(t,this._lastEvent,n,a);n&&(this._lastEvent=null,it(s.onHover,[t,o,this],this),a&&it(s.onClick,[t,o,this],this));const h=!rt(o,i);return(h||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=l,h}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}}function Br(){return st(Vr.instances,(t=>t._plugins.invalidate()))}function zr(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,h,c,d;return t.horizontal?(d=o/2,a=Math.min(n,s),l=Math.max(n,s),h=i-d,c=i+d):(d=r/2,a=n-d,l=n+d,h=Math.min(i,s),c=Math.max(i,s)),{left:a,top:h,right:l,bottom:c}}function Ur(t,e,n,i){return t?0:Bt(e,n,i)}function $r(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=qe(i);return{t:Ur(s.top,r.top,0,n),r:Ur(s.right,r.right,0,e),b:Ur(s.bottom,r.bottom,0,n),l:Ur(s.left,r.left,0,e)}}function Gr(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=Xe(s),o=Math.min(e,n),a=t.borderSkipped,l=i||Z(s);return{topLeft:Ur(!l||a.top||a.left,r.topLeft,0,o),topRight:Ur(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Ur(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Ur(!l||a.bottom||a.right,r.bottomRight,0,o)}}function Kr(t){const e=zr(t),n=e.right-e.left,i=e.bottom-e.top,s=$r(t,n/2,i/2),r=Gr(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function qr(t,e,n,i){const s=null===e,r=null===n,o=s&&r,a=t&&!o&&zr(t,i);return a&&(s||Ut(e,a.left,a.right))&&(r||Ut(n,a.top,a.bottom))}function Xr(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Jr(t,e){t.rect(e.x,e.y,e.w,e.h)}function Zr(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class Qr extends As{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:r}=Kr(this),o=Xr(r.radius)?Be:Jr;t.save(),r.w===s.w&&r.h===s.h||(t.beginPath(),o(t,Zr(r,e,s)),t.clip(),o(t,Zr(s,-e,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,Zr(s,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return qr(this,t,e,n)}inXRange(t,e){return qr(this,t,null,e)}inYRange(t,e){return qr(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+i)/2:e,y:s?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}const to=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},eo=(t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class no extends As{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=it(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=Ze(n.font),s=i.size,r=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=to(n,s);let l,h;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(r,s,o,a)+10):(h=this.maxHeight,l=this._fitCols(r,i,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:s,maxWidth:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],h=i+o;let c=t;s.textAlign="left",s.textBaseline="middle";let d=-1,u=-h;return this.legendItems.forEach(((t,f)=>{const m=n+e/2+s.measureText(t.text).width;(0===f||l[l.length-1]+m+2*o>r)&&(c+=h,l[l.length-(f>0?0:1)]=0,u+=h,d++),a[f]={left:0,top:u,row:d,width:m,height:i},l[l.length-1]+=m+o})),c}_fitCols(t,e,n,i){const{ctx:s,maxHeight:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],h=r-t;let c=o,d=0,u=0,f=0,m=0;return this.legendItems.forEach(((t,r)=>{const{itemWidth:g,itemHeight:p}=io(n,e,s,t,i);r>0&&u+p+2*o>h&&(c+=d+o,l.push({width:d,height:u}),f+=d+o,m++,d=u=0),a[r]={left:f,top:u,col:m,width:g,height:p},d=Math.max(d,g),u+=p+o})),c+=d,l.push({width:d,height:u}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:s}}=this,r=jn(s,this.left,this.width);if(this.isHorizontal()){let s=0,o=se(n,this.left+i,this.right-this.lineWidths[s]);for(const a of e)s!==a.row&&(s=a.row,o=se(n,this.left+i,this.right-this.lineWidths[s])),a.top+=this.top+t+i,a.left=r.leftForLtr(r.x(o),a.width),o+=a.width+i}else{let s=0,o=se(n,this.top+t+i,this.bottom-this.columnSizes[s].height);for(const a of e)a.col!==s&&(s=a.col,o=se(n,this.top+t+i,this.bottom-this.columnSizes[s].height)),a.top=o,a.left+=this.left+i,a.left=r.leftForLtr(r.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Ye(t,this),this._draw(),Ne(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:s,labels:r}=t,o=Ee.color,a=jn(t.rtl,this.left,this.width),l=Ze(r.font),{padding:h}=r,c=l.size,d=c/2;let u;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:m,itemHeight:g}=to(r,c),p=function(t,e,n){if(isNaN(f)||f<=0||isNaN(m)||m<0)return;i.save();const s=et(n.lineWidth,1);if(i.fillStyle=et(n.fillStyle,o),i.lineCap=et(n.lineCap,"butt"),i.lineDashOffset=et(n.lineDashOffset,0),i.lineJoin=et(n.lineJoin,"miter"),i.lineWidth=s,i.strokeStyle=et(n.strokeStyle,o),i.setLineDash(et(n.lineDash,[])),r.usePointStyle){const o={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:s},l=a.xPlus(t,f/2),h=e+d;Ie(i,o,l,h,r.pointStyleWidth&&f)}else{const r=e+Math.max((c-m)/2,0),o=a.leftForLtr(t,f),l=Xe(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?Be(i,{x:o,y:r,w:f,h:m,radius:l}):i.rect(o,r,f,m),i.fill(),0!==s&&i.stroke()}i.restore()},_=function(t,e,n){Ve(i,n.text,t,e+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})},y=this.isHorizontal(),w=this._computeTitleHeight();u=y?{x:se(s,this.left+h,this.right-n[0]),y:this.top+h+w,line:0}:{x:this.left+h,y:se(s,this.top+w+h,this.bottom-e[0].height),line:0},Wn(this.ctx,t.textDirection);const v=g+h;this.legendItems.forEach(((o,c)=>{i.strokeStyle=o.fontColor,i.fillStyle=o.fontColor;const m=i.measureText(o.text).width,g=a.textAlign(o.textAlign||(o.textAlign=r.textAlign)),b=f+d+m;let M=u.x,S=u.y;a.setWidth(this.width),y?c>0&&M+b+h>this.right&&(S=u.y+=v,u.line++,M=u.x=se(s,this.left+h,this.right-n[u.line])):c>0&&S+v>this.bottom&&(M=u.x=M+e[u.line].width+h,u.line++,S=u.y=se(s,this.top+w+h,this.bottom-e[u.line].height));const C=a.x(M);if(p(C,S,o),M=re(g,M+f+d,y?M+b:this.right,t.rtl),_(a.x(M),S,o),y)u.x+=b+h;else if("string"!==typeof o.text){const t=l.lineHeight;u.y+=oo(o,t)+h}else u.y+=v})),Vn(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Ze(e.font),i=Je(e.padding);if(!e.display)return;const s=jn(t.rtl,this.left,this.width),r=this.ctx,o=e.position,a=n.size/2,l=i.top+a;let h,c=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+l,c=se(t.align,c,this.right-d);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);h=l+se(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const u=se(o,c,c+d);r.textAlign=s.textAlign(ie(o)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=n.string,Ve(r,e.text,u,h,n)}_computeTitleHeight(){const t=this.options.title,e=Ze(t.font),n=Je(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,s;if(Ut(t,this.left,this.right)&&Ut(e,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],Ut(t,i.left,i.left+i.width)&&Ut(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!ao(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,s=eo(i,n);i&&!s&&it(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!s&&it(e.onHover,[t,n,this],this)}else n&&it(e.onClick,[t,n,this],this)}}function io(t,e,n,i,s){const r=so(i,t,e,n),o=ro(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function so(t,e,n,i){let s=t.text;return s&&"string"!==typeof s&&(s=s.reduce(((t,e)=>t.length>e.length?t:e))),e+n.size/2+i.measureText(s).width}function ro(t,e,n){let i=t;return"string"!==typeof e.text&&(i=oo(e,n)),i}function oo(t,e){const n=t.text?t.text.length:0;return e*n}function ao(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}var lo={id:"legend",_element:no,start(t,e,n){const i=t.legend=new no({ctx:t.ctx,options:n,chart:t});as.configure(t,i,n),as.addBox(t,i)},stop(t){as.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;as.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),h=Je(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class ho extends As{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=J(n.text)?n.text.length:1;this._padding=Je(n.padding);const s=i*Ze(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:s,options:r}=this,o=r.align;let a,l,h,c=0;return this.isHorizontal()?(l=se(o,n,s),h=e+t,a=s-n):("left"===r.position?(l=n+t,h=se(o,i,e),c=-.5*bt):(l=s-t,h=se(o,e,i),c=.5*bt),a=i-e),{titleX:l,titleY:h,maxWidth:a,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Ze(e.font),i=n.lineHeight,s=i/2+this._padding.top,{titleX:r,titleY:o,maxWidth:a,rotation:l}=this._drawArgs(s);Ve(t,e.text,0,0,n,{color:e.color,maxWidth:a,rotation:l,textAlign:ie(e.align),textBaseline:"middle",translation:[r,o]})}}function co(t,e){const n=new ho({ctx:t.ctx,options:e,chart:t});as.configure(t,n,e),as.addBox(t,n),t.titleBlock=n}var uo={id:"title",_element:ho,start(t,e,n){co(t,n)},stop(t){const e=t.titleBlock;as.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;as.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const fo={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),s+=t.y,++r}}const o=[...i].reduce(((t,e)=>t+e))/i.size;return{x:o,y:s/r}},nearest(t,e){if(!t.length)return!1;let n,i,s,r=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=i.getCenterPoint(),n=jt(e,t);n<a&&(a=n,s=i)}}if(s){const t=s.tooltipPosition();r=t.x,o=t.y}return{x:r,y:o}}};function mo(t,e){return e&&(J(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function go(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function po(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function _o(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Ze(e.bodyFont),h=Ze(e.titleFont),c=Ze(e.footerFont),d=r.length,u=s.length,f=i.length,m=Je(e.padding);let g=m.height,p=0,_=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(_+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*h.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),_){const t=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*t+(_-f)*l.lineHeight+(_-1)*e.bodySpacing}u&&(g+=e.footerMarginTop+u*c.lineHeight+(u-1)*e.footerSpacing);let y=0;const w=function(t){p=Math.max(p,n.measureText(t).width+y)};return n.save(),n.font=h.string,st(t.title,w),n.font=l.string,st(t.beforeBody.concat(t.afterBody),w),y=e.displayColors?o+2+e.boxPadding:0,st(i,(t=>{st(t.before,w),st(t.lines,w),st(t.after,w)})),y=0,n.font=c.string,st(t.footer,w),n.restore(),p+=m.width,{width:p,height:g}}function yo(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function wo(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;return"left"===t&&s+r+o>e.width||("right"===t&&s-r-o<0||void 0)}function vo(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let h="center";return"center"===i?h=s<=(a+l)/2?"left":"right":s<=r/2?h="left":s>=o-r/2&&(h="right"),wo(h,t,e,n)&&(h="center"),h}function bo(t,e,n){const i=n.yAlign||e.yAlign||yo(t,n);return{xAlign:n.xAlign||e.xAlign||vo(t,e,n,i),yAlign:i}}function Mo(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}function So(t,e,n){let{y:i,height:s}=t;return"top"===e?i+=n:i-="bottom"===e?s+n:s/2,i}function Co(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,h=s+r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=Xe(o);let m=Mo(e,a);const g=So(e,l,h);return"center"===l?"left"===a?m+=h:"right"===a&&(m-=h):"left"===a?m-=Math.max(c,u)+s:"right"===a&&(m+=Math.max(d,f)+s),{x:Bt(m,0,i.width-e.width),y:Bt(g,0,i.height-e.height)}}function xo(t,e,n){const i=Je(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function To(t){return mo([],go(t))}function ko(t,e,n){return en(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Lo(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Eo={beforeTitle:K,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:K,beforeBody:K,beforeLabel:K,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return X(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:K,afterBody:K,beforeFooter:K,footer:K,afterFooter:K};function Ro(t,e,n,i){const s=t[e].call(n,i);return"undefined"===typeof s?Eo[e].call(n,i):s}class Ao extends As{static positioners=fo;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,s=new Kn(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=ko(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,i=Ro(n,"beforeTitle",this,t),s=Ro(n,"title",this,t),r=Ro(n,"afterTitle",this,t);let o=[];return o=mo(o,go(i)),o=mo(o,go(s)),o=mo(o,go(r)),o}getBeforeBody(t,e){return To(Ro(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return st(t,(t=>{const e={before:[],lines:[],after:[]},s=Lo(n,t);mo(e.before,go(Ro(s,"beforeLabel",this,t))),mo(e.lines,Ro(s,"label",this,t)),mo(e.after,go(Ro(s,"afterLabel",this,t))),i.push(e)})),i}getAfterBody(t,e){return To(Ro(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=Ro(n,"beforeFooter",this,t),s=Ro(n,"footer",this,t),r=Ro(n,"afterFooter",this,t);let o=[];return o=mo(o,go(i)),o=mo(o,go(s)),o=mo(o,go(r)),o}_createItems(t){const e=this._active,n=this.chart.data,i=[],s=[],r=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(po(this.chart,e[o]));return t.filter&&(l=l.filter(((e,i,s)=>t.filter(e,i,s,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),st(l,(e=>{const n=Lo(t.callbacks,e);i.push(Ro(n,"labelColor",this,e)),s.push(Ro(n,"labelPointStyle",this,e)),r.push(Ro(n,"labelTextColor",this,e))})),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=r,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let s,r=[];if(i.length){const t=fo[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const e=this._size=_o(this,n),o=Object.assign({},t,e),a=bo(this.chart,n,o),l=Co(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,s={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=r,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const s=this.getCaretPosition(t,n,i);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:s}=this,{caretSize:r,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:h,bottomRight:c}=Xe(o),{x:d,y:u}=t,{width:f,height:m}=e;let g,p,_,y,w,v;return"center"===s?(w=u+m/2,"left"===i?(g=d,p=g-r,y=w+r,v=w-r):(g=d+f,p=g+r,y=w-r,v=w+r),_=g):(p="left"===i?d+Math.max(a,h)+r:"right"===i?d+f-Math.max(l,c)-r:this.caretX,"top"===s?(y=u,w=y-r,g=p-r,_=p+r):(y=u+m,w=y+r,g=p+r,_=p-r),v=y),{x1:g,x2:p,x3:_,y1:y,y2:w,y3:v}}drawTitle(t,e,n){const i=this.title,s=i.length;let r,o,a;if(s){const l=jn(n.rtl,this.x,this.width);for(t.x=xo(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",r=Ze(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=r.string,a=0;a<s;++a)e.fillText(i[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+o,a+1===s&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,i,s){const r=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=s,h=Ze(s.bodyFont),c=xo(this,"left",s),d=i.x(c),u=a<h.lineHeight?(h.lineHeight-a)/2:0,f=e.y+u;if(s.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(d,l)+l/2,h=f+a/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Pe(t,e,n,h),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,Pe(t,e,n,h)}else{t.lineWidth=Z(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const e=i.leftForLtr(d,l),n=i.leftForLtr(i.xPlus(d,1),l-2),o=Xe(r.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Be(t,{x:e,y:f,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),Be(t,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=r.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:s,bodyAlign:r,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:h}=n,c=Ze(n.bodyFont);let d=c.lineHeight,u=0;const f=jn(n.rtl,this.x,this.width),m=function(n){e.fillText(n,f.x(t.x+u),t.y+d/2),t.y+=d+s},g=f.textAlign(r);let p,_,y,w,v,b,M;for(e.textAlign=r,e.textBaseline="middle",e.font=c.string,t.x=xo(this,g,n),e.fillStyle=n.bodyColor,st(this.beforeBody,m),u=o&&"right"!==g?"center"===r?l/2+h:l+2+h:0,w=0,b=i.length;w<b;++w){for(p=i[w],_=this.labelTextColors[w],e.fillStyle=_,st(p.before,m),y=p.lines,o&&y.length&&(this._drawColorBox(e,t,w,f,n),d=Math.max(c.lineHeight,a)),v=0,M=y.length;v<M;++v)m(y[v]),d=c.lineHeight;st(p.after,m)}u=0,d=c.lineHeight,st(this.afterBody,m),t.y-=s}drawFooter(t,e,n){const i=this.footer,s=i.length;let r,o;if(s){const a=jn(n.rtl,this.x,this.width);for(t.x=xo(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",r=Ze(n.footerFont),e.fillStyle=n.footerColor,e.font=r.string,o=0;o<s;++o)e.fillText(i[o],a.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:s,yAlign:r}=this,{x:o,y:a}=t,{width:l,height:h}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=Xe(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+c,a),"top"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+l-d,a),e.quadraticCurveTo(o+l,a,o+l,a+d),"center"===r&&"right"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+l,a+h-f),e.quadraticCurveTo(o+l,a+h,o+l-f,a+h),"bottom"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+u,a+h),e.quadraticCurveTo(o,a+h,o,a+h-u),"center"===r&&"left"===s&&this.drawCaret(t,e,n,i),e.lineTo(o,a+c),e.quadraticCurveTo(o,a,o+c,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const n=fo[t.position].call(this,this._active,this._eventPosition);if(!n)return;const r=this._size=_o(this,t),o=Object.assign({},n,this._size),a=bo(e,t,o),l=Co(t,o,a,e);i._to===l.x&&s._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=r.width,this.height=r.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=Je(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(s,t,i,e),Wn(t,e.textDirection),s.y+=r.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),Vn(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((({datasetIndex:t,index:e})=>{const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),s=!rt(n,i),r=this._positionChanged(i,e);(s||r)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],r=this._getActiveElements(t,s,e,n),o=this._positionChanged(r,t),a=e||!rt(r,s)||o;return a&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const s=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const r=this.chart.getElementsAtEventForMode(t,s.mode,s,n);return s.reverse&&r.reverse(),r}_positionChanged(t,e){const{caretX:n,caretY:i,options:s}=this,r=fo[s.position].call(this,t,e);return!1!==r&&(n!==r.x||i!==r.y)}}var Do={id:"tooltip",_element:Ao,positioners:fo,afterInit(t,e,n){n&&(t.tooltip=new Ao({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Eo},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ho=(t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Po(t,e,n,i){const s=t.indexOf(e);if(-1===s)return Ho(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const Io=(t,e)=>null===t?null:Bt(Math.round(t),0,e);function Oo(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Yo extends Js{static id="category";static defaults={ticks:{callback:Oo}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(X(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:Po(n,t,et(e,t),this._addedLabels),Io(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=0===t&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=e;r++)i.push({value:r});return i}getLabelForValue(t){return Oo.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function No(t,e){const n=[],i=1e-14,{bounds:s,step:r,min:o,max:a,precision:l,count:h,maxTicks:c,maxDigits:d,includeBounds:u}=t,f=r||1,m=c-1,{min:g,max:p}=e,_=!X(o),y=!X(a),w=!X(h),v=(p-g)/(d+1);let b,M,S,C,x=At((p-g)/m/f)*f;if(x<i&&!_&&!y)return[{value:g},{value:p}];C=Math.ceil(p/x)-Math.floor(g/x),C>m&&(x=At(C*x/m/f)*f),X(l)||(b=Math.pow(10,l),x=Math.ceil(x*b)/b),"ticks"===s?(M=Math.floor(g/x)*x,S=Math.ceil(p/x)*x):(M=g,S=p),_&&y&&r&&Pt((a-o)/r,x/1e3)?(C=Math.round(Math.min((a-o)/x,c)),x=(a-o)/C,M=o,S=a):w?(M=_?o:M,S=y?a:S,C=h-1,x=(S-M)/C):(C=(S-M)/x,C=Rt(C,Math.round(C),x/1e3)?Math.round(C):Math.ceil(C));const T=Math.max(Nt(x),Nt(M));b=Math.pow(10,X(l)?T:l),M=Math.round(M*b)/b,S=Math.round(S*b)/b;let k=0;for(_&&(u&&M!==o?(n.push({value:o}),M<o&&k++,Rt(Math.round((M+k*x)*b)/b,o,Fo(o,v,t))&&k++):M<o&&k++);k<C;++k){const t=Math.round((M+k*x)*b)/b;if(y&&t>a)break;n.push({value:t})}return y&&u&&S!==a?n.length&&Rt(n[n.length-1].value,a,Fo(a,v,t))?n[n.length-1].value=a:n.push({value:a}):y&&S!==a||n.push({value:S}),n}function Fo(t,e,{horizontal:n,minRotation:i}){const s=Ot(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class jo extends Js{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return X(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const r=t=>i=e?i:t,o=t=>s=n?s:t;if(t){const t=Et(i),e=Et(s);t<0&&e<0?o(0):t>0&&e>0&&r(0)}if(i===s){let e=0===s?1:Math.abs(.05*s);o(s+e),t||r(i-e)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},s=this._range||this,r=No(i,s);return"ticks"===t.bounds&&It(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return we(t,this.chart.options.locale,this.options.ticks.format)}}class Wo extends jo{static id="linear";static defaults={ticks:{callback:Me.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Q(t)?t:0,this.max=Q(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Ot(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Me.formatters.logarithmic;Me.formatters.numeric;const Vo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bo=Object.keys(Vo);function zo(t,e){return t-e}function Uo(t,e){if(X(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return"function"===typeof i&&(o=i(o)),Q(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(s&&(o="week"!==s||!Ht(r)&&!0!==r?n.startOf(o,s):n.startOf(o,"isoWeek",r)),+o)}function $o(t,e,n,i){const s=Bo.length;for(let r=Bo.indexOf(t);r<s-1;++r){const t=Vo[Bo[r]],s=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(s*t.size))<=i)return Bo[r]}return Bo[s-1]}function Go(t,e,n,i,s){for(let r=Bo.length-1;r>=Bo.indexOf(n);r--){const n=Bo[r];if(Vo[n].common&&t._adapter.diff(s,i,n)>=e-1)return n}return Bo[n?Bo.indexOf(n):0]}function Ko(t){for(let e=Bo.indexOf(t)+1,n=Bo.length;e<n;++e)if(Vo[Bo[e]].common)return Bo[e]}function qo(t,e,n){if(n){if(n.length){const{lo:i,hi:s}=$t(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}else t[e]=!0}function Xo(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Jo(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return 0!==r&&n?Xo(t,i,s,n):i}class Zo extends Js{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),i=this._adapter=new Ii._date(t.adapters.date);i.init(e),ct(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Uo(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:s,minDefined:r,maxDefined:o}=this.getUserBounds();function a(t){r||isNaN(t.min)||(i=Math.min(i,t.min)),o||isNaN(t.max)||(s=Math.max(s,t.max))}r&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=Q(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),s=Q(s)&&!isNaN(s)?s:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,r=this.max,o=qt(i,s,r);return this._unit=e.unit||(n.autoSkip?$o(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):Go(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?Ko(this._unit):void 0,this.initOffsets(i),t.reverse&&o.reverse(),Jo(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,n,i=0,s=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),i=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),s=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;i=Bt(i,0,r),s=Bt(s,0,r),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,s=i.time,r=s.unit||$o(s.minUnit,e,n,this._getLabelCapacity(e)),o=et(i.ticks.stepSize,1),a="week"===r&&s.isoWeekday,l=Ht(a)||!0===a,h={};let c,d,u=e;if(l&&(u=+t.startOf(u,"isoWeek",a)),u=+t.startOf(u,l?"day":r),t.diff(n,e,r)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+r);const f="data"===i.ticks.source&&this.getDataTimestamps();for(c=u,d=0;c<n;c=+t.add(c,o,r),d++)qo(h,c,f);return c!==n&&"ticks"!==i.bounds&&1!==d||qo(h,c,f),Object.keys(h).sort(zo).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options,i=n.time.displayFormats,s=this._unit,r=e||i[s];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,i){const s=this.options,r=s.ticks.callback;if(r)return it(r,[t,e,n],this);const o=s.time.displayFormats,a=this._unit,l=this._majorUnit,h=a&&o[a],c=l&&o[l],d=n[e],u=l&&c&&d&&d.major;return this._adapter.format(t,i||(u?c:h))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=Ot(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(i),r=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*r,h:n*r+o*s}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,s=this._tickFormatFunction(t,0,Jo(this,[t],this._majorUnit),i),r=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(Uo(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Qt(t.sort(zo))}}Zo.defaults},781:function(t,e,n){"use strict";n.d(e,{Ay:function(){return lG}});var i={};n.r(i),n.d(i,{arrayAvg:function(){return R},arrayEach:function(){return T},arrayFilter:function(){return C},arrayFlatten:function(){return A},arrayMap:function(){return x},arrayMax:function(){return L},arrayMin:function(){return E},arrayReduce:function(){return S},arraySum:function(){return k},arrayUnique:function(){return D},extendArray:function(){return b},getDifferenceOfArrays:function(){return H},getIntersectionOfArrays:function(){return P},getUnionOfArrays:function(){return I},pivot:function(){return M},stringToArray:function(){return O},to2dArray:function(){return v}});var s={};n.r(s),n.d(s,{_injectProductInfo:function(){return tt},isDefined:function(){return F},isEmpty:function(){return W},isRegExp:function(){return V},isUndefined:function(){return j},stringify:function(){return N}});var r={};n.r(r),n.d(r,{equalsIgnoreCase:function(){return it},isPercentValue:function(){return rt},randomString:function(){return st},sanitize:function(){return lt},stripTags:function(){return at},substitute:function(){return ot},toUpperCaseFirst:function(){return nt}});var o={};n.r(o),n.d(o,{HTML_CHARACTERS:function(){return fe},addClass:function(){return ae},addEvent:function(){return He},clearTextSelection:function(){return Ne},closest:function(){return Qt},closestDown:function(){return te},empty:function(){return ue},fastInnerHTML:function(){return me},fastInnerText:function(){return ge},getCaretPosition:function(){return Ie},getComputedStyle:function(){return Le},getCssTransform:function(){return $e},getFrameElement:function(){return Xt},getMaximumScrollLeft:function(){return Ce},getMaximumScrollTop:function(){return Se},getParent:function(){return Kt},getParentWindow:function(){return Jt},getScrollLeft:function(){return be},getScrollTop:function(){return ve},getScrollableElement:function(){return Me},getScrollbarWidth:function(){return Ve},getSelectionEndPosition:function(){return Oe},getSelectionText:function(){return Ye},getStyle:function(){return Te},getTrimmingContainer:function(){return xe},getWindowScrollLeft:function(){return we},getWindowScrollTop:function(){return ye},hasAccessToParentWindow:function(){return Zt},hasClass:function(){return oe},hasHorizontalScrollbar:function(){return ze},hasVerticalScrollbar:function(){return Be},index:function(){return ne},innerHeight:function(){return Ae},innerWidth:function(){return De},isChildOf:function(){return ee},isDetached:function(){return Je},isInput:function(){return Ke},isOutsideInput:function(){return qe},isThisHotChild:function(){return qt},isVisible:function(){return pe},makeElementContentEditableAndSelectItsContent:function(){return Qe},matchesCSSRules:function(){return ke},observeVisibilityChangeOnce:function(){return Ze},offset:function(){return _e},outerHeight:function(){return Re},outerWidth:function(){return Ee},overlayContainsElement:function(){return ie},removeAttribute:function(){return ce},removeClass:function(){return le},removeContentEditableFromElementAndDeselect:function(){return tn},removeEvent:function(){return Pe},removeTextNodes:function(){return de},resetCssTransform:function(){return Ge},runWithSelectedContendEditableElement:function(){return en},selectElementIfAllowed:function(){return Xe},setAttribute:function(){return he},setCaretPosition:function(){return Fe},setOverlayPosition:function(){return Ue}});var a={};n.r(a),n.d(a,{curry:function(){return hn},curryRight:function(){return cn},debounce:function(){return on},fastCall:function(){return dn},isFunction:function(){return nn},partial:function(){return ln},pipe:function(){return an},throttle:function(){return sn},throttleAfterHits:function(){return rn}});var l={};n.r(l),n.d(l,{clone:function(){return _n},createObjectPropListener:function(){return Tn},deepClone:function(){return pn},deepExtend:function(){return gn},deepObjectSize:function(){return xn},defineGetter:function(){return bn},duckSchema:function(){return un},extend:function(){return mn},getProperty:function(){return Sn},hasOwnProperty:function(){return kn},inherit:function(){return fn},isObject:function(){return vn},isObjectEqual:function(){return wn},mixin:function(){return yn},objectEach:function(){return Mn},setProperty:function(){return Cn}});var h={};n.r(h),n.d(h,{cancelAnimationFrame:function(){return En},getComparisonFunction:function(){return Hn},isCSR:function(){return An},isTouchSupported:function(){return Rn},requestAnimationFrame:function(){return Ln}});var c={};n.r(c),n.d(c,{isChrome:function(){return Fn},isChromeWebKit:function(){return jn},isEdge:function(){return zn},isEdgeWebKit:function(){return Un},isFirefox:function(){return Wn},isFirefoxWebKit:function(){return Vn},isIOS:function(){return Gn},isIpadOS:function(){return Kn},isLinuxOS:function(){return Jn},isMacOS:function(){return Xn},isMobileBrowser:function(){return $n},isSafari:function(){return Bn},isWindowsOS:function(){return qn},setBrowserMeta:function(){return Yn},setPlatformMeta:function(){return Nn}});var d={};n.r(d),n.d(d,{KEY_CODES:function(){return Zn},isCtrlKey:function(){return ni},isCtrlMetaKey:function(){return ii},isFunctionKey:function(){return ei},isKey:function(){return si},isPrintableChar:function(){return ti}});var u={};n.r(u),n.d(u,{isImmediatePropagationStopped:function(){return oi},isLeftClick:function(){return li},isRightClick:function(){return ai},offsetRelativeTo:function(){return hi},stopImmediatePropagation:function(){return ri}});var f={};n.r(f),n.d(f,{_dataToHTML:function(){return Cs},htmlToGridSettings:function(){return xs},instanceToHTML:function(){return Ss}});var m={};n.r(m),n.d(m,{clamp:function(){return As},isNumeric:function(){return Ts},isNumericLike:function(){return ks},rangeEach:function(){return Ls},rangeEachReverse:function(){return Es},valueAccordingPercent:function(){return Rs}});var g={};n.r(g),n.d(g,{countFirstRowKeys:function(){return Kc},createEmptySpreadsheetData:function(){return $c},createSpreadsheetData:function(){return zc},createSpreadsheetObjectData:function(){return Uc},dataRowToChangesArray:function(){return Gc},isArrayOfArrays:function(){return qc},isArrayOfObjects:function(){return Xc},spreadsheetColumnIndex:function(){return Bc},spreadsheetColumnLabel:function(){return Vc}});var p={};n.r(p),n.d(p,{CHECKBOX_CHECKED:function(){return Wf},CHECKBOX_RENDERER_NAMESPACE:function(){return jf},CHECKBOX_UNCHECKED:function(){return Vf},CONTEXTMENU_ITEMS_ADD_COMMENT:function(){return Pu},CONTEXTMENU_ITEMS_ALIGNMENT:function(){return Nu},CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:function(){return Uu},CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:function(){return ju},CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:function(){return Vu},CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:function(){return Fu},CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:function(){return zu},CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:function(){return Wu},CONTEXTMENU_ITEMS_ALIGNMENT_TOP:function(){return Bu},CONTEXTMENU_ITEMS_BORDERS:function(){return $u},CONTEXTMENU_ITEMS_BORDERS_BOTTOM:function(){return qu},CONTEXTMENU_ITEMS_BORDERS_LEFT:function(){return Xu},CONTEXTMENU_ITEMS_BORDERS_RIGHT:function(){return Ku},CONTEXTMENU_ITEMS_BORDERS_TOP:function(){return Gu},CONTEXTMENU_ITEMS_CLEAR_COLUMN:function(){return Cu},CONTEXTMENU_ITEMS_COPY:function(){return xu},CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:function(){return Lu},CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:function(){return ku},CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:function(){return Tu},CONTEXTMENU_ITEMS_CUT:function(){return Eu},CONTEXTMENU_ITEMS_EDIT_COMMENT:function(){return Iu},CONTEXTMENU_ITEMS_FREEZE_COLUMN:function(){return Ru},CONTEXTMENU_ITEMS_HIDE_COLUMN:function(){return tf},CONTEXTMENU_ITEMS_HIDE_ROW:function(){return nf},CONTEXTMENU_ITEMS_INSERT_LEFT:function(){return _u},CONTEXTMENU_ITEMS_INSERT_RIGHT:function(){return yu},CONTEXTMENU_ITEMS_MERGE_CELLS:function(){return Du},CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:function(){return Qu},CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:function(){return Zu},CONTEXTMENU_ITEMS_NO_ITEMS:function(){return mu},CONTEXTMENU_ITEMS_READ_ONLY:function(){return Su},CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:function(){return Yu},CONTEXTMENU_ITEMS_REDO:function(){return Mu},CONTEXTMENU_ITEMS_REMOVE_BORDERS:function(){return Ju},CONTEXTMENU_ITEMS_REMOVE_COLUMN:function(){return vu},CONTEXTMENU_ITEMS_REMOVE_COMMENT:function(){return Ou},CONTEXTMENU_ITEMS_REMOVE_ROW:function(){return wu},CONTEXTMENU_ITEMS_ROW_ABOVE:function(){return gu},CONTEXTMENU_ITEMS_ROW_BELOW:function(){return pu},CONTEXTMENU_ITEMS_SHOW_COLUMN:function(){return ef},CONTEXTMENU_ITEMS_SHOW_ROW:function(){return sf},CONTEXTMENU_ITEMS_UNDO:function(){return bu},CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:function(){return Au},CONTEXTMENU_ITEMS_UNMERGE_CELLS:function(){return Hu},CONTEXT_MENU_ITEMS_NAMESPACE:function(){return uu},FILTERS_BUTTONS_CANCEL:function(){return Of},FILTERS_BUTTONS_CLEAR:function(){return Pf},FILTERS_BUTTONS_OK:function(){return If},FILTERS_BUTTONS_PLACEHOLDER_SEARCH:function(){return Yf},FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:function(){return Ff},FILTERS_BUTTONS_PLACEHOLDER_VALUE:function(){return Nf},FILTERS_BUTTONS_SELECT_ALL:function(){return Hf},FILTERS_CONDITIONS_AFTER:function(){return Sf},FILTERS_CONDITIONS_BEFORE:function(){return Cf},FILTERS_CONDITIONS_BEGINS_WITH:function(){return uf},FILTERS_CONDITIONS_BETWEEN:function(){return bf},FILTERS_CONDITIONS_BY_VALUE:function(){return pf},FILTERS_CONDITIONS_CONTAINS:function(){return mf},FILTERS_CONDITIONS_EMPTY:function(){return lf},FILTERS_CONDITIONS_ENDS_WITH:function(){return ff},FILTERS_CONDITIONS_EQUAL:function(){return cf},FILTERS_CONDITIONS_GREATER_THAN:function(){return _f},FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:function(){return yf},FILTERS_CONDITIONS_LESS_THAN:function(){return wf},FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:function(){return vf},FILTERS_CONDITIONS_NAMESPACE:function(){return of},FILTERS_CONDITIONS_NONE:function(){return af},FILTERS_CONDITIONS_NOT_BETWEEN:function(){return Mf},FILTERS_CONDITIONS_NOT_CONTAIN:function(){return gf},FILTERS_CONDITIONS_NOT_EMPTY:function(){return hf},FILTERS_CONDITIONS_NOT_EQUAL:function(){return df},FILTERS_CONDITIONS_TODAY:function(){return xf},FILTERS_CONDITIONS_TOMORROW:function(){return Tf},FILTERS_CONDITIONS_YESTERDAY:function(){return kf},FILTERS_DIVS_FILTER_BY_CONDITION:function(){return Lf},FILTERS_DIVS_FILTER_BY_VALUE:function(){return Ef},FILTERS_LABELS_CONJUNCTION:function(){return Rf},FILTERS_LABELS_DISJUNCTION:function(){return Af},FILTERS_NAMESPACE:function(){return rf},FILTERS_VALUES_BLANK_CELLS:function(){return Df}});var _={};n.r(_),n.d(_,{getNormalizedDate:function(){return Ov}});n(6280),n(4114),n(9848);var y=n(9937),w=n(5093);function v(t){const e=t.length;let n=0;while(n<e)t[n]=[t[n]],n+=1}function b(t,e){const n=e.length;let i=0;while(i<n)t.push(e[i]),i+=1}function M(t){const e=[];if(!t||0===t.length||!t[0]||0===t[0].length)return e;const n=t.length,i=t[0].length;for(let s=0;s<n;s++)for(let n=0;n<i;n++)e[n]||(e[n]=[]),e[n][s]=t[s][n];return e}function S(t,e,n,i){let s=-1,r=t,o=n;Array.isArray(t)||(r=Array.from(t));const a=r.length;i&&a&&(s+=1,o=r[s]),s+=1;while(s<a)o=e(o,r[s],s,r),s+=1;return o}function C(t,e){let n=0,i=t;Array.isArray(t)||(i=Array.from(t));const s=i.length,r=[];let o=-1;while(n<s){const t=i[n];e(t,n,i)&&(o+=1,r[o]=t),n+=1}return r}function x(t,e){let n=0,i=t;Array.isArray(t)||(i=Array.from(t));const s=i.length,r=[];let o=-1;while(n<s){const t=i[n];o+=1,r[o]=e(t,n,i),n+=1}return r}function T(t,e){let n=0,i=t;Array.isArray(t)||(i=Array.from(t));const s=i.length;while(n<s){if(!1===e(i[n],n,i))break;n+=1}return t}function k(t){return S(t,((t,e)=>t+e),0)}function L(t){return S(t,((t,e)=>t>e?t:e),Array.isArray(t)?t[0]:void 0)}function E(t){return S(t,((t,e)=>t<e?t:e),Array.isArray(t)?t[0]:void 0)}function R(t){return t.length?k(t)/t.length:0}function A(t){return S(t,((t,e)=>t.concat(Array.isArray(e)?A(e):e)),[])}function D(t){const e=[];return T(t,(t=>{-1===e.indexOf(t)&&e.push(t)})),e}function H(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[i,...s]=[...e];let r=i;return T(s,(t=>{r=r.filter((e=>!t.includes(e)))})),r}function P(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[i,...s]=[...e];let r=i;return T(s,(t=>{r=r.filter((e=>t.includes(e)))})),r}function I(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[i,...s]=[...e],r=new Set(i);return T(s,(t=>{T(t,(t=>{r.has(t)||r.add(t)}))})),Array.from(r)}function O(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return t.split(e)}function Y(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const s=S(t,((t,e,i)=>{const s=e.replace(/\r?\n\s*/g,""),r=n[i]?n[i]:"";return t+s+r}),"");return s.trim()}function N(t){let e;switch(typeof t){case"string":case"number":e=`${t}`;break;case"object":e=null===t?"":t.toString();break;case"undefined":e="";break;default:e=t.toString();break}return e}function F(t){return"undefined"!==typeof t}function j(t){return"undefined"===typeof t}function W(t){return null===t||""===t||j(t)}function V(t){return"[object RegExp]"===Object.prototype.toString.call(t)}const B="length",z=t=>parseInt(t,16),U=t=>parseInt(t,10),$=(t,e,n)=>t["substr"](e,n),G=t=>t["codePointAt"](0)-65,K=t=>`${t}`.replace(/\-/g,""),q=t=>z($(K(t),z("12"),G("F")))/(z($(K(t),G("B"),~~![][B]))||9),X=()=>"undefined"!==typeof location&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host);let J=!1;const Z={invalid:()=>Y`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return Y`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${e}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>Y`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},Q={invalid:()=>Y`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return Y`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${e}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>Y`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function tt(t,e){const n=!W(t),i="string"===typeof t&&"non-commercial-and-evaluation"===t.toLowerCase(),s="14.3.0";let r,o="invalid",a="invalid";t=K(t||"");const l=et(t);if(n||i||l)if(l){const e=w("16/04/2024","DD/MM/YYYY"),n=Math.floor(e.toDate().getTime()/864e5),i=q(t);r=w(864e5*(i+1),"x").format("MMMM DD, YYYY"),n>i?(o="expired",a="expired"):(o="valid",a="valid")}else i?(o="non_commercial",a="valid"):(o="invalid",a="invalid");else o="missing",a="missing";if(X()&&(o="valid",a="valid"),!J&&"valid"!==o){const t=Z[o]({keyValidityDate:r,hotVersion:s});t&&console["non_commercial"===o?"info":"warn"](Z[o]({keyValidityDate:r,hotVersion:s})),J=!0}if("valid"!==a&&e.parentNode){const t=Q[a]({keyValidityDate:r,hotVersion:s});if(t){const t=document.createElement("div");t.className="hot-display-license-info",t.innerHTML=Q[a]({keyValidityDate:r,hotVersion:s}),e.parentNode.insertBefore(t,e.nextSibling)}}}function et(t){let e=[][B],n=e;if(t[B]!==G("Z"))return!1;for(let i="",s="B<H4P+".split(""),r=G(s.shift());r;r=G(s.shift()||"A"))--r<""[B]?n|=(U(`${U(z(i)+(z($(t,Math.abs(r),2))+[]).padStart(2,"0"))}`)%97||2)>>1:i=$(t,r,r?1===s[B]?9:8:6);return n===e}function nt(t){return t[0].toUpperCase()+t.substr(1)}function it(){const t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];let s=n.length;while(s){s-=1;const e=N(n[s]).toLowerCase();-1===t.indexOf(e)&&t.push(e)}return 1===t.length}function st(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()}function rt(t){return/^([0-9][0-9]?%$)|(^100%$)/.test(t)}function ot(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return`${t}`.replace(/(?:\\)?\[([^[\]]+)]/g,((t,n)=>"\\"===t.charAt(0)?t.substr(1,t.length-1):void 0===e[n]?"":e[n]))}function at(t){return lt(`${t}`,{ALLOWED_TAGS:[]})}function lt(t,e){return y.sanitize(t,e)}const ht=t=>["tabindex",t],ct=()=>["role","treegrid"],dt=()=>["role","presentation"],ut=()=>["role","gridcell"],ft=()=>["role","rowheader"],mt=()=>["role","rowgroup"],gt=()=>["role","columnheader"],pt=()=>["role","row"],_t=()=>["role","menu"],yt=()=>["role","menuitem"],wt=()=>["role","combobox"],vt=()=>["role","listbox"],bt=()=>["role","option"],Mt=()=>["role","checkbox"],St=()=>["scope","col"],Ct=()=>["scope","row"],xt=()=>["type","text"],Tt=t=>["aria-label",t],kt=()=>["aria-hidden","true"],Lt=()=>["aria-disabled","true"],Et=()=>["aria-multiselectable","true"],Rt=t=>["aria-haspopup",t],At=t=>["aria-rowcount",t],Dt=t=>["aria-colcount",t],Ht=t=>["aria-rowindex",t],Pt=t=>["aria-colindex",t],It=t=>["aria-expanded",t],Ot=t=>["aria-sort",t],Yt=()=>["aria-readonly","true"],Nt=()=>["aria-invalid","true"],Ft=t=>["aria-checked",t],jt=()=>["aria-selected","true"],Wt=()=>["aria-autocomplete","list"],Vt=t=>["aria-controls",t],Bt=t=>["aria-activedescendant",t],zt=t=>["aria-live",t],Ut=t=>["aria-relevant",t],$t=t=>["aria-setsize",t],Gt=t=>["aria-posinset",t];function Kt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,i=null,s=t;while(null!==s){if(n===e){i=s;break}s.host&&s.nodeType===Node.DOCUMENT_FRAGMENT_NODE?s=s.host:(n+=1,s=s.parentNode)}return i}function qt(t,e){const n=t.closest(".handsontable");return!!n&&(n.parentNode===e||n===e)}function Xt(t){return Object.getPrototypeOf(t.parent)&&t.frameElement}function Jt(t){return Xt(t)&&t.parent}function Zt(t){return!!Object.getPrototypeOf(t.parent)}function Qt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const{ELEMENT_NODE:i,DOCUMENT_FRAGMENT_NODE:s}=Node;let r=t;while(null!==r&&void 0!==r&&r!==n){const{nodeType:t,nodeName:n}=r;if(t===i&&(e.includes(n)||e.includes(r)))return r;const{host:o}=r;r=o&&t===s?o:r.parentNode}return null}function te(t,e,n){const i=[];let s=t;while(s){if(s=Qt(s,e,n),!s||n&&!n.contains(s))break;i.push(s),s=s.host&&s.nodeType===Node.DOCUMENT_FRAGMENT_NODE?s.host:s.parentNode}const r=i.length;return r?i[r-1]:null}function ee(t,e){let n=t.parentNode,i=[];"string"===typeof e?i=t.defaultView?Array.prototype.slice.call(t.querySelectorAll(e),0):Array.prototype.slice.call(t.ownerDocument.querySelectorAll(e),0):i.push(e);while(null!==n){if(i.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function ne(t){let e=0,n=t;if(n.previousSibling)while(n=n.previousSibling)e+=1;return e}function ie(t,e,n){const i=n.parentElement.querySelector(`.ht_clone_${t}`);return i?i.contains(e):null}function se(t){return t&&t.length?t.filter((t=>!!t)):[]}function re(t,e){if(!t||!t.length)return e?{regexFree:[],regexes:[]}:[];const n=[],i=[];return i.push(...t.filter((t=>{const i=t instanceof RegExp;return i&&e&&n.push(t),!i}))),e?{regexFree:i,regexes:n}:i}function oe(t,e){return void 0!==t.classList&&"string"===typeof e&&""!==e&&t.classList.contains(e)}function ae(t,e){"string"===typeof e&&(e=e.split(" ")),e=se(e),e.length>0&&t.classList.add(...e)}function le(t,e){"string"===typeof e?e=e.split(" "):e instanceof RegExp&&(e=[e]);let{regexFree:n,regexes:i}=re(e,!0);n=se(n),n.length>0&&t.classList.remove(...n),i.forEach((e=>{t.classList.forEach((n=>{e.test(n)&&t.classList.remove(n)}))}))}function he(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;Array.isArray(e)||(e=[[e,n]]),e.forEach((e=>{Array.isArray(e)&&""!==e[0]&&t.setAttribute(...e)}))}function ce(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];"string"===typeof e?e=e.split(" "):e instanceof RegExp&&(e=[e]);const{regexFree:n,regexes:i}=re(e,!0);n.forEach((e=>{""!==e&&t.removeAttribute(e)})),i.forEach((e=>{t.getAttributeNames().forEach((n=>{e.test(n)&&t.removeAttribute(n)}))}))}function de(t){if(3===t.nodeType)t.parentNode.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1){const e=t.childNodes;for(let t=e.length-1;t>=0;t--)de(e[t])}}function ue(t){let e;while(e=t.lastChild)t.removeChild(e)}const fe=/(<(.*)>|&(.*);)/;function me(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];fe.test(e)?t.innerHTML=n?lt(e):e:ge(t,e)}function ge(t,e){const n=t.firstChild;n&&3===n.nodeType&&null===n.nextSibling?n.textContent=e:(ue(t),t.appendChild(t.ownerDocument.createTextNode(e)))}function pe(t){const e=t.ownerDocument.documentElement;let n=t;while(n!==e){if(null===n)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(n.host){if(n.host.impl)return pe(n.host.impl);if(n.host)return pe(n.host);throw new Error("Lost in Web Components world")}return!1}if("none"===Le(n).display)return!1;n=n.parentNode}return!0}function _e(t){const e=t.ownerDocument,n=e.defaultView,i=e.documentElement;let s,r,o,a=t;s=a.offsetLeft,r=a.offsetTop,o=a;while(a=a.offsetParent){if(a===e.body)break;if(!("offsetLeft"in a))break;s+=a.offsetLeft,r+=a.offsetTop,o=a}return o&&"fixed"===o.style.position&&(s+=n.pageXOffset||i.scrollLeft,r+=n.pageYOffset||i.scrollTop),{left:s,top:r}}function ye(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return t.scrollY}function we(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return t.scrollX}function ve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return t===e?ye(e):t.scrollTop}function be(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return t===e?we(e):t.scrollLeft}function Me(t){let e=t.ownerDocument,n=e?e.defaultView:void 0;e||(e=t.document?t.document:t,n=e.defaultView);const i=["auto","scroll"];let s=t.parentNode;while(s&&s.style&&e.body!==s){let{overflow:t,overflowX:e,overflowY:r}=s.style;if([t,e,r].includes("scroll"))return s;if(({overflow:t,overflowX:e,overflowY:r}=n.getComputedStyle(s)),i.includes(t)||i.includes(e)||i.includes(r))return s;if(s.clientHeight<=s.scrollHeight+1&&(i.includes(r)||i.includes(t)))return s;if(s.clientWidth<=s.scrollWidth+1&&(i.includes(e)||i.includes(t)))return s;s=s.parentNode}return n}function Se(t){return t.scrollHeight-t.clientHeight}function Ce(t){return t.scrollWidth-t.clientWidth}function xe(t){const e=t.ownerDocument,n=e.defaultView;let i=t.parentNode;while(i&&i.style&&e.body!==i){if("visible"!==i.style.overflow&&""!==i.style.overflow)return i;const t=Le(i,n),e=["scroll","hidden","auto"],s=t.getPropertyValue("overflow"),r=t.getPropertyValue("overflow-y"),o=t.getPropertyValue("overflow-x");if(e.includes(s)||e.includes(r)||e.includes(o))return i;i=i.parentNode}return n}function Te(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(!t)return;if(t===n)return"width"===e?`${n.innerWidth}px`:"height"===e?`${n.innerHeight}px`:void 0;const i=t.style[e];if(""!==i&&void 0!==i)return i;const s=Le(t,n);return""!==s[e]&&void 0!==s[e]?s[e]:void 0}function ke(t,e){const{selectorText:n}=e;let i=!1;return e.type===CSSRule.STYLE_RULE&&n&&(t.msMatchesSelector?i=t.msMatchesSelector(n):t.matches&&(i=t.matches(n))),i}function Le(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return t.currentStyle||e.getComputedStyle(t)}function Ee(t){return t.offsetWidth}function Re(t){return t.offsetHeight}function Ae(t){return t.clientHeight||t.innerHeight}function De(t){return t.clientWidth||t.innerWidth}function He(t,e,n){t.addEventListener(e,n,!1)}function Pe(t,e,n){t.removeEventListener(e,n,!1)}function Ie(t){return t.selectionStart?t.selectionStart:0}function Oe(t){return t.selectionEnd?t.selectionEnd:0}function Ye(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const e=t.document;let n="";return t.getSelection?n=t.getSelection().toString():e.selection&&"Control"!==e.selection.type&&(n=e.selection.createRange().text),n}function Ne(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;t.getSelection&&(t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges())}function Fe(t,e,n){if(void 0===n&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch(i){const s=t.parentNode,r=s.style.display;s.style.display="block",t.setSelectionRange(e,n),s.style.display=r}}}let je;function We(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const e=t.createElement("div");e.style.height="200px",e.style.width="100%";const n=t.createElement("div");n.style.boxSizing="content-box",n.style.height="150px",n.style.left="0px",n.style.overflow="hidden",n.style.position="absolute",n.style.top="0px",n.style.width="200px",n.style.visibility="hidden",n.appendChild(e),(t.body||t.documentElement).appendChild(n);const i=e.offsetWidth;n.style.overflow="scroll";let s=e.offsetWidth;return i===s&&(s=n.clientWidth),(t.body||t.documentElement).removeChild(n),i-s}function Ve(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return void 0===je&&(je=We(t)),je}function Be(t){return t.offsetWidth!==t.clientWidth}function ze(t){return t.offsetHeight!==t.clientHeight}function Ue(t,e,n){t.style.transform=`translate3d(${e},${n},0)`}function $e(t){let e;return t.style.transform&&""!==(e=t.style.transform)?["transform",e]:-1}function Ge(t){t.style.transform&&""!==t.style.transform&&(t.style.transform="")}function Ke(t){const e=["INPUT","SELECT","TEXTAREA"];return t&&(e.indexOf(t.nodeName)>-1||"true"===t.contentEditable)}function qe(t){return Ke(t)&&!1===t.hasAttribute("data-hot-input")}function Xe(t){const e=t.ownerDocument.activeElement;qe(e)||t.select()}function Je(t){return!t.parentNode}function Ze(t,e){const n=new IntersectionObserver(((n,i)=>{n.forEach((n=>{n.isIntersecting&&null!==t.offsetParent&&(e(),i.unobserve(t))}))}),{root:t.ownerDocument.body});n.observe(t)}function Qe(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=t.ownerDocument,s=i.createRange(),r=i.defaultView.getSelection();he(t,"contenteditable",!0),n&&he(t,...kt()),e&&ae(t,"invisibleSelection"),s.selectNodeContents(t),r.removeAllRanges(),r.addRange(s)}function tn(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=t.ownerDocument.defaultView.getSelection();t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden"),n.removeAllRanges(),e&&le(t,"invisibleSelection"),t.removeAttribute("contenteditable")}function en(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Qe(t,n),e(),tn(t,n)}function nn(t){return"function"===typeof t}function sn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=0;const i={lastCallThrottled:!0};let s=null;function r(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];const l=Date.now();let h=!1;i.lastCallThrottled=!0,n||(n=l,h=!0);const c=e-(l-n);return h?(i.lastCallThrottled=!1,t.apply(this,o)):(s&&clearTimeout(s),s=setTimeout((()=>{i.lastCallThrottled=!1,t.apply(this,o),n=0,s=void 0}),c)),i}return r}function rn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const i=sn(t,e);let s=n;function r(){s=n}function o(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return s?(s-=1,t.apply(this,n)):i.apply(this,n)}return o.clearHits=r,o}function on(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=null;function s(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return i&&clearTimeout(i),i=setTimeout((()=>{e=t.apply(this,r)}),n),e}return s}function an(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[i,...s]=e;return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S(s,((t,e)=>e(t)),i.apply(this,e))}}function ln(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return t.apply(this,n.concat(i))}}function hn(t){const e=t.length;function n(i){return function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];const a=i.concat(r);let l;return l=a.length>=e?t.apply(this,a):n(a),l}}return n([])}function cn(t){const e=t.length;function n(i){return function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];const a=i.concat(r.reverse());let l;return l=a.length>=e?t.apply(this,a):n(a),l}}return n([])}function dn(t,e,n,i,s,r,o,a){return F(a)?t.call(e,n,i,s,r,o,a):F(o)?t.call(e,n,i,s,r,o):F(r)?t.call(e,n,i,s,r):F(s)?t.call(e,n,i,s):F(i)?t.call(e,n,i):F(n)?t.call(e,n):t.call(e)}n(3110);function un(t){let e;return Array.isArray(t)?e=t.length?new Array(t.length).fill(null):[]:(e={},Mn(t,((t,n)=>{"__children"!==n&&(t&&"object"===typeof t&&!Array.isArray(t)?e[n]=un(t):Array.isArray(t)?t.length&&"object"===typeof t[0]&&!Array.isArray(t[0])?e[n]=[un(t[0])]:e[n]=[]:e[n]=null)}))),e}function fn(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function mn(t,e,n){const i=Array.isArray(n);return Mn(e,((e,s)=>{(!1===i||n.includes(s))&&(t[s]=e)})),t}function gn(t,e){Mn(e,((n,i)=>{e[i]&&"object"===typeof e[i]?(t[i]||(Array.isArray(e[i])?t[i]=[]:"[object Date]"===Object.prototype.toString.call(e[i])?t[i]=e[i]:t[i]={}),gn(t[i],e[i])):t[i]=e[i]}))}function pn(t){return"object"===typeof t?JSON.parse(JSON.stringify(t)):t}function _n(t){const e={};return Mn(t,((t,n)=>{e[n]=t})),e}function yn(t){t.MIXINS||(t.MIXINS=[]);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return T(n,(e=>{t.MIXINS.push(e.MIXIN_NAME),Mn(e,((e,n)=>{if(void 0!==t.prototype[n])throw new Error(`Mixin conflict. Property '${n}' already exist and cannot be overwritten.`);if("function"===typeof e)t.prototype[n]=e;else{const i=function(t,e){const n=`_${t}`,i=t=>{let e=t;return(Array.isArray(e)||vn(e))&&(e=pn(e)),e};return function(){return void 0===this[n]&&(this[n]=i(e)),this[n]}},s=function(t){const e=`_${t}`;return function(t){this[e]=t}};Object.defineProperty(t.prototype,n,{get:i(n,e),set:s(n),configurable:!0})}}))})),t}function wn(t,e){return JSON.stringify(t)===JSON.stringify(e)}function vn(t){return"[object Object]"===Object.prototype.toString.call(t)}function bn(t,e,n,i){i.value=n,i.writable=!1!==i.writable,i.enumerable=!1!==i.enumerable,i.configurable=!1!==i.configurable,Object.defineProperty(t,e,i)}function Mn(t,e){for(const n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t,n))&&!1===e(t[n],n,t))break;return t}function Sn(t,e){const n=e.split(".");let i=t;return Mn(n,(t=>{if(i=i[t],void 0===i)return i=void 0,!1})),i}function Cn(t,e,n){const i=e.split(".");let s=t;i.forEach(((t,e)=>{e!==i.length-1?(kn(s,t)||(s[t]={}),s=s[t]):s[t]=n}))}function xn(t){if(!vn(t))return 0;const e=function(t){let n=0;return vn(t)?Mn(t,((t,i)=>{"__children"!==i&&(n+=e(t))})):n+=1,n};return e(t)}function Tn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";const n=`_${e}`,i={_touched:!1,[n]:t,isTouched(){return this._touched}};return Object.defineProperty(i,e,{get(){return this[n]},set(t){this._touched=!0,this[n]=t},enumerable:!0,configurable:!0}),i}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ln(t){return window.requestAnimationFrame(t)}function En(t){window.cancelAnimationFrame(t)}function Rn(){return"ontouchstart"in window}function An(){return"undefined"!==typeof window}let Dn;function Hn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Dn||(Dn="object"===typeof Intl?new Intl.Collator(t,e).compare:"function"===typeof String.prototype.localeCompare?(t,e)=>`${t}`.localeCompare(e):(t,e)=>t===e?0:t>e?-1:1,Dn)}const Pn=t=>{const e={value:!1,test:(n,i)=>{e.value=t(n,i)}};return e},In={chrome:Pn(((t,e)=>/Chrome/.test(t)&&/Google/.test(e))),chromeWebKit:Pn((t=>/CriOS/.test(t))),edge:Pn((t=>/Edge/.test(t))),edgeWebKit:Pn((t=>/EdgiOS/.test(t))),firefox:Pn((t=>/Firefox/.test(t))),firefoxWebKit:Pn((t=>/FxiOS/.test(t))),mobile:Pn((t=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t))),safari:Pn(((t,e)=>/Safari/.test(t)&&/Apple Computer/.test(e)))},On={mac:Pn((t=>/^Mac/.test(t))),win:Pn((t=>/^Win/.test(t))),linux:Pn((t=>/^Linux/.test(t))),ios:Pn((t=>/iPhone|iPad|iPod/i.test(t)))};function Yn(){let{userAgent:t=navigator.userAgent,vendor:e=navigator.vendor}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Mn(In,(n=>{let{test:i}=n;i(t,e)}))}function Nn(){let{platform:t=navigator.platform}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Mn(On,(e=>{let{test:n}=e;n(t)}))}function Fn(){return In.chrome.value}function jn(){return In.chromeWebKit.value}function Wn(){return In.firefox.value}function Vn(){return In.firefoxWebKit.value}function Bn(){return In.safari.value}function zn(){return In.edge.value}function Un(){return In.edgeWebKit.value}function $n(){return In.mobile.value}function Gn(){return On.ios.value}function Kn(){let{maxTouchPoints:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return t>2&&On.mac.value}function qn(){return On.win.value}function Xn(){return On.mac.value}function Jn(){return On.linux.value}An()&&(Yn(),Nn());const Zn={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:Wn()?182:174,AUDIO_MUTE:Wn()?181:173,AUDIO_UP:Wn()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},Qn=[Zn.ALT,Zn.ARROW_DOWN,Zn.ARROW_LEFT,Zn.ARROW_RIGHT,Zn.ARROW_UP,Zn.AUDIO_DOWN,Zn.AUDIO_MUTE,Zn.AUDIO_UP,Zn.BACKSPACE,Zn.CAPS_LOCK,Zn.DELETE,Zn.END,Zn.ENTER,Zn.ESCAPE,Zn.F1,Zn.F2,Zn.F3,Zn.F4,Zn.F5,Zn.F6,Zn.F7,Zn.F8,Zn.F9,Zn.F10,Zn.F11,Zn.F12,Zn.F13,Zn.F14,Zn.F15,Zn.F16,Zn.F17,Zn.F18,Zn.F19,Zn.HOME,Zn.INSERT,Zn.MEDIA_NEXT,Zn.MEDIA_PLAY_PAUSE,Zn.MEDIA_PREV,Zn.MEDIA_STOP,Zn.NULL,Zn.NUM_LOCK,Zn.PAGE_DOWN,Zn.PAGE_UP,Zn.PAUSE,Zn.SCROLL_LOCK,Zn.SHIFT,Zn.TAB];function ti(t){return 32===t||t>=48&&t<=57||t>=96&&t<=111||t>=186&&t<=192||t>=219&&t<=222||t>=226||t>=65&&t<=90}function ei(t){return Qn.includes(t)}function ni(t){const e=[];return Xn()?e.push(Zn.COMMAND_LEFT,Zn.COMMAND_RIGHT,Zn.COMMAND_FIREFOX):e.push(Zn.CONTROL),e.includes(t)}function ii(t){return[Zn.CONTROL,Zn.COMMAND_LEFT,Zn.COMMAND_RIGHT,Zn.COMMAND_FIREFOX].includes(t)}function si(t,e){const n=e.split("|");let i=!1;return T(n,(e=>{if(t===Zn[e])return i=!0,!1})),i}function ri(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function oi(t){return!1===t.isImmediatePropagationEnabled}function ai(t){return 2===t.button}function li(t){return 0===t.button}function hi(t,e){const n={x:t.offsetX,y:t.offsetY};let i=t.target;if(!(e instanceof HTMLElement)||i!==e&&i.contains(e))return n;while(i!==e)n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;return n}function ci(){F(console)&&console.warn(...arguments)}function di(){F(console)&&console.error(...arguments)}function ui(t,e,n){return e=fi(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fi(t){var e=mi(t,"string");return"symbol"==typeof e?e:e+""}function mi(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}const gi=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSelectionFocusSet","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSelectionFocusSet","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFiltersMultiSelectValue","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformFocus","modifyTransformStart","modifyTransformEnd","afterModifyTransformFocus","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","beforeBeginEditing","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],pi=Y`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`,_i=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),yi=new Map([[]]);class wi{static getSingleton(){return bi()}constructor(){ui(this,"globalBucket",void 0),this.globalBucket=this.createEmptyBucket()}createEmptyBucket(){const t=Object.create(null);return T(gi,(e=>t[e]=[])),t}getBucket(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket}add(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(e))T(e,(e=>this.add(t,e,n)));else{_i.has(t)&&ci(ot(pi,{hookName:t,removedInVersion:_i.get(t)})),yi.has(t)&&ci(yi.get(t));const i=this.getBucket(n);if("undefined"===typeof i[t]&&(this.register(t),i[t]=[]),e.skip=!1,-1===i[t].indexOf(e)){let n=!1;e.initialHook&&T(i[t],((s,r)=>{if(s.initialHook)return i[t][r]=e,n=!0,!1})),n||i[t].push(e)}}return this}once(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(e)?T(e,(e=>this.once(t,e,n))):(e.runOnce=!0,this.add(t,e,n))}remove(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=this.getBucket(n);return"undefined"!==typeof i[t]&&i[t].indexOf(e)>=0&&(e.skip=!0,!0)}has(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.getBucket(e);return!(void 0===n[t]||!n[t].length)}run(t,e,n,i,s,r,o,a){{const l=this.globalBucket[e],h=l?l.length:0;let c=0;if(h)while(c<h){if(!l[c]||l[c].skip){c+=1;continue}const h=dn(l[c],t,n,i,s,r,o,a);void 0!==h&&(n=h),l[c]&&l[c].runOnce&&this.remove(e,l[c]),c+=1}}{const l=this.getBucket(t)[e],h=l?l.length:0;let c=0;if(h)while(c<h){if(!l[c]||l[c].skip){c+=1;continue}const h=dn(l[c],t,n,i,s,r,o,a);void 0!==h&&(n=h),l[c]&&l[c].runOnce&&this.remove(e,l[c],t),c+=1}}return n}destroy(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Mn(this.getBucket(t),((t,e,n)=>n[e].length=0))}register(t){this.isRegistered(t)||gi.push(t)}deregister(t){this.isRegistered(t)&&gi.splice(gi.indexOf(t),1)}isDeprecated(t){return yi.has(t)||_i.has(t)}isRegistered(t){return gi.indexOf(t)>=0}getRegistered(){return gi}}const vi=new wi;function bi(){return vi}var Mi=wi;const Si=new Map;function Ci(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common";Si.has(t)||Si.set(t,new Map);const e=Si.get(t);function n(t,n){e.set(t,n)}function i(t){return e.get(t)}function s(t){return e.has(t)}function r(){return[...e.keys()]}function o(){return[...e.values()]}return{register:n,getItem:i,hasItem:s,getNames:r,getValues:o}}const xi=new WeakMap,{register:Ti,getItem:ki,hasItem:Li,getNames:Ei,getValues:Ri}=Ci("editors");function Ai(t){const e={},n=t;this.getConstructor=function(){return t},this.getInstance=function(t){return t.guid in e||(e[t.guid]=new n(t)),e[t.guid]},Mi.getSingleton().add("afterDestroy",(function(){e[this.guid]=null}))}function Di(t,e){let n;if("function"===typeof t)xi.get(t)||Pi(null,t),n=xi.get(t);else{if("string"!==typeof t)throw Error('Only strings and functions can be passed as "editor" parameter');n=ki(t)}if(!n)throw Error(`No editor registered under name "${t}"`);return n.getInstance(e)}function Hi(t){if("function"===typeof t)return t;if(!Li(t))throw Error(`No registered editor found under "${t}" name`);return ki(t).getConstructor()}function Pi(t,e){t&&"string"!==typeof t&&(e=t,t=e.EDITOR_TYPE);const n=new Ai(e);"string"===typeof t&&Ti(t,n),xi.set(e,n)}function Ii(t,e,n){return e=Oi(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oi(t){var e=Yi(t,"string");return"symbol"==typeof e?e:e+""}function Yi(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}let Ni=0;class Fi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Ii(this,"context",void 0),this.context=t||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];function s(t){n.call(this,ji(t))}return this.context.eventListeners.push({element:t,event:e,callback:n,callbackProxy:s,options:i,eventManager:this}),t.addEventListener(e,s,i),Ni+=1,()=>{this.removeEventListener(t,e,n)}}removeEventListener(t,e,n){let i,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.context.eventListeners.length;while(r)if(r-=1,i=this.context.eventListeners[r],i.event===e&&i.element===t){if(n&&n!==i.callback)continue;if(s&&i.eventManager!==this)continue;this.context.eventListeners.splice(r,1),i.element.removeEventListener(i.event,i.callbackProxy,i.options),Ni-=1}}clearEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.context)return;let e=this.context.eventListeners.length;while(e){e-=1;const n=this.context.eventListeners[e];t&&n.eventManager!==this||(this.context.eventListeners.splice(e,1),n.element.removeEventListener(n.event,n.callbackProxy,n.options),Ni-=1)}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(t,e){let n=t.document,i=t;n||(n=t.ownerDocument?t.ownerDocument:t,i=n.defaultView);const s={bubbles:!0,cancelable:"mousemove"!==e,view:i,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};let r;n.createEvent?(r=n.createEvent("MouseEvents"),r.initMouseEvent(e,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget||n.body.parentNode)):r=n.createEventObject(),t.dispatchEvent?t.dispatchEvent(r):t.fireEvent(`on${e}`,r)}}function ji(t){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=function(){e.apply(this),ri(this)},t}var Wi=Fi;function Vi(){return Ni}function Bi(t,e){zi(t,e),e.add(t)}function zi(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ui(t,e,n){return e=$i(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $i(t){var e=Gi(t,"string");return"symbol"==typeof e?e:e+""}function Gi(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Ki(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const qi="editorManager.navigation";var Xi=new WeakSet;class Ji{constructor(t,e,n){Bi(this,Xi),Ui(this,"hot",void 0),Ui(this,"tableMeta",void 0),Ui(this,"selection",void 0),Ui(this,"eventManager",void 0),Ui(this,"destroyed",!1),Ui(this,"lock",!1),Ui(this,"activeEditor",void 0),Ui(this,"cellProperties",void 0),this.hot=t,this.tableMeta=e,this.selection=n,this.eventManager=new Wi(t),this.hot.addHook("afterDocumentKeyDown",(t=>Ki(Xi,this,Zi).call(this,t))),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"compositionstart",(t=>{!this.destroyed&&this.hot.isListening()&&this.openEditor("",t)})),this.hot.view._wt.update("onCellDblClick",((t,e,n)=>Ki(Xi,this,Qi).call(this,t,e,n)))}lockEditor(){this.lock=!0}unlockEditor(){this.lock=!1}destroyEditor(t){this.lock||this.closeEditor(t)}getActiveEditor(){return this.activeEditor}prepareEditor(){var t;if(this.lock)return;if(this.activeEditor&&this.activeEditor.isWaiting())return void this.closeEditor(!1,!1,(t=>{t&&this.prepareEditor()}));const e=null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight;if(!e||e.isHeader())return;const{row:n,col:i}=e,s=this.hot.runHooks("modifyGetCellCoords",n,i);let r=n,o=i;if(Array.isArray(s)&&([r,o]=s),this.cellProperties=this.hot.getCellMeta(r,o),!this.isCellEditable())return void this.clearActiveEditor();const a=this.hot.getCell(n,i,!0);if(a){const t=this.hot.getCellEditor(this.cellProperties),e=this.hot.colToProp(o),s=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(r),o);this.activeEditor=Di(t,this.hot),this.activeEditor.prepare(n,i,e,a,s,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.isCellEditable())return void this.clearActiveEditor();const i=this.hot.getSelectedRangeLast();let s=this.hot.runHooks("beforeBeginEditing",i.highlight.row,i.highlight.col,t,e,n);e instanceof MouseEvent&&"boolean"!==typeof s&&(s=0===this.hot.selection.getLayerLevel()&&i.isSingle()),!1!==s?(this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(n&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(t,e))):this.clearActiveEditor()}closeEditor(t,e,n){this.activeEditor?this.activeEditor.finishEditing(t,e,n):n&&n(!1)}closeEditorAndSaveChanges(t){this.closeEditor(!1,t)}closeEditorAndRestoreOriginalValue(t){this.closeEditor(!0,t)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){const t=this.hot.getSelectedRangeLast();if(!t)return!1;const e=this.hot.getCellEditor(this.cellProperties),{row:n,col:i}=t.highlight,{rowIndexMapper:s,columnIndexMapper:r}=this.hot,o=s.isHidden(this.hot.toPhysicalRow(n))||r.isHidden(this.hot.toPhysicalColumn(i));return!(this.cellProperties.readOnly||!e||o)}moveSelectionAfterEnter(t){const e={..."function"===typeof this.tableMeta.enterMoves?this.tableMeta.enterMoves(t):this.tableMeta.enterMoves};t.shiftKey&&(e.row=-e.row,e.col=-e.col),this.hot.selection.isMultiple()?this.selection.transformFocus(e.row,e.col):this.selection.transformStart(e.row,e.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}}function Zi(t){const e=this.hot.getSelectedRangeLast();if(!this.hot.isListening()||!e||e.highlight.isHeader()||oi(t))return;const{keyCode:n}=t,i=(t.ctrlKey||t.metaKey)&&!t.altKey;if((!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!ei(n)&&!ii(n)&&!i&&!this.isEditorOpened()){const e=this.hot.getShortcutManager(),n=e.getContext("editor"),i={runOnlyIf:()=>F(this.hot.getSelected()),group:qi};n.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{this.hot.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:()=>{this.hot.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:()=>{this.hot.selection.transformStart(0,-1*this.hot.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:()=>{this.hot.selection.transformStart(0,this.hot.getDirectionFactor())}}],i),this.openEditor("",t)}}function Qi(t,e){e.isCell()&&this.openEditor(null,t,!0)}const ts=new WeakMap;Ji.getInstance=function(t,e,n){let i=ts.get(t);return i||(i=new Ji(t,e,n),ts.set(t,i)),i};var es=Ji;function ns(t,e){ss(t,e),e.add(t)}function is(t,e,n){ss(t,e),e.set(t,n)}function ss(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rs(t,e){return t.get(as(t,e))}function os(t,e,n){return t.set(as(t,e),n),n}function as(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const ls=Object.freeze({CELL:"cell",MIXED:"mixed"});var hs=new WeakMap,cs=new WeakMap,ds=new WeakMap,us=new WeakMap,fs=new WeakMap,ms=new WeakSet;class gs{constructor(t){var e=this;ns(this,ms),is(this,hs,void 0),is(this,cs,void 0),is(this,ds,50),is(this,us,null),is(this,fs,new Map);const n=t.getSettings();os(hs,this,t),os(cs,this,n.imeFastEdit?ls.MIXED:ls.CELL),rs(hs,this).addHook("afterUpdateSettings",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return as(ms,e,ws).call(e,...n)})),rs(hs,this).addHook("afterSelection",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return as(ms,e,_s).call(e,...n)})),rs(hs,this).addHook("afterSelectionFocusSet",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return as(ms,e,_s).call(e,...n)})),rs(hs,this).addHook("afterSelectionEnd",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return as(ms,e,ys).call(e,...n)}))}getFocusMode(){return rs(cs,this)}setFocusMode(t){Object.values(ls).includes(t)?os(cs,this,t):ci(`"${t}" is not a valid focus mode.`)}getRefocusDelay(){return rs(ds,this)}setRefocusDelay(t){os(ds,this,t)}setRefocusElementGetter(t){os(us,this,t)}getRefocusElement(){return"function"===typeof rs(us,this)?rs(us,this).call(this):null===(t=rs(hs,this).getActiveEditor())||void 0===t?void 0:t.TEXTAREA;var t}focusOnHighlightedCell(t){const e=t=>{var e,n;const i=null===(e=rs(hs,this).getSelectedRangeLast())||void 0===e?void 0:e.highlight;if(!i)return;let s=rs(hs,this).runHooks("modifyFocusedElement",i.row,i.col,t);s instanceof HTMLElement||(s=t),!s||null!==(n=rs(hs,this).getActiveEditor())&&void 0!==n&&n.isOpened()||s.focus({preventScroll:!0})};t?e(t):as(ms,this,ps).call(this,(t=>e(t)))}refocusToEditorTextarea(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rs(ds,this);const n=this.getRefocusElement();!rs(hs,this).getSettings().imeFastEdit||null!==(t=rs(hs,this).getActiveEditor())&&void 0!==t&&t.isOpened()||!n||(rs(fs,this).has(e)||rs(fs,this).set(e,on((()=>{n.select()}),e)),rs(fs,this).get(e)())}}function ps(t){var e;const n=null===(e=rs(hs,this).getSelectedRangeLast())||void 0===e?void 0:e.highlight;if(!n||!rs(hs,this).selection.isCellVisible(n))return void t(null);const i=rs(hs,this).getCell(n.row,n.col,!0);null===i?rs(hs,this).addHookOnce("afterScroll",(()=>{t(rs(hs,this).getCell(n.row,n.col,!0))})):t(i)}function _s(){as(ms,this,ps).call(this,(t=>{const{activeElement:e}=rs(hs,this).rootDocument;e&&qe(e)&&e.blur(),this.focusOnHighlightedCell(t)}))}function ys(){as(ms,this,ps).call(this,(t=>{this.getFocusMode()===ls.MIXED&&"TD"===t.nodeName&&this.refocusToEditorTextarea()}))}function ws(t){t.imeFastEdit&&this.getFocusMode()!==ls.MIXED?this.setFocusMode(ls.MIXED):t.imeFastEdit||this.getFocusMode()===ls.CELL||this.setFocusMode(ls.CELL)}n(9978);const vs={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},bs=new RegExp(Object.keys(vs).map((t=>`(${t})`)).join("|"),"gi");function Ms(t){return"TABLE"===(t&&t.nodeName||"")}function Ss(t){const e=t.hasColHeaders(),n=t.hasRowHeaders(),i=[e?-1:0,n?-1:0,t.countRows()-1,t.countCols()-1],s=t.getData(...i),r=s.length,o=r>0?s[0].length:0,a=["<table>","</table>"],l=e?["<thead>","</thead>"]:[],h=["<tbody>","</tbody>"],c=n?1:0,d=e?1:0;for(let u=0;u<r;u+=1){const i=e&&0===u,r=[];for(let e=0;e<o;e+=1){const o=!i&&n&&0===e;let a="";if(i)a=`<th>${t.getColHeader(e-c)}</th>`;else if(o)a=`<th>${t.getRowHeader(u-d)}</th>`;else{const n=s[u][e],{hidden:i,rowspan:r,colspan:o}=t.getCellMeta(u-d,e-c);if(!i){const t=[];if(r&&t.push(`rowspan="${r}"`),o&&t.push(`colspan="${o}"`),W(n))a=`<td ${t.join(" ")}></td>`;else{const e=n.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");a=`<td ${t.join(" ")}>${e}</td>`}}}r.push(a)}const a=["<tr>",...r,"</tr>"].join("");i?l.splice(1,0,a):h.splice(-1,0,a)}return a.splice(1,0,l.join(""),h.join("")),a.join("")}function Cs(t){const e=t.length,n=["<table>"];for(let i=0;i<e;i+=1){const s=t[i],r=s.length,o=[];0===i&&n.push("<tbody>");for(let t=0;t<r;t+=1){const e=s[t],n=W(e)?"":e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20{2,}/gi,(t=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(t.length-1)} </span>`)).replace(/\t/gi,"&#9;");o.push(`<td>${n}</td>`)}n.push("<tr>",...o,"</tr>"),i+1===e&&n.push("</tbody>")}return n.push("</table>"),n.join("")}function xs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;const n={},i=e.createDocumentFragment(),s=e.createElement("div");i.appendChild(s);let r=t;if("string"===typeof r){const t=r.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,(t=>{const e=t.match(/<td\b[^>]*?>/g)[0],n=/<p.*?>/g,i=t.substring(e.length,t.lastIndexOf("<")).trim().replaceAll(/\n\s+/g," ").replaceAll(n,"\n").replace("\n","").replaceAll(/<\/(.*)>\s+$/gm,"</$1>").replace(/(<(?!br)([^>]+)>)/gi,"").replaceAll(/^&nbsp;$/gm,""),s="</td>";return`${e}${i}${s}`}));s.insertAdjacentHTML("afterbegin",`${t}`),r=s.querySelector("table")}if(!r||!Ms(r))return;const o=s.querySelector('meta[name$="enerator"]'),a=null!==r.querySelector("tbody th"),l=r.querySelector("tr"),h=l?Array.from(l.cells).reduce(((t,e)=>t+e.colSpan),0)-(a?1:0):0,c=r.tFoot&&Array.from(r.tFoot.rows)||[],d=[];let u=!1,f=0,m=0;if(r.tHead){const t=Array.from(r.tHead.rows).filter((t=>{const e=null!==t.querySelector("td");return e&&d.push(t),!e}));f=t.length,u=f>0,f>1?n.nestedHeaders=Array.from(t).reduce(((t,e)=>{const n=Array.from(e.cells).reduce(((t,e,n)=>{if(a&&0===n)return t;const{colSpan:i,innerHTML:s}=e,r=i>1?{label:s,colspan:i}:s;return t.push(r),t}),[]);return t.push(n),t}),[]):u&&(n.colHeaders=Array.from(t[0].children).reduce(((t,e,n)=>(a&&0===n||t.push(e.innerHTML),t)),[]))}d.length&&(n.fixedRowsTop=d.length),c.length&&(n.fixedRowsBottom=c.length);const g=[...d,...Array.from(r.tBodies).reduce(((t,e)=>(t.push(...Array.from(e.rows)),t)),[]),...c];m=g.length;const p=new Array(m);for(let w=0;w<m;w++)p[w]=new Array(h);const _=[],y=[];for(let w=0;w<m;w++){const t=g[w],e=Array.from(t.cells),n=e.length;for(let i=0;i<n;i++){const t=e[i],{nodeName:n,innerHTML:s,rowSpan:r,colSpan:a}=t,l=p[w].findIndex((t=>void 0===t));if("TD"===n){if(r>1||a>1){for(let t=w;t<w+r;t++)if(t<m)for(let e=l;e<l+a;e++)p[t][e]=null;const e=t.getAttribute("style"),n=e&&e.includes("mso-ignore:colspan");n||_.push({col:l,row:w,rowspan:r,colspan:a})}let e="";e=o&&/excel/gi.test(o.content)?s.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,"\r\n"):s.replace(/<br(\s*|\/)>[\r\n]?/gim,"\r\n"),p[w][l]=e.replace(bs,(t=>vs[t]))}else y.push(s)}}return _.length&&(n.mergeCells=_),y.length&&(n.rowHeaders=y),p.length&&(n.data=p),n}function Ts(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=typeof t;if("number"===n)return!isNaN(t)&&isFinite(t);if("string"===n){if(0===t.length)return!1;if(1===t.length)return/\d/.test(t);const n=Array.from(new Set([".",...e])).map((t=>`\\${t}`)).join("|");return new RegExp(`^[+-]?\\s*(((${n})?\\d+((${n})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(t.trim())}return"object"===n&&(!!t&&"number"===typeof t.valueOf()&&!(t instanceof Date))}function ks(t){return Ts(t,[","])}function Ls(t,e,n){let i=-1;"function"===typeof e?(n=e,e=t):i=t-1;while(++i<=e)if(!1===n(i))break}function Es(t,e,n){let i=t+1;"function"===typeof e&&(n=e,e=0);while(--i>=e)if(!1===n(i))break}function Rs(t,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(t*e/100,10)}function As(t,e,n){return Math.min(t,e)===t?e:Math.max(t,n)===t?n:t}const Ds="asc",Hs="desc",Ps=new Map([[Ds,[-1,1]],[Hs,[1,-1]]]),Is=t=>`The priority '${t}' is already declared in a map.`,Os=t=>`The priority '${t}' is not a number.`;function Ys(){let{errorPriorityExists:t,errorPriorityNaN:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=new Map;function i(i,s){if(!Ts(i))throw new Error(e(i));if(n.has(i))throw new Error(t(i));n.set(i,s)}function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds;const[e,i]=Ps.get(t)||Ps.get(Ds);return[...n].sort(((t,n)=>t[0]<n[0]?e:i)).map((t=>t[1]))}return t=nn(t)?t:Is,e=nn(e)?e:Os,{addItem:i,getItems:s}}const Ns=t=>`The id '${t}' is already declared in a map.`;function Fs(){let{errorIdExists:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=new Map;function n(n,i){if(l(n))throw new Error(t(n));e.set(n,i)}function i(t){return e.delete(t)}function s(){e.clear()}function r(t){const[e]=a().find((e=>{let[n,i]=e;return t===i&&n}))||[null];return e}function o(t){return e.get(t)}function a(){return[...e]}function l(t){return e.has(t)}return t=nn(t)?t:Ns,{addItem:n,clear:s,getId:r,getItem:o,getItems:a,hasItem:l,removeItem:i}}const js=t=>`'${t}' value is already declared in a unique set.`;function Ws(){let{errorItemExists:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=new Set;function n(n){if(e.has(n))throw new Error(t(n));e.add(n)}function i(){return[...e]}function s(){e.clear()}return t=nn(t)?t:js,{addItem:n,clear:s,getItems:i}}const Vs=t=>`There is already registered "${t}" plugin.`,Bs=t=>`There is already registered plugin on priority "${t}".`,zs=t=>`The priority "${t}" is not a number.`,Us=Ys({errorPriorityExists:Bs,errorPriorityNaN:zs}),$s=Ws({errorItemExists:Vs}),Gs=Fs({errorIdExists:Vs});function Ks(){return[...Us.getItems(),...$s.getItems()]}function qs(t){const e=nt(t);return Gs.getItem(e)}function Xs(t){return!!qs(t)}function Js(t,e,n){[t,e,n]=Qs(t,e,n),void 0===qs(t)&&Zs(t,e,n)}function Zs(t,e,n){const i=nt(t);if(Gs.hasItem(i))throw new Error(Vs(i));void 0===n?$s.addItem(i):Us.addItem(n,i),Gs.addItem(i,e)}function Qs(t,e,n){return"function"===typeof t&&(e=t,t=e.PLUGIN_KEY,n=e.PLUGIN_PRIORITY),[t,e,n]}const{register:tr,getItem:er,hasItem:nr,getNames:ir,getValues:sr}=Ci("renderers");function rr(t){if("function"===typeof t)return t;if(!nr(t))throw Error(`No registered renderer found under "${t}" name`);return er(t)}function or(t,e){"string"!==typeof t&&(e=t,t=e.RENDERER_TYPE),tr(t,e)}const{register:ar,getItem:lr,hasItem:hr,getNames:cr,getValues:dr}=Ci("validators");function ur(t){if("function"===typeof t)return t;if(!hr(t))throw Error(`No registered validator found under "${t}" name`);return lr(t)}function fr(t,e){"string"!==typeof t&&(e=t,t=e.VALIDATOR_TYPE),ar(t,e)}function mr(t,e,n){gr(t,e),e.set(t,n)}function gr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pr(t,e){return t.get(yr(t,e))}function _r(t,e,n){return t.set(yr(t,e),n),n}function yr(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var wr=new WeakMap,vr=new WeakMap,br=new WeakMap,Mr=new WeakMap,Sr=new WeakMap,Cr=new WeakMap,xr=new WeakMap,Tr=new WeakMap,kr=new WeakMap,Lr=new WeakMap;class Er{constructor(t,e,n,i,s,r){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;mr(this,wr,void 0),mr(this,vr,void 0),mr(this,br,void 0),mr(this,Mr,void 0),mr(this,Sr,void 0),mr(this,Cr,void 0),mr(this,xr,void 0),mr(this,Tr,void 0),mr(this,kr,[null,null]),mr(this,Lr,[null,null]),_r(wr,this,n),_r(vr,this,e),_r(br,this,s),_r(Mr,this,r),_r(Sr,this,o),_r(Cr,this,i),_r(xr,this,t),this.registerEvents()}registerEvents(){pr(Cr,this).addEventListener(pr(br,this).holder,"contextmenu",(t=>this.onContextMenu(t))),pr(Cr,this).addEventListener(pr(br,this).TABLE,"mouseover",(t=>this.onMouseOver(t))),pr(Cr,this).addEventListener(pr(br,this).TABLE,"mouseout",(t=>this.onMouseOut(t)));const t=()=>{pr(Cr,this).addEventListener(pr(br,this).holder,"touchstart",(t=>this.onTouchStart(t))),pr(Cr,this).addEventListener(pr(br,this).holder,"touchend",(t=>this.onTouchEnd(t))),this.momentumScrolling||(this.momentumScrolling={}),pr(Cr,this).addEventListener(pr(br,this).holder,"scroll",(()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||pr(wr,this).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout((()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,pr(wr,this).getSetting("onAfterMomentumScroll"))}),200)}))},e=()=>{pr(Cr,this).addEventListener(pr(br,this).holder,"mouseup",(t=>this.onMouseUp(t))),pr(Cr,this).addEventListener(pr(br,this).holder,"mousedown",(t=>this.onMouseDown(t)))};$n()?t():(Rn()&&t(),e())}selectedCellWasTouched(t){const e=this.parentCell(t),n=e.coords;if(pr(Tr,this)&&n){const[t,e]=[n.row,pr(Tr,this).from.row],[i,s]=[n.col,pr(Tr,this).from.col];return t===e&&i===s}return!1}parentCell(t){const e={},n=pr(br,this).TABLE,i=te(t,["TD","TH"],n);return i?(e.coords=pr(br,this).getCoords(i),e.TD=i):oe(t,"wtBorder")&&oe(t,"current")?(e.coords=pr(Mr,this).getFocusSelection().cellRange.highlight,e.TD=pr(br,this).getCell(e.coords)):oe(t,"wtBorder")&&oe(t,"area")&&pr(Mr,this).getAreaSelection().cellRange&&(e.coords=pr(Mr,this).getAreaSelection().cellRange.to,e.TD=pr(br,this).getCell(e.coords)),e}onMouseDown(t){const e=pr(vr,this).rootDocument.activeElement,n=ln(Kt,t.target),i=t.target;if(!["TD","TH"].includes(e.nodeName)&&(i===e||n(0)===e||n(1)===e))return;const s=this.parentCell(i);oe(i,"corner")?pr(wr,this).getSetting("onCellCornerMouseDown",t,i):s.TD&&pr(wr,this).has("onCellMouseDown")&&this.callListener("onCellMouseDown",t,s.coords,s.TD),(0===t.button||this.touchApplied)&&s.TD&&(pr(Lr,this)[0]=s.TD,clearTimeout(pr(kr,this)[0]),pr(kr,this)[0]=setTimeout((()=>{pr(Lr,this)[0]=null}),1e3))}onContextMenu(t){if(pr(wr,this).has("onCellContextMenu")){const e=this.parentCell(t.target);e.TD&&this.callListener("onCellContextMenu",t,e.coords,e.TD)}}onMouseOver(t){if(!pr(wr,this).has("onCellMouseOver"))return;const e=pr(br,this).TABLE,n=te(t.target,["TD","TH"],e),i=pr(Sr,this)||this;n&&n!==i.lastMouseOver&&ee(n,e)&&(i.lastMouseOver=n,this.callListener("onCellMouseOver",t,pr(br,this).getCoords(n),n))}onMouseOut(t){if(!pr(wr,this).has("onCellMouseOut"))return;const e=pr(br,this).TABLE,n=te(t.target,["TD","TH"],e),i=te(t.relatedTarget,["TD","TH"],e),s=pr(Sr,this)||this;n&&n!==i&&ee(n,e)&&(this.callListener("onCellMouseOut",t,pr(br,this).getCoords(n),n),null===i&&(s.lastMouseOver=null))}onMouseUp(t){const e=this.parentCell(t.target);e.TD&&pr(wr,this).has("onCellMouseUp")&&this.callListener("onCellMouseUp",t,e.coords,e.TD),(0===t.button||this.touchApplied)&&(e.TD===pr(Lr,this)[0]&&e.TD===pr(Lr,this)[1]?(oe(t.target,"corner")?this.callListener("onCellCornerDblClick",t,e.coords,e.TD):this.callListener("onCellDblClick",t,e.coords,e.TD),pr(Lr,this)[0]=null,pr(Lr,this)[1]=null):e.TD===pr(Lr,this)[0]&&(pr(Lr,this)[1]=e.TD,clearTimeout(pr(kr,this)[1]),pr(kr,this)[1]=setTimeout((()=>{pr(Lr,this)[1]=null}),500)))}onTouchStart(t){_r(Tr,this,pr(Mr,this).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(t)}onTouchEnd(t){var e;const n=t.target,i=null===(e=this.parentCell(n))||void 0===e?void 0:e.coords,s=F(i)&&i.row>=0&&i.col>=0,r=t.cancelable&&s&&pr(wr,this).getSetting("isDataViewInstance");if(r){const e=["A","BUTTON","INPUT"];Gn()&&(jn()||Vn())&&this.selectedCellWasTouched(n)&&!e.includes(n.tagName)?t.preventDefault():this.selectedCellWasTouched(n)||t.preventDefault()}this.onMouseUp(t),this.touchApplied=!1}callListener(t,e,n,i){const s=pr(wr,this).getSettingPure(t);s&&s(e,n,i,pr(xr,this).call(this))}destroy(){clearTimeout(pr(kr,this)[0]),clearTimeout(pr(kr,this)[1]),pr(Cr,this).destroy()}}var Rr=Er;function Ar(t,e,n){return e=Dr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dr(t){var e=Hr(t,"string");return"symbol"==typeof e?e:e+""}function Hr(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Pr{constructor(t,e,n){Ar(this,"offset",void 0),Ar(this,"total",void 0),Ar(this,"countTH",void 0),this.offset=t,this.total=e,this.countTH=n}offsetted(t){return t+this.offset}unOffsetted(t){return t-this.offset}renderedToSource(t){return this.offsetted(t)}sourceToRendered(t){return this.unOffsetted(t)}offsettedTH(t){return t-this.countTH}unOffsettedTH(t){return t+this.countTH}visibleRowHeadedColumnToSourceColumn(t){return this.renderedToSource(this.offsettedTH(t))}sourceColumnToVisibleRowHeadedColumn(t){return this.unOffsettedTH(this.sourceToRendered(t))}}var Ir=Pr;function Or(t,e,n){return e=Yr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yr(t){var e=Nr(t,"string");return"symbol"==typeof e?e:e+""}function Nr(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Fr{constructor(t,e,n){Or(this,"offset",void 0),Or(this,"total",void 0),Or(this,"countTH",void 0),this.offset=t,this.total=e,this.countTH=n}offsetted(t){return t+this.offset}unOffsetted(t){return t-this.offset}renderedToSource(t){return this.offsetted(t)}sourceToRendered(t){return this.unOffsetted(t)}offsettedTH(t){return t-this.countTH}unOffsettedTH(t){return t+this.countTH}visibleColHeadedRowToSourceRow(t){return this.renderedToSource(this.offsettedTH(t))}sourceRowToVisibleColHeadedRow(t){return this.unOffsettedTH(this.sourceToRendered(t))}}var jr=Fr;const Wr=0,Vr=1,Br=2;function zr(t,e,n){return e=Ur(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ur(t){var e=$r(t,"string");return"symbol"==typeof e?e:e+""}function $r(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Gr{constructor(){zr(this,"currentSize",0),zr(this,"nextSize",0),zr(this,"currentOffset",0),zr(this,"nextOffset",0)}setSize(t){this.currentSize=this.nextSize,this.nextSize=t}setOffset(t){this.currentOffset=this.nextOffset,this.nextOffset=t}}function Kr(t,e,n){return e=qr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qr(t){var e=Xr(t,"string");return"symbol"==typeof e?e:e+""}function Xr(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Jr{constructor(){Kr(this,"size",new Gr),Kr(this,"workingSpace",Wr),Kr(this,"sharedSize",null)}setSize(t){this.size.setSize(t)}setOffset(t){this.size.setOffset(t)}getViewSize(){return this.size}isShared(){return this.sharedSize instanceof Gr}isPlaceOn(t){return this.workingSpace===t}append(t){this.workingSpace=Vr,t.workingSpace=Br,this.sharedSize=t.getViewSize()}prepend(t){this.workingSpace=Br,t.workingSpace=Vr,this.sharedSize=t.getViewSize()}}function Zr(t,e,n){return e=Qr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qr(t){var e=to(t,"string");return"symbol"==typeof e?e:e+""}function to(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class eo{constructor(t,e,n){Zr(this,"rootNode",void 0),Zr(this,"nodesPool",void 0),Zr(this,"sizeSet",new Jr),Zr(this,"childNodeType",void 0),Zr(this,"visualIndex",0),Zr(this,"collectedNodes",[]),this.rootNode=t,this.nodesPool=e,this.childNodeType=n.toUpperCase()}setSize(t){return this.sizeSet.setSize(t),this}setOffset(t){return this.sizeSet.setOffset(t),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(t){return t<this.collectedNodes.length?this.collectedNodes[t]:null}getCurrentNode(){const t=this.collectedNodes.length;return t>0?this.collectedNodes[t-1]:null}getRenderedChildCount(){const{rootNode:t,sizeSet:e}=this;let n=0;if(this.isSharedViewSet()){let i=t.firstElementChild;while(i){if(i.tagName===this.childNodeType)n+=1;else if(e.isPlaceOn(Vr))break;i=i.nextElementSibling}}else n=t.childElementCount;return n}start(){this.collectedNodes.length=0,this.visualIndex=0;const{rootNode:t,sizeSet:e}=this,n=this.isSharedViewSet(),{nextSize:i}=e.getViewSize();let s=this.getRenderedChildCount();while(s<i){const i=this.nodesPool();!n||n&&e.isPlaceOn(Br)?t.appendChild(i):t.insertBefore(i,t.firstChild),s+=1}const r=n&&e.isPlaceOn(Vr);while(s>i)t.removeChild(r?t.firstChild:t.lastChild),s-=1}render(){const{rootNode:t,sizeSet:e}=this;let n=this.visualIndex;this.isSharedViewSet()&&e.isPlaceOn(Br)&&(n+=e.sharedSize.nextSize);let i=t.childNodes[n];if(i.tagName!==this.childNodeType){const e=this.nodesPool();t.replaceChild(e,i),i=e}this.collectedNodes.push(i),this.visualIndex+=1}end(){}}class no extends eo{prependView(t){return this.sizeSet.prepend(t.sizeSet),t.sizeSet.append(this.sizeSet),this}appendView(t){return this.sizeSet.append(t.sizeSet),t.sizeSet.prepend(this.sizeSet),this}}function io(t,e,n){return e=so(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function so(t){var e=ro(t,"string");return"symbol"==typeof e?e:e+""}function ro(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class oo{constructor(t){io(this,"nodeType",void 0),this.nodeType=t.toUpperCase()}setRootDocument(t){this.rootDocument=t}obtain(){return this.rootDocument.createElement(this.nodeType)}}function ao(t,e,n){return e=lo(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lo(t){var e=ho(t,"string");return"symbol"==typeof e?e:e+""}function ho(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class co{constructor(t,e){ao(this,"nodesPool",null),ao(this,"nodeType",void 0),ao(this,"rootNode",void 0),ao(this,"table",null),ao(this,"renderedNodes",0),this.nodesPool="string"===typeof t?new oo(t):null,this.nodeType=t,this.rootNode=e}setTable(t){this.nodesPool&&this.nodesPool.setRootDocument(t.rootDocument),this.table=t}adjust(){}render(){}}function uo(t,e,n){return e=fo(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fo(t){var e=mo(t,"string");return"symbol"==typeof e?e:e+""}function mo(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class go extends co{constructor(){super("TH"),uo(this,"orderViews",new WeakMap),uo(this,"sourceRowIndex",0)}obtainOrderView(t){let e;return this.orderViews.has(t)?e=this.orderViews.get(t):(e=new no(t,(t=>this.nodesPool.obtain(this.sourceRowIndex,t)),this.nodeType),this.orderViews.set(t,e)),e}render(){const{rowsToRender:t,rowHeaderFunctions:e,rowHeadersCount:n,rows:i,cells:s}=this.table;for(let r=0;r<t;r++){const t=this.table.renderedRowToSource(r),o=i.getRenderedNode(r);this.sourceRowIndex=t;const a=this.obtainOrderView(o),l=s.obtainOrderView(o);a.appendView(l).setSize(n).setOffset(this.table.renderedColumnToSource(0)).start();for(let i=0;i<n;i++){a.render();const n=a.getCurrentNode();n.className="",n.removeAttribute("style"),ce(n,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&he(n,[ft(),Ct(),Pt(i+1),ht(-1)]),e[i](t,n,i)}a.end()}}}class po extends co{constructor(t){super(null,t)}adjust(){const{columnHeadersCount:t,rowHeadersCount:e}=this.table;let n=this.rootNode.firstChild;if(t){const{columnsToRender:i}=this.table,s=i+e;for(let e=0,o=t;e<o;e++){n=this.rootNode.childNodes[e],n||(n=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(n)),this.renderedNodes=n.childNodes.length;while(this.renderedNodes<s)n.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;while(this.renderedNodes>s)n.removeChild(n.lastChild),this.renderedNodes-=1}const r=this.rootNode.childNodes.length;if(r>t)for(let e=t;e<r;e++)this.rootNode.removeChild(this.rootNode.lastChild)}else n&&ue(n)}render(){const{columnHeadersCount:t}=this.table;this.table.isAriaEnabled()&&he(this.rootNode,[mt()]);for(let e=0;e<t;e+=1){const{columnHeaderFunctions:t,columnsToRender:n,rowHeadersCount:i}=this.table,s=this.rootNode.childNodes[e];this.table.isAriaEnabled()&&he(s,[pt(),Ht(e+1)]);for(let r=-1*i;r<n;r+=1){const n=this.table.renderedColumnToSource(r),o=s.childNodes[r+i];o.className="",o.removeAttribute("style"),ce(o,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&he(o,[Pt(r+1+this.table.rowHeadersCount),ht(-1),gt(),...r>=0?[St()]:[pt()]]),t[e](n,o,e)}}}}let _o=!1;class yo extends co{constructor(t){super(null,t)}adjust(){const{columnsToRender:t,rowHeadersCount:e}=this.table,n=t+e;while(this.renderedNodes<n)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;while(this.renderedNodes>n)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();const{columnsToRender:t,rowHeadersCount:e}=this.table;!_o&&t>1e3&&(_o=!0,ci(Y`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let i=0;i<e;i++){const t=this.table.renderedColumnToSource(i),e=this.table.columnUtils.getHeaderWidth(t);this.rootNode.childNodes[i].style.width=`${e}px`}for(let i=0;i<t;i++){const t=this.table.renderedColumnToSource(i),n=this.table.columnUtils.getStretchedColumnWidth(t);this.rootNode.childNodes[i+e].style.width=`${n}px`}const n=this.rootNode.firstChild;n&&ae(n,"rowHeader")}}function wo(t,e,n){return e=vo(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vo(t){var e=bo(t,"string");return"symbol"==typeof e?e:e+""}function bo(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}let Mo=!1;class So extends co{constructor(t){super("TR",t),wo(this,"orderView",void 0),this.orderView=new eo(t,(t=>this.nodesPool.obtain(t)),this.nodeType)}getRenderedNode(t){return this.orderView.getNode(t)}render(){const{rowsToRender:t}=this.table;!Mo&&t>1e3&&(Mo=!0,ci(Y`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&he(this.rootNode,[mt()]),this.orderView.setSize(t).setOffset(this.table.renderedRowToSource(0)).start();for(let i=0;i<t;i++){this.orderView.render();const t=this.orderView.getCurrentNode(),s=this.table.renderedRowToSource(i);var e,n;if(this.table.isAriaEnabled())he(t,[pt(),Ht(s+(null!==(e=null===(n=this.table.rowUtils)||void 0===n||null===(n=n.dataAccessObject)||void 0===n?void 0:n.columnHeaders.length)&&void 0!==e?e:0)+1)])}this.orderView.end()}}function Co(t,e,n){return e=xo(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xo(t){var e=To(t,"string");return"symbol"==typeof e?e:e+""}function To(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class ko extends co{constructor(){super("TD"),Co(this,"orderViews",new WeakMap),Co(this,"sourceRowIndex",0)}obtainOrderView(t){let e;return this.orderViews.has(t)?e=this.orderViews.get(t):(e=new no(t,(t=>this.nodesPool.obtain(this.sourceRowIndex,t)),this.nodeType),this.orderViews.set(t,e)),e}render(){const{rowsToRender:t,columnsToRender:e,rows:n,rowHeaders:i}=this.table;for(let o=0;o<t;o++){const t=this.table.renderedRowToSource(o),a=n.getRenderedNode(o);this.sourceRowIndex=t;const l=this.obtainOrderView(a),h=i.obtainOrderView(a);l.prependView(h).setSize(e).setOffset(this.table.renderedColumnToSource(0)).start();for(let n=0;n<e;n++){l.render();const e=l.getCurrentNode(),i=this.table.renderedColumnToSource(n);var s,r;if(oe(e,"hide")||(e.className=""),e.removeAttribute("style"),e.removeAttribute("dir"),ce(e,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(t,i,e),this.table.isAriaEnabled())he(e,[...e.hasAttribute("role")?[]:[ut()],ht(-1),Pt(i+(null!==(s=null===(r=this.table.rowUtils)||void 0===r||null===(r=r.dataAccessObject)||void 0===r?void 0:r.rowHeaders.length)&&void 0!==s?s:0)+1)])}l.end()}}}function Lo(t,e,n){return e=Eo(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eo(t){var e=Ro(t,"string");return"symbol"==typeof e?e:e+""}function Ro(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Ao{constructor(t){let{cellRenderer:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Lo(this,"rootNode",void 0),Lo(this,"rootDocument",void 0),Lo(this,"rowHeaders",null),Lo(this,"columnHeaders",null),Lo(this,"colGroup",null),Lo(this,"rows",null),Lo(this,"cells",null),Lo(this,"rowFilter",null),Lo(this,"columnFilter",null),Lo(this,"rowUtils",null),Lo(this,"columnUtils",null),Lo(this,"rowsToRender",0),Lo(this,"columnsToRender",0),Lo(this,"rowHeaderFunctions",[]),Lo(this,"rowHeadersCount",0),Lo(this,"columnHeaderFunctions",[]),Lo(this,"columnHeadersCount",0),Lo(this,"cellRenderer",void 0),this.rootNode=t,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=e}setAxisUtils(t,e){this.rowUtils=t,this.columnUtils=e}setViewportSize(t,e){this.rowsToRender=t,this.columnsToRender=e}setFilters(t,e){this.rowFilter=t,this.columnFilter=e}setHeaderContentRenderers(t,e){this.rowHeaderFunctions=t,this.rowHeadersCount=t.length,this.columnHeaderFunctions=e,this.columnHeadersCount=e.length}setRenderers(){let{rowHeaders:t,columnHeaders:e,colGroup:n,rows:i,cells:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.setTable(this),e.setTable(this),n.setTable(this),i.setTable(this),s.setTable(this),this.rowHeaders=t,this.columnHeaders=e,this.colGroup=n,this.rows=i,this.cells=s}renderedRowToSource(t){return this.rowFilter.renderedToSource(t)}renderedColumnToSource(t){return this.columnFilter.renderedToSource(t)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();const{rowsToRender:t,rows:e}=this;for(let n=0;n<t;n++){const t=e.getRenderedNode(n);if(t.firstChild){const e=this.renderedRowToSource(n),i=this.rowUtils.getHeight(e);t.firstChild.style.height=i?i-1+"px":""}}}}class Do{constructor(){let{TABLE:t,THEAD:e,COLGROUP:n,TBODY:i,rowUtils:s,columnUtils:r,cellRenderer:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.renderer=new Ao(t,{cellRenderer:o}),this.renderer.setRenderers({rowHeaders:new go,columnHeaders:new po(e),colGroup:new yo(n),rows:new So(i),cells:new ko}),this.renderer.setAxisUtils(s,r)}setFilters(t,e){return this.renderer.setFilters(t,e),this}setViewportSize(t,e){return this.renderer.setViewportSize(t,e),this}setHeaderContentRenderers(t,e){return this.renderer.setHeaderContentRenderers(t,e),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}}function Ho(t,e,n){Po(t,e),e.set(t,n)}function Po(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Io(t,e,n){return e=Oo(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oo(t){var e=Yo(t,"string");return"symbol"==typeof e?e:e+""}function Yo(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function No(t,e){return t.get(jo(t,e))}function Fo(t,e,n){return t.set(jo(t,e),n),n}function jo(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Wo=new WeakMap,Vo=new WeakMap,Bo=new WeakMap,zo=new WeakMap,Uo=new WeakMap;class $o{static get DEFAULT_WIDTH(){return 50}constructor(t){let{totalColumns:e,stretchMode:n,stretchingColumnWidthFn:i,columnWidthFn:s}=t;Io(this,"stretchAllRatio",0),Io(this,"stretchLastWidth",0),Io(this,"stretchAllColumnsWidth",[]),Ho(this,Wo,0),Io(this,"needVerifyLastColumnWidth",!0),Ho(this,Vo,(()=>0)),Ho(this,Bo,(t=>t)),Ho(this,zo,(t=>t)),Ho(this,Uo,(()=>"none")),Fo(Vo,this,e),Fo(Uo,this,n),Fo(Bo,this,null!==i&&void 0!==i?i:No(Bo,this)),Fo(zo,this,null!==s&&void 0!==s?s:No(zo,this))}refreshStretching(t){if("none"===No(Uo,this).call(this))return;Fo(Wo,this,t);let e=0;for(let i=0;i<No(Vo,this).call(this);i++){const n=this._getColumnWidth(i),s=No(Bo,this).call(this,void 0,i);"number"===typeof s?t-=s:e+=n}const n=t-e;if("all"===No(Uo,this).call(this)&&n>0)this.stretchAllRatio=t/e,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===No(Uo,this).call(this)&&t!==1/0){const t=this._getColumnWidth(No(Vo,this).call(this)-1),e=n+t;this.stretchLastWidth=e>=0?e:t}}getStretchedColumnWidth(t,e){let n=null;return"all"===No(Uo,this).call(this)&&0!==this.stretchAllRatio?n=this._getStretchedAllColumnWidth(t,e):"last"===No(Uo,this).call(this)&&0!==this.stretchLastWidth&&(n=this._getStretchedLastColumnWidth(t)),n}_getStretchedAllColumnWidth(t,e){let n=0;if(!this.stretchAllColumnsWidth[t]){const n=Math.round(e*this.stretchAllRatio),i=No(Bo,this).call(this,n,t);this.stretchAllColumnsWidth[t]=void 0===i?n:isNaN(i)?this._getColumnWidth(t):i}if(this.stretchAllColumnsWidth.length===No(Vo,this).call(this)&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(let t=0;t<this.stretchAllColumnsWidth.length;t++)n+=this.stretchAllColumnsWidth[t];n!==No(Wo,this)&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=No(Wo,this)-n)}return this.stretchAllColumnsWidth[t]}_getStretchedLastColumnWidth(t){return t===No(Vo,this).call(this)-1?this.stretchLastWidth:null}_getColumnWidth(t){let e=No(zo,this).call(this,t);return isNaN(e)&&(e=$o.DEFAULT_WIDTH),e}}function Go(t,e,n){return e=Ko(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ko(t){var e=qo(t,"string");return"symbol"==typeof e?e:e+""}function qo(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Xo{constructor(t,e){Go(this,"dataAccessObject",void 0),Go(this,"wtSettings",void 0),Go(this,"headerWidths",new Map),Go(this,"stretching",void 0),this.dataAccessObject=t,this.wtSettings=e,this.stretching=new $o({totalColumns:()=>this.wtSettings.getSetting("totalColumns"),stretchMode:()=>this.wtSettings.getSetting("stretchH"),stretchingColumnWidthFn:(t,e)=>this.wtSettings.getSetting("onBeforeStretchingColumnWidth",t,e),columnWidthFn:t=>this.dataAccessObject.wtTable.getColumnWidth(t)})}getWidth(t){return this.wtSettings.getSetting("columnWidth",t)||this.wtSettings.getSetting("defaultColumnWidth")}getStretchedColumnWidth(t){let e=this.getWidth(t);const n=this.stretching.getStretchedColumnWidth(t,e);return n&&(e=n),e}getHeaderHeight(t){let e=this.wtSettings.getSetting("defaultRowHeight");const n=this.dataAccessObject.wtViewport.oversizedColumnHeaders[t];return void 0!==n&&(e=e?Math.max(e,n):n),e}getHeaderWidth(t){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(t))}refreshStretching(){const{wtTable:t,wtViewport:e,cloneSource:n}=this.dataAccessObject,i=n?n.wtTable.holder:t.holder,s=i.offsetHeight<i.scrollHeight?Ve():0;this.stretching.refreshStretching(e.getViewportWidth()-s)}calculateWidths(){const{wtSettings:t}=this;let e=t.getSetting("rowHeaderWidth");if(this.refreshStretching(),e=t.getSetting("onModifyRowHeaderWidth",e),null!==e&&void 0!==e){const n=t.getSetting("rowHeaders").length,i=t.getSetting("defaultColumnWidth");for(let t=0;t<n;t++){let n=Array.isArray(e)?e[t]:e;n=null===n||void 0===n?i:n,this.headerWidths.set(t,n)}}}}function Jo(t,e,n){return e=Zo(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zo(t){var e=Qo(t,"string");return"symbol"==typeof e?e:e+""}function Qo(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class ta{constructor(t,e){Jo(this,"dataAccessObject",void 0),Jo(this,"wtSettings",void 0),this.dataAccessObject=t,this.wtSettings=e}getHeight(t){let e=this.wtSettings.getSetting("rowHeight",t);const n=this.dataAccessObject.wtViewport.oversizedRows[t];return void 0!==n&&(e=void 0===e?n:Math.max(e,n)),e}}const ea="top",na="bottom",ia="inline_start",sa="top_inline_start_corner",ra="bottom_inline_start_corner",oa=[ea,na,ia,sa,ra],aa=new Map([[ea,`ht_clone_${ea}`],[na,`ht_clone_${na}`],[ia,`ht_clone_${ia} ht_clone_left`],[sa,`ht_clone_${sa} ht_clone_top_left_corner`],[ra,`ht_clone_${ra} ht_clone_bottom_left_corner`]]);function la(t,e,n){return e=ha(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ha(t){var e=ca(t,"string");return"symbol"==typeof e?e:e+""}function ca(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class da{constructor(t,e,n,i,s){la(this,"wtSettings",null),la(this,"domBindings",void 0),la(this,"TBODY",null),la(this,"THEAD",null),la(this,"COLGROUP",null),la(this,"hasTableHeight",!0),la(this,"hasTableWidth",!0),la(this,"isTableVisible",!1),la(this,"tableOffset",0),la(this,"holderOffset",0),this.domBindings=n,this.isMaster="master"===s,this.name=s,this.dataAccessObject=t,this.facadeGetter=e,this.wtSettings=i,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=n.rootTable,de(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;const r=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",(()=>this._modifyRowHeaderWidth(r))),this.rowUtils=new ta(this.dataAccessObject,this.wtSettings),this.columnUtils=new Xo(this.dataAccessObject,this.wtSettings),this.tableRenderer=new Do({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}is(t){return this.name===t}fixTableDomTree(){const t=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=t.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=t.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=t.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(t){const e=t.parentNode;let n;return e&&e.nodeType===Node.ELEMENT_NODE&&oe(e,"wtHolder")||(n=this.domBindings.rootDocument.createElement("div"),n.className="wtSpreader",e&&e.insertBefore(n,t),n.appendChild(t)),n.style.position="relative",this.wtSettings.getSetting("ariaTags")&&he(n,[dt()]),n}createHider(t){const e=t.parentNode;let n;return e&&e.nodeType===Node.ELEMENT_NODE&&oe(e,"wtHolder")||(n=this.domBindings.rootDocument.createElement("div"),n.className="wtHider",e&&e.insertBefore(n,t),n.appendChild(t)),this.wtSettings.getSetting("ariaTags")&&he(n,[dt()]),n}createHolder(t){const e=t.parentNode;let n;return e&&e.nodeType===Node.ELEMENT_NODE&&oe(e,"wtHolder")||(n=this.domBindings.rootDocument.createElement("div"),n.style.position="relative",n.className="wtHolder",e&&e.insertBefore(n,t),this.isMaster&&(n.parentNode.className+="ht_master handsontable",n.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&he(n.parentNode,[dt()])),n.appendChild(t)),this.wtSettings.getSetting("ariaTags")&&he(n,[dt()]),n}draw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{wtSettings:e}=this,{wtOverlays:n,wtViewport:i}=this.dataAccessObject,s=e.getSetting("totalRows"),r=e.getSetting("totalColumns"),o=e.getSetting("rowHeaders"),a=o.length,l=e.getSetting("columnHeaders"),h=l.length;let c=!1,d=t;if(this.isMaster&&(this.holderOffset=_e(this.holder),d=i.createRenderCalculators(d),a&&!e.getSetting("fixedColumnsStart"))){const t=n.inlineStartOverlay.getScrollPosition(),e=this.correctHeaderWidth;this.correctHeaderWidth=0!==t,e!==this.correctHeaderWidth&&(d=!1)}if(this.isMaster&&(c=n.updateStateOfRendering()),d)this.isMaster&&(i.createVisibleCalculators(),i.createPartiallyVisibleCalculators()),n&&n.refresh(!0);else{this.isMaster?this.tableOffset=_e(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;const t=s>0?this.getFirstRenderedRow():0,e=r>0?this.getFirstRenderedColumn():0;this.rowFilter=new jr(t,s,h),this.columnFilter=new Ir(e,r,a);let n=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();const t={};this.wtSettings.getSetting("beforeDraw",!0,t),n=!0!==t.skipRender}if(n){let t;if(this.tableRenderer.setHeaderContentRenderers(o,l),(this.is(na)||this.is(ra))&&this.tableRenderer.setHeaderContentRenderers(o,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render(),this.isMaster&&(t=this.dataAccessObject.workspaceWidth,this.dataAccessObject.wtViewport.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(na))&&this.markOversizedRows(),this.isMaster){this.dataAccessObject.wtViewport.createVisibleCalculators(),this.dataAccessObject.wtViewport.createPartiallyVisibleCalculators(),this.dataAccessObject.wtOverlays.refresh(!1),this.dataAccessObject.wtOverlays.applyToDOM();const e=Ee(this.hider),n=Ee(this.TABLE);0!==e&&n!==e&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),t!==this.dataAccessObject.wtViewport.getWorkspaceWidth()&&(this.dataAccessObject.wtViewport.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(na)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}}let u=!1;return this.isMaster&&(u=n.topOverlay.resetFixedPosition(),n.bottomOverlay.clone&&(u=n.bottomOverlay.resetFixedPosition()||u),u=n.inlineStartOverlay.resetFixedPosition()||u,n.topInlineStartCornerOverlay&&n.topInlineStartCornerOverlay.resetFixedPosition(),n.bottomInlineStartCornerOverlay&&n.bottomInlineStartCornerOverlay.clone&&n.bottomInlineStartCornerOverlay.resetFixedPosition()),u?(n.refreshAll(),n.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(d),c&&n.syncScrollWithMaster(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(t){const e=this.columnFilter.renderedToSource(t);let n=this.wtSettings.getSetting("columnHeaders").length;const i=this.wtSettings.getSetting("defaultRowHeight");let s,r,o;const a=this.wtSettings.getSetting("columnHeaderHeight")||[];while(n)n-=1,s=this.getColumnHeaderHeight(n),r=this.getColumnHeader(e,n),r&&(o=Ae(r),(!s&&i<o||s<o)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=o),Array.isArray(a)?null!==a[n]&&void 0!==a[n]&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=a[n]):isNaN(a)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=a),this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]<(a[n]||a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=a[n]||a))}adjustColumnHeaderHeights(){const{wtSettings:t}=this,e=this.THEAD.childNodes,n=this.dataAccessObject.wtViewport.oversizedColumnHeaders,i=t.getSetting("columnHeaders");for(let s=0,r=i.length;s<r;s++)if(n[s]){if(!e[s]||0===e[s].childNodes.length)return;e[s].childNodes[0].style.height=`${n[s]}px`}}resetOversizedRows(){const{wtSettings:t}=this,{wtViewport:e}=this.dataAccessObject;if((this.isMaster||this.is(na))&&!t.getSetting("externalRowCalculator")){const t=this.getRenderedRowsCount();for(let n=0;n<t;n++){const t=this.rowFilter.renderedToSource(n);e.oversizedRows&&e.oversizedRows[t]&&(e.oversizedRows[t]=void 0)}}}getCell(t){let e=t.row,n=t.col;const i=this.wtSettings.getSetting("onModifyGetCellCoords",e,n);if(i&&Array.isArray(i)&&([e,n]=i),this.isRowBeforeRenderedRows(e))return-1;if(this.isRowAfterRenderedRows(e))return-2;if(this.isColumnBeforeRenderedColumns(n))return-3;if(this.isColumnAfterRenderedColumns(n))return-4;const s=this.getRow(e);if(!s&&e>=0)throw new Error("TR was expected to be rendered but is not");const r=s.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(n)];if(!r&&n>=0)throw new Error("TD or TH was expected to be rendered but is not");return r}getRow(t){let e=null,n=null;var i,s;t<0?(e=null===(i=this.rowFilter)||void 0===i?void 0:i.sourceRowToVisibleColHeadedRow(t),n=this.THEAD):(e=null===(s=this.rowFilter)||void 0===s?void 0:s.sourceToRendered(t),n=this.TBODY);return void 0!==e&&void 0!==n&&(!(n.childNodes.length<e+1)&&n.childNodes[e])}getColumnHeader(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.THEAD.childNodes[e];return null===n||void 0===n?void 0:n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]}getColumnHeaders(t){const e=[],n=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t);return this.THEAD.childNodes.forEach((t=>{const i=t.childNodes[n];i&&e.push(i)})),e}getRowHeader(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.wtSettings.getSetting("rowHeaders").length;if(e>=n)return;const i=this.rowFilter.sourceToRendered(t),s=i<0?this.rowFilter.sourceRowToVisibleColHeadedRow(t):i,r=i<0?this.THEAD:this.TBODY,o=r.childNodes[s];return null===o||void 0===o?void 0:o.childNodes[e]}getRowHeaders(t){const e=[],n=this.wtSettings.getSetting("rowHeaders").length;for(let i=0;i<n;i++){const n=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)],s=null===n||void 0===n?void 0:n.childNodes[i];s&&e.push(s)}return e}getCoords(t){let e=t;if("TD"!==e.nodeName&&"TH"!==e.nodeName&&(e=Qt(e,["TD","TH"])),null===e)return null;const n=e.parentNode,i=n.parentNode;let s=ne(n),r=e.cellIndex;if(ie(sa,e,this.wtRootElement)||ie(ea,e,this.wtRootElement))"THEAD"===i.nodeName&&(s-=i.childNodes.length);else if(ie(ra,e,this.wtRootElement)||ie(na,e,this.wtRootElement)){const t=this.wtSettings.getSetting("totalRows");s=t-i.childNodes.length+s}else s=i===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(s):this.rowFilter.renderedToSource(s);return r=ie(sa,e,this.wtRootElement)||ie(ia,e,this.wtRootElement)||ie(ra,e,this.wtRootElement)?this.columnFilter.offsettedTH(r):this.columnFilter.visibleRowHeadedColumnToSourceColumn(r),this.wot.createCellCoords(s,r)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let t=this.TBODY.childNodes.length;const e=t*this.wtSettings.getSetting("defaultRowHeight"),n=Ae(this.TBODY)-1;let i,s,r,o,a;if(e!==n||this.wtSettings.getSetting("fixedRowsBottom"))while(t)t-=1,r=this.rowFilter.renderedToSource(t),i=this.getRowHeight(r),o=this.getTrForRow(r),a=o.querySelector("th"),s=a?Ae(a):Ae(o)-1,(!i&&this.wtSettings.getSetting("defaultRowHeight")<s||i<s)&&(s+=1,this.dataAccessObject.wtViewport.oversizedRows[r]=s)}getTrForRow(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]}isColumnHeaderRendered(t){if(t>=0)return!1;const e=this.wtSettings.getSetting("rowHeaders"),n=e.length;return Math.abs(t)<=n}isRowHeaderRendered(t){if(t>=0)return!1;const e=this.wtSettings.getSetting("columnHeaders"),n=e.length;return Math.abs(t)<=n}isRowBeforeRenderedRows(t){const e=this.getFirstRenderedRow();return t<0&&e<=0?!this.isRowHeaderRendered(t):t<e}isRowAfterRenderedRows(t){return t>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(t){const e=this.getFirstRenderedColumn();return t<0&&e<=0?!this.isColumnHeaderRendered(t):t<e}isColumnAfterRenderedColumns(t){return this.columnFilter&&t>this.getLastRenderedColumn()}isColumnAfterViewport(t){return this.columnFilter&&t>this.getLastVisibleColumn()}isRowAfterViewport(t){return this.rowFilter&&t>this.getLastVisibleRow()}isColumnBeforeViewport(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)<0&&t>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(t){return this.rowUtils.getHeight(t)}getColumnHeaderHeight(t){return this.columnUtils.getHeaderHeight(t)}getColumnWidth(t){return this.columnUtils.getWidth(t)}getStretchedColumnWidth(t){return this.columnUtils.getStretchedColumnWidth(t)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return Ee(this.TABLE)}getHeight(){return Re(this.TABLE)}getTotalWidth(){const t=Ee(this.hider);return 0!==t?t:this.getWidth()}getTotalHeight(){const t=Re(this.hider);return 0!==t?t:this.getHeight()}isVisible(){return pe(this.TABLE)}_modifyRowHeaderWidth(t){let e=nn(t)?t():null;return Array.isArray(e)?(e=[...e],e[e.length-1]=this._correctRowHeaderWidth(e[e.length-1])):e=this._correctRowHeaderWidth(e),e}_correctRowHeaderWidth(t){let e=t;return"number"!==typeof t&&(e=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(e+=1),e}}var ua=da;const fa="stickyRowsTop",ma={getFirstRenderedRow(){const t=this.wtSettings.getSetting("totalRows");return 0===t?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};bn(ma,"MIXIN_NAME",fa,{writable:!1,enumerable:!1});var ga=ma;const pa="calculatedColumns",_a={getFirstRenderedColumn(){const t=this.dataAccessObject.startColumnRendered;return null===t?-1:t},getFirstVisibleColumn(){const t=this.dataAccessObject.startColumnVisible;return null===t?-1:t},getFirstPartiallyVisibleColumn(){const t=this.dataAccessObject.startColumnPartiallyVisible;return null===t?-1:t},getLastRenderedColumn(){const t=this.dataAccessObject.endColumnRendered;return null===t?-1:t},getLastVisibleColumn(){const t=this.dataAccessObject.endColumnVisible;return null===t?-1:t},getLastPartiallyVisibleColumn(){const t=this.dataAccessObject.endColumnPartiallyVisible;return null===t?-1:t},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};bn(_a,"MIXIN_NAME",pa,{writable:!1,enumerable:!1});var ya=_a;class wa extends ua{constructor(t,e,n,i){super(t,e,n,i,ea)}}yn(wa,ga),yn(wa,ya);var va=wa;function ba(t,e){Ma(t,e),e.add(t)}function Ma(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Sa(t,e,n){return e=Ca(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ca(t){var e=xa(t,"string");return"symbol"==typeof e?e:e+""}function xa(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Ta(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ka=new WeakSet;class La{constructor(t){ba(this,ka),Sa(this,"dataAccessObject",void 0),this.dataAccessObject=t}scrollViewport(t,e,n,i,s){const r=this.scrollViewportHorizontally(t.col,n,s),o=this.scrollViewportVertically(t.row,e,i);return r||o}scrollViewportHorizontally(t,e,n){const{drawn:i,totalColumns:s}=this.dataAccessObject;if(!i||!Number.isInteger(t)||t<0||t>s)return!1;const r=void 0===e&&void 0===n,{fixedColumnsStart:o,inlineStartOverlay:a}=this.dataAccessObject;if(r&&t<o)return!1;if(t=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",t),!Number.isInteger(t)||t<0||t>s)return!1;const l=this.getFirstVisibleColumn(),h=this.getLastVisibleColumn();let c=!1;return(r&&(t<l||t>h)||!r)&&(c=a.scrollTo(t,r?t>=this.getLastPartiallyVisibleColumn():e)),c}scrollViewportVertically(t,e,n){const{drawn:i,totalRows:s}=this.dataAccessObject;if(!i||!Number.isInteger(t)||t<0||t>s)return!1;const r=void 0===e&&void 0===n,{fixedRowsBottom:o,fixedRowsTop:a,topOverlay:l}=this.dataAccessObject;if(r&&(t<a||t>s-o-1))return!1;if(t=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",t),!Number.isInteger(t)||t<0||t>s)return!1;const h=this.getFirstVisibleRow(),c=this.getLastVisibleRow();let d=!1;return(r&&(t<h||t>c)||!r)&&(d=l.scrollTo(t,r?t>=this.getLastPartiallyVisibleRow():n)),d}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){return Ta(ka,this,Ra).call(this,this.dataAccessObject.wtTable.getLastVisibleRow())}getFirstPartiallyVisibleRow(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleRow()}getLastPartiallyVisibleRow(){return Ta(ka,this,Ra).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleRow())}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){return Ta(ka,this,Ea).call(this,this.dataAccessObject.wtTable.getLastVisibleColumn())}getFirstPartiallyVisibleColumn(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleColumn()}getLastPartiallyVisibleColumn(){return Ta(ka,this,Ea).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleColumn())}}function Ea(t){const{wtSettings:e,inlineStartOverlay:n,wtTable:i,wtViewport:s,totalColumns:r,rootWindow:o}=this.dataAccessObject;if(n.mainTableScrollableElement===o){const a=e.getSetting("rtlMode");let l=null;if(a){const t=i.TABLE.getBoundingClientRect(),e=this.dataAccessObject.rootWindow.document,n=e.documentElement.offsetWidth;l=Math.abs(t.right-n)}else{const t=_e(i.wtRootElement);l=t.left}const h=Math.abs(be(o,o));if(l>h){const e=De(o);let i=s.getRowHeaderWidth();for(let s=1;s<=r;s++)if(i+=n.sumCellSizes(s-1,s),l+i-h>=e){t=s-2;break}}}return t}function Ra(t){const{topOverlay:e,wtTable:n,wtViewport:i,totalRows:s,rootWindow:r}=this.dataAccessObject;if(e.mainTableScrollableElement===r){const o=_e(n.wtRootElement),a=ve(r,r);if(o.top>a){const n=Ae(r);let l=i.getColumnHeaderHeight();for(let i=1;i<=s;i++)if(l+=e.sumCellSizes(i-1,i),o.top+l-a>=n){t=i-2;break}}}return t}var Aa=La;function Da(t,e,n){Ha(t,e),e.set(t,n)}function Ha(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pa(t,e,n){return e=Ia(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ia(t){var e=Oa(t,"string");return"symbol"==typeof e?e:e+""}function Oa(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Ya(t,e){return t.get(Fa(t,e))}function Na(t,e,n){return t.set(Fa(t,e),n),n}function Fa(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ja=new WeakMap;class Wa{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Pa(this,"row",null),Pa(this,"col",null),Da(this,ja,!1),Na(ja,this,n),"undefined"!==typeof t&&"undefined"!==typeof e&&(this.row=t,this.col=e)}isValid(t){const{countRows:e,countCols:n,countRowHeaders:i,countColHeaders:s}={countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0,...t};return!(!Number.isInteger(this.row)||!Number.isInteger(this.col))&&(!(this.row<-s||this.col<-i)&&!(this.row>=e||this.col>=n))}isEqual(t){return t===this||this.row===t.row&&this.col===t.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return Ya(ja,this)}isSouthEastOf(t){return this.row>=t.row&&(Ya(ja,this)?this.col<=t.col:this.col>=t.col)}isNorthWestOf(t){return this.row<=t.row&&(Ya(ja,this)?this.col>=t.col:this.col<=t.col)}isSouthWestOf(t){return this.row>=t.row&&(Ya(ja,this)?this.col>=t.col:this.col<=t.col)}isNorthEastOf(t){return this.row<=t.row&&(Ya(ja,this)?this.col<=t.col:this.col>=t.col)}normalize(){return this.row=null===this.row?this.row:Math.max(this.row,0),this.col=null===this.col?this.col:Math.max(this.col,0),this}assign(t){return Number.isInteger(null===t||void 0===t?void 0:t.row)&&(this.row=t.row),Number.isInteger(null===t||void 0===t?void 0:t.col)&&(this.col=t.col),t instanceof Wa&&Na(ja,this,t.isRtl()),this}clone(){return new Wa(this.row,this.col,Ya(ja,this))}toObject(){return{row:this.row,col:this.col}}}var Va=Wa;function Ba(t,e,n){za(t,e),e.set(t,n)}function za(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ua(t,e,n){return e=$a(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $a(t){var e=Ga(t,"string");return"symbol"==typeof e?e:e+""}function Ga(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Ka(t,e){return t.get(Xa(t,e))}function qa(t,e,n){return t.set(Xa(t,e),n),n}function Xa(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Ja=new WeakMap;class Za{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Ua(this,"highlight",null),Ua(this,"from",null),Ua(this,"to",null),Ba(this,Ja,!1),this.highlight=t.clone(),this.from=e.clone(),this.to=n.clone(),qa(Ja,this,i)}setHighlight(t){return this.highlight=t.clone(),this}setFrom(t){return this.from=t.clone(),this}setTo(t){return this.to=t.clone(),this}isValid(t){return this.from.isValid(t)&&this.to.isValid(t)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}isHeader(){return!(!this.from.isHeader()||!this.to.isHeader())||(this.from.col<0&&this.to.col<0||this.from.row<0&&this.to.row<0)}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;const t=Math.max(this.from.row,0),e=Math.max(this.to.row,0);return Math.max(t,e)-Math.min(t,e)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;const t=Math.max(this.from.col,0),e=Math.max(this.to.col,0);return Math.max(t,e)-Math.min(t,e)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(t){const{row:e,col:n}=t,i=this.getOuterTopStartCorner(),s=this.getOuterBottomEndCorner();return i.row<=e&&s.row>=e&&i.col<=n&&s.col>=n}includesRange(t){return this.includes(t.getOuterTopStartCorner())&&this.includes(t.getOuterBottomEndCorner())}isEqual(t){return Math.min(this.from.row,this.to.row)===Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(t.from.col,t.to.col)}overlaps(t){return t.isSouthEastOf(this.getOuterTopLeftCorner())&&t.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(t){return this.getOuterTopLeftCorner().isSouthEastOf(t)||this.getOuterBottomRightCorner().isSouthEastOf(t)}isNorthWestOf(t){return this.getOuterTopLeftCorner().isNorthWestOf(t)||this.getOuterBottomRightCorner().isNorthWestOf(t)}isOverlappingHorizontally(t){return this.getOuterTopEndCorner().col>=t.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=t.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=t.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=t.getOuterTopStartCorner().col}isOverlappingVertically(t){return this.getOuterBottomStartCorner().row>=t.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=t.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=t.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=t.getOuterTopRightCorner().row}expand(t){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner();return(t.row<e.row||t.col<e.col||t.row>n.row||t.col>n.col)&&(this.from=this._createCellCoords(Math.min(e.row,t.row),Math.min(e.col,t.col)),this.to=this._createCellCoords(Math.max(n.row,t.row),Math.max(n.col,t.col)),!0)}expandByRange(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.includesRange(t)||!this.overlaps(t))return!1;const n=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),s=this.getDirection(),r=t.getOuterTopStartCorner(),o=t.getOuterBottomEndCorner(),a=Math.min(n.row,r.row),l=Math.min(n.col,r.col),h=Math.max(i.row,o.row),c=Math.max(i.col,o.col),d=this._createCellCoords(a,l),u=this._createCellCoords(h,c);return this.from=d,this.to=u,this.setDirection(s),e&&(this.highlight.row===this.getOuterBottomRightCorner().row&&"N-S"===this.getVerticalDirection()&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&"W-E"===this.getHorizontalDirection()&&this.flipDirectionHorizontally()),!0}getDirection(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}setDirection(t){switch(t){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break;default:break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){const t=this.getDirection();switch(t){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break;default:break}}flipDirectionHorizontally(){const t=this.getDirection();switch(t){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break;default:break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return Ka(Ja,this)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return Ka(Ja,this)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return Ka(Ja,this)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return Ka(Ja,this)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return Ka(Ja,this)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return Ka(Ja,this)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return Ka(Ja,this)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return Ka(Ja,this)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(t){return t.isEqual(this.getOuterTopLeftCorner())||t.isEqual(this.getOuterTopRightCorner())||t.isEqual(this.getOuterBottomLeftCorner())||t.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(t){return t instanceof Va&&(t.isEqual(this.getOuterBottomEndCorner())?this.getOuterTopStartCorner():t.isEqual(this.getOuterTopStartCorner())?this.getOuterBottomEndCorner():t.isEqual(this.getOuterTopEndCorner())?this.getOuterBottomStartCorner():t.isEqual(this.getOuterBottomStartCorner())?this.getOuterTopEndCorner():void 0)}getBordersSharedWith(t){if(!this.includesRange(t))return[];const e={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},n={top:Math.min(t.from.row,t.to.row),bottom:Math.max(t.from.row,t.to.row),left:Math.min(t.from.col,t.to.col),right:Math.max(t.from.col,t.to.col)},i=[];return e.top===n.top&&i.push("top"),e.right===n.right&&i.push(Ka(Ja,this)?"left":"right"),e.bottom===n.bottom&&i.push("bottom"),e.left===n.left&&i.push(Ka(Ja,this)?"right":"left"),i}getInner(){const t=this.getOuterTopStartCorner(),e=this.getOuterBottomEndCorner(),n=[];for(let i=t.row;i<=e.row;i++)for(let s=t.col;s<=e.col;s++)this.from.row===i&&this.from.col===s||this.to.row===i&&this.to.col===s||n.push(this._createCellCoords(i,s));return n}getAll(){const t=this.getOuterTopStartCorner(),e=this.getOuterBottomEndCorner(),n=[];for(let i=t.row;i<=e.row;i++)for(let s=t.col;s<=e.col;s++)t.row===i&&t.col===s?n.push(t):e.row===i&&e.col===s?n.push(e):n.push(this._createCellCoords(i,s));return n}forAll(t){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner();for(let i=e.row;i<=n.row;i++)for(let s=e.col;s<=n.col;s++){const e=t(i,s);if(!1===e)return}}clone(){return new Za(this.highlight,this.from,this.to,Ka(Ja,this))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(t,e){return new Va(t,e,Ka(Ja,this))}}var Qa=Za;function tl(t,e,n){return e=el(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function el(t){var e=nl(t,"string");return"symbol"==typeof e?e:e+""}function nl(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class il{get eventManager(){return new Wi(this)}constructor(t,e){tl(this,"wtTable",void 0),tl(this,"wtScroll",void 0),tl(this,"wtViewport",void 0),tl(this,"wtOverlays",void 0),tl(this,"selectionManager",void 0),tl(this,"wtEvent",void 0),tl(this,"guid",`wt_${st()}`),tl(this,"drawInterrupted",!1),tl(this,"drawn",!1),tl(this,"domBindings",void 0),tl(this,"wtSettings",void 0),this.domBindings={rootTable:t,rootDocument:t.ownerDocument,rootWindow:t.ownerDocument.defaultView},this.wtSettings=e,this.wtScroll=new Aa(this.createScrollDao())}findOriginalHeaders(){const t=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let e=0,n=this.wtTable.THEAD.childNodes[0].childNodes.length;e<n;e++)t.push(this.wtTable.THEAD.childNodes[0].childNodes[e].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(e,n){ge(n,t[e])}])}}createCellCoords(t,e){return new Va(t,e,this.wtSettings.getSetting("rtlMode"))}createCellRange(t,e,n){return new Qa(t,e,n,this.wtSettings.getSetting("rtlMode"))}draw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,t||this.wtTable.isVisible()?this.wtTable.draw(t):this.drawInterrupted=!0,this}getCell(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.wtTable.getCell(t);const n=this.wtSettings.getSetting("totalRows"),i=this.wtSettings.getSetting("fixedRowsTop"),s=this.wtSettings.getSetting("fixedRowsBottom"),r=this.wtSettings.getSetting("fixedColumnsStart");if(t.row<i&&t.col<r)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(t);if(t.row<i)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<r&&t.row>=n-s){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<r)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(t);if(t.row<n&&t.row>=n-s&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)}scrollViewport(t,e,n,i,s){return!(t.col<0||t.row<0)&&this.wtScroll.scrollViewport(t,e,n,i,s)}scrollViewportHorizontally(t,e,n){return!(t<0)&&this.wtScroll.scrollViewportHorizontally(t,e,n)}scrollViewportVertically(t,e,n){return!(t<0)&&this.wtScroll.scrollViewportVertically(t,e,n)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){const t=this;return{get drawn(){return t.drawn},get topOverlay(){return t.wtOverlays.topOverlay},get inlineStartOverlay(){return t.wtOverlays.inlineStartOverlay},get wtTable(){return t.wtTable},get wtViewport(){return t.wtViewport},get wtSettings(){return t.wtSettings},get rootWindow(){return t.domBindings.rootWindow},get totalRows(){return t.wtSettings.getSetting("totalRows")},get totalColumns(){return t.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return t.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return t.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return t.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){const t=this;return{get wot(){return t},get parentTableOffset(){return t.cloneSource.wtTable.tableOffset},get cloneSource(){return t.cloneSource},get workspaceWidth(){return t.wtViewport.getWorkspaceWidth()},get wtViewport(){return t.wtViewport},get wtOverlays(){return t.wtOverlays},get selectionManager(){return t.selectionManager},get drawn(){return t.drawn},set drawn(e){t.drawn=e},get wtTable(){return t.wtTable},get startColumnRendered(){return t.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return t.wtViewport.columnsVisibleCalculator.startColumn},get startColumnPartiallyVisible(){return t.wtViewport.columnsPartiallyVisibleCalculator.startColumn},get endColumnRendered(){return t.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return t.wtViewport.columnsVisibleCalculator.endColumn},get endColumnPartiallyVisible(){return t.wtViewport.columnsPartiallyVisibleCalculator.endColumn},get countColumnsRendered(){return t.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return t.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return t.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return t.wtViewport.rowsVisibleCalculator.startRow},get startRowPartiallyVisible(){return t.wtViewport.rowsPartiallyVisibleCalculator.startRow},get endRowRendered(){return t.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return t.wtViewport.rowsVisibleCalculator.endRow},get endRowPartiallyVisible(){return t.wtViewport.rowsPartiallyVisibleCalculator.endRow},get countRowsRendered(){return t.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return t.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return t.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return t.wtSettings.getSetting("rowHeaders")}}}}function sl(t,e,n){return e=rl(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rl(t){var e=ol(t,"string");return"symbol"==typeof e?e:e+""}function ol(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class al extends il{constructor(t,e,n){super(t,e),sl(this,"cloneSource",void 0),sl(this,"cloneOverlay",void 0);const i=this.wtSettings.getSetting("facade",this);this.cloneSource=n.source,this.cloneOverlay=n.overlay,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),i,this.domBindings,this.wtSettings),this.wtViewport=n.viewport,this.selectionManager=n.selectionManager,this.wtEvent=new Rr(i,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,n.event),this.findOriginalHeaders()}}function ll(t,e,n){return e=hl(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hl(t){var e=cl(t,"string");return"symbol"==typeof e?e:e+""}function cl(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class dl{constructor(t,e,n,i,s){ll(this,"wtSettings",null),bn(this,"wot",t,{writable:!1}),this.domBindings=s,this.facadeGetter=e,this.wtSettings=i;const{TABLE:r,hider:o,spreader:a,holder:l,wtRootElement:h}=this.wot.wtTable;this.instance=this.wot,this.type=n,this.mainTableScrollableElement=null,this.TABLE=r,this.hider=o,this.spreader=a,this.holder=l,this.wtRootElement=h,this.trimmingContainer=xe(this.hider.parentNode.parentNode),this.updateStateOfRendering(),this.clone=this.makeClone()}updateStateOfRendering(){const t=this.needFullRender;this.needFullRender=this.shouldBeRendered();const e=t!==this.needFullRender;return e&&!this.needFullRender&&this.reset(),e}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=xe(this.hider.parentNode.parentNode)}updateMainScrollableElement(){const{wtTable:t}=this.wot,{rootWindow:e}=this.domBindings;"hidden"===e.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=Me(t.TABLE)}getRelativeCellPosition(t,e,n){if(!1===this.clone.wtTable.holder.contains(t))return void ci(`The provided element is not a child of the ${this.type} overlay`);const i=this.mainTableScrollableElement===this.domBindings.rootWindow,s=n<this.wtSettings.getSetting("fixedColumnsStart"),r=e<this.wtSettings.getSetting("fixedRowsTop"),o=e>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),a=this.clone.wtTable.spreader,l={start:this.getRelativeStartPosition(a),top:a.offsetTop},h={start:this.getRelativeStartPosition(t),top:t.offsetTop};let c=null;return c=i?this.getRelativeCellPositionWithinWindow(r,s,h,l):this.getRelativeCellPositionWithinHolder(r,o,s,h,l),c}getRelativeStartPosition(t){return this.isRtl()?t.offsetParent.offsetWidth-t.offsetLeft-t.offsetWidth:t.offsetLeft}getRelativeCellPositionWithinWindow(t,e,n,i){const s=this.wot.wtTable.wtRootElement.getBoundingClientRect();let r=0,o=0;if(e){let t=s.left;this.isRtl()&&(t=this.domBindings.rootWindow.innerWidth-(s.left+s.width+Ve())),r=t<=0?-1*t:0}else r=i.start;if(t){const t=this.clone.wtTable.TABLE.getBoundingClientRect();o=t.top-s.top}else o=i.top;return{start:n.start+r,top:n.top+o}}getRelativeCellPositionWithinHolder(t,e,n,i,s){const r={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()};let o=0,a=0;if(n||(o=r.horizontal-s.start),e){const t=this.wot.wtTable.wtRootElement.getBoundingClientRect(),e=this.clone.wtTable.TABLE.getBoundingClientRect();a=-1*e.top+t.top}else t||(a=r.vertical-s.top);return{start:i.start-o,top:i.top-a}}makeClone(){if(-1===oa.indexOf(this.type))throw new Error(`Clone type "${this.type}" is not supported.`);const{wtTable:t,wtSettings:e}=this.wot,{rootDocument:n,rootWindow:i}=this.domBindings,s=n.createElement("div"),r=n.createElement("table"),o=t.wtRootElement.parentNode;s.className=`${aa.get(this.type)} handsontable`,s.setAttribute("dir",this.isRtl()?"rtl":"ltr"),s.style.position="absolute",s.style.top=0,s.style.overflow="visible",this.isRtl()?s.style.right=0:s.style.left=0,e.getSetting("ariaTags")&&he(s,[dt()]),r.className=t.TABLE.className;const a=t.TABLE.getAttribute("role");a&&r.setAttribute("role",t.TABLE.getAttribute("role")),s.appendChild(r),o.appendChild(s);const l=this.wtSettings.getSetting("preventOverflow");return!0===l||"horizontal"===l&&this.type===ea||"vertical"===l&&this.type===ia?this.mainTableScrollableElement=i:"hidden"===i.getComputedStyle(o).getPropertyValue("overflow")?this.mainTableScrollableElement=t.holder:this.mainTableScrollableElement=Me(t.TABLE),new al(r,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager})}refresh(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.shouldBeRendered();this.clone&&(this.needFullRender||e)&&this.clone.draw(t),this.needFullRender=e}reset(){if(!this.clone)return;const t=this.clone.wtTable.holder,e=this.clone.wtTable.hider,n=t.style,i=e.style,s=t.parentNode.style;T([n,i,s],(t=>{t.width="",t.height=""}))}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}}const ul=Object.freeze({width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"});function fl(t,e,n){return e=ml(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ml(t){var e=gl(t,"string");return"symbol"==typeof e?e:e+""}function gl(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class pl extends dl{constructor(t,e,n,i){super(t,e,ea,n,i),fl(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new va(...e)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;const t=this.clone.wtTable.holder.parentNode,{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let i=0,s=!1;if(this.trimmingContainer!==e||n&&"vertical"===n)i=this.getScrollPosition(),Ge(t);else{const{wtTable:e}=this.wot,n=e.hider.getBoundingClientRect(),r=Math.ceil(n.bottom),o=t.offsetHeight;s=r===o,i=this.getOverlayOffset(),Ue(t,"0px",`${i}px`)}const r=this.adjustHeaderBordersPosition(i,s);return this.adjustElementsSize(),r}setScrollPosition(t){const e=this.domBindings.rootWindow;let n=!1;return this.mainTableScrollableElement===e&&e.scrollY!==t?(e.scrollTo(we(e),t),n=!0):this.mainTableScrollableElement.scrollTop!==t&&(this.mainTableScrollableElement.scrollTop=t,n=!0),n}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(t,e){const n=this.wtSettings.getSetting("defaultRowHeight");let i=t,s=0;while(i<e){const t=this.wot.wtTable.getRowHeight(i);s+=void 0===t?n:t,i+=1}return s}adjustElementsSize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:t}=this.wot,{rootDocument:e,rootWindow:n}=this.domBindings,i=Ve(e),s=this.clone.wtTable.holder.parentNode,r=s.style,o=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==n||"horizontal"===o){let e=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(e-=i),e=Math.min(e,t.wtRootElement.scrollWidth),r.width=`${e}px`}else r.width="";this.clone.wtTable.holder.style.width=r.width;let a=Re(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(a=0),r.height=`${a}px`}adjustRootChildrenSize(){const{holder:t}=this.clone.wtTable,e=this.wot.selectionManager.getFocusSelection()?parseInt(ul.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,t.style.width=t.parentNode.style.width,t.style.height=`${parseInt(t.parentNode.style.height,10)+e}px`}applyToDOM(){const t=this.wtSettings.getSetting("totalRows");if("number"===typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else{if(0!==t)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const t=this.isRtl()?"right":"left",{spreader:e}=this.clone.wtTable;"number"===typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?e.style[t]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:e.style[t]=""}scrollTo(t,e){const{wot:n,wtSettings:i}=this,s=n.cloneSource?n.cloneSource:n,r=s.wtTable.holder,o=i.getSetting("columnHeaders"),a=i.getSetting("fixedRowsTop"),l=0===a&&o.length>0&&!oe(r.parentNode,"innerBorderTop")?1:0;let h=this.getTableParentOffset(),c=0;if(e){const n=this.wot.wtTable.getRowHeight(t),i=this.wot.wtViewport.getViewportHeight();n>i&&(e=!1)}if(e&&r.offsetHeight!==r.clientHeight&&(c=Ve(this.domBindings.rootDocument)),e){const e=i.getSetting("fixedRowsBottom"),s=i.getSetting("totalRows");h+=this.sumCellSizes(0,t+1),h-=n.wtViewport.getViewportHeight()-this.sumCellSizes(s-e,s),h+=1,h+=l}else h+=this.sumCellSizes(i.getSetting("fixedRowsTop"),t);return h+=c,Se(this.mainTableScrollableElement)===h-l&&l>0&&this.wot.wtOverlays.expandHiderVerticallyBy(l),this.setScrollPosition(h)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return ve(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:t}=this.domBindings,e=this.wtSettings.getSetting("preventOverflow");let n=0;if(this.trimmingContainer===t&&(!e||"vertical"!==e)){const t=this.wot.wtTable.getTotalHeight(),e=this.clone.wtTable.getTotalHeight(),i=t-e;n=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),n>i&&(n=0)}return n}adjustHeaderBordersPosition(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.wot.wtTable.holder.parentNode,i=this.wtSettings.getSetting("totalColumns");i?le(n,"emptyColumns"):ae(n,"emptyColumns");let s=!1;if(!e){const e=this.wtSettings.getSetting("fixedRowsTop"),i=this.cachedFixedRowsTop!==e,r=this.wtSettings.getSetting("columnHeaders");if((i||0===e)&&r.length>0){const e=oe(n,"innerBorderTop");this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop"),t||0===this.wtSettings.getSetting("totalRows")?(ae(n,"innerBorderTop"),s=!e):(le(n,"innerBorderTop"),s=e)}}return s}}const _l="stickyRowsBottom",yl={getFirstRenderedRow(){const t=this.wtSettings.getSetting("totalRows"),e=this.wtSettings.getSetting("fixedRowsBottom"),n=t-e;return 0===t||0===e?-1:n<0?0:n},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};bn(yl,"MIXIN_NAME",_l,{writable:!1,enumerable:!1});var wl=yl;class vl extends ua{constructor(t,e,n,i){super(t,e,n,i,na)}}yn(vl,wl),yn(vl,ya);var bl=vl;function Ml(t,e,n){return e=Sl(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sl(t){var e=Cl(t,"string");return"symbol"==typeof e?e:e+""}function Cl(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class xl extends dl{constructor(t,e,n,i){super(t,e,na,n,i),Ml(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new bl(...e)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.wot.wtTable.holder.parentNode)return!1;const{rootWindow:t}=this.domBindings,e=this.clone.wtTable.holder.parentNode;e.style.top="";let n=0;const i=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer!==t||i&&"vertical"===i?(n=this.getScrollPosition(),this.repositionOverlay()):(n=this.getOverlayOffset(),e.style.bottom=`${n}px`);const s=this.adjustHeaderBordersPosition(n);return this.adjustElementsSize(),s}repositionOverlay(){const{wtTable:t,wtViewport:e}=this.wot,{rootDocument:n}=this.domBindings,i=this.clone.wtTable.holder.parentNode;let s=0;e.hasVerticalScroll()||(s+=e.getWorkspaceHeight()-t.getTotalHeight()),e.hasVerticalScroll()&&e.hasHorizontalScroll()&&(s+=Ve(n)),i.style.bottom=`${s}px`}setScrollPosition(t){const{rootWindow:e}=this.domBindings;let n=!1;return this.mainTableScrollableElement===e?(e.scrollTo(we(e),t),n=!0):this.mainTableScrollableElement.scrollTop!==t&&(this.mainTableScrollableElement.scrollTop=t,n=!0),n}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(t,e){const{wtTable:n,wtSettings:i}=this.wot,s=i.getSetting("defaultRowHeight");let r=t,o=0;while(r<e){const t=n.getRowHeight(r);o+=void 0===t?s:t,r+=1}return o}adjustElementsSize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:t,wtViewport:e}=this.wot,{rootDocument:n,rootWindow:i}=this.domBindings,s=Ve(n),r=this.clone.wtTable.holder.parentNode,o=r.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||"horizontal"===a){let n=e.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(n-=s),n=Math.min(n,t.wtRootElement.scrollWidth),o.width=`${n}px`}else o.width="";this.clone.wtTable.holder.style.width=o.width;let l=Re(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(l=0),o.height=`${l}px`}adjustRootChildrenSize(){const{holder:t}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,t.style.width=t.parentNode.style.width,t.style.height=t.parentNode.style.height}applyToDOM(){const t=this.wtSettings.getSetting("totalRows");if("number"===typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else{if(0!==t)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const t=this.isRtl()?"right":"left",{spreader:e}=this.clone.wtTable;"number"===typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?e.style[t]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:e.style[t]=""}scrollTo(t,e){let n=this.getTableParentOffset();const i=this.wot.cloneSource?this.wot.cloneSource:this.wot,s=i.wtTable.holder;let r=0;e&&s.offsetHeight!==s.clientHeight&&(r=Ve(this.domBindings.rootDocument)),e?(n+=this.sumCellSizes(0,t+1),n-=this.wot.wtViewport.getViewportHeight(),n+=1):n+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),t),n+=r,this.setScrollPosition(n)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return ve(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:t}=this.domBindings,e=this.wtSettings.getSetting("preventOverflow");let n=0;if(this.trimmingContainer===t&&(!e||"vertical"!==e)){const t=this.wot.wtTable.getTotalHeight(),e=this.clone.wtTable.getTotalHeight(),i=t-e,s=this.domBindings.rootDocument.documentElement.clientHeight;n=Math.max(this.getTableParentOffset()-this.getScrollPosition()-s+t,0),n>i&&(n=0)}return n}adjustHeaderBordersPosition(t){const e=this.wtSettings.getSetting("fixedRowsBottom"),n=this.cachedFixedRowsBottom!==e,i=this.wtSettings.getSetting("columnHeaders");let s=!1;if((n||0===e)&&i.length>0){const e=this.wot.wtTable.holder.parentNode,n=oe(e,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),t||0===this.wtSettings.getSetting("totalRows")?(ae(e,"innerBorderBottom"),s=!n):(le(e,"innerBorderBottom"),s=n)}return s}}const Tl="calculatedRows",kl={getFirstRenderedRow(){const t=this.dataAccessObject.startRowRendered;return null===t?-1:t},getFirstVisibleRow(){const t=this.dataAccessObject.startRowVisible;return null===t?-1:t},getFirstPartiallyVisibleRow(){const t=this.dataAccessObject.startRowPartiallyVisible;return null===t?-1:t},getLastRenderedRow(){const t=this.dataAccessObject.endRowRendered;return null===t?-1:t},getLastVisibleRow(){const t=this.dataAccessObject.endRowVisible;return null===t?-1:t},getLastPartiallyVisibleRow(){const t=this.dataAccessObject.endRowPartiallyVisible;return null===t?-1:t},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};bn(kl,"MIXIN_NAME",Tl,{writable:!1,enumerable:!1});var Ll=kl;const El="stickyColumnsStart",Rl={getFirstRenderedColumn(){const t=this.wtSettings.getSetting("totalColumns");return 0===t?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getFirstPartiallyVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getLastPartiallyVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){const t=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),t)},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};bn(Rl,"MIXIN_NAME",El,{writable:!1,enumerable:!1});var Al=Rl;class Dl extends ua{constructor(t,e,n,i){super(t,e,n,i,ia)}}yn(Dl,Ll),yn(Dl,Al);var Hl=Dl;class Pl extends dl{constructor(t,e,n,i){super(t,e,ia,n,i)}createTable(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Hl(...e)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wtTable:t}=this.wot;if(!this.needFullRender||!t.holder.parentNode)return!1;const{rootWindow:e}=this.domBindings,n=this.clone.wtTable.holder.parentNode,i=this.wtSettings.getSetting("preventOverflow");let s=0;this.trimmingContainer!==e||i&&"horizontal"===i?(s=this.getScrollPosition(),Ge(n)):(s=this.getOverlayOffset()*(this.isRtl()?-1:1),Ue(n,`${s}px`,"0px"));const r=this.adjustHeaderBordersPosition(s);return this.adjustElementsSize(),r}setScrollPosition(t){const{rootWindow:e}=this.domBindings;let n=!1;return this.isRtl()&&(t=-t),this.mainTableScrollableElement===e&&e.scrollX!==t?(e.scrollTo(t,ye(e)),n=!0):this.mainTableScrollableElement.scrollLeft!==t&&(this.mainTableScrollableElement.scrollLeft=t,n=!0),n}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(t,e){const n=this.wtSettings.getSetting("defaultColumnWidth");let i=t,s=0;while(i<e)s+=this.wot.wtTable.getStretchedColumnWidth(i)||n,i+=1;return s}adjustElementsSize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:t}=this.wot,{rootDocument:e,rootWindow:n}=this.domBindings,i=Ve(e),s=this.clone.wtTable.holder.parentNode,r=s.style,o=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==n||"vertical"===o){let e=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(e-=i),e=Math.min(e,t.wtRootElement.scrollHeight),r.height=`${e}px`}else r.height="";this.clone.wtTable.holder.style.height=r.height;const a=Ee(this.clone.wtTable.TABLE);r.width=`${a}px`}adjustRootChildrenSize(){const{holder:t}=this.clone.wtTable,e=this.wot.selectionManager.getFocusSelection()?parseInt(ul.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,t.style.height=t.parentNode.style.height,t.style.width=`${parseInt(t.parentNode.style.width,10)+e}px`}applyToDOM(){const t=this.wtSettings.getSetting("totalColumns"),e=this.isRtl()?"right":"left";if("number"===typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else{if(0!==t)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style[e]="0"}this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){"number"===typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(t,e){const{wtSettings:n}=this,i=n.getSetting("rowHeaders"),s=n.getSetting("fixedColumnsStart"),r=this.wot.cloneSource?this.wot.cloneSource:this.wot,o=r.wtTable.holder,a=0===s&&i.length>0&&!oe(o.parentNode,"innerBorderInlineStart")?1:0;let l=this.getTableParentOffset(),h=0;if(e){const n=this.wot.wtTable.getColumnWidth(t),i=this.wot.wtViewport.getViewportWidth();n>i&&(e=!1)}return e&&o.offsetWidth!==o.clientWidth&&(h=Ve(this.domBindings.rootDocument)),e?(l+=this.sumCellSizes(0,t+1),l-=this.wot.wtViewport.getViewportWidth(),l+=a):l+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),t),l+=h,Ce(this.mainTableScrollableElement)===l-a&&a>0&&this.wot.wtOverlays.expandHiderHorizontallyBy(a),this.setScrollPosition(l)}getTableParentOffset(){const t=this.wtSettings.getSetting("preventOverflow");let e=0;return t||this.trimmingContainer!==this.domBindings.rootWindow||(e=this.wot.wtTable.holderOffset.left),e}getScrollPosition(){return Math.abs(be(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){const{rootWindow:t}=this.domBindings,e=this.wtSettings.getSetting("preventOverflow");let n=0;if(this.trimmingContainer===t&&(!e||"horizontal"!==e)){n=this.isRtl()?Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);const t=this.wot.wtTable.getTotalWidth(),e=this.clone.wtTable.getTotalWidth(),i=t-e;n>i&&(n=0)}return n}adjustHeaderBordersPosition(t){const e=this.wot.wtTable.holder.parentNode,n=this.wtSettings.getSetting("rowHeaders"),i=this.wtSettings.getSetting("fixedColumnsStart"),s=this.wtSettings.getSetting("totalRows");s?le(e,"emptyRows"):ae(e,"emptyRows");let r=!1;if(i&&!n.length)ae(e,"innerBorderLeft innerBorderInlineStart");else if(!i&&n.length){const n=oe(e,"innerBorderInlineStart");t?(ae(e,"innerBorderLeft innerBorderInlineStart"),r=!n):(le(e,"innerBorderLeft innerBorderInlineStart"),r=n)}return r}}class Il extends ua{constructor(t,e,n,i){super(t,e,n,i,sa)}}yn(Il,ga),yn(Il,Al);var Ol=Il;function Yl(t,e,n){return e=Nl(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nl(t){var e=Fl(t,"string");return"symbol"==typeof e?e:e+""}function Fl(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class jl extends dl{constructor(t,e,n,i,s,r){super(t,e,sa,n,i),Yl(this,"topOverlay",void 0),Yl(this,"inlineStartOverlay",void 0),this.topOverlay=s,this.inlineStartOverlay=r}createTable(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Ol(...e)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;const t=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){const e=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),n=this.topOverlay.getOverlayOffset();Ue(t,`${e}px`,`${n}px`)}else Ge(t);let e=Re(this.clone.wtTable.TABLE);const n=Ee(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(e=0),t.style.height=`${e}px`,t.style.width=`${n}px`,!1}}class Wl extends ua{constructor(t,e,n,i){super(t,e,n,i,ra)}}yn(Wl,wl),yn(Wl,Al);var Vl=Wl;class Bl extends dl{constructor(t,e,n,i,s,r){super(t,e,ra,n,i),this.bottomOverlay=s,this.inlineStartOverlay=r}createTable(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Vl(...e)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wot:t}=this;if(this.updateTrimmingContainer(),!t.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode;if(e.style.top="",this.trimmingContainer===this.domBindings.rootWindow){const t=this.inlineStartOverlay.getOverlayOffset(),n=this.bottomOverlay.getOverlayOffset();e.style[this.isRtl()?"right":"left"]=`${t}px`,e.style.bottom=`${n}px`}else Ge(e),this.repositionOverlay();let n=Re(this.clone.wtTable.TABLE);const i=Ee(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(n=0),e.style.height=`${n}px`,e.style.width=`${i}px`,!1}repositionOverlay(){const{wtTable:t,wtViewport:e}=this.wot,{rootDocument:n}=this.domBindings,i=this.clone.wtTable.holder.parentNode;let s=0;e.hasVerticalScroll()||(s+=e.getWorkspaceHeight()-t.getTotalHeight()),e.hasVerticalScroll()&&e.hasHorizontalScroll()&&(s+=Ve(n)),i.style.bottom=`${s}px`}}function zl(t,e,n){return e=Ul(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ul(t){var e=$l(t,"string");return"symbol"==typeof e?e:e+""}function $l(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Gl{constructor(t,e,n,i,s,r){zl(this,"wot",null),zl(this,"topOverlay",null),zl(this,"bottomOverlay",null),zl(this,"inlineStartOverlay",null),zl(this,"topInlineStartCornerOverlay",null),zl(this,"bottomInlineStartCornerOverlay",null),zl(this,"browserLineHeight",void 0),zl(this,"wtSettings",null),zl(this,"resizeObserver",new ResizeObserver((t=>{Ln((()=>{Array.isArray(t)&&t.length&&this.wtSettings.getSetting("onContainerElementResize")}))}))),this.wot=t,this.wtSettings=i,this.domBindings=n,this.facadeGetter=e,this.wtTable=r;const{rootDocument:o,rootWindow:a}=this.domBindings;this.instance=this.wot,this.eventManager=s,this.scrollbarSize=Ve(o);const l="hidden"===a.getComputedStyle(r.wtRootElement.parentNode).getPropertyValue("overflow");this.scrollableElement=l?r.holder:Me(r.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=a.scrollX,this.lastScrollY=a.scrollY}getOverlays(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=[this.topOverlay,this.topInlineStartCornerOverlay,this.inlineStartOverlay,this.bottomOverlay,this.bottomInlineStartCornerOverlay];return t&&e.push(this.wtTable),e}initBrowserLineHeight(){const{rootWindow:t,rootDocument:e}=this.domBindings,n=t.getComputedStyle(e.body),i=parseInt(n.lineHeight,10),s=1.2*parseInt(n.fontSize,10);this.browserLineHeight=i||s}initOverlays(){const t=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new pl(...t),this.bottomOverlay=new xl(...t),this.inlineStartOverlay=new Pl(...t),this.topInlineStartCornerOverlay=new jl(...t,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new Bl(...t,this.bottomOverlay,this.inlineStartOverlay)}updateStateOfRendering(){let t=this.topOverlay.updateStateOfRendering();return t=this.bottomOverlay.updateStateOfRendering()||t,t=this.inlineStartOverlay.updateStateOfRendering()||t,this.inlineStartOverlay.needFullRender&&(this.topOverlay.needFullRender&&(t=this.topInlineStartCornerOverlay.updateStateOfRendering()||t),this.bottomOverlay.needFullRender&&(t=this.bottomInlineStartCornerOverlay.updateStateOfRendering()||t)),t}refreshAll(){this.wot.drawn&&(this.wtTable.holder.parentNode?(this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1):this.destroy())}registerListeners(){const{rootDocument:t,rootWindow:e}=this.domBindings,{mainTableScrollableElement:n}=this.topOverlay,{mainTableScrollableElement:i}=this.inlineStartOverlay;this.eventManager.addEventListener(t.documentElement,"keydown",(t=>this.onKeyDown(t))),this.eventManager.addEventListener(t.documentElement,"keyup",(()=>this.onKeyUp())),this.eventManager.addEventListener(t,"visibilitychange",(()=>this.onKeyUp())),this.eventManager.addEventListener(n,"scroll",(t=>this.onTableScroll(t)),{passive:!0}),n!==i&&this.eventManager.addEventListener(i,"scroll",(t=>this.onTableScroll(t)),{passive:!0});const s=e.devicePixelRatio&&e.devicePixelRatio>1,r=this.scrollableElement===e,o=this.wtSettings.getSetting("preventWheel"),a={passive:r};(o||s||!Fn())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",(t=>this.onCloneWheel(t,o)),a);const l=[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];let h;l.forEach((t=>{if(t&&t.needFullRender){const{holder:e}=t.clone.wtTable;this.eventManager.addEventListener(e,"wheel",(t=>this.onCloneWheel(t,o)),a)}})),this.eventManager.addEventListener(e,"resize",(()=>{clearTimeout(h),h=setTimeout((()=>{this.wtSettings.getSetting("onWindowResize")}),200)})),r||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}deregisterListeners(){this.eventManager.clearEvents(!0)}onTableScroll(t){const e=this.domBindings.rootWindow,n=this.inlineStartOverlay.mainTableScrollableElement,i=this.topOverlay.mainTableScrollableElement,s=t.target;this.keyPressed&&(i!==e&&s!==e&&!t.target.contains(i)||n!==e&&s!==e&&!t.target.contains(n))||this.syncScrollPositions(t)}onCloneWheel(t,e){const{rootWindow:n}=this.domBindings,i=this.inlineStartOverlay.mainTableScrollableElement,s=this.topOverlay.mainTableScrollableElement,r=t.target,o=s!==n&&r!==n&&!r.contains(s),a=i!==n&&r!==n&&!r.contains(i);if(this.keyPressed&&(o||a))return;const l=this.translateMouseWheelToScroll(t);(e||this.scrollableElement!==n&&l)&&t.preventDefault()}onKeyDown(t){this.keyPressed=si(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(t){let e=isNaN(t.deltaY)?-1*t.wheelDeltaY:t.deltaY,n=isNaN(t.deltaX)?-1*t.wheelDeltaX:t.deltaX;1===t.deltaMode&&(n+=n*this.browserLineHeight,e+=e*this.browserLineHeight);const i=this.scrollVertically(e),s=this.scrollHorizontally(n);return i||s}scrollVertically(t){const e=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=t,e!==this.scrollableElement.scrollTop}scrollHorizontally(t){const e=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=t,e!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;const{rootWindow:t}=this.domBindings,e=this.topOverlay.clone.wtTable.holder,n=this.inlineStartOverlay.clone.wtTable.holder,[i,s]=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop];if(this.horizontalScrolling=e.scrollLeft!==i||this.lastScrollX!==t.scrollX,this.verticalScrolling=n.scrollTop!==s||this.lastScrollY!==t.scrollY,this.lastScrollX=t.scrollX,this.lastScrollY=t.scrollY,this.horizontalScrolling){e.scrollLeft=i;const t=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;t&&(t.scrollLeft=i)}this.verticalScrolling&&(n.scrollTop=s),this.refreshAll()}syncScrollWithMaster(){const t=this.topOverlay.mainTableScrollableElement,{scrollLeft:e,scrollTop:n}=t;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=e),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=e),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=n)}updateMainScrollableElements(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();const{wtTable:t}=this,{rootWindow:e}=this.domBindings;"hidden"===e.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")?this.scrollableElement=t.holder:this.scrollableElement=Me(t.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.updateLastSpreaderSize();e&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.inlineStartOverlay.refresh(t),this.topOverlay.refresh(t),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(t),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(t)}updateLastSpreaderSize(){const t=this.wtTable.spreader,e=t.clientWidth,n=t.clientHeight,i=e!==this.spreaderLastSize.width||n!==this.spreaderLastSize.height;return i&&(this.spreaderLastSize.width=e,this.spreaderLastSize.height=n),i}adjustElementsSize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{wtViewport:e}=this.wot,{wtTable:n}=this,{rootWindow:i}=this.domBindings,s=this.scrollableElement===i,r=this.wtSettings.getSetting("totalColumns"),o=this.wtSettings.getSetting("totalRows"),a=e.getRowHeaderWidth(),l=e.getColumnHeaderHeight(),h=l+this.topOverlay.sumCellSizes(0,o)+1,c=a+this.inlineStartOverlay.sumCellSizes(0,r),d=n.hider,u=d.style,f=()=>!s&&this.scrollableElement.scrollTop>Math.max(0,h-n.holder.clientHeight),m=()=>!s&&this.scrollableElement.scrollLeft>Math.max(0,c-n.holder.clientWidth),g=f()?1:0,p=m()?1:0;if(u.width=`${c+p}px`,u.height=`${h+g}px`,this.scrollbarSize>0){const{scrollHeight:t,scrollWidth:e}=n.wtRootElement,{scrollHeight:i,scrollWidth:s}=n.holder;this.hasScrollbarRight=t<i,this.hasScrollbarBottom=e<s,this.hasScrollbarRight&&n.hider.scrollWidth+this.scrollbarSize>e?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&n.hider.scrollHeight+this.scrollbarSize>t&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(t),this.inlineStartOverlay.adjustElementsSize(t),this.bottomOverlay.adjustElementsSize(t)}expandHiderVerticallyBy(t){const{wtTable:e}=this;e.hider.style.height=`${parseInt(e.hider.style.height,10)+t}px`}expandHiderHorizontallyBy(t){const{wtTable:e}=this;e.hider.style.width=`${parseInt(e.hider.style.width,10)+t}px`}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(t){if(!t)return null;const e=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];let n=null;return T(e,(e=>{e&&e.clone&&e.clone.wtTable.TABLE.contains(t)&&(n=e.clone)})),n}syncOverlayTableClassNames(){const t=this.wtTable.TABLE,e=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];T(e,(e=>{e&&(e.clone.wtTable.TABLE.className=t.className)}))}}var Kl=Gl;function ql(t,e,n){return e=Xl(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xl(t){var e=Jl(t,"string");return"symbol"==typeof e?e:e+""}function Jl(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Zl{constructor(t){ql(this,"settings",{}),ql(this,"defaults",Object.freeze(this.getDefaults())),Mn(this.defaults,((e,n)=>{if(void 0!==t[n])this.settings[n]=t[n];else{if(void 0===e)throw new Error(`A required setting "${n}" was not provided`);this.settings[n]=e}}))}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(t,e,n)=>{const i=this.getSetting("data",t,e);ge(n,void 0===i||null===i?"":i)},columnWidth(){},rowHeight(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:t=>t,onBeforeViewportScrollVertically:t=>t,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:t=>t,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:t=>t,onBeforeHighlightingColumnHeader:t=>t,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0}}update(t,e){return void 0===e?Mn(t,((t,e)=>{this.settings[e]=t})):this.settings[t]=e,this}getSetting(t,e,n,i,s){return"function"===typeof this.settings[t]?this.settings[t](e,n,i,s):void 0!==e&&Array.isArray(this.settings[t])?this.settings[t][e]:this.settings[t]}getSettingPure(t){return this.settings[t]}has(t){return!!this.settings[t]}}class Ql extends ua{constructor(t,e,n,i){super(t,e,n,i,"master")}alignOverlaysWithTrimmingContainer(){const t=xe(this.wtRootElement),{rootWindow:e}=this.domBindings;if(t===e){const t=this.wtSettings.getSetting("preventOverflow");t||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible")}else{const n=t.parentElement,i=Te(t,"height",e),s=Te(t,"overflow",e),r=this.holder.style,{scrollWidth:o,scrollHeight:a}=t;let l=t.offsetWidth,h=t.offsetHeight;const c=["auto","hidden","scroll"];if(n&&c.includes(s)){const i=t.cloneNode(!1);i.style.overflow="auto",i.style.position="absolute",t.nextElementSibling?n.insertBefore(i,t.nextElementSibling):n.appendChild(i);const s=parseInt(Le(i,e).height,10);n.removeChild(i),0===s&&(h=0)}h=Math.min(h,a),r.height="auto"===i?"auto":`${h}px`,l=Math.min(l,o),r.width=`${l}px`,r.overflow="",this.hasTableHeight="auto"===r.height||h>0,this.hasTableWidth=l>0}this.isTableVisible=pe(this.TABLE)}markOversizedColumnHeaders(){const{wtSettings:t}=this,{wtViewport:e}=this.dataAccessObject,n="master",i=t.getSetting("columnHeaders"),s=i.length;if(s&&!e.hasOversizedColumnHeadersMarked[n]){const i=t.getSetting("rowHeaders"),r=i.length,o=this.getRenderedColumnsCount();for(let t=0;t<s;t++)for(let e=-1*r;e<o;e++)this.markIfOversizedColumnHeader(e);e.hasOversizedColumnHeadersMarked[n]=!0}}}yn(Ql,Ll),yn(Ql,ya);var th=Ql;const eh=1,nh=2,ih=3;function sh(t,e,n){return e=rh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rh(t){var e=oh(t,"string");return"symbol"==typeof e?e:e+""}function oh(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class ah{constructor(t){sh(this,"count",0),sh(this,"startRow",0),sh(this,"endRow",0),sh(this,"startPosition",0),this.count=t.totalRows,this.endRow=this.count-1}}n(8107);function lh(t,e,n){hh(t,e),e.set(t,n)}function hh(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ch(t,e,n){return e=dh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dh(t){var e=uh(t,"string");return"symbol"==typeof e?e:e+""}function uh(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function fh(t,e){return t.get(gh(t,e))}function mh(t,e,n){return t.set(gh(t,e),n),n}function gh(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ph=new WeakMap;class _h{static get DEFAULT_HEIGHT(){return 23}constructor(t){ch(this,"count",0),ch(this,"startRow",null),ch(this,"endRow",null),ch(this,"startPosition",null),ch(this,"isVisibleInTrimmingContainer",!1),lh(this,ph,void 0),mh(ph,this,t),this.calculate()}calculate(){const{calculationType:t,overrideFn:e,rowHeightFn:n,scrollOffset:i,totalRows:s,viewportHeight:r}=fh(ph,this),o=Math.max(fh(ph,this).scrollOffset,0),a=fh(ph,this).horizontalScrollbarHeight||0;let l=0,h=!0;const c=[];let d,u=0,f=0;for(let _=0;_<s;_++)if(d=n(_),isNaN(d)&&(d=_h.DEFAULT_HEIGHT),l<=o&&t!==nh&&(this.startRow=_,u=d),l>=o&&l+(t===nh?d:0)<=o+r-a&&(null===this.startRow&&(this.startRow=_,u=d),this.endRow=_),c.push(l),l+=d,f=d,t!==nh&&(this.endRow=_),l>=o+r-a){h=!1;break}const m=i+r-a,g=t===nh?u:0,p=t===nh?0:f;if(m<g||i>c.at(-1)+p?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endRow===s-1&&h){this.startRow=this.endRow;while(this.startRow>0){const e=c[this.endRow]+d-c[this.startRow-1];if((e<=r-a||t!==nh)&&(this.startRow-=1),e>=r-a)break}}t===eh&&null!==this.startRow&&e&&e(this),this.startPosition=c[this.startRow],void 0===this.startPosition&&(this.startPosition=null),s<this.endRow&&(this.endRow=s-1),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}function yh(t,e,n){return e=wh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wh(t){var e=vh(t,"string");return"symbol"==typeof e?e:e+""}function vh(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class bh{constructor(t){yh(this,"count",0),yh(this,"startColumn",0),yh(this,"endColumn",0),yh(this,"startPosition",0),this.count=t.totalColumns,this.endColumn=this.count-1}}function Mh(t,e,n){Sh(t,e),e.set(t,n)}function Sh(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ch(t,e,n){return e=xh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xh(t){var e=Th(t,"string");return"symbol"==typeof e?e:e+""}function Th(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function kh(t,e){return t.get(Eh(t,e))}function Lh(t,e,n){return t.set(Eh(t,e),n),n}function Eh(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Rh=new WeakMap;class Ah{static get DEFAULT_WIDTH(){return 50}constructor(t){Ch(this,"count",0),Ch(this,"startColumn",null),Ch(this,"endColumn",null),Ch(this,"startPosition",null),Ch(this,"isVisibleInTrimmingContainer",!1),Mh(this,Rh,void 0),Lh(Rh,this,t),this.calculate()}calculate(){const{calculationType:t,overrideFn:e,scrollOffset:n,totalColumns:i,viewportWidth:s}=kh(Rh,this),r=Math.max(kh(Rh,this).scrollOffset,0),o=r>0?s+1:s;let a=0,l=!0;const h=[];let c,d=0,u=0;for(let p=0;p<i;p++)if(c=this._getColumnWidth(p),a<=r&&t!==nh&&(this.startColumn=p,d=c),a>=r&&a+(t===nh?c:0)<=r+o&&(null!==this.startColumn&&void 0!==this.startColumn||(this.startColumn=p,d=c),this.endColumn=p),h.push(a),a+=c,u=c,t!==nh&&(this.endColumn=p),a>=r+s){l=!1;break}const f=n+s-o,m=t===nh?0:u,g=t===nh?d:0;if(f<-1*kh(Rh,this).inlineStartOffset||n>h.at(-1)+m||-1*kh(Rh,this).scrollOffset-kh(Rh,this).viewportWidth>-1*g?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endColumn===i-1&&l){this.startColumn=this.endColumn;while(this.startColumn>0){const e=h[this.endColumn]+c-h[this.startColumn-1];if((e<=s||t!==nh)&&(this.startColumn-=1),e>s)break}}t===eh&&null!==this.startColumn&&e&&e(this),this.startPosition=h[this.startColumn],void 0===this.startPosition&&(this.startPosition=null),i<this.endColumn&&(this.endColumn=i-1),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}_getColumnWidth(t){let e=kh(Rh,this).columnWidthFn(t);return isNaN(e)&&(e=Ah.DEFAULT_WIDTH),e}}class Dh{constructor(t,e,n,i,s){this.dataAccessObject=t,this.wot=t.wot,this.instance=this.wot,this.domBindings=e,this.wtSettings=n,this.wtTable=s,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=i,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",(()=>{this.clientHeight=this.getWorkspaceHeight()}))}getWorkspaceHeight(){const t=this.domBindings.rootDocument,e=this.dataAccessObject.topOverlayTrimmingContainer;let n=0;if(e===this.domBindings.rootWindow)n=t.documentElement.clientHeight;else{const t=Re(e);n=t>0&&e.clientHeight>0?e.clientHeight:1/0}return n}getWorkspaceWidth(){const{wtSettings:t}=this,{rootDocument:e,rootWindow:n}=this.domBindings,i=this.dataAccessObject.inlineStartOverlayTrimmingContainer,s=e.documentElement.offsetWidth,r=t.getSetting("totalColumns"),o=t.getSetting("preventOverflow"),a=t.getSetting("rtlMode"),l=this.wtTable.TABLE.getBoundingClientRect(),h=a?l.right-s:l.left,c=s-h;let d,u;if(o)return Ee(this.wtTable.wtRootElement);if(d=t.getSetting("freezeOverlays")?Math.min(c,s):Math.min(this.getContainerFillWidth(),c,s),i===n&&r>0&&this.sumColumnWidths(0,r-1)>d)return e.documentElement.clientWidth;if(i!==n&&(u=Te(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",n),"scroll"===u||"hidden"===u||"auto"===u))return Math.max(d,i.clientWidth);const f=t.getSetting("stretchH");return"none"!==f&&f?d:Math.max(d,Ee(this.wtTable.TABLE))}hasVerticalScroll(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}hasHorizontalScroll(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}sumColumnWidths(t,e){let n=0,i=t;while(i<e)n+=this.wtTable.getColumnWidth(i),i+=1;return n}getContainerFillWidth(){if(this.containerWidth)return this.containerWidth;const t=this.wtTable.holder,e=this.domBindings.rootDocument.createElement("div");e.style.width="100%",e.style.height="1px",t.appendChild(e);const n=e.offsetWidth;return this.containerWidth=n,t.removeChild(e),n}getWorkspaceOffset(){return _e(this.wtTable.TABLE)}getColumnHeaderHeight(){const t=this.wtSettings.getSetting("columnHeaders");return t.length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Re(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getViewportHeight(){let t=this.getWorkspaceHeight();if(t===1/0)return t;const e=this.getColumnHeaderHeight();return e>0&&(t-=e),t}getRowHeaderWidth(){const t=this.wtSettings.getSetting("rowHeaderWidth"),e=this.wtSettings.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(let n=0,i=e.length;n<i;n++)this.rowHeaderWidth+=t[n]||t}if(isNaN(this.rowHeaderWidth))if(e.length){let t=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let n=0,i=e.length;n<i;n++)t?(this.rowHeaderWidth+=Ee(t),t=t.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}getViewportWidth(){const t=this.getWorkspaceWidth();if(t===1/0)return t;const e=this.getRowHeaderWidth();return e>0?t-e:t}createRowsCalculator(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eh;const{wtSettings:e,wtTable:n}=this;if(e.getSetting("renderAllRows")&&t===eh)return new ah({totalRows:e.getSetting("totalRows")});let i,s,r=this.getViewportHeight();this.rowHeaderWidth=NaN;let o=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;const a=e.getSetting("fixedRowsTop"),l=e.getSetting("fixedRowsBottom"),h=e.getSetting("totalRows");return a&&o>=0&&(s=this.dataAccessObject.topOverlay.sumCellSizes(0,a),o+=s,r-=s),l&&this.dataAccessObject.bottomOverlay.clone&&(s=this.dataAccessObject.bottomOverlay.sumCellSizes(h-l,h),r-=s),i=n.holder.clientHeight===n.holder.offsetHeight?0:Ve(this.domBindings.rootDocument),new _h({viewportHeight:r,scrollOffset:o,totalRows:e.getSetting("totalRows"),rowHeightFn:t=>n.getRowHeight(t),overrideFn:e.getSettingPure("viewportRowCalculatorOverride"),calculationType:t,horizontalScrollbarHeight:i})}createColumnsCalculator(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eh;const{wtSettings:e,wtTable:n}=this;if(e.getSetting("renderAllColumns")&&t===eh)return new bh({totalColumns:e.getSetting("totalColumns")});let i=this.getViewportWidth(),s=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;const r=e.getSetting("fixedColumnsStart");if(r&&s>=0){const t=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,r);s+=t,i-=t}return n.holder.clientWidth!==n.holder.offsetWidth&&(i-=Ve(this.domBindings.rootDocument)),new Ah({viewportWidth:i,scrollOffset:s,totalColumns:e.getSetting("totalColumns"),columnWidthFn:t=>n.getColumnWidth(t),overrideFn:e.getSettingPure("viewportColumnCalculatorOverride"),calculationType:t,inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createRenderCalculators(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{wtSettings:e}=this;if(t&&!e.getSetting("renderAllRows")){const e=this.createRowsCalculator(nh);t=this.areAllProposedVisibleRowsAlreadyRendered(e)}if(t&&!e.getSetting("renderAllColumns")){const e=this.createColumnsCalculator(nh);t=this.areAllProposedVisibleColumnsAlreadyRendered(e)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(eh),this.columnsRenderCalculator=this.createColumnsCalculator(eh)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t}createVisibleCalculators(){this.rowsVisibleCalculator=this.createRowsCalculator(nh),this.columnsVisibleCalculator=this.createColumnsCalculator(nh)}createPartiallyVisibleCalculators(){this.rowsPartiallyVisibleCalculator=this.createRowsCalculator(ih),this.columnsPartiallyVisibleCalculator=this.createColumnsCalculator(ih)}areAllProposedVisibleRowsAlreadyRendered(t){if(!this.rowsVisibleCalculator)return!1;const{startRow:e,endRow:n,isVisibleInTrimmingContainer:i}=t;if(null===e&&null===n)return!i;const{startRow:s,endRow:r}=this.rowsRenderCalculator;return!(e<s||e===s&&e>0)&&!(n>r||n===r&&n<this.wtSettings.getSetting("totalRows")-1)}areAllProposedVisibleColumnsAlreadyRendered(t){if(!this.columnsVisibleCalculator)return!1;const{startColumn:e,endColumn:n,isVisibleInTrimmingContainer:i}=t;if(null===e&&null===n)return!i;const{startColumn:s,endColumn:r}=this.columnsRenderCalculator;return!(e<s||e===s&&e>0)&&!(n>r||n===r&&n<this.wtSettings.getSetting("totalColumns")-1)}resetHasOversizedColumnHeadersMarked(){Mn(this.hasOversizedColumnHeadersMarked,((t,e,n)=>{n[e]=void 0}))}}var Hh=Dh;n(3514);function Ph(t,e){Oh(t,e),e.add(t)}function Ih(t,e,n){Oh(t,e),e.set(t,n)}function Oh(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yh(t,e){return t.get(Fh(t,e))}function Nh(t,e,n){return t.set(Fh(t,e),n),n}function Fh(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var jh=new WeakMap,Wh=new WeakMap,Vh=new WeakSet;class Bh{constructor(){Ph(this,Vh),Ih(this,jh,void 0),Ih(this,Wh,void 0)}setActiveOverlay(t){return Nh(Wh,this,t),this}setActiveSelection(t){return Nh(jh,this,t),this}scan(){const t=Yh(jh,this).settings.selectionType,e=new Set;return"active-header"===t?(this.scanColumnsInHeadersRange((t=>e.add(t))),this.scanRowsInHeadersRange((t=>e.add(t)))):"area"===t?this.scanCellsRange((t=>e.add(t))):"focus"===t?(this.scanColumnsInHeadersRange((t=>e.add(t))),this.scanRowsInHeadersRange((t=>e.add(t))),this.scanCellsRange((t=>e.add(t)))):"fill"===t?this.scanCellsRange((t=>e.add(t))):"header"===t?(this.scanColumnsInHeadersRange((t=>e.add(t))),this.scanRowsInHeadersRange((t=>e.add(t)))):"row"===t?(this.scanRowsInHeadersRange((t=>e.add(t))),this.scanRowsInCellsRange((t=>e.add(t)))):"column"===t&&(this.scanColumnsInHeadersRange((t=>e.add(t))),this.scanColumnsInCellsRange((t=>e.add(t)))),e}scanColumnsInHeadersRange(t){const[e,n,i,s]=Yh(jh,this).getCorners(),{wtTable:r}=Yh(Wh,this),o=r.getRenderedColumnsCount(),a=r.getColumnHeadersCount();let l=0;for(let h=-r.getRowHeadersCount();h<o;h++){const o=r.columnFilter.renderedToSource(h);if(!(o<n||o>s)){for(let h=-a;h<0;h++){if(h<e||h>i)continue;const c=h+a;let d=r.getColumnHeader(o,c);const u=Yh(Wh,this).getSetting("onBeforeHighlightingColumnHeader",o,c,{selectionType:Yh(jh,this).settings.selectionType,columnCursor:l,selectionWidth:s-n+1});null!==u&&(u!==o&&(d=r.getColumnHeader(u,c)),t(d))}l+=1}}}scanRowsInHeadersRange(t){const[e,n,i,s]=Yh(jh,this).getCorners(),{wtTable:r}=Yh(Wh,this),o=r.getRenderedRowsCount(),a=r.getRowHeadersCount();let l=0;for(let h=-r.getColumnHeadersCount();h<o;h++){const o=r.rowFilter.renderedToSource(h);if(!(o<e||o>i)){for(let h=-a;h<0;h++){if(h<n||h>s)continue;const c=h+a;let d=r.getRowHeader(o,c);const u=Yh(Wh,this).getSetting("onBeforeHighlightingRowHeader",o,c,{selectionType:Yh(jh,this).settings.selectionType,rowCursor:l,selectionHeight:i-e+1});null!==u&&(u!==o&&(d=r.getRowHeader(u,c)),t(d))}l+=1}}}scanCellsRange(t){const[e,n,i,s]=Yh(jh,this).getCorners(),{wtTable:r}=Yh(Wh,this);Fh(Vh,this,zh).call(this,((o,a)=>{if(o>=e&&o<=i&&a>=n&&a<=s){const e=r.getCell(Yh(Wh,this).createCellCoords(o,a)),n=Yh(Wh,this).getSetting("onAfterDrawSelection",o,a,Yh(jh,this).settings.layerLevel);"string"===typeof n&&ae(e,n),t(e)}}))}scanRowsInCellsRange(t){const[e,,n]=Yh(jh,this).getCorners(),{wtTable:i}=Yh(Wh,this);Fh(Vh,this,zh).call(this,((s,r)=>{if(s>=e&&s<=n){const e=i.getCell(Yh(Wh,this).createCellCoords(s,r));t(e)}}))}scanColumnsInCellsRange(t){const[,e,,n]=Yh(jh,this).getCorners(),{wtTable:i}=Yh(Wh,this);Fh(Vh,this,zh).call(this,((s,r)=>{if(r>=e&&r<=n){const e=i.getCell(Yh(Wh,this).createCellCoords(s,r));t(e)}}))}}function zh(t){const{wtTable:e}=Yh(Wh,this),n=e.getRenderedRowsCount(),i=e.getRenderedColumnsCount();for(let s=0;s<n;s+=1){const n=e.rowFilter.renderedToSource(s);for(let s=0;s<i;s+=1)t(n,e.columnFilter.renderedToSource(s))}}class Uh{constructor(t,e){e&&(this.eventManager=t.eventManager,this.instance=t,this.wot=t,this.settings=e,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=ul,this.cornerCenterPointOffset=-parseInt(this.cornerDefaultStyle.width,10)/2,this.corner=null,this.cornerStyle=null,this.createBorders(e),this.registerListeners())}registerListeners(){const t=this.wot.rootDocument.body;this.eventManager.addEventListener(t,"mousedown",(()=>this.onMouseDown())),this.eventManager.addEventListener(t,"mouseup",(()=>this.onMouseUp()));for(let e=0,n=this.main.childNodes.length;e<n;e++){const t=this.main.childNodes[e];this.eventManager.addEventListener(t,"mouseenter",(t=>this.onMouseEnter(t,this.main.childNodes[e])))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(t,e){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;t.preventDefault(),ri(t);const n=this,i=this.wot.rootDocument.body,s=e.getBoundingClientRect();function r(t){return t.clientY<Math.floor(s.top)||(t.clientY>Math.ceil(s.top+s.height)||(t.clientX<Math.floor(s.left)||(t.clientX>Math.ceil(s.left+s.width)||void 0)))}function o(t){r(t)&&(n.eventManager.removeEventListener(i,"mousemove",o),e.style.display="block")}e.style.display="none",this.eventManager.addEventListener(i,"mousemove",o)}createBorders(t){const{rootDocument:e}=this.wot;this.main=e.createElement("div");const n=["top","start","bottom","end","corner"];let i=this.main.style;i.position="absolute",i.top=0,i.left=0;for(let o=0;o<5;o++){const s=n[o],r=e.createElement("div");r.className=`wtBorder ${this.settings.className||""}`,this.settings[s]&&this.settings[s].hide&&(r.className+=" hidden"),i=r.style,i.backgroundColor=this.settings[s]&&this.settings[s].color?this.settings[s].color:t.border.color,i.height=this.settings[s]&&this.settings[s].width?`${this.settings[s].width}px`:`${t.border.width}px`,i.width=this.settings[s]&&this.settings[s].width?`${this.settings[s].width}px`:`${t.border.width}px`,this.main.appendChild(r)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),$n()&&this.instance.getSetting("isDataViewInstance")&&this.createMultipleSelectorHandles(),this.disappear();const{wtTable:s}=this.wot;let r=s.bordersHolder;r||(r=e.createElement("div"),r.className="htBorders",s.bordersHolder=r,s.spreader.appendChild(r)),r.appendChild(this.main)}createMultipleSelectorHandles(){const{rootDocument:t}=this.wot;this.selectionHandles={top:t.createElement("DIV"),topHitArea:t.createElement("DIV"),bottom:t.createElement("DIV"),bottomHitArea:t.createElement("DIV")};const e=10,n=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};const i={position:"absolute",height:`${n}px`,width:`${n}px`,"border-radius":`${parseInt(n/1.5,10)}px`};Mn(i,((t,e)=>{this.selectionHandles.styles.bottomHitArea[e]=t,this.selectionHandles.styles.topHitArea[e]=t}));const s={position:"absolute",height:`${e}px`,width:`${e}px`,"border-radius":`${parseInt(e/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"};Mn(s,((t,e)=>{this.selectionHandles.styles.bottom[e]=t,this.selectionHandles.styles.top[e]=t})),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(t,e){const n=this.wot.selectionManager.getAreaSelection();return!(!n.cellRange||t===n.cellRange.to.row&&e===n.cellRange.to.col)}updateMultipleSelectionHandlesPosition(t,e,n,i,s,r){const o=this.wot.wtSettings.getSetting("rtlMode"),a=o?"right":"left",{top:l,topHitArea:h,bottom:c,bottomHitArea:d}=this.selectionHandles.styles,u=parseInt(l.borderWidth,10),f=parseInt(l.width,10),m=parseInt(h.width,10),g=this.wot.wtTable.getWidth(),p=this.wot.wtTable.getHeight();l.top=`${parseInt(n-f-1,10)}px`,l[a]=`${parseInt(i-f-1,10)}px`,h.top=`${parseInt(n-m/4*3,10)}px`,h[a]=`${parseInt(i-m/4*3,10)}px`;const _=Math.min(parseInt(i+s,10),g-f-2*u),y=Math.min(parseInt(i+s-m/4,10),g-m-2*u);c[a]=`${_}px`,d[a]=`${y}px`;const w=Math.min(parseInt(n+r,10),p-f-2*u),v=Math.min(parseInt(n+r-m/4,10),p-m-2*u);c.top=`${w}px`,d.top=`${v}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(l.display="block",h.display="block",this.isPartRange(t,e)?(c.display="none",d.display="none"):(c.display="block",d.display="block")):(l.display="none",c.display="none",h.display="none",d.display="none"),t===this.wot.wtSettings.getSetting("fixedRowsTop")||e===this.wot.wtSettings.getSetting("fixedColumnsStart")?(l.zIndex="9999",h.zIndex="9999"):(l.zIndex="",h.zIndex="")}appear(t){if(this.disabled)return;const{wtTable:e,rootDocument:n,rootWindow:i}=this.wot;let s,r,o,a,l,h;const c=e.getRenderedRowsCount();for(let H=0;H<c;H+=1){const n=e.rowFilter.renderedToSource(H);if(n>=t[0]&&n<=t[2]){s=n,l=t[0];break}}for(let H=c-1;H>=0;H-=1){const n=e.rowFilter.renderedToSource(H);if(n>=t[0]&&n<=t[2]){r=n;break}}const d=e.getRenderedColumnsCount();for(let H=0;H<d;H+=1){const n=e.columnFilter.renderedToSource(H);if(n>=t[1]&&n<=t[3]){o=n,h=t[1];break}}for(let H=d-1;H>=0;H-=1){const n=e.columnFilter.renderedToSource(H);if(n>=t[1]&&n<=t[3]){a=n;break}}if(void 0===s||void 0===o)return void this.disappear();let u=e.getCell(this.wot.createCellCoords(s,o));const f=s!==r||o!==a,m=f?e.getCell(this.wot.createCellCoords(r,a)):u,g=_e(u),p=f?_e(m):g,_=_e(e.TABLE),y=Ee(e.TABLE),w=g.top,v=g.left,b=this.wot.wtSettings.getSetting("rtlMode");let M=0,S=0;if(b){const t=Ee(u),e=i.innerWidth-_.left-y;S=v+t-p.left,M=i.innerWidth-v-t-e-1}else S=p.left+Ee(m)-v,M=v-_.left-1;if(this.isEntireColumnSelected(s,r)){const t=this.getDimensionsFromHeader("columns",o,a,l,_);let e=null;t&&([e,M,S]=t),e&&(u=e)}let C=w-_.top-1,x=p.top+Re(m)-w;if(this.isEntireRowSelected(o,a)){const t=this.getDimensionsFromHeader("rows",s,r,h,_);let e=null;t&&([e,C,x]=t),e&&(u=e)}const T=Le(u,i);parseInt(T.borderTopWidth,10)>0&&(C+=1,x=x>0?x-1:0),parseInt(T[b?"borderRightWidth":"borderLeftWidth"],10)>0&&(M+=1,S=S>0?S-1:0);const k=b?"right":"left";this.topStyle.top=`${C}px`,this.topStyle[k]=`${M}px`,this.topStyle.width=`${S}px`,this.topStyle.display="block",this.startStyle.top=`${C}px`,this.startStyle[k]=`${M}px`,this.startStyle.height=`${x}px`,this.startStyle.display="block";const L=Math.floor(this.settings.border.width/2);this.bottomStyle.top=C+x-L+"px",this.bottomStyle[k]=`${M}px`,this.bottomStyle.width=`${S}px`,this.bottomStyle.display="block",this.endStyle.top=`${C}px`,this.endStyle[k]=M+S-L+"px",this.endStyle.height=`${x+1}px`,this.endStyle.display="block";let E=this.settings.border.cornerVisible;E="function"===typeof E?E(this.settings.layerLevel):E;const R=this.wot.getSetting("onModifyGetCellCoords",r,a);let[A,D]=[r,a];if(R&&Array.isArray(R)&&([,,A,D]=R),$n()||!E||this.isPartRange(A,D))this.cornerStyle.display="none";else{this.cornerStyle.top=C+x+this.cornerCenterPointOffset-1+"px",this.cornerStyle[k]=M+S+this.cornerCenterPointOffset-1+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let t=xe(e.TABLE);const s=t===i;s&&(t=n.documentElement);const o=parseInt(this.cornerDefaultStyle.width,10)/2,l=parseInt(this.cornerDefaultStyle.height,10)/2;if(a===this.wot.getSetting("totalColumns")-1){const e=s?m.getBoundingClientRect().left:m.offsetLeft;let n=!1,i=0;b?(i=e-parseInt(this.cornerDefaultStyle.width,10)/2,n=i<0):(i=e+Ee(m)+parseInt(this.cornerDefaultStyle.width,10)/2,n=i>=De(t)),n&&(this.cornerStyle[k]=`${Math.floor(M+S+this.cornerCenterPointOffset-o)}px`,this.cornerStyle[b?"borderLeftWidth":"borderRightWidth"]=0)}if(r===this.wot.getSetting("totalRows")-1){const e=s?m.getBoundingClientRect().top:m.offsetTop,n=e+Re(m)+parseInt(this.cornerDefaultStyle.height,10)/2,i=n>=Ae(t);i&&(this.cornerStyle.top=`${Math.floor(C+x+this.cornerCenterPointOffset-l)}px`,this.cornerStyle.borderBottomWidth=0)}this.cornerStyle.display="block"}$n()&&this.instance.getSetting("isDataViewInstance")&&this.updateMultipleSelectionHandlesPosition(r,a,C,M,S,x)}isEntireColumnSelected(t,e){return t===this.wot.wtTable.getFirstRenderedRow()&&e===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(t,e){return t===this.wot.wtTable.getFirstRenderedColumn()&&e===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(t,e,n,i,s){const{wtTable:r}=this.wot,o=r.wtRootElement.parentNode;let a=null,l=null,h=null,c=null,d=null,u=null,f=null,m=null;switch(t){case"rows":a=function(){return r.getRowHeader(...arguments)},l=function(){return Re(...arguments)},h="ht__selection--rows",u="top";break;case"columns":a=function(){return r.getColumnHeader(...arguments)},l=function(){return Ee(...arguments)},h="ht__selection--columns",u="left";break;default:}if(o.classList.contains(h)){const t=this.wot.getSetting("columnHeaders").length;if(f=a(e,t-i),m=a(n,t-i),!f||!m)return!1;const r=_e(f),o=_e(m);return f&&m&&(c=r[u]-s[u]-1,d=o[u]+l(m)-r[u]),[f,c,d]}return!1}changeBorderStyle(t,e){const n=this[t].style,i=e[t];!i||i.hide?ae(this[t],"hidden"):(oe(this[t],"hidden")&&le(this[t],"hidden"),n.backgroundColor=i.color,"top"!==t&&"bottom"!==t||(n.height=`${i.width}px`),"start"!==t&&"end"!==t||(n.width=`${i.width}px`))}changeBorderToDefaultStyle(t){const e={width:1,color:"#000"},n=this[t].style;n.backgroundColor=e.color,n.width=`${e.width}px`,n.height=`${e.width}px`}toggleHiddenClass(t,e){this.changeBorderToDefaultStyle(t),e?ae(this[t],"hidden"):le(this[t],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",$n()&&this.instance.getSetting("isDataViewInstance")&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}var $h=Uh;function Gh(t,e){qh(t,e),e.add(t)}function Kh(t,e,n){qh(t,e),e.set(t,n)}function qh(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xh(t,e){return t.get(Zh(t,e))}function Jh(t,e,n){return t.set(Zh(t,e),n),n}function Zh(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Qh=new WeakMap,tc=new WeakMap,ec=new WeakMap,nc=new WeakMap,ic=new WeakMap,sc=new WeakMap,rc=new WeakSet;class oc{constructor(t){Gh(this,rc),Kh(this,Qh,void 0),Kh(this,tc,void 0),Kh(this,ec,new Bh),Kh(this,nc,new WeakMap),Kh(this,ic,new WeakSet),Kh(this,sc,new Map),Jh(tc,this,t)}setActiveOverlay(t){return Jh(Qh,this,t),Xh(ec,this).setActiveOverlay(Xh(Qh,this)),Xh(nc,this).has(Xh(Qh,this))||Xh(nc,this).set(Xh(Qh,this),new Set),this}getFocusSelection(){return null!==Xh(tc,this)?Xh(tc,this).getFocus():null}getAreaSelection(){return null!==Xh(tc,this)?Xh(tc,this).createLayeredArea():null}getBorderInstance(t){if(!t.settings.border)return null;if(Xh(sc,this).has(t)){const e=Xh(sc,this).get(t);if(e.has(Xh(Qh,this)))return e.get(Xh(Qh,this));const n=new $h(Xh(Qh,this),t.settings);return e.set(Xh(Qh,this),n),n}const e=new $h(Xh(Qh,this),t.settings);return Xh(sc,this).set(t,new Map([[Xh(Qh,this),e]])),e}getBorderInstances(t){var e,n;return Array.from(null!==(e=null===(n=Xh(sc,this).get(t))||void 0===n?void 0:n.values())&&void 0!==e?e:[])}destroyBorders(t){Xh(sc,this).get(t).forEach((t=>t.destroy())),Xh(sc,this).delete(t)}render(t){if(null===Xh(tc,this))return;t&&Zh(rc,this,ac).call(this);const e=Array.from(Xh(tc,this)),n=new Map,i=new Map;for(let s=0;s<e.length;s++){const t=e[s],{className:r,headerAttributes:o,createLayers:a,selectionType:l}=t.settings;Xh(ic,this).has(t)||(Xh(ic,this).add(t),t.addLocalHook("destroy",(()=>this.destroyBorders(t))));const h=this.getBorderInstance(t);if(t.isEmpty()){null===h||void 0===h||h.disappear();continue}if(r){const e=Xh(ec,this).setActiveSelection(t).scan();e.forEach((t=>{if(n.has(t)){const e=n.get(t);e.has(r)&&!0===a?e.set(r,e.get(r)+1):e.set(r,1)}else n.set(t,new Map([[r,1]]));o&&(i.has(t)||i.set(t,[]),"TH"===t.nodeName&&i.get(t).push(...o))}))}const c=t.getCorners();Xh(Qh,this).getSetting("onBeforeDrawBorders",c,l),null===h||void 0===h||h.appear(c)}n.forEach(((t,e)=>{var n;const i=Array.from(t).map((t=>{let[e,n]=t;return 1===n?e:[e,...Array.from({length:n-1},((t,n)=>`${e}-${n+1}`))]})).flat();i.forEach((t=>Xh(nc,this).get(Xh(Qh,this)).add(t))),ae(e,i),"TD"===e.nodeName&&Array.isArray(null===(n=Xh(tc,this).options)||void 0===n?void 0:n.cellAttributes)&&he(e,Xh(tc,this).options.cellAttributes)})),Array.from(i.keys()).forEach((t=>{he(t,[...i.get(t)])}))}}function ac(){const t=Xh(nc,this).get(Xh(Qh,this)),e=Xh(Qh,this).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(e))for(let n=0;n<e.length;n++)t.add(e[n]);t.forEach((t=>{var e,n;const i=Xh(Qh,this).wtTable.TABLE.querySelectorAll(`.${t}`);let s=[];Array.isArray(null===(e=Xh(tc,this).options)||void 0===e?void 0:e.cellAttributes)&&(s=Xh(tc,this).options.cellAttributes.map((t=>t[0]))),Array.isArray(null===(n=Xh(tc,this).options)||void 0===n?void 0:n.headerAttributes)&&(s=[...s,...Xh(tc,this).options.headerAttributes.map((t=>t[0]))]);for(let r=0,o=i.length;r<o;r++)le(i[r],t),ce(i[r],s)})),t.clear()}class lc extends il{constructor(t,e){super(t,new Zl(e));const n=this.wtSettings.getSetting("facade",this);this.wtTable=new th(this.getTableDao(),n,this.domBindings,this.wtSettings),this.wtViewport=new Hh(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new oc(this.wtSettings.getSetting("selections")),this.wtEvent=new Rr(n,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new Kl(this,n,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){const t={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},e=[],n=[];Mn(t,((t,i)=>{this.wtSettings.getSetting(i).length&&n.push(t),e.push(t)})),le(this.wtTable.wtRootElement.parentNode,e),ae(this.wtTable.wtRootElement.parentNode,n)}getViewportDao(){const t=this;return{get wot(){return t},get topOverlayTrimmingContainer(){return t.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return t.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return t.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return t.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return t.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return t.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return t.wtOverlays.topOverlay},get inlineStartOverlay(){return t.wtOverlays.inlineStartOverlay},get bottomOverlay(){return t.wtOverlays.bottomOverlay}}}}class hc{constructor(t){t instanceof il?this._wot=t:this._initFromSettings(t)}_initFromSettings(t){t.facade=t=>{const e=new hc(t);return()=>e},this._wot=new lc(t.table,t)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(t){this._wot.drawn=t}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(t){this._wot.drawInterrupted=t}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(t){this._wot.lastMouseOver=t}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(t){this._wot.momentumScrolling=t}get touchApplied(){return this._wot.touchApplied}set touchApplied(t){this._wot.touchApplied=t}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(t){this._wot.eventListeners=t}get eventManager(){return this._wot.eventManager}createCellCoords(t,e){return this._wot.createCellCoords(t,e)}createCellRange(t,e,n){return this._wot.createCellRange(t,e,n)}draw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._wot.draw(t),this}getCell(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._wot.getCell(t,e)}scrollViewport(t,e,n,i,s){return this._wot.scrollViewport(t,e,n,i,s)}scrollViewportHorizontally(t,e,n){return this._wot.scrollViewportHorizontally(t,e,n)}scrollViewportVertically(t,e,n){return this._wot.scrollViewportVertically(t,e,n)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(t,e){return this._wot.wtSettings.update(t,e),this}getSetting(t,e,n,i,s){return this._wot.wtSettings.getSetting(t,e,n,i,s)}hasSetting(t){return this._wot.wtSettings.hasSetting(t)}destroy(){this._wot.destroy()}}function cc(t){let{isShiftKey:e,isLeftClick:n,isRightClick:i,coords:s,selection:r,controller:o,cellCoordsFactory:a}=t;const l=r.isSelected()?r.getSelectedRange().current():null,h=r.isSelectedByCorner(),c=r.isSelectedByRowHeader();if(r.markSource("mouse"),e&&l)s.row>=0&&s.col>=0&&!o.cell?r.setRangeEnd(s):(h||c)&&s.row>=0&&s.col>=0&&!o.cell?r.setRangeEnd(a(s.row,s.col)):h&&s.row<0&&!o.column?r.setRangeEnd(a(l.to.row,s.col)):c&&s.col<0&&!o.row?r.setRangeEnd(a(s.row,l.to.col)):(!h&&!c&&s.col<0||h&&s.col<0)&&!o.row?r.selectRows(Math.max(l.from.row,0),s.row,s.col):(!h&&!c&&s.row<0||c&&s.row<0)&&!o.column&&r.selectColumns(Math.max(l.from.col,0),s.col,s.row);else{const t=!r.inInSelection(s),e=n||i&&t;s.row<0&&s.col>=0&&!o.column?e&&r.selectColumns(s.col,s.col,s.row):s.col<0&&s.row>=0&&!o.row?e&&r.selectRows(s.row,s.row,s.col):s.col>=0&&s.row>=0&&!o.cell?e&&r.setRangeStart(s):s.col<0&&s.row<0&&r.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}r.markEndSource()}function dc(t){let{isLeftClick:e,coords:n,selection:i,controller:s,cellCoordsFactory:r}=t;if(!e)return;const o=i.isSelectedByRowHeader(),a=i.isSelectedByColumnHeader(),l=i.tableProps.countCols(),h=i.tableProps.countRows();i.markSource("mouse"),a&&!s.column?i.setRangeEnd(r(h-1,n.col)):o&&!s.row?i.setRangeEnd(r(n.row,l-1)):s.cell||i.setRangeEnd(n),i.markEndSource()}const uc=new Map([["mousedown",cc],["mouseover",dc],["touchstart",cc]]);function fc(t,e){let{coords:n,selection:i,controller:s,cellCoordsFactory:r}=e;uc.get(t.type)({coords:n,selection:i,controller:s,cellCoordsFactory:r,isShiftKey:t.shiftKey,isLeftClick:li(t)||"touchstart"===t.type,isRightClick:ai(t)})}const mc=new WeakMap,gc=Symbol("rootInstance");function pc(t){mc.set(t,!0)}function _c(t){return t===gc}function yc(t){return mc.has(t)}function wc(t,e){bc(t,e),e.add(t)}function vc(t,e,n){bc(t,e),e.set(t,n)}function bc(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mc(t,e,n){return e=Sc(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sc(t){var e=Cc(t,"string");return"symbol"==typeof e?e:e+""}function Cc(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function xc(t,e){return t.get(kc(t,e))}function Tc(t,e,n){return t.set(kc(t,e),n),n}function kc(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Lc=new WeakMap,Ec=new WeakMap,Rc=new WeakMap,Ac=new WeakMap,Dc=new WeakMap,Hc=new WeakMap,Pc=new WeakMap,Ic=new WeakSet;class Oc{constructor(t){wc(this,Ic),Mc(this,"hot",void 0),Mc(this,"eventManager",void 0),Mc(this,"settings",void 0),Mc(this,"THEAD",void 0),Mc(this,"TBODY",void 0),Mc(this,"_wt",void 0),Mc(this,"activeWt",void 0),vc(this,Lc,0),vc(this,Ec,0),Mc(this,"postponedAdjustElementsSize",!1),vc(this,Rc,!1),vc(this,Ac,void 0),vc(this,Dc,void 0),vc(this,Hc,0),vc(this,Pc,0),this.hot=t,this.eventManager=new Wi(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){this.hot.isRenderSuspended()||(this.hot.runHooks("beforeRender",this.hot.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.hot.forceFullRender),this.hot.runHooks("afterRender",this.hot.forceFullRender),this.hot.forceFullRender=!1,this.hot.renderCall=!1)}adjustElementsSize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hot.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize(t)}getCellAtCoords(t,e){const n=this._wt.getCell(t,e);return n<0?null:n}scrollViewport(t,e,n,i,s){return this._wt.scrollViewport(t,e,n,i,s)}scrollViewportHorizontally(t,e,n){return this._wt.scrollViewportHorizontally(t,e,n)}scrollViewportVertically(t,e,n){return this._wt.scrollViewportVertically(t,e,n)}createElements(){const{rootElement:t,rootDocument:e}=this.hot,n=t.getAttribute("style");n&&t.setAttribute("data-originalstyle",n),ae(t,"handsontable"),Tc(Dc,this,e.createElement("TABLE")),ae(xc(Dc,this),"htCore"),this.hot.getSettings().tableClassName&&ae(xc(Dc,this),this.hot.getSettings().tableClassName),this.settings.ariaTags&&(he(xc(Dc,this),[dt()]),he(t,[ct(),At(-1),Dt(this.hot.countCols()),Et()])),this.THEAD=e.createElement("THEAD"),xc(Dc,this).appendChild(this.THEAD),this.TBODY=e.createElement("TBODY"),xc(Dc,this).appendChild(this.TBODY),this.hot.table=xc(Dc,this),this.hot.container.insertBefore(xc(Dc,this),this.hot.container.firstChild)}registerEvents(){const{rootElement:t,rootDocument:e,selection:n,rootWindow:i}=this.hot,s=e.documentElement;this.eventManager.addEventListener(t,"mousedown",(t=>{Tc(Rc,this,!0),this.isTextSelectionAllowed(t.target)||(Ne(i),t.preventDefault(),i.focus())})),this.eventManager.addEventListener(t,"mouseup",(()=>{Tc(Rc,this,!1)})),this.eventManager.addEventListener(t,"mousemove",(t=>{xc(Rc,this)&&!this.isTextSelectionAllowed(t.target)&&(this.settings.fragmentSelection&&Ne(i),t.preventDefault())})),this.eventManager.addEventListener(s,"keyup",(t=>{n.isInProgress()&&!t.shiftKey&&n.finish()})),this.eventManager.addEventListener(s,"mouseup",(i=>{n.isInProgress()&&li(i)&&n.finish(),Tc(Ac,this,!1);const s=qe(e.activeElement);Ke(e.activeElement)&&!s||!s&&(n.isSelected()||n.isSelectedByAnyHeader()||t.contains(i.target)||ai(i))||this.hot.unlisten()})),this.eventManager.addEventListener(s,"contextmenu",(t=>{n.isInProgress()&&ai(t)&&(n.finish(),Tc(Ac,this,!1))})),this.eventManager.addEventListener(s,"touchend",(()=>{n.isInProgress()&&n.finish(),Tc(Ac,this,!1)})),this.eventManager.addEventListener(s,"mousedown",(n=>{const i=n.target,r=n.x||n.clientX,o=n.y||n.clientY;let a=n.target;if(xc(Ac,this)||!t||!this.hot.view)return;const{holder:l}=this.hot.view._wt.wtTable;if(a===l){const t=Ve(e);if(e.elementFromPoint(r+t,o)!==l||e.elementFromPoint(r,o+t)!==l)return}else while(a!==s){if(null===a){if(n.isTargetWebComponent)break;return}if(a===t)return;a=a.parentNode}const h="function"===typeof this.settings.outsideClickDeselects?this.settings.outsideClickDeselects(i):this.settings.outsideClickDeselects;h?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)}));let r=Jt(i);while(null!==r)this.eventManager.addEventListener(r.document.documentElement,"click",(()=>{this.hot.unlisten()})),r=Jt(r);this.eventManager.addEventListener(xc(Dc,this),"selectstart",(t=>{this.settings.fragmentSelection||Ke(t.target)||t.preventDefault()}))}translateFromRenderableToVisualCoords(t){let{row:e,col:n}=t;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(e,n))}translateFromRenderableToVisualIndex(t,e){let n=t>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(t):t,i=e>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(e):e;return null===n&&(n=t),null===i&&(i=e),[n,i]}countRenderableIndexes(t,e){const n=Math.min(t.getNotTrimmedIndexesLength(),e),i=t.getNearestNotHiddenIndex(n-1,-1);return null===i?0:t.getRenderableFromVisualIndex(i)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(t,e){return this.countNotHiddenIndexes(t,e,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(t,e){return this.countNotHiddenIndexes(t,e,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(t,e,n,i){if(isNaN(t)||t<0)return 0;const s=n.getNearestNotHiddenIndex(t,e),r=n.getRenderableFromVisualIndex(s);if(!Number.isInteger(r))return 0;let o=0;return e<0?o=r+1:e>0&&(o=i-r),o}countNotHiddenFixedColumnsStart(){const t=this.hot.countCols(),e=Math.min(parseInt(this.settings.fixedColumnsStart,10),t)-1;return this.countNotHiddenColumnIndexes(e,-1)}countNotHiddenFixedRowsTop(){const t=this.hot.countRows(),e=Math.min(parseInt(this.settings.fixedRowsTop,10),t)-1;return this.countNotHiddenRowIndexes(e,-1)}countNotHiddenFixedRowsBottom(){const t=this.hot.countRows(),e=Math.max(t-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(e,1)}countRenderableColumnsInRange(t,e){let n=0;for(let i=t;i<=e;i++)null!==this.hot.columnIndexMapper.getRenderableFromVisualIndex(i)&&(n+=1);return n}countRenderableRowsInRange(t,e){let n=0;for(let i=t;i<=e;i++)null!==this.hot.rowIndexMapper.getRenderableFromVisualIndex(i)&&(n+=1);return n}isMainTableNotFullyCoveredByOverlays(){const t=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),e=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>t&&this.hot.countRenderedCols()>e}initializeWalkontable(){const t={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:xc(Dc,this),isDataViewInstance:()=>yc(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,stretchH:()=>this.settings.stretchH,data:(t,e)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(t,e)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||t.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||t.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{const t=[];return this.hot.hasRowHeaders()&&t.push(((t,e)=>{const n=t>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(t):t;this.appendRowHeader(n,e)})),this.hot.runHooks("afterGetRowHeaderRenderers",t),Tc(Ec,this,t.length),this.hot.getSettings().ariaTags&&kc(Ic,this,Yc).call(this)===this.hot.countCols()&&kc(Ic,this,Nc).call(this,xc(Ec,this)),t},columnHeaders:()=>{const t=[];return this.hot.hasColHeaders()&&t.push(((t,e)=>{const n=t>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(t):t;this.appendColHeader(n,e)})),this.hot.runHooks("afterGetColumnHeaderRenderers",t),Tc(Lc,this,t.length),t},columnWidth:t=>{const e=this.hot.columnIndexMapper.getVisualFromRenderableIndex(t);return this.hot.getColWidth(null===e?t:e)},rowHeight:t=>{const e=this.hot.rowIndexMapper.getVisualFromRenderableIndex(t);return this.hot.getRowHeight(null===e?t:e)},cellRenderer:(t,e,n)=>{const[i,s]=this.translateFromRenderableToVisualIndex(t,e),r=this.hot.runHooks("modifyGetCellCoords",i,s);let o=i,a=s;Array.isArray(r)&&([o,a]=r);const l=this.hot.getCellMeta(o,a),h=this.hot.colToProp(a);let c=this.hot.getDataAtRowProp(o,h);this.hot.hasHook("beforeValueRender")&&(c=this.hot.runHooks("beforeValueRender",c,l)),this.hot.runHooks("beforeRenderer",n,i,s,h,c,l),this.hot.getCellRenderer(l)(this.hot,n,i,s,h,c,l),this.hot.runHooks("afterRenderer",n,i,s,h,c,l)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&pe(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(t,e,n,i)=>{const s=this.translateFromRenderableToVisualCoords(e),r={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=i,Tc(Ac,this,!0),this.hot.runHooks("beforeOnCellMouseDown",t,s,n,r),oi(t)||(fc(t,{coords:s,selection:this.hot.selection,controller:r,cellCoordsFactory:(t,e)=>this.hot._createCellCoords(t,e)}),this.hot.runHooks("afterOnCellMouseDown",t,s,n),this.activeWt=this._wt)},onCellContextMenu:(t,e,n,i)=>{const s=this.translateFromRenderableToVisualCoords(e);this.activeWt=i,Tc(Ac,this,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",t,s,n),oi(t)||(this.hot.runHooks("afterOnCellContextMenu",t,s,n),this.activeWt=this._wt)},onCellMouseOut:(t,e,n,i)=>{const s=this.translateFromRenderableToVisualCoords(e);this.activeWt=i,this.hot.runHooks("beforeOnCellMouseOut",t,s,n),oi(t)||(this.hot.runHooks("afterOnCellMouseOut",t,s,n),this.activeWt=this._wt)},onCellMouseOver:(t,e,n,i)=>{const s=this.translateFromRenderableToVisualCoords(e),r={row:!1,column:!1,cell:!1};this.activeWt=i,this.hot.runHooks("beforeOnCellMouseOver",t,s,n,r),oi(t)||(xc(Ac,this)&&fc(t,{coords:s,selection:this.hot.selection,controller:r,cellCoordsFactory:(t,e)=>this.hot._createCellCoords(t,e)}),this.hot.runHooks("afterOnCellMouseOver",t,s,n),this.activeWt=this._wt)},onCellMouseUp:(t,e,n,i)=>{const s=this.translateFromRenderableToVisualCoords(e);this.activeWt=i,this.hot.runHooks("beforeOnCellMouseUp",t,s,n),oi(t)||this.hot.isDestroyed||(this.hot.runHooks("afterOnCellMouseUp",t,s,n),this.activeWt=this._wt)},onCellCornerMouseDown:t=>{t.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",t)},onCellCornerDblClick:t=>{t.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",t)},beforeDraw:(t,e)=>this.beforeRender(t,e),onDraw:t=>this.afterRender(t),onBeforeViewportScrollVertically:t=>{const e=this.hot.rowIndexMapper,n=t<0;let i=t;return n||(i=e.getVisualFromRenderableIndex(t),null!==i)?(i=this.hot.runHooks("beforeViewportScrollVertically",i),this.hot.runHooks("beforeViewportScroll"),n?i:e.getRenderableFromVisualIndex(i)):t},onBeforeViewportScrollHorizontally:t=>{const e=this.hot.columnIndexMapper,n=t<0;let i=t;return n||(i=e.getVisualFromRenderableIndex(t),null!==i)?(i=this.hot.runHooks("beforeViewportScrollHorizontally",i),this.hot.runHooks("beforeViewportScroll"),n?i:e.getRenderableFromVisualIndex(i)):t},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(t,e,n)=>{const i=this.hot.rowIndexMapper,s=t<0;let r=t;s||(r=i.getVisualFromRenderableIndex(t));const o=this.hot.runHooks("beforeHighlightingRowHeader",r,e,n);return s?o:i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(o,1))},onBeforeHighlightingColumnHeader:(t,e,n)=>{const i=this.hot.columnIndexMapper,s=t<0;let r=t;s||(r=i.getVisualFromRenderableIndex(t));const o=this.hot.runHooks("beforeHighlightingColumnHeader",r,e,n);return s?o:i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(o,1))},onAfterDrawSelection:(t,e,n)=>{let i;const[s,r]=this.translateFromRenderableToVisualIndex(t,e),o=this.hot.selection.getSelectedRange(),a=o.size();if(a>0){const t=o.peekByIndex(null!==n&&void 0!==n?n:0);i=[t.from.row,t.from.col,t.to.row,t.to.col]}return this.hot.runHooks("afterDrawSelection",s,r,i,n)},onBeforeDrawBorders:(t,e)=>{const[n,i,s,r]=t,o=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(n),this.hot.columnIndexMapper.getVisualFromRenderableIndex(i),this.hot.rowIndexMapper.getVisualFromRenderableIndex(s),this.hot.columnIndexMapper.getVisualFromRenderableIndex(r)];return this.hot.runHooks("beforeDrawBorders",o,e)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onBeforeStretchingColumnWidth:(t,e)=>{const n=this.hot.columnIndexMapper.getVisualFromRenderableIndex(e);return this.hot.runHooks("beforeStretchingColumnWidth",t,n)},onModifyRowHeaderWidth:t=>this.hot.runHooks("modifyRowHeaderWidth",t),onModifyGetCellCoords:(t,e,n)=>{const i=this.hot.rowIndexMapper,s=this.hot.columnIndexMapper,r=e>=0?s.getVisualFromRenderableIndex(e):e,o=t>=0?i.getVisualFromRenderableIndex(t):t,a=this.hot.runHooks("modifyGetCellCoords",o,r,n);if(Array.isArray(a)){const[t,e,n,r]=a;return[t>=0?i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(t,1)):t,e>=0?s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(e,1)):e,n>=0?i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(n,-1)):n,r>=0?s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(r,-1)):r]}},viewportRowCalculatorOverride:t=>{let e=this.settings.viewportRowRenderingOffset;if("auto"===e&&this.settings.fixedRowsTop&&(e=10),e>0||"auto"===e){const n=this.countRenderableRows(),i=t.startRow,s=t.endRow;if("number"===typeof e)t.startRow=Math.max(i-e,0),t.endRow=Math.min(s+e,n-1);else if("auto"===e){const e=Math.ceil(s/n*12);t.startRow=Math.max(i-e,0),t.endRow=Math.min(s+e,n-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",t)},viewportColumnCalculatorOverride:t=>{let e=this.settings.viewportColumnRenderingOffset;if("auto"===e&&this.settings.fixedColumnsStart&&(e=10),e>0||"auto"===e){const n=this.countRenderableColumns(),i=t.startColumn,s=t.endColumn;if("number"===typeof e&&(t.startColumn=Math.max(i-e,0),t.endColumn=Math.min(s+e,n-1)),"auto"===e){const e=Math.ceil(s/n*6);t.startColumn=Math.max(i-e,0),t.endColumn=Math.min(s+e,n-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",t)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{const t=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||t}};this.hot.runHooks("beforeInitWalkontable",t),this._wt=new hc(t),this.activeWt=this._wt;const e=this._wt.wtTable.spreader,{width:n,height:i}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(n,i),this.eventManager.addEventListener(e,"mousedown",(t=>{t.target===e&&3===t.which&&t.stopPropagation()})),this.eventManager.addEventListener(e,"contextmenu",(t=>{t.target===e&&3===t.which&&t.stopPropagation()})),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",(()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&(this.hot.forceFullRender=!0,this.render())}))}isTextSelectionAllowed(t){if(Ke(t))return!0;const e=ee(t,this.hot.view._wt.wtTable.spreader);return!(!0!==this.settings.fragmentSelection||!e)||(!("cell"!==this.settings.fragmentSelection||!this.isSelectedOnlyCell()||!e)||!(this.settings.fragmentSelection||!this.isCellEdited()||!this.isSelectedOnlyCell()))}isMouseDown(){return xc(Ac,this)}isSelectedOnlyCell(){var t,e;return null!==(t=null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.isSingleCell())&&void 0!==t&&t}isCellEdited(){const t=this.hot.getActiveEditor();return t&&t.isOpened()}beforeRender(t,e){t&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,e)}afterRender(t){t&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(t,e){if(e.firstChild){const n=e.firstChild;if(!oe(n,"relative"))return ue(e),void this.appendRowHeader(t,e);this.updateCellHeader(n.querySelector(".rowHeader"),t,this.hot.getRowHeader)}else{const{rootDocument:n,getRowHeader:i}=this.hot,s=n.createElement("div"),r=n.createElement("span");s.className="relative",r.className="rowHeader",this.updateCellHeader(r,t,i),s.appendChild(r),e.appendChild(s)}this.hot.runHooks("afterGetRowHeader",t,e)}appendColHeader(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hot.getColHeader,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e.firstChild){const s=e.firstChild;oe(s,"relative")?this.updateCellHeader(s.querySelector(".colHeader"),t,n,i):(ue(e),this.appendColHeader(t,e,n,i))}else{const{rootDocument:s}=this.hot,r=s.createElement("div"),o=s.createElement("span");r.className="relative",o.className="colHeader",this.settings.ariaTags&&(he(r,...dt()),he(o,...dt())),this.updateCellHeader(o,t,n,i),r.appendChild(o),e.appendChild(r)}this.hot.runHooks("afterGetColHeader",t,e,i)}updateCellHeader(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=e;const r=this._wt.wtOverlays.getParentOverlay(t)||this._wt;t.parentNode&&(oe(t,"colHeader")?s=r.wtTable.columnFilter.sourceToRendered(e):oe(t,"rowHeader")&&(s=r.wtTable.rowFilter.sourceToRendered(e))),s>-1?me(t,n(e,i)):(ge(t,String.fromCharCode(160)),ae(t,"cornerHeader"))}maximumVisibleElementWidth(t){const e=this._wt.wtViewport.getWorkspaceWidth(),n=e-t;return n>0?n:0}maximumVisibleElementHeight(t){const e=this._wt.wtViewport.getWorkspaceHeight(),n=e-t;return n>0?n:0}setLastSize(t,e){Tc(Hc,this,t),Tc(Pc,this,e)}getLastSize(){return{width:xc(Hc,this),height:xc(Pc,this)}}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleColumn())}getFirstPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstPartiallyVisibleRow())}getLastPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastPartiallyVisibleRow())}getFirstPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstPartiallyVisibleColumn())}getLastPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastPartiallyVisibleColumn())}getColumnHeadersCount(){return xc(Lc,this)}getRowHeadersCount(){return xc(Ec,this)}getViewportWidth(){return this.hot.view._wt.wtViewport.getViewportWidth()}getWorkspaceWidth(){return this.hot.view._wt.wtViewport.getWorkspaceWidth()}getViewportHeight(){return this.hot.view._wt.wtViewport.getViewportHeight()}getWorkspaceHeight(){return this.hot.view._wt.wtViewport.getWorkspaceHeight()}destroy(){this._wt.destroy(),this.eventManager.destroy()}}function Yc(){return parseInt(this.hot.rootElement.getAttribute(Dt()[0]),10)}function Nc(t){const e=kc(Ic,this,Yc).call(this)+t;he(this.hot.rootElement,...Dt(e))}var Fc=Oc;const jc="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Wc=jc.length;function Vc(t){let e,n=t+1,i="";while(n>0)e=(n-1)%Wc,i=String.fromCharCode(65+e)+i,n=parseInt((n-e)/Wc,10);return i}function Bc(t){let e=0;if(t)for(let n=0,i=t.length-1;n<t.length;n+=1,i-=1)e+=Wc**i*(jc.indexOf(t[n])+1);return e-=1,e}function zc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const n=[];let i,s;for(i=0;i<t;i++){const t=[];for(s=0;s<e;s++)t.push(Vc(s)+(i+1));n.push(t)}return n}function Uc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const n=[];let i,s;for(i=0;i<t;i++){const t={};for(s=0;s<e;s++)t[`prop${s}`]=Vc(s)+(i+1);n.push(t)}return n}function $c(t,e){const n=[];let i;for(let s=0;s<t;s++){i=[];for(let t=0;t<e;t++)i.push("");n.push(i)}return n}function Gc(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t;const i=[];return Array.isArray(t)&&Array.isArray(t[0])||(n=[t]),n.forEach(((t,n)=>{Array.isArray(t)?t.forEach(((t,s)=>{i.push([n+e,s,t])})):Object.keys(t).forEach((s=>{i.push([n+e,s,t[s]])}))})),i}function Kc(t){let e=0;return Array.isArray(t)&&(t[0]&&Array.isArray(t[0])?e=t[0].length:t[0]&&vn(t[0])&&(e=xn(t[0]))),e}function qc(t){return!!(Array.isArray(t)&&t.length&&t.every((t=>Array.isArray(t))))}function Xc(t){return!!(Array.isArray(t)&&t.length&&t.every((t=>"object"===typeof t&&!Array.isArray(t)&&null!==t)))}function Jc(t,e,n){return e=Zc(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zc(t){var e=Qc(t,"string");return"symbol"==typeof e?e:e+""}function Qc(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class td{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Jc(this,"hot",void 0),Jc(this,"data",void 0),Jc(this,"dataType","array"),Jc(this,"colToProp",(()=>{})),Jc(this,"propToCol",(()=>{})),this.hot=t,this.data=e}modifyRowData(t){let e;return this.hot.hasHook("modifyRowData")&&(e=this.hot.runHooks("modifyRowData",t)),void 0===e||Number.isInteger(e)?this.data[t]:e}getData(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.data&&0!==this.data.length?this.getByRange(null,null,t):this.data}setData(t){this.data=t}getAtColumn(t){const e=[];return T(this.data,((n,i)=>{const s=this.getAtCell(i,t);e.push(s)})),e}getAtRow(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=void 0===e&&void 0===n;let r=null,o=null;if(r=this.modifyRowData(t),Array.isArray(r))o=[],s?r.forEach(((e,n)=>{o[n]=this.getAtPhysicalCell(t,n,r)})):Ls(e,n,(n=>{o[n-e]=this.getAtPhysicalCell(t,n,r)}));else if(vn(r)||nn(r))if(o=i?[]:{},!s||i){const s=0,a=this.countFirstRowKeys()-1;Ls(s,a,(l=>{const h=this.colToProp(l);if(l>=(e||s)&&l<=(n||a)&&!Number.isInteger(h)){const e=this.getAtPhysicalCell(t,h,r);i?o.push(e):Cn(o,h,e)}}))}else Mn(r,((e,n)=>{Cn(o,n,this.getAtPhysicalCell(t,n,r))}));return o}setAtCell(t,e,n){if(!(t>=this.countRows()||e>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){const i=Tn(n);this.hot.runHooks("modifySourceData",t,e,i,"set"),i.isTouched()&&(n=i.value)}Number.isInteger(e)?this.data[t][e]=n:Cn(this.data[t],e,n)}}getAtPhysicalCell(t,e,n){let i=null;if(n&&(i="string"===typeof e?Sn(n,e):"function"===typeof e?e(n):n[e]),this.hot.hasHook("modifySourceData")){const n=Tn(i);this.hot.runHooks("modifySourceData",t,e,n,"get"),n.isTouched()&&(i=n.value)}return i}getAtCell(t,e){const n=this.modifyRowData(t);return this.getAtPhysicalCell(t,this.colToProp(e),n)}getByRange(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,s=null,r=null,o=null,a=null;null===t||null===e?(i=!0,s=0,o=this.countRows()-1):(s=Math.min(t.row,e.row),r=Math.min(t.col,e.col),o=Math.max(t.row,e.row),a=Math.max(t.col,e.col));const l=[];return Ls(s,o,(t=>{l.push(i?this.getAtRow(t,void 0,void 0,n):this.getAtRow(t,r,a,n))})),l}countRows(){if(this.hot.hasHook("modifySourceLength")){const t=this.hot.runHooks("modifySourceLength");if(Number.isInteger(t))return t}return this.data.length}countFirstRowKeys(){return Kc(this.data)}destroy(){this.data=null,this.hot=null}}var ed=td;const nd="localHooks",id={_localHooks:Object.create(null),addLocalHook(t,e){return this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e),this},runLocalHooks(t,e,n,i,s,r,o){if(this._localHooks[t]){const a=this._localHooks[t].length;for(let l=0;l<a;l++)dn(this._localHooks[t][l],this,e,n,i,s,r,o)}},clearLocalHooks(){return this._localHooks={},this}};bn(id,"MIXIN_NAME",nd,{writable:!1,enumerable:!1});var sd=id;function rd(t,e,n){return e=od(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function od(t){var e=ad(t,"string");return"symbol"==typeof e?e:e+""}function ad(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class ld{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;rd(this,"indexedValues",[]),rd(this,"initValueOrFn",void 0),this.initValueOrFn=t}getValues(){return this.indexedValues}getValueAtIndex(t){const e=this.indexedValues;if(t<e.length)return e[t]}setValues(t){this.indexedValues=t.slice(),this.runLocalHooks("change")}setValueAtIndex(t,e){return t<this.indexedValues.length&&(this.indexedValues[t]=e,this.runLocalHooks("change"),!0)}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,nn(this.initValueOrFn)?Ls(t-1,(t=>this.indexedValues.push(this.initValueOrFn(t)))):Ls(t-1,(()=>this.indexedValues.push(this.initValueOrFn))),this.runLocalHooks("change")}init(t){return this.setDefaultValues(t),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}function hd(t,e,n){return[...t.slice(0,e),...n,...t.slice(e)]}function cd(t,e){return C(t,(t=>!1===e.includes(t)))}function dd(t,e){return x(t,(t=>t-e.filter((e=>e<t)).length))}function ud(t,e){const n=e[0],i=e.length;return x(t,(t=>t>=n?t+i:t))}yn(ld,sd);class fd extends ld{constructor(){super((t=>t))}insert(t,e){const n=ud(this.indexedValues,e);this.indexedValues=hd(n,t,e),super.insert(t,e)}remove(t){const e=cd(this.indexedValues,t);this.indexedValues=dd(e,t),super.remove(t)}}function md(t,e,n,i){const s=n.length?n[0]:void 0;return[...t.slice(0,s),...n.map(((t,e)=>nn(i)?i(t,e):i)),...void 0===s?[]:t.slice(s)]}function gd(t,e){return C(t,((t,n)=>!1===e.includes(n)))}class pd extends ld{insert(t,e){this.indexedValues=md(this.indexedValues,t,e,this.initValueOrFn),super.insert(t,e)}remove(t){this.indexedValues=gd(this.indexedValues,t),super.remove(t)}}class _d extends pd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(t)}getHiddenIndexes(){return S(this.getValues(),((t,e,n)=>(e&&t.push(n),t)),[])}}function yd(t,e,n){return e=wd(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wd(t){var e=vd(t,"string");return"symbol"==typeof e?e:e+""}function vd(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class bd extends ld{constructor(){super(...arguments),yd(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map((t=>this.indexedValues[t]))}setValues(t){this.orderOfIndexes=[...Array(t.length).keys()],super.setValues(t)}setValueAtIndex(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.orderOfIndexes.length;return t<this.indexedValues.length&&(this.indexedValues[t]=e,!1===this.orderOfIndexes.includes(t)&&this.orderOfIndexes.splice(n,0,t),this.runLocalHooks("change"),!0)}clearValue(t){this.orderOfIndexes=cd(this.orderOfIndexes,[t]),nn(this.initValueOrFn)?super.setValueAtIndex(t,this.initValueOrFn(t)):super.setValueAtIndex(t,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(t)}insert(t,e){this.indexedValues=md(this.indexedValues,t,e,this.initValueOrFn),this.orderOfIndexes=ud(this.orderOfIndexes,e),super.insert(t,e)}remove(t){this.indexedValues=gd(this.indexedValues,t),this.orderOfIndexes=cd(this.orderOfIndexes,t),this.orderOfIndexes=dd(this.orderOfIndexes,t),super.remove(t)}getEntries(){return this.orderOfIndexes.map((t=>[t,this.getValueAtIndex(t)]))}}class Md extends pd{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(t)}getTrimmedIndexes(){return S(this.getValues(),((t,e,n)=>(e&&t.push(n),t)),[])}}const Sd=new Map([["hiding",_d],["index",ld],["linkedPhysicalIndexToValue",bd],["physicalIndexToValue",pd],["trimming",Md]]);function Cd(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Sd.has(t))throw new Error(`The provided map type ("${t}") does not exist.`);return new(Sd.get(t))(e)}function xd(t,e,n){return e=Td(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Td(t){var e=kd(t,"string");return"symbol"==typeof e?e:e+""}function kd(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}let Ld=0;class Ed{constructor(){xd(this,"collection",new Map)}register(t,e){!1===this.collection.has(t)&&(this.collection.set(t,e),e.addLocalHook("change",(()=>this.runLocalHooks("change",e))),Ld+=1)}unregister(t){const e=this.collection.get(t);F(e)&&(e.destroy(),this.collection.delete(t),this.runLocalHooks("change",e),Ld-=1)}unregisterAll(){this.collection.forEach(((t,e)=>this.unregister(e))),this.collection.clear()}get(t){return j(t)?Array.from(this.collection.values()):this.collection.get(t)}getLength(){return this.collection.size}removeFromEvery(t){this.collection.forEach((e=>{e.remove(t)}))}insertToEvery(t,e){this.collection.forEach((n=>{n.insert(t,e)}))}initEvery(t){this.collection.forEach((e=>{e.init(t)}))}}function Rd(){return Ld}function Ad(t,e,n){return e=Dd(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dd(t){var e=Hd(t,"string");return"symbol"==typeof e?e:e+""}function Hd(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}yn(Ed,sd);class Pd extends Ed{constructor(t,e){super(),Ad(this,"mergedValuesCache",[]),Ad(this,"aggregationFunction",void 0),Ad(this,"fallbackValue",void 0),this.aggregationFunction=t,this.fallbackValue=e}getMergedValues(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===t)return this.mergedValuesCache;if(0===this.getLength())return[];const e=x(this.get(),(t=>t.getValues())),n=[],i=F(e[0])&&e[0].length||0;for(let s=0;s<i;s+=1){const t=[];for(let n=0;n<this.getLength();n+=1)t.push(e[n][s]);n.push(t)}return x(n,this.aggregationFunction)}getMergedValueAtIndex(t,e){const n=this.getMergedValues(e)[t];return F(n)?n:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}}function Id(t,e,n){Od(t,e),e.set(t,n)}function Od(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yd(t,e,n){return t.set(Fd(t,e),n),n}function Nd(t,e){return t.get(Fd(t,e))}function Fd(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var jd=new WeakMap;class Wd{constructor(){Id(this,jd,[])}subscribe(t){return this.addLocalHook("change",t),this._write(Nd(jd,this)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(t){return t.length>0&&this.runLocalHooks("change",t),this}_writeInitialChanges(t){Yd(jd,this,t)}}function Vd(t,e){const n=[];let i=0,s=0;for(;i<t.length&&s<e.length;i++,s++)t[i]!==e[s]&&n.push({op:"replace",index:s,oldValue:t[i],newValue:e[s]});for(;i<e.length;i++)n.push({op:"insert",index:i,oldValue:void 0,newValue:e[i]});for(;s<t.length;s++)n.push({op:"remove",index:s,oldValue:t[s],newValue:void 0});return n}function Bd(t,e,n){zd(t,e),e.set(t,n)}function zd(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ud(t,e){return t.get(Gd(t,e))}function $d(t,e,n){return t.set(Gd(t,e),n),n}function Gd(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}yn(Wd,sd);var Kd=new WeakMap,qd=new WeakMap,Xd=new WeakMap,Jd=new WeakMap,Zd=new WeakMap;class Qd{constructor(){let{initialIndexValue:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Bd(this,Kd,new Set),Bd(this,qd,[]),Bd(this,Xd,[]),Bd(this,Jd,!1),Bd(this,Zd,!1),$d(Zd,this,null!==t&&void 0!==t&&t)}createObserver(){const t=new Wd;return Ud(Kd,this).add(t),t.addLocalHook("unsubscribe",(()=>{Ud(Kd,this).delete(t)})),t._writeInitialChanges(Vd(Ud(qd,this),Ud(Xd,this))),t}emit(t){let e=Ud(Xd,this);Ud(Jd,this)&&Ud(qd,this).length===t.length||(0===t.length?t=new Array(e.length).fill(Ud(Zd,this)):$d(qd,this,new Array(t.length).fill(Ud(Zd,this))),Ud(Jd,this)||($d(Jd,this,!0),e=Ud(qd,this)));const n=Vd(e,t);Ud(Kd,this).forEach((t=>t._write(n))),$d(Xd,this,t)}}function tu(t,e,n){return e=eu(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eu(t){var e=nu(t,"string");return"symbol"==typeof e?e:e+""}function nu(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}new Set;class iu{constructor(){tu(this,"indexesSequence",new fd),tu(this,"trimmingMapsCollection",new Pd((t=>t.some((t=>!0===t))),!1)),tu(this,"hidingMapsCollection",new Pd((t=>t.some((t=>!0===t))),!1)),tu(this,"variousMapsCollection",new Ed),tu(this,"hidingChangesObservable",new Qd({initialIndexValue:!1})),tu(this,"notTrimmedIndexesCache",[]),tu(this,"notHiddenIndexesCache",[]),tu(this,"isBatched",!1),tu(this,"indexesSequenceChanged",!1),tu(this,"indexesChangeSource",void 0),tu(this,"trimmedIndexesChanged",!1),tu(this,"hiddenIndexesChanged",!1),tu(this,"renderablePhysicalIndexesCache",[]),tu(this,"fromPhysicalToVisualIndexesCache",new Map),tu(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",(()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)})),this.trimmingMapsCollection.addLocalHook("change",(t=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",t,this.trimmingMapsCollection)})),this.hidingMapsCollection.addLocalHook("change",(t=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",t,this.hidingMapsCollection)})),this.variousMapsCollection.addLocalHook("change",(t=>{this.runLocalHooks("change",t,this.variousMapsCollection)}))}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(t){if("hiding"!==t)throw new Error(`Unsupported index map type "${t}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(t,e,n){return this.registerMap(t,Cd(e,n))}registerMap(t,e){if(this.trimmingMapsCollection.get(t)||this.hidingMapsCollection.get(t)||this.variousMapsCollection.get(t))throw Error(`Map with name "${t}" has been already registered.`);e instanceof Md?this.trimmingMapsCollection.register(t,e):e instanceof _d?this.hidingMapsCollection.register(t,e):this.variousMapsCollection.register(t,e);const n=this.getNumberOfIndexes();return n>0&&e.init(n),e}unregisterMap(t){this.trimmingMapsCollection.unregister(t),this.hidingMapsCollection.unregister(t),this.variousMapsCollection.unregister(t)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(t){const e=this.notTrimmedIndexesCache[t];return F(e)?e:null}getPhysicalFromRenderableIndex(t){const e=this.renderablePhysicalIndexesCache[t];return F(e)?e:null}getVisualFromPhysicalIndex(t){const e=this.fromPhysicalToVisualIndexesCache.get(t);return F(e)?e:null}getVisualFromRenderableIndex(t){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(t))}getRenderableFromVisualIndex(t){const e=this.fromVisualToRenderableIndexesCache.get(t);return F(e)?e:null}getNearestNotHiddenIndex(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.getPhysicalFromVisualIndex(t);if(null===i)return null;if(this.fromVisualToRenderableIndexesCache.has(t))return t;const s=Array.from(this.fromVisualToRenderableIndexesCache.keys());let r=-1;return r=e>0?s.findIndex((e=>e>t)):s.reverse().findIndex((e=>e<t)),-1===r?n?this.getNearestNotHiddenIndex(t,-e,!1):null:s[r]}initToLength(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(t).keys()],this.notHiddenIndexesCache=[...new Array(t).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(t),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(t),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(t),this.variousMapsCollection.initEvery(t),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(t){const e=this.getNumberOfIndexes();if(t<e){const e=[...Array(this.getNumberOfIndexes()-t).keys()].map((e=>e+t));this.removeIndexes(e)}else this.insertIndexes(e,t-e)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(t){void 0===this.indexesChangeSource&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(t),"update"===this.indexesChangeSource&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===t)return this.notTrimmedIndexesCache;const e=this.getIndexesSequence();return e.filter((t=>!1===this.isTrimmed(t)))}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===t)return this.notHiddenIndexesCache;const e=this.getIndexesSequence();return e.filter((t=>!1===this.isHidden(t)))}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===t)return this.renderablePhysicalIndexesCache;const e=this.getNotTrimmedIndexes();return e.filter((t=>!1===this.isHidden(t)))}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(t,e){"number"===typeof t&&(t=[t]);const n=x(t,(t=>this.getPhysicalFromVisualIndex(t))),i=this.getNotTrimmedIndexesLength(),s=t.length,r=cd(this.getIndexesSequence(),n),o=r.filter((t=>!1===this.isTrimmed(t)));let a=r.indexOf(o[o.length-1])+1;if(e+s<i){const t=o[e];a=r.indexOf(t)}this.indexesChangeSource="move",this.setIndexesSequence(hd(r,a,n)),this.indexesChangeSource=void 0}isTrimmed(t){return this.trimmingMapsCollection.getMergedValueAtIndex(t)}isHidden(t){return this.hidingMapsCollection.getMergedValueAtIndex(t)}insertIndexes(t,e){const n=this.getNotTrimmedIndexes()[t],i=F(n)?n:this.getNumberOfIndexes(),s=this.getIndexesSequence().includes(n)?this.getIndexesSequence().indexOf(n):this.getNumberOfIndexes(),r=x(new Array(e).fill(i),((t,e)=>t+e));this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(s,r),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(s,r),this.hidingMapsCollection.insertToEvery(s,r),this.variousMapsCollection.insertToEvery(s,r),this.resumeOperations()}removeIndexes(t){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(t),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(t),this.hidingMapsCollection.removeFromEvery(t),this.variousMapsCollection.removeFromEvery(t),this.resumeOperations()}updateCache(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(!0===t||!1===this.isBatched&&!0===e)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){const t=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let e=0;e<t;e+=1){const t=this.getPhysicalFromVisualIndex(e);this.fromPhysicalToVisualIndexesCache.set(t,e)}}cacheFromVisualToRenderableIndexes(){const t=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let e=0;e<t;e+=1){const t=this.getPhysicalFromRenderableIndex(e),n=this.getVisualFromPhysicalIndex(t);this.fromVisualToRenderableIndexesCache.set(n,e)}}}function su(t,e){return Mn(e,((e,n)=>{j(t[n])&&(t[n]=e)})),t}function ru(t){const e=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/,n=e.exec(t);return n?`${n[1].toLowerCase()}-${n[2].toUpperCase()}`:t}function ou(t){F(t)&&di(Y`Language with code "${t}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function au(t,e){const n=Array.isArray(t)&&Number.isInteger(e);return n?t[e]:t}yn(iu,sd);const{register:lu,getValues:hu}=Ci("phraseFormatters");function cu(t,e){lu(t,e)}function du(){return hu()}cu("pluralize",au);const uu="ContextMenu:items",fu=uu,mu=`${fu}.noItems`,gu=`${fu}.insertRowAbove`,pu=`${fu}.insertRowBelow`,_u=`${fu}.insertColumnOnTheLeft`,yu=`${fu}.insertColumnOnTheRight`,wu=`${fu}.removeRow`,vu=`${fu}.removeColumn`,bu=`${fu}.undo`,Mu=`${fu}.redo`,Su=`${fu}.readOnly`,Cu=`${fu}.clearColumn`,xu=`${fu}.copy`,Tu=`${fu}.copyWithHeaders`,ku=`${fu}.copyWithGroupHeaders`,Lu=`${fu}.copyHeadersOnly`,Eu=`${fu}.cut`,Ru=`${fu}.freezeColumn`,Au=`${fu}.unfreezeColumn`,Du=`${fu}.mergeCells`,Hu=`${fu}.unmergeCells`,Pu=`${fu}.addComment`,Iu=`${fu}.editComment`,Ou=`${fu}.removeComment`,Yu=`${fu}.readOnlyComment`,Nu=`${fu}.align`,Fu=`${fu}.align.left`,ju=`${fu}.align.center`,Wu=`${fu}.align.right`,Vu=`${fu}.align.justify`,Bu=`${fu}.align.top`,zu=`${fu}.align.middle`,Uu=`${fu}.align.bottom`,$u=`${fu}.borders`,Gu=`${fu}.borders.top`,Ku=`${fu}.borders.right`,qu=`${fu}.borders.bottom`,Xu=`${fu}.borders.left`,Ju=`${fu}.borders.remove`,Zu=`${fu}.nestedHeaders.insertChildRow`,Qu=`${fu}.nestedHeaders.detachFromParent`,tf=`${fu}.hideColumn`,ef=`${fu}.showColumn`,nf=`${fu}.hideRow`,sf=`${fu}.showRow`,rf="Filters:",of=`${rf}conditions`,af=`${of}.none`,lf=`${of}.isEmpty`,hf=`${of}.isNotEmpty`,cf=`${of}.isEqualTo`,df=`${of}.isNotEqualTo`,uf=`${of}.beginsWith`,ff=`${of}.endsWith`,mf=`${of}.contains`,gf=`${of}.doesNotContain`,pf=`${of}.byValue`,_f=`${of}.greaterThan`,yf=`${of}.greaterThanOrEqualTo`,wf=`${of}.lessThan`,vf=`${of}.lessThanOrEqualTo`,bf=`${of}.isBetween`,Mf=`${of}.isNotBetween`,Sf=`${of}.after`,Cf=`${of}.before`,xf=`${of}.today`,Tf=`${of}.tomorrow`,kf=`${of}.yesterday`,Lf=`${rf}labels.filterByCondition`,Ef=`${rf}labels.filterByValue`,Rf=`${rf}labels.conjunction`,Af=`${rf}labels.disjunction`,Df=`${rf}values.blankCells`,Hf=`${rf}buttons.selectAll`,Pf=`${rf}buttons.clear`,If=`${rf}buttons.ok`,Of=`${rf}buttons.cancel`,Yf=`${rf}buttons.placeholder.search`,Nf=`${rf}buttons.placeholder.value`,Ff=`${rf}buttons.placeholder.secondValue`,jf="CheckboxRenderer:",Wf=`${jf}checked`,Vf=`${jf}unchecked`,Bf={languageCode:"en-US",[mu]:"No available options",[gu]:"Insert row above",[pu]:"Insert row below",[_u]:"Insert column left",[yu]:"Insert column right",[wu]:["Remove row","Remove rows"],[vu]:["Remove column","Remove columns"],[bu]:"Undo",[Mu]:"Redo",[Su]:"Read only",[Cu]:"Clear column",[Nu]:"Alignment",[Fu]:"Left",[ju]:"Center",[Wu]:"Right",[Vu]:"Justify",[Bu]:"Top",[zu]:"Middle",[Uu]:"Bottom",[Ru]:"Freeze column",[Au]:"Unfreeze column",[$u]:"Borders",[Gu]:"Top",[Ku]:"Right",[qu]:"Bottom",[Xu]:"Left",[Ju]:"Remove border(s)",[Pu]:"Add comment",[Iu]:"Edit comment",[Ou]:"Delete comment",[Yu]:"Read-only comment",[Du]:"Merge cells",[Hu]:"Unmerge cells",[xu]:"Copy",[Tu]:["Copy with header","Copy with headers"],[ku]:["Copy with group header","Copy with group headers"],[Lu]:["Copy header only","Copy headers only"],[Eu]:"Cut",[Zu]:"Insert child row",[Qu]:"Detach from parent",[tf]:["Hide column","Hide columns"],[ef]:["Show column","Show columns"],[nf]:["Hide row","Hide rows"],[sf]:["Show row","Show rows"],[af]:"None",[lf]:"Is empty",[hf]:"Is not empty",[cf]:"Is equal to",[df]:"Is not equal to",[uf]:"Begins with",[ff]:"Ends with",[mf]:"Contains",[gf]:"Does not contain",[_f]:"Greater than",[yf]:"Greater than or equal to",[wf]:"Less than",[vf]:"Less than or equal to",[bf]:"Is between",[Mf]:"Is not between",[Sf]:"After",[Cf]:"Before",[xf]:"Today",[Tf]:"Tomorrow",[kf]:"Yesterday",[Df]:"Blank cells",[Lf]:"Filter by condition",[Ef]:"Filter by value",[Rf]:"And",[Af]:"Or",[Hf]:"Select all",[Pf]:"Clear",[If]:"OK",[Of]:"Cancel",[Yf]:"Search",[Nf]:"Value",[Ff]:"Second value",[Wf]:"Checked",[Vf]:"Unchecked"};var zf=Bf;const Uf=p,$f=zf.languageCode,{register:Gf,getItem:Kf,hasItem:qf,getValues:Xf}=Ci("languagesDictionaries");function Jf(t,e){let n=t,i=e;return vn(t)&&(i=t,n=i.languageCode),Zf(n,i),Gf(n,pn(i)),pn(i)}function Zf(t,e){t!==$f&&su(e,Kf($f))}function Qf(t){return tm(t)?pn(Kf(t)):null}function tm(t){return qf(t)}function em(){return Xf()}function nm(t,e,n){const i=Qf(t);if(null===i)return null;const s=i[e];if(j(s))return null;const r=im(s,n);return Array.isArray(r)?r[0]:r}function im(t,e){let n=t;return T(du(),(i=>{n=i(t,e)})),n}function sm(t){let e=ru(t);return tm(e)||(e=$f,ou(t)),e}Jf(zf);const rm="active-header",om="header",am="area",lm="focus",hm="fill",cm="row",dm="column",um="custom-selection";class fm{constructor(t,e){this.settings=t,this.cellRange=e||null}isEmpty(){return null===this.cellRange}add(t){return this.isEmpty()?this.cellRange=this.settings.createCellRange(t):this.cellRange.expand(t),this}replace(t,e){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=e,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=e,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){const t=this.cellRange.getOuterTopStartCorner(),e=this.cellRange.getOuterBottomEndCorner();return[t.row,t.col,e.row,e.col]}destroy(){this.runLocalHooks("destroy")}}yn(fm,sd);var mm=fm;function gm(t,e,n){return e=pm(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pm(t){var e=_m(t,"string");return"symbol"==typeof e?e:e+""}function _m(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class ym extends mm{constructor(t,e){super(t,null),gm(this,"visualCellRange",null),this.visualCellRange=e||null,this.commit()}add(t){return null===this.visualCellRange?this.visualCellRange=this.settings.createCellRange(t):this.visualCellRange.expand(t),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(t){let{from:e,to:n}=t,i=this.getNearestNotHiddenCoords(e,1),s=this.getNearestNotHiddenCoords(n,-1);return null===i||null===s?null:((i.row>s.row||i.col>s.col)&&(i=e,s=n),this.settings.createCellRange(i,i,s))}getNearestNotHiddenCoords(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const i=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,t.row,e);if(null===i)return null;const s=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,t.col,n);return null===s?null:this.settings.createCellCoords(i,s)}getNearestNotHiddenIndex(t,e,n){return e<0?e:t.getNearestNotHiddenIndex(e,n)}commit(){if(null===this.visualCellRange)return this;const t=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return this.cellRange=null===t?null:this.createRenderableCellRange(t.from,t.to),this}syncWith(t){const e=t.from.clone().normalize(),n="N-S"===t.getVerticalDirection()?1:-1,i="W-E"===t.getHorizontalDirection()?1:-1,s=this.settings.visualToRenderableCoords(this.visualCellRange.highlight);let r=null;if(null!==s&&null!==s.col&&null!==s.row||(r=this.getNearestNotHiddenCoords(e,n,i)),null!==r&&t.overlaps(r)){const e=t.highlight.clone();if(e.row>=0&&(e.row=r.row),e.col>=0&&(e.col=r.col),null===this.cellRange){const t=this.settings.visualToRenderableCoords(e);this.cellRange=this.settings.createCellRange(t)}t.setHighlight(e)}return"focus"===this.settings.selectionType&&null!==s&&null===r&&t.setHighlight(this.visualCellRange.highlight),this}getCorners(){const{from:t,to:e}=this.cellRange;return[Math.min(t.row,e.row),Math.min(t.col,e.col),Math.max(t.row,e.row),Math.max(t.col,e.col)]}getVisualCorners(){const t=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),e=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[t.row,t.col,e.row,e.col]}createRenderableCellRange(t,e){const n=this.settings.visualToRenderableCoords(t),i=this.settings.visualToRenderableCoords(e);return null===n.row||null===n.col||null===i.row||null===i.col?null:this.settings.createCellRange(n,n,i)}}var wm=ym;function vm(t){let{activeHeaderClassName:e,...n}=t;return new wm({className:e,...n,selectionType:rm})}function bm(t){let{areaCornerVisible:e,...n}=t;return new wm({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:e},...n,selectionType:am})}function Mm(t){let{...e}=t;return new wm({className:"highlight",...e,selectionType:am})}function Sm(t){let{columnClassName:e,...n}=t;return new wm({className:e,...n,selectionType:dm})}function Cm(t){let{cellCornerVisible:e,...n}=t;return new wm({className:"current",headerAttributes:[jt()],border:{width:2,color:"#4b89ff",cornerVisible:e},...n,selectionType:lm})}function xm(t){let{border:e,visualCellRange:n,...i}=t;return new wm({...e,...i,selectionType:um},n)}function Tm(t){let{...e}=t;return new wm({className:"fill",border:{width:1,color:"#ff0000"},...e,selectionType:hm})}function km(t){let{headerClassName:e,...n}=t;return new wm({className:e,...n,selectionType:om})}function Lm(t){let{rowClassName:e,...n}=t;return new wm({className:e,...n,selectionType:cm})}function Em(t,e){Rm(t,e),e.add(t)}function Rm(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Am(t,e,n){return e=Dm(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dm(t){var e=Hm(t,"string");return"symbol"==typeof e?e:e+""}function Hm(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Pm(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Im=new WeakSet;class Om{constructor(t){Em(this,Im),Am(this,"options",void 0),Am(this,"layerLevel",0),Am(this,"focus",void 0),Am(this,"fill",void 0),Am(this,"layeredAreas",new Map),Am(this,"areas",new Map),Am(this,"rowHeaders",new Map),Am(this,"columnHeaders",new Map),Am(this,"activeRowHeaders",new Map),Am(this,"activeColumnHeaders",new Map),Am(this,"activeCornerHeaders",new Map),Am(this,"rowHighlights",new Map),Am(this,"columnHighlights",new Map),Am(this,"customSelections",[]),this.options=t,this.focus=Cm(t),this.fill=Tm(t)}isEnabledFor(t,e){let n=t;t===lm&&(n="current");let i=this.options.disabledCellSelection(e.row,e.col);return"string"===typeof i&&(i=[i]),!1===i||Array.isArray(i)&&!i.includes(n)}useLayerLevel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.layerLevel=t,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return Pm(Im,this,Ym).call(this,this.layeredAreas,bm)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return Pm(Im,this,Ym).call(this,this.areas,Mm)}getAreas(){return[...this.areas.values()]}createRowHeader(){return Pm(Im,this,Ym).call(this,this.rowHeaders,km)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return Pm(Im,this,Ym).call(this,this.columnHeaders,km)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return Pm(Im,this,Ym).call(this,this.activeRowHeaders,vm)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return Pm(Im,this,Ym).call(this,this.activeColumnHeaders,vm)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return Pm(Im,this,Ym).call(this,this.activeCornerHeaders,vm)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return Pm(Im,this,Ym).call(this,this.rowHighlights,Lm)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return Pm(Im,this,Ym).call(this,this.columnHighlights,Sm)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(t){this.customSelections.push(xm({...this.options,...t}))}clear(){this.focus.clear(),this.fill.clear(),T(this.areas.values(),(t=>{t.clear()})),T(this.layeredAreas.values(),(t=>{t.clear()})),T(this.rowHeaders.values(),(t=>{t.clear()})),T(this.columnHeaders.values(),(t=>{t.clear()})),T(this.activeRowHeaders.values(),(t=>{t.clear()})),T(this.activeColumnHeaders.values(),(t=>{t.clear()})),T(this.activeCornerHeaders.values(),(t=>{t.clear()})),T(this.rowHighlights.values(),(t=>{t.clear()})),T(this.columnHighlights.values(),(t=>{t.clear()}))}[Symbol.iterator](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}}function Ym(t,e){const n=this.layerLevel;if(t.has(n))return t.get(n);const i=e({layerLevel:n,...this.options});return t.set(n,i),i}var Nm=Om;function Fm(t,e,n){return e=jm(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jm(t){var e=Wm(t,"string");return"symbol"==typeof e?e:e+""}function Wm(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Vm{constructor(t){Fm(this,"ranges",[]),Fm(this,"createCellRange",void 0),this.createCellRange=t}isEmpty(){return 0===this.size()}set(t){return this.clear(),this.ranges.push(this.createCellRange(t)),this}add(t){return this.ranges.push(this.createCellRange(t)),this}pop(){return this.ranges.pop(),this}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(t){return this.ranges.some((e=>e.includes(t)))}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}peekByIndex(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e>=0&&e<this.size()&&(t=this.ranges[e]),t}[Symbol.iterator](){return this.ranges[Symbol.iterator]()}}var Bm=Vm;function zm(t,e){$m(t,e),e.add(t)}function Um(t,e,n){$m(t,e),e.set(t,n)}function $m(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gm(t,e){return t.get(qm(t,e))}function Km(t,e,n){return t.set(qm(t,e),n),n}function qm(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Xm=new WeakMap,Jm=new WeakMap,Zm=new WeakMap,Qm=new WeakSet;class tg{constructor(t,e){zm(this,Qm),Um(this,Xm,void 0),Um(this,Jm,void 0),Um(this,Zm,{x:0,y:0}),Km(Xm,this,t),Km(Jm,this,e)}transformStart(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=Gm(Jm,this).createCellCoords(t,e);let s=Gm(Xm,this).current().highlight;const r=Gm(Jm,this).visualToRenderableCoords(s);let o=0,a=0;if(this.runLocalHooks("beforeTransformStart",i),null!==r.row&&null!==r.col){const{width:t,height:e}=qm(Qm,this,ng).call(this),{row:r,col:l}=qm(Qm,this,rg).call(this,s),h=Gm(Jm,this).fixedRowsBottom(),c=Gm(Jm,this).minSpareRows(),d=Gm(Jm,this).minSpareCols(),u=Gm(Jm,this).autoWrapRow(),f=Gm(Jm,this).autoWrapCol(),m=Gm(Jm,this).createCellCoords(r+i.row,l+i.col);if(m.row>=e){const i=Tn(n&&c>0&&0===h),s=m.col+1,r=Gm(Jm,this).createCellCoords(m.row-e,s>=t?s-t:s);this.runLocalHooks("beforeColumnWrap",i,qm(Qm,this,og).call(this,r),s>=t),i.value?this.runLocalHooks("insertRowRequire",Gm(Jm,this).countRenderableRows()):f&&m.assign(r)}else if(m.row<0){const n=Tn(f),i=m.col-1,s=Gm(Jm,this).createCellCoords(e+m.row,i<0?t+i:i);this.runLocalHooks("beforeColumnWrap",n,qm(Qm,this,og).call(this,s),i<0),f&&m.assign(s)}if(m.col>=t){const i=Tn(n&&d>0),s=m.row+1,r=Gm(Jm,this).createCellCoords(s>=e?s-e:s,m.col-t);this.runLocalHooks("beforeRowWrap",i,qm(Qm,this,og).call(this,r),s>=e),i.value?this.runLocalHooks("insertColRequire",Gm(Jm,this).countRenderableColumns()):u&&m.assign(r)}else if(m.col<0){const n=Tn(u),i=m.row-1,s=Gm(Jm,this).createCellCoords(i<0?e+i:i,t+m.col);this.runLocalHooks("beforeRowWrap",n,qm(Qm,this,og).call(this,s),i<0),u&&m.assign(s)}const{rowDir:g,colDir:p}=qm(Qm,this,eg).call(this,m);o=g,a=p,s=qm(Qm,this,og).call(this,m)}return this.runLocalHooks("afterTransformStart",s,o,a),s}transformEnd(t,e){const n=Gm(Jm,this).createCellCoords(t,e),i=Gm(Xm,this).current(),s=Gm(Jm,this).visualToRenderableCoords(i.highlight),r=qm(Qm,this,ig).call(this,i.to.row,i.from.row),o=qm(Qm,this,sg).call(this,i.to.col,i.from.col),a=i.to.clone();let l=0,h=0;if(this.runLocalHooks("beforeTransformEnd",n),null!==s.row&&null!==s.col&&null!==r&&null!==o){const{row:t,col:e}=qm(Qm,this,rg).call(this,i.highlight),s=Gm(Jm,this).createCellCoords(r+n.row,o+n.col),c=i.getTopStartCorner(),d=i.getTopEndCorner(),u=i.getBottomEndCorner(),f={row:s.row-t,col:s.col-e};n.col<0?o>=e&&s.col<e&&(s.col=qm(Qm,this,sg).call(this,c.col,d.col)+f.col):n.col>0&&o<=e&&s.col>e&&(s.col=qm(Qm,this,sg).call(this,d.col,c.col)+f.col),n.row<0?r>=t&&s.row<t&&(s.row=qm(Qm,this,ig).call(this,c.row,u.row)+f.row):n.row>0&&r<=t&&s.row>t&&(s.row=qm(Qm,this,ig).call(this,u.row,c.row)+f.row);const{rowDir:m,colDir:g}=qm(Qm,this,eg).call(this,s);l=m,h=g;const p=qm(Qm,this,og).call(this,s);0===n.row&&0!==n.col?a.col=p.col:0!==n.row&&0===n.col?a.row=p.row:(a.row=p.row,a.col=p.col)}return this.runLocalHooks("afterTransformEnd",a,l,h),a}setOffsetSize(t){let{x:e,y:n}=t;Km(Zm,this,{x:e,y:n})}}function eg(t){const{width:e,height:n}=qm(Qm,this,ng).call(this);let i=0,s=0;return t.row<0?(i=-1,t.row=0):t.row>0&&t.row>=n&&(i=1,t.row=n-1),t.col<0?(s=-1,t.col=0):t.col>0&&t.col>=e&&(s=1,t.col=e-1),{rowDir:i,colDir:s}}function ng(){return{width:Gm(Zm,this).x+Gm(Jm,this).countRenderableColumns(),height:Gm(Zm,this).y+Gm(Jm,this).countRenderableRows()}}function ig(t,e){const n=Gm(Jm,this).findFirstNonHiddenRenderableRow(t,e);return null===n?null:Gm(Zm,this).y+n}function sg(t,e){const n=Gm(Jm,this).findFirstNonHiddenRenderableColumn(t,e);return null===n?null:Gm(Zm,this).x+n}function rg(t){const{row:e,col:n}=Gm(Jm,this).visualToRenderableCoords(t);if(null===e||null===n)throw new Error("Renderable coords are not visible.");return Gm(Jm,this).createCellCoords(Gm(Zm,this).y+e,Gm(Zm,this).x+n)}function og(t){const e=t.clone();return e.col=t.col-Gm(Zm,this).x,e.row=t.row-Gm(Zm,this).y,Gm(Jm,this).renderableToVisualCoords(e)}yn(tg,sd);var ag=tg;const lg=0,hg=1,cg=2,dg=3,ug=[dg,cg],fg=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],mg=Symbol("root"),gg=Symbol("child");function pg(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mg;if(e!==mg&&e!==gg)throw new Error("The second argument is used internally only and cannot be overwritten.");const n=Array.isArray(t),i=e===mg;let s=lg;if(n){const e=t[0];if(0===t.length)s=hg;else if(i&&e instanceof Qa)s=dg;else if(i&&Array.isArray(e))s=pg(e,gg);else if(t.length>=2&&t.length<=4){const e=!t.some(((t,e)=>!fg[e].includes(typeof t)));e&&(s=cg)}}return s}function _g(t){let{createCellCoords:e,createCellRange:n,keepDirection:i=!1,propToCol:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ug.includes(t))throw new Error("Unsupported selection ranges schema type was provided.");return function(r){const o=t===dg;let a=o?r.from.row:r[0],l=o?r.from.col:r[1],h=o?r.to.row:r[2],c=o?r.to.col:r[3];if("function"===typeof s&&("string"===typeof l&&(l=s(l)),"string"===typeof c&&(c=s(c))),j(h)&&(h=a),j(c)&&(c=l),!i){const t=a,e=l,n=h,i=c;a=Math.min(t,n),l=Math.min(e,i),h=Math.max(t,n),c=Math.max(e,i)}const d=e(a,l),u=e(h,c);return n(d,d,u)}}function yg(t){const e=pg(t.getSelected());if(e===lg||e===hg)return[];const n=_g(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),i=new Set;T(t.getSelected(),(t=>{const{from:e,to:s}=n(t),r=Math.max(e.col,0),o=s.col-r+1;T(Array.from(new Array(o),((t,e)=>r+e)),(t=>{i.has(t)||i.add(t)}))}));const s=Array.from(i).sort(((t,e)=>t-e)),r=S(s,((t,e,n,i)=>(0!==n&&e===i[n-1]+1?t[t.length-1][1]+=1:t.push([e,1]),t)),[]);return r}function wg(t){const e=pg(t.getSelected());if(e===lg||e===hg)return[];const n=_g(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),i=new Set;T(t.getSelected(),(t=>{const{from:e,to:s}=n(t),r=Math.max(e.row,0),o=s.row-r+1;T(Array.from(new Array(o),((t,e)=>r+e)),(t=>{i.has(t)||i.add(t)}))}));const s=Array.from(i).sort(((t,e)=>t-e)),r=S(s,((t,e,n,i)=>(0!==n&&e===i[n-1]+1?t[t.length-1][1]+=1:t.push([e,1]),t)),[]);return r}function vg(t,e,n){bg(t,e),e.set(t,n)}function bg(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mg(t,e,n){return e=Sg(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sg(t){var e=Cg(t,"string");return"symbol"==typeof e?e:e+""}function Cg(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function xg(t,e){return t.get(kg(t,e))}function Tg(t,e,n){return t.set(kg(t,e),n),n}function kg(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Lg=new WeakMap,Eg=new WeakMap,Rg=new WeakMap,Ag=new WeakMap,Dg=new WeakMap,Hg=new WeakMap;class Pg{constructor(t,e){var n=this;Mg(this,"settings",void 0),Mg(this,"tableProps",void 0),Mg(this,"inProgress",!1),Mg(this,"selectedRange",new Bm(((t,e,n)=>this.tableProps.createCellRange(t,e,n)))),Mg(this,"highlight",void 0),vg(this,Lg,void 0),vg(this,Eg,void 0),Mg(this,"selectedByRowHeader",new Set),Mg(this,"selectedByColumnHeader",new Set),vg(this,Rg,!1),vg(this,Ag,!1),vg(this,Dg,"unknown"),vg(this,Hg,-1),this.settings=t,this.tableProps=e,this.highlight=new Nm({headerClassName:t.currentHeaderClassName,activeHeaderClassName:t.activeHeaderClassName,rowClassName:t.currentRowClassName,columnClassName:t.currentColClassName,cellAttributes:[jt()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(t,e)=>this.tableProps.isDisabledCellSelection(t,e),cellCornerVisible:function(){return n.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return n.isAreaCornerVisible(...arguments)},visualToRenderableCoords:t=>this.tableProps.visualToRenderableCoords(t),renderableToVisualCoords:t=>this.tableProps.renderableToVisualCoords(t),createCellCoords:(t,e)=>this.tableProps.createCellCoords(t,e),createCellRange:(t,e,n)=>this.tableProps.createCellRange(t,e,n)}),Tg(Lg,this,new ag(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>this.tableProps.countRenderableRows(),countRenderableColumns:()=>this.tableProps.countRenderableColumns(),visualToRenderableCoords:t=>this.tableProps.visualToRenderableCoords(t),renderableToVisualCoords:t=>this.tableProps.renderableToVisualCoords(t),findFirstNonHiddenRenderableRow:function(){return n.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return n.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(t,e)=>this.tableProps.createCellCoords(t,e),fixedRowsBottom:()=>t.fixedRowsBottom,minSpareRows:()=>t.minSpareRows,minSpareCols:()=>t.minSpareCols,autoWrapRow:()=>t.autoWrapRow,autoWrapCol:()=>t.autoWrapCol})),Tg(Eg,this,new ag(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>{const t=this.selectedRange.current();return this.tableProps.countRenderableRowsInRange(0,t.getOuterBottomEndCorner().row)},countRenderableColumns:()=>{const t=this.selectedRange.current();return this.tableProps.countRenderableColumnsInRange(0,t.getOuterBottomEndCorner().col)},visualToRenderableCoords:t=>this.tableProps.visualToRenderableCoords(t),renderableToVisualCoords:t=>this.tableProps.renderableToVisualCoords(t),findFirstNonHiddenRenderableRow:function(){return n.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return n.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(t,e)=>this.tableProps.createCellCoords(t,e),fixedRowsBottom:()=>0,minSpareRows:()=>0,minSpareCols:()=>0,autoWrapRow:()=>!0,autoWrapCol:()=>!0})),xg(Lg,this).addLocalHook("beforeTransformStart",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.runLocalHooks("beforeModifyTransformStart",...e)})),xg(Lg,this).addLocalHook("afterTransformStart",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.runLocalHooks("afterModifyTransformStart",...e)})),xg(Lg,this).addLocalHook("beforeTransformEnd",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.runLocalHooks("beforeModifyTransformEnd",...e)})),xg(Lg,this).addLocalHook("afterTransformEnd",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.runLocalHooks("afterModifyTransformEnd",...e)})),xg(Lg,this).addLocalHook("insertRowRequire",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.runLocalHooks("insertRowRequire",...e)})),xg(Lg,this).addLocalHook("insertColRequire",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.runLocalHooks("insertColRequire",...e)})),xg(Lg,this).addLocalHook("beforeRowWrap",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.runLocalHooks("beforeRowWrap",...e)})),xg(Lg,this).addLocalHook("beforeColumnWrap",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.runLocalHooks("beforeColumnWrap",...e)})),xg(Eg,this).addLocalHook("beforeTransformStart",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.runLocalHooks("beforeModifyTransformFocus",...e)})),xg(Eg,this).addLocalHook("afterTransformStart",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.runLocalHooks("afterModifyTransformFocus",...e)}))}getSelectedRange(){return this.selectedRange}markSource(t){Tg(Dg,this,t)}markEndSource(){Tg(Dg,this,"unknown")}getSelectionSource(){return xg(Dg,this)}setExpectedLayers(t){Tg(Hg,this,t)}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1,Tg(Hg,this,-1)}isInProgress(){return this.inProgress}setRangeStart(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;const s="multiple"===this.settings.selectionMode,r=j(e)?this.tableProps.getShortcutManager().isCtrlPressed():e,o=t.clone();Tg(Rg,this,!1),this.runLocalHooks("beforeSetRangeStart"+(n?"Only":""),o),(!s||s&&!r&&j(e))&&this.selectedRange.clear(),this.selectedRange.add(o).current().setHighlight(i.clone()),0===this.getLayerLevel()&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),n||this.setRangeEnd(t)}setRangeStartOnly(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this.setRangeStart(t,e,!0,n)}setRangeEnd(t){if(this.selectedRange.isEmpty())return;const e=t.clone(),n=this.tableProps.countRows(),i=this.tableProps.countCols(),s=this.selectedRange.current().clone().setTo(t).isSingleHeader();if((n>0||i>0)&&(0===n&&e.col<0&&!s||0===i&&e.row<0&&!s))return;this.runLocalHooks("beforeSetRangeEnd",e),this.begin();const r=this.selectedRange.current();if(this.settings.navigableHeaders||r.highlight.normalize(),"single"===this.settings.selectionMode)r.setFrom(r.highlight),r.setTo(r.highlight);else{const t=r.getHorizontalDirection(),n=r.getVerticalDirection(),i=this.isMultiple();r.setTo(e),i&&(t!==r.getHorizontalDirection()||1===r.getWidth()&&!r.includes(r.highlight))&&r.from.assign({col:r.highlight.col}),i&&(n!==r.getVerticalDirection()||1===r.getHeight()&&!r.includes(r.highlight))&&r.from.assign({row:r.highlight.row})}n>0&&i>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!r.isSingleHeader())&&r.to.normalize(),this.runLocalHooks("beforeHighlightSet"),this.setRangeFocus(this.selectedRange.current().highlight);const o=this.getLayerLevel();o<this.highlight.layerLevel&&(T(this.highlight.getAreas(),(t=>{t.clear()})),T(this.highlight.getLayeredAreas(),(t=>{t.clear()})),T(this.highlight.getRowHeaders(),(t=>{t.clear()})),T(this.highlight.getColumnHeaders(),(t=>{t.clear()})),T(this.highlight.getActiveRowHeaders(),(t=>{t.clear()})),T(this.highlight.getActiveColumnHeaders(),(t=>{t.clear()})),T(this.highlight.getActiveCornerHeaders(),(t=>{t.clear()})),T(this.highlight.getRowHighlights(),(t=>{t.clear()})),T(this.highlight.getColumnHighlights(),(t=>{t.clear()}))),this.highlight.useLayerLevel(o);const a=this.highlight.createArea(),l=this.highlight.createLayeredArea(),h=this.highlight.createRowHeader(),c=this.highlight.createColumnHeader(),d=this.highlight.createActiveRowHeader(),u=this.highlight.createActiveColumnHeader(),f=this.highlight.createActiveCornerHeader(),m=this.highlight.createRowHighlight(),g=this.highlight.createColumnHighlight();if(a.clear(),l.clear(),h.clear(),c.clear(),d.clear(),u.clear(),f.clear(),m.clear(),g.clear(),this.highlight.isEnabledFor(am,r.highlight)&&(this.isMultiple()||o>=1)&&(a.add(r.from).add(r.to).commit(),l.add(r.from).add(r.to).commit(),1===o)){const t=this.selectedRange.previous();this.highlight.useLayerLevel(o-1),this.highlight.createArea().add(t.from).commit().syncWith(t),this.highlight.createLayeredArea().add(t.from).commit().syncWith(t),this.highlight.useLayerLevel(o)}if(this.highlight.isEnabledFor(om,r.highlight)){if(!r.isSingleHeader()){const t=this.tableProps.createCellCoords(Math.max(r.from.row,0),-1),e=this.tableProps.createCellCoords(r.to.row,-1),n=this.tableProps.createCellCoords(-1,Math.max(r.from.col,0)),i=this.tableProps.createCellCoords(-1,r.to.col);"single"===this.settings.selectionMode?(h.add(t).commit(),c.add(n).commit(),m.add(t).commit(),g.add(n).commit()):(h.add(t).add(e).commit(),c.add(n).add(i).commit(),m.add(t).add(e).commit(),g.add(n).add(i).commit())}const t=!xg(Ag,this)&&this.isEntireRowSelected()&&(i>0&&i===r.getWidth()||0===i&&this.isSelectedByRowHeader()),e=!xg(Ag,this)&&this.isEntireColumnSelected()&&(n>0&&n===r.getHeight()||0===n&&this.isSelectedByColumnHeader());t&&d.add(this.tableProps.createCellCoords(Math.max(r.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(r.to.row,0),-1)).commit(),e&&u.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(r.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(r.to.col,0))).commit(),t&&e&&f.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}const p=-1===xg(Hg,this)||this.selectedRange.size()===xg(Hg,this);this.runLocalHooks("afterSetRangeEnd",t,p)}setRangeFocus(t){if(this.selectedRange.isEmpty())return;const e=this.selectedRange.current();this.inProgress||this.runLocalHooks("beforeSetFocus",t);const n=this.highlight.getFocus();n.clear(),e.setHighlight(t),this.inProgress||this.runLocalHooks("beforeHighlightSet"),this.highlight.isEnabledFor(lm,e.highlight)&&n.add(e.highlight).commit().syncWith(e),this.inProgress||(Tg(Rg,this,!0),this.runLocalHooks("afterSetFocus",e.highlight))}transformStart(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.settings.navigableHeaders&&xg(Lg,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}),this.setRangeStart(xg(Lg,this).transformStart(t,e,n))}transformEnd(t,e){this.settings.navigableHeaders&&xg(Lg,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}),this.setRangeEnd(xg(Lg,this).transformEnd(t,e))}transformFocus(t,e){const n=this.selectedRange.current(),{row:i,col:s}=n.getOuterTopStartCorner(),r=this.tableProps.countRenderableColumnsInRange(0,s-1),o=this.tableProps.countRenderableRowsInRange(0,i-1);n.highlight.isHeader()?xg(Eg,this).setOffsetSize({x:s<0?Math.abs(s):-r,y:i<0?Math.abs(i):-o}):xg(Eg,this).setOffsetSize({x:s<0?0:-r,y:i<0?0:-o});const a=xg(Eg,this).transformStart(t,e);this.setRangeFocus(a.normalize())}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isMultiple(){if(!this.isSelected())return!1;const t=Tn(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",t),t.value}isFocusSelectionChanged(){return this.isSelected()&&xg(Rg,this)}isSelectedByRowHeader(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(t)&&(-1===t?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(t))}isEntireRowSelected(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();const e=t=>{const{col:e}=t.getOuterTopStartCorner(),n=this.tableProps.countRowHeaders(),i=this.tableProps.countCols();return(n>0&&e<0||0===n)&&t.getWidth()===i};if(-1===t)return Array.from(this.selectedRange).some((t=>e(t)));const n=this.selectedRange.peekByIndex(t);return!!n&&e(n)}isSelectedByColumnHeader(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(-1===t?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(t))}isEntireColumnSelected(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();const e=t=>{const{row:e}=t.getOuterTopStartCorner(),n=this.tableProps.countColHeaders(),i=this.tableProps.countRows();return(n>0&&e<0||0===n)&&t.getHeight()===i};if(-1===t)return Array.from(this.selectedRange).some((t=>e(t)));const n=this.selectedRange.peekByIndex(t);return!!n&&e(n)}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(t){return this.selectedRange.includes(t)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(t){const e=this.tableProps.visualToRenderableCoords(t);return null!==e.row&&null!==e.col}isAreaCornerVisible(t){return(!Number.isInteger(t)||t===this.getLayerLevel())&&(this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple())}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1};const s=this.tableProps.countRows(),r=this.tableProps.countCols(),o=this.tableProps.countRowHeaders(),a=this.tableProps.countColHeaders(),l=n?-a:0,h=e?-o:0;if(0===l&&0===h&&(0===s||0===r))return;let c=null===(t=this.getSelectedRange().current())||void 0===t?void 0:t.highlight;const{focusPosition:d,disableHeadersHighlight:u}=i;Tg(Ag,this,u),d&&Number.isInteger(null===d||void 0===d?void 0:d.row)&&Number.isInteger(null===d||void 0===d?void 0:d.col)&&(c=this.tableProps.createCellCoords(As(d.row,l,s-1),As(d.col,h,r-1)));const f=this.tableProps.createCellCoords(l,h),m=this.tableProps.createCellCoords(s-1,r-1);this.clear(),this.setRangeStartOnly(f,void 0,c),h<0&&this.selectedByRowHeader.add(this.getLayerLevel()),l<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(m),this.finish(),Tg(Ag,this,!1)}selectCells(t){var e=this;const n=pg(t);if(n===hg)return!1;if(n===lg)throw new Error(Y`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);const i=_g(n,{createCellCoords:function(){return e.tableProps.createCellCoords(...arguments)},createCellRange:function(){return e.tableProps.createCellRange(...arguments)},propToCol:t=>this.tableProps.propToCol(t),keepDirection:!0}),s=this.settings.navigableHeaders,r={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:s?this.tableProps.countRowHeaders():0,countColHeaders:s?this.tableProps.countColHeaders():0},o=!t.some((t=>{const e=i(t),n=e.isValid(r);return!(n&&!e.containsHeaders()||n&&e.containsHeaders()&&e.isSingleHeader())}));return o&&(this.clear(),this.setExpectedLayers(t.length),T(t,(t=>{const{from:e,to:n}=i(t);this.setRangeStartOnly(e.clone(),!1),this.setRangeEnd(n.clone())})),this.finish()),o}selectColumns(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i="string"===typeof t?this.tableProps.propToCol(t):t,s="string"===typeof e?this.tableProps.propToCol(e):e,r=this.tableProps.countRows(),o=this.tableProps.countCols(),a=this.tableProps.countColHeaders(),l=0===a?0:-a,h=this.tableProps.createCellCoords(l,i),c=this.tableProps.createCellCoords(r-1,s),d=this.tableProps.createCellRange(h,h,c).isValid({countRows:r,countCols:o,countRowHeaders:0,countColHeaders:a});if(d){let t=0,e=0;Number.isInteger(null===n||void 0===n?void 0:n.row)&&Number.isInteger(null===n||void 0===n?void 0:n.col)?(t=As(n.row,l,r-1),e=As(n.col,Math.min(i,s),Math.max(i,s))):(t=As(n,l,r-1),e=i);const o=this.tableProps.createCellCoords(t,e),h=0===a?0:As(o.row,l,-1),c=r-1,d=this.tableProps.createCellCoords(h,i),u=this.tableProps.createCellCoords(c,s);this.runLocalHooks("beforeSelectColumns",d,u,o),d.row=h,u.row=c,this.setRangeStartOnly(d,void 0,o),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(u),this.runLocalHooks("afterSelectColumns",d,u,o),this.finish()}return d}selectRows(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.tableProps.countRows(),s=this.tableProps.countCols(),r=this.tableProps.countRowHeaders(),o=0===r?0:-r,a=this.tableProps.createCellCoords(t,o),l=this.tableProps.createCellCoords(e,s-1),h=this.tableProps.createCellRange(a,a,l).isValid({countRows:i,countCols:s,countRowHeaders:r,countColHeaders:0});if(h){let i=0,a=0;Number.isInteger(null===n||void 0===n?void 0:n.row)&&Number.isInteger(null===n||void 0===n?void 0:n.col)?(i=As(n.row,Math.min(t,e),Math.max(t,e)),a=As(n.col,o,s-1)):(i=t,a=As(n,o,s-1));const l=this.tableProps.createCellCoords(i,a),h=0===r?0:As(l.col,o,-1),c=s-1,d=this.tableProps.createCellCoords(t,h),u=this.tableProps.createCellCoords(e,c);this.runLocalHooks("beforeSelectRows",d,u,l),d.col=h,u.col=c,this.setRangeStartOnly(d,void 0,l),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(u),this.runLocalHooks("afterSelectRows",d,u,l),this.finish()}return h}refresh(){const t=this.highlight.getCustomSelections();if(t.forEach((t=>{t.commit()})),!this.isSelected())return;const e=this.highlight.getFocus(),n=this.getLayerLevel();e.commit().syncWith(this.selectedRange.current());for(let i=0;i<this.selectedRange.size();i+=1){this.highlight.useLayerLevel(i);const t=this.highlight.createArea(),e=this.highlight.createLayeredArea(),n=this.highlight.createRowHeader(),s=this.highlight.createColumnHeader(),r=this.highlight.createActiveRowHeader(),o=this.highlight.createActiveColumnHeader(),a=this.highlight.createActiveCornerHeader(),l=this.highlight.createRowHighlight(),h=this.highlight.createColumnHighlight();t.commit(),e.commit(),n.commit(),s.commit(),r.commit(),o.commit(),a.commit(),l.commit(),h.commit()}this.highlight.useLayerLevel(n)}}yn(Pg,sd);var Ig=Pg;const{register:Og,getItem:Yg,hasItem:Ng,getNames:Fg,getValues:jg}=Ci("cellTypes");function Wg(t){if(!Ng(t))throw Error(`You declared cell type "${t}" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by\n                 "Handsontable.cellTypes.registerCellType" method`);return Yg(t)}function Vg(t,e){"string"!==typeof t&&(e=t,t=e.CELL_TYPE);const{editor:n,renderer:i,validator:s}=e;n&&Pi(t,n),i&&or(t,i),s&&fr(t,s),Og(t,e)}function Bg(t,e){var n;return"CELL_TYPE"!==t&&((null===(n=e._automaticallyAssignedMetaProps)||void 0===n?void 0:n.has(t))||!kn(e,t))}function zg(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;const i="string"===typeof e.type?Wg(e.type):e.type;if(t._automaticallyAssignedMetaProps&&Mn(e,((e,n)=>{t._automaticallyAssignedMetaProps.delete(n)})),!vn(i))return;n!==t||t._automaticallyAssignedMetaProps||(t._automaticallyAssignedMetaProps=new Set);const s={};Mn(i,((e,i)=>{var r;Bg(i,n)&&(s[i]=e,null===(r=t._automaticallyAssignedMetaProps)||void 0===r||r.add(i))})),mn(t,s)}function Ug(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function n(){}fn(n,t);for(let i=0;i<e.length;i++)n.prototype[e[i]]=void 0;return n}function $g(t){return Number.isInteger(t)&&t>=0}function Gg(t,e){if(!t())throw new Error(`Assertion failed: ${e}`)}function Kg(t){return null===t||void 0===t}var qg=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(t){let e,n,i;for(e=0,n=this.countRows();e<n;e++)if(i=this.getDataAtCell(e,t),!1===W(i))return!1;return!0},isEmptyRow(t){let e,n,i,s;for(e=0,n=this.countCols();e<n;e++)if(i=this.getDataAtCell(t,e),!1===W(i))return"object"===typeof i&&(s=this.getCellMeta(t,e),wn(this.getSchema()[s.prop],i));return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0});function Xg(t,e,n){return e=Jg(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jg(t){var e=Zg(t,"string");return"symbol"==typeof e?e:e+""}function Zg(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Qg(){return class{}}class tp{constructor(t){Xg(this,"metaCtor",Qg()),Xg(this,"meta",void 0),this.meta=this.metaCtor.prototype,mn(this.meta,qg()),this.meta.instance=t}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(t){var e;mn(this.meta,t),zg(this.meta,{...t,type:null!==(e=t.type)&&void 0!==e?e:this.meta.type},t)}}function ep(t,e,n){return e=np(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function np(t){var e=ip(t,"string");return"symbol"==typeof e?e:e+""}function ip(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class sp{constructor(t){ep(this,"meta",void 0);const e=t.getMetaConstructor();this.meta=new e}getMeta(){return this.meta}updateMeta(t){mn(this.meta,t),zg(this.meta,t,t)}}function rp(t,e,n){return e=op(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function op(t){var e=ap(t,"string");return"symbol"==typeof e?e:e+""}function ap(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class lp{constructor(t){rp(this,"valueFactory",void 0),rp(this,"data",[]),rp(this,"index",[]),rp(this,"holes",new Set),this.valueFactory=t}obtain(t){Gg((()=>$g(t)),"Expecting an unsigned number.");const e=this._getStorageIndexByKey(t);let n;if(e>=0)n=this.data[e],void 0===n&&(n=this.valueFactory(t),this.data[e]=n);else if(n=this.valueFactory(t),this.holes.size>0){const e=this.holes.values().next().value;this.holes.delete(e),this.data[e]=n,this.index[t]=e}else this.data.push(n),this.index[t]=this.data.length-1;return n}insert(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Gg((()=>$g(t)||Kg(t)),"Expecting an unsigned number or null/undefined argument.");const n=[],i=this.data.length;for(let r=0;r<e;r++)n.push(i+r),this.data.push(void 0);const s=Kg(t)?this.index.length:t;this.index=[...this.index.slice(0,s),...n,...this.index.slice(s)]}remove(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Gg((()=>$g(t)||Kg(t)),"Expecting an unsigned number or null/undefined argument.");const n=this.index.splice(Kg(t)?this.index.length-e:t,e);for(let i=0;i<n.length;i++){const t=n[i];"number"===typeof t&&this.holes.add(t)}}size(){return this.data.length-this.holes.size}values(){return C(this.data,((t,e)=>!this.holes.has(e)))[Symbol.iterator]()}entries(){const t=[];for(let n=0;n<this.data.length;n++){const e=this._getKeyByStorageIndex(n);-1!==e&&t.push([e,this.data[n]])}let e=0;return{next:()=>{if(e<t.length){const n=t[e];return e+=1,{value:n,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(t){return this.index.length>t?this.index[t]:-1}_getKeyByStorageIndex(t){return this.index.indexOf(t)}[Symbol.iterator](){return this.entries()}}function hp(t,e,n){return e=cp(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cp(t){var e=dp(t,"string");return"symbol"==typeof e?e:e+""}function dp(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}const up=["data","width"];class fp{constructor(t){hp(this,"globalMeta",void 0),hp(this,"metas",new lp((()=>this._createMeta()))),this.globalMeta=t,this.metas=new lp((()=>this._createMeta()))}updateMeta(t,e){const n=this.getMeta(t);mn(n,e),zg(n,e)}createColumn(t,e){this.metas.insert(t,e)}removeColumn(t,e){this.metas.remove(t,e)}getMeta(t){return this.metas.obtain(t)}getMetaConstructor(t){return this.metas.obtain(t).constructor}clearCache(){this.metas.clear()}_createMeta(){return Ug(this.globalMeta.getMetaConstructor(),up).prototype}}function mp(t,e,n){return e=gp(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gp(t){var e=pp(t,"string");return"symbol"==typeof e?e:e+""}function pp(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class _p{constructor(t){mp(this,"columnMeta",void 0),mp(this,"metas",new lp((()=>this._createRow()))),this.columnMeta=t}updateMeta(t,e,n){const i=this.getMeta(t,e);mn(i,n),zg(i,n)}createRow(t,e){this.metas.insert(t,e)}createColumn(t,e){for(let n=0;n<this.metas.size();n++)this.metas.obtain(n).insert(t,e)}removeRow(t,e){this.metas.remove(t,e)}removeColumn(t,e){for(let n=0;n<this.metas.size();n++)this.metas.obtain(n).remove(t,e)}getMeta(t,e,n){const i=this.metas.obtain(t).obtain(e);return void 0===n?i:i[n]}setMeta(t,e,n,i){var s;const r=this.metas.obtain(t).obtain(e);null===(s=r._automaticallyAssignedMetaProps)||void 0===s||s.delete(n),r[n]=i}removeMeta(t,e,n){const i=this.metas.obtain(t).obtain(e);delete i[n]}getMetas(){const t=[],e=Array.from(this.metas.values());for(let n=0;n<e.length;n++)F(e[n])&&t.push(...e[n].values());return t}getMetasAtRow(t){Gg((()=>$g(t)),"Expecting an unsigned number.");const e=new Map(this.metas);return e.has(t)?Array.from(e.get(t).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new lp((t=>this._createMeta(t)))}_createMeta(t){const e=this.columnMeta.getMetaConstructor(t);return new e}}class yp{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.hot=t,this.globalMeta=new tp(t),this.tableMeta=new sp(this.globalMeta),this.columnMeta=new fp(this.globalMeta),this.cellMeta=new _p(this.columnMeta),n.forEach((t=>new t(this))),this.globalMeta.updateMeta(e)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(t){this.globalMeta.updateMeta(t)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(t){this.tableMeta.updateMeta(t)}getColumnMeta(t){return this.columnMeta.getMeta(t)}updateColumnMeta(t,e){this.columnMeta.updateMeta(t,e)}getCellMeta(t,e,n){let{visualRow:i,visualColumn:s}=n;const r=this.cellMeta.getMeta(t,e);return r.visualRow=i,r.visualCol=s,r.row=t,r.col=e,this.runLocalHooks("afterGetCellMeta",r),r}getCellMetaKeyValue(t,e,n){if("string"!==typeof n)throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(t,e,n)}setCellMeta(t,e,n,i){this.cellMeta.setMeta(t,e,n,i)}updateCellMeta(t,e,n){this.cellMeta.updateMeta(t,e,n)}removeCellMeta(t,e,n){this.cellMeta.removeMeta(t,e,n)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(t){return this.cellMeta.getMetasAtRow(t)}createRow(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createRow(t,e)}removeRow(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeRow(t,e)}createColumn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createColumn(t,e),this.columnMeta.createColumn(t,e)}removeColumn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeColumn(t,e),this.columnMeta.removeColumn(t,e)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}function wp(t,e,n){return e=vp(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vp(t){var e=bp(t,"string");return"symbol"==typeof e?e:e+""}function bp(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}yn(yp,sd);class Mp{constructor(t){wp(this,"metaManager",void 0),wp(this,"metaSyncMemo",new Map),this.metaManager=t,t.addLocalHook("afterGetCellMeta",(t=>this.extendCellMeta(t))),Mi.getSingleton().add("beforeRender",(t=>{t&&this.metaSyncMemo.clear()}),this.metaManager.hot)}extendCellMeta(t){var e;const{row:n,col:i}=t;if(null!==(e=this.metaSyncMemo.get(n))&&void 0!==e&&e.has(i))return;const{visualRow:s,visualCol:r}=t,o=this.metaManager.hot,a=o.colToProp(r);t.prop=a,o.runHooks("beforeGetCellMeta",s,r,t);const l=kn(t,"type")?t.type:null;let h=nn(t.cells)?t.cells(n,i,a):null;var c;l&&(h?h.type=null!==(c=h.type)&&void 0!==c?c:l:h={type:l});h&&this.metaManager.updateCellMeta(n,i,h),o.runHooks("afterGetCellMeta",s,r,t),this.metaSyncMemo.has(n)||this.metaSyncMemo.set(n,new Set),this.metaSyncMemo.get(n).add(i)}}function Sp(t,e,n){return e=Cp(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cp(t){var e=xp(t,"string");return"symbol"==typeof e?e:e+""}function xp(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Tp{constructor(t){Sp(this,"metaManager",void 0),Sp(this,"usageTracker",new Set),Sp(this,"propDescriptors",new Map([["ariaTags",{onChange(t,e,n){if(!n)throw new Error(`The \`${t}\` option can not be updated after the Handsontable instance was initialized.`)}}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(t){const e=this.metaManager.hot.isRtl();if(e&&"fixedColumnsLeft"===t)throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{onChange(t,e,n){if(!n)throw new Error(`The \`${t}\` option can not be updated after the Handsontable is initialized.`)}}]])),this.metaManager=t,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach(((t,e)=>{const{target:n,onChange:i=(()=>{})}=t,s="string"===typeof n,r=s?n:e,o=`_${r}`;this.metaManager.globalMeta.meta[o]=this.metaManager.globalMeta.meta[r],this.installPropWatcher(e,o,i),s&&this.installPropWatcher(n,o,i)}))}installPropWatcher(t,e,n){const i=this;Object.defineProperty(this.metaManager.globalMeta.meta,t,{get(){return this[e]},set(s){const r=!i.usageTracker.has(t);i.usageTracker.add(t),n.call(i,t,s,r),this[e]=s},enumerable:!0,configurable:!0})}}const kp=/^(\r\n|\n\r|\r|\n)/,Lp=/^[^\t\r\n]+/,Ep=/^\t/;function Rp(t){const e=[[""]];if(0===t.length)return e;let n,i=0,s=0;while(t.length>0){if(n===t.length)break;if(n=t.length,t.match(Ep))t=t.replace(Ep,""),i+=1,e[s][i]="";else if(t.match(kp))t=t.replace(kp,""),i=0,s+=1,e[s]=[""];else{let n="";if(t.startsWith('"')){let e=0,i=!0;while(i){const s=t.slice(0,1);'"'===s&&(e+=1),n+=s,t=t.slice(1),(0===t.length||t.match(/^[\t\r\n]/)&&e%2===0)&&(i=!1)}n=n.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,(t=>new Array(Math.floor(t.length/2)).fill('"').join("")))}else{const e=t.match(Lp);n=e?e[0]:"",t=t.slice(n.length)}e[s][i]=n}}return e}function Ap(t){let e,n,i,s,r,o="";for(e=0,n=t.length;e<n;e+=1){for(s=t[e].length,i=0;i<s;i+=1)i>0&&(o+="\t"),r=t[e][i],"string"===typeof r?r.indexOf("\n")>-1?o+=`"${r.replace(/"/g,'""')}"`:o+=r:o+=null===r||void 0===r?"":r;e!==n-1&&(o+="\n")}return o}function Dp(t,e,n){return e=Hp(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hp(t){var e=Pp(t,"string");return"symbol"==typeof e?e:e+""}function Pp(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Ip{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(t,e,n){Dp(this,"hot",void 0),Dp(this,"metaManager",void 0),Dp(this,"tableMeta",void 0),Dp(this,"dataSource",void 0),Dp(this,"duckSchema",void 0),Dp(this,"colToPropCache",void 0),Dp(this,"propToColCache",void 0),this.hot=t,this.metaManager=n,this.tableMeta=n.getTableMeta(),this.dataSource=e,this.duckSchema=this.createDuckSchema(),this.createMap()}createMap(){const t=this.getSchema();if("undefined"===typeof t)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");const e=this.tableMeta.columns;let n;if(this.colToPropCache=[],this.propToColCache=new Map,e){let i=0,s=0,r=!1;if("function"===typeof e){const e=xn(t);i=e>0?e:this.countFirstRowKeys(),r=!0}else{const t=this.tableMeta.maxCols;i=Math.min(t,e.length)}for(n=0;n<i;n++){const t=r?e(n):e[n];if(vn(t)){if("undefined"!==typeof t.data){const e=r?s:n;this.colToPropCache[e]=t.data,this.propToColCache.set(t.data,e)}s+=1}}}else this.recursiveDuckColumns(t)}countFirstRowKeys(){return Kc(this.dataSource)}recursiveDuckColumns(t,e,n){let i,s=e,r=n;return"undefined"===typeof s&&(s=0,r=""),"object"!==typeof t||Array.isArray(t)||Mn(t,((t,e)=>{null===t?(i=r+e,this.colToPropCache.push(i),this.propToColCache.set(i,s),s+=1):s=this.recursiveDuckColumns(t,s,`${e}.`)})),s}colToProp(t){if(!1===Number.isInteger(t))return t;const e=this.hot.toPhysicalColumn(t);return null===e?t:this.colToPropCache&&F(this.colToPropCache[e])?this.colToPropCache[e]:e}propToCol(t){const e=this.propToColCache.get(t);if(F(e))return this.hot.toVisualColumn(e);const n=this.hot.toVisualColumn(t);return null===n?t:n}getSchema(){const t=this.tableMeta.dataSchema;return t?"function"===typeof t?t():t:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?un(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{source:n,mode:i="above"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this.hot.countSourceRows();let r=s,o=0,a=t;("number"!==typeof a||a>=s)&&(a=s),a<this.hot.countRows()&&(r=this.hot.toPhysicalRow(a));const l=this.hot.runHooks("beforeCreateRow",a,e,n);if(!1===l||null===r)return{delta:0};const h=this.tableMeta.maxRows,c=this.getSchema().length,d=[];while(o<e&&s+o<h){let t=null;"array"===this.hot.dataType?this.tableMeta.dataSchema?t=pn(this.getSchema()):(t=[],Ls(c-1,(()=>t.push(null)))):"function"===this.hot.dataType?t=this.tableMeta.dataSchema(a+o):(t={},gn(t,this.getSchema())),d.push(t),o+=1}this.hot.rowIndexMapper.insertIndexes(a,o),"below"===i&&(r=Math.min(r+1,s)),this.spliceData(r,0,d);const u=this.hot.toVisualRow(r);return this.hot.countSourceRows()===d.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),o>0&&(void 0===t||null===t?this.metaManager.createRow(null,o):"auto"!==n&&this.metaManager.createRow(r,e)),this.hot.runHooks("afterCreateRow",u,o,n),this.hot.forceFullRender=!0,{delta:o,startPhysicalIndex:r}}createCol(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{source:n,mode:i="start"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");const s=this.dataSource,r=this.tableMeta.maxCols,o=this.hot.countSourceCols();let a=t;("number"!==typeof a||a>=o)&&(a=o);const l=this.hot.runHooks("beforeCreateCol",a,e,n);if(!1===l)return{delta:0};let h=o;a<this.hot.countCols()&&(h=this.hot.toPhysicalColumn(a));const c=this.hot.countSourceRows();let d=this.hot.countCols(),u=0,f=h;"end"===i&&(f=Math.min(f+1,o));const m=f;while(u<e&&d<r){if("number"!==typeof a||a>=d)if(c>0)for(let t=0;t<c;t+=1)"undefined"===typeof s[t]&&(s[t]=[]),s[t].push(null);else s.push([null]);else for(let t=0;t<c;t++)s[t].splice(f,0,null);u+=1,f+=1,d+=1}this.hot.columnIndexMapper.insertIndexes(a,u),u>0&&(void 0===t||null===t?this.metaManager.createColumn(null,u):"auto"!==n&&this.metaManager.createColumn(m,e));const g=this.hot.toVisualColumn(m);return this.hot.runHooks("afterCreateCol",g,u,n),this.hot.forceFullRender=!0,this.refreshDuckSchema(),{delta:u,startPhysicalIndex:m}}removeRow(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=Number.isInteger(t)?t:-e;const s=this.visualRowsToPhysical(i,e),r=this.hot.countSourceRows();i=(r+i)%r;const o=this.hot.runHooks("beforeRemoveRow",i,s.length,s,n);if(!1===o)return!1;const a=s.length;if(this.filterData(i,a,s),i<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(s);const t=F(this.tableMeta.columns)||F(this.tableMeta.dataSchema);0===this.hot.rowIndexMapper.getNotTrimmedIndexesLength()&&!1===t&&this.hot.columnIndexMapper.setIndexesSequence([])}const l=s.slice(0).sort(((t,e)=>e-t));return l.forEach((t=>{this.metaManager.removeRow(t,1)})),this.hot.runHooks("afterRemoveRow",i,a,s,n),this.hot.forceFullRender=!0,!0}removeCol(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if("object"===this.hot.dataType||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let i="number"!==typeof t?-e:t;i=(this.hot.countCols()+i)%this.hot.countCols();const s=this.visualColumnsToPhysical(i,e),r=s.slice(0).sort(((t,e)=>e-t)),o=this.hot.runHooks("beforeRemoveCol",i,e,s,n);if(!1===o)return!1;let a=!0;const l=r.length,h=this.dataSource;for(let c=0;c<l;c++)a&&s[0]!==s[c]-c&&(a=!1);if(a)for(let c=0,d=this.hot.countSourceRows();c<d;c++)h[c].splice(s[0],e),0===c&&this.metaManager.removeColumn(s[0],e);else for(let c=0,d=this.hot.countSourceRows();c<d;c++)for(let t=0;t<l;t++)h[c].splice(r[t],1),0===c&&this.metaManager.removeColumn(r[t],1);return i<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(s),0===this.hot.columnIndexMapper.getNotTrimmedIndexesLength()&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",i,e,s,n),this.hot.forceFullRender=!0,this.refreshDuckSchema(),!0}spliceCol(t,e,n){const i=this.hot.getDataAtCol(t),s=i.slice(e,e+n),r=i.slice(e+n);for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];b(a,r);let h=0;while(h<n)a.push(null),h+=1;return v(a),this.hot.populateFromArray(e,t,a,null,null,"spliceCol"),s}spliceRow(t,e,n){const i=this.hot.getSourceDataAtRow(t),s=i.slice(e,e+n),r=i.slice(e+n);for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];b(a,r);let h=0;while(h<n)a.push(null),h+=1;return this.hot.populateFromArray(t,e,[a],null,null,"spliceRow"),s}spliceData(t,e,n){const i=this.hot.runHooks("beforeDataSplice",t,e,n);if(!1!==i){const e=[...this.dataSource.slice(0,t),...n,...this.dataSource.slice(t)];this.dataSource.length=0,e.forEach((t=>this.dataSource.push(t)))}}filterData(t,e,n){let i=this.hot.runHooks("filterData",t,e,n);!1===Array.isArray(i)&&(i=this.dataSource.filter(((t,e)=>-1===n.indexOf(e)))),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,i)}get(t,e){const n=this.hot.toPhysicalRow(t);let i=this.dataSource[n];const s=this.hot.runHooks("modifyRowData",n);i=isNaN(s)?s:i;let r=null;if(i&&i.hasOwnProperty&&kn(i,e))r=i[e];else if("string"===typeof e&&e.indexOf(".")>-1){const t=e.split(".");let n=i;if(!n)return null;for(let e=0,i=t.length;e<i;e++)if(n=n[t[e]],"undefined"===typeof n)return null;r=n}else"function"===typeof e&&(r=e(this.dataSource.slice(n,n+1)[0]));if(this.hot.hasHook("modifyData")){const t=Tn(r);this.hot.runHooks("modifyData",n,this.propToCol(e),t,"get"),t.isTouched()&&(r=t.value)}return r}getCopyable(t,e){return this.hot.getCellMeta(t,this.propToCol(e)).copyable?this.get(t,e):""}set(t,e,n){const i=this.hot.toPhysicalRow(t);let s=n,r=this.dataSource[i];const o=this.hot.runHooks("modifyRowData",i);if(r=isNaN(o)?o:r,this.hot.hasHook("modifyData")){const t=Tn(s);this.hot.runHooks("modifyData",i,this.propToCol(e),t,"set"),t.isTouched()&&(s=t.value)}if(r&&r.hasOwnProperty&&kn(r,e))r[e]=s;else if("string"===typeof e&&e.indexOf(".")>-1){const t=e.split(".");let n,i=r,o=0;for(o=0,n=t.length-1;o<n;o++)"undefined"===typeof i[t[o]]&&(i[t[o]]={}),i=i[t[o]];i[t[o]]=s}else"function"===typeof e?e(this.dataSource.slice(i,i+1)[0],s):r[e]=s}visualRowsToPhysical(t,e){const n=this.hot.countSourceRows(),i=[];let s,r=(n+t)%n,o=e;while(r<n&&o)s=this.hot.toPhysicalRow(r),i.push(s),o-=1,r+=1;return i}visualColumnsToPhysical(t,e){const n=this.hot.countCols(),i=[];let s=(n+t)%n,r=e;while(s<n&&r){const t=this.hot.toPhysicalColumn(s);i.push(t),r-=1,s+=1}return i}clear(){for(let t=0;t<this.hot.countSourceRows();t++)for(let e=0;e<this.hot.countCols();e++)this.set(t,this.colToProp(e),"")}getLength(){const t=this.tableMeta.maxRows;let e;e=t<0||0===t?0:t||1/0;const n=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(n,e)}getAll(){const t={row:0,col:0},e={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return t.row-e.row!==0||this.hot.countSourceRows()?this.getRange(t,e,Ip.DESTINATION_RENDERER):[]}countCachedColumns(){return this.colToPropCache.length}getRange(t,e,n){const i=[];let s,r,o;const a=this.tableMeta.maxRows,l=this.tableMeta.maxCols;if(0===a||0===l)return[];const h=n===Ip.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,c=Math.min(Math.max(a-1,0),Math.max(t.row,e.row)),d=Math.min(Math.max(l-1,0),Math.max(t.col,e.col));for(s=Math.min(t.row,e.row);s<=c;s++){o=[];const n=s>=0?this.hot.toPhysicalRow(s):s;for(r=Math.min(t.col,e.col);r<=d;r++){if(null===n)break;o.push(h.call(this,s,this.colToProp(r)))}null!==n&&i.push(o)}return i}getText(t,e){return Ap(this.getRange(t,e,Ip.DESTINATION_RENDERER))}getCopyableText(t,e){return Ap(this.getRange(t,e,Ip.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}var Op=Ip;function Yp(t,e,n,i){const{hotInstance:s,dataMap:r,dataSource:o,internalSource:a,source:l,metaManager:h,firstRun:c}=i,d=nt(a),u=s.getSettings();Array.isArray(u.dataSchema)?s.dataType="array":nn(u.dataSchema)?s.dataType="function":s.dataType="object",r&&r.destroy(),t=s.runHooks(`before${d}`,t,c,l);const f=new Op(s,t,h);if(e(f),"object"===typeof t&&null!==t)t.push&&t.splice||(t=[t]);else{if(null!==t)throw new Error(`${a} only accepts array of objects or array of arrays (${typeof t} given)`);{const e=f.getSchema();let n;t=[];let i=0,r=0;for(i=0,r=u.startRows;i<r;i++)if("object"!==s.dataType&&"function"!==s.dataType||!u.dataSchema)if("array"===s.dataType)n=pn(e[0]),t.push(n);else{n=[];for(let t=0,e=u.startCols;t<e;t++)n.push(null);t.push(n)}else n=pn(e),t.push(n)}}Array.isArray(t[0])&&(s.dataType="array"),u.data=t,f.dataSource=t,o.data=t,o.dataType=s.dataType,o.colToProp=f.colToProp.bind(f),o.propToCol=f.propToCol.bind(f),o.countCachedColumns=f.countCachedColumns.bind(f),n(f),s.runHooks(`after${d}`,t,c,l),c||(s.runHooks("afterChange",null,a),s.render()),s.getSettings().ariaTags&&he(s.rootElement,[At(-1),Dt(s.countCols()+(s.view?s.countRowHeaders():0))])}function Np(t){return e=>{let{col:n}=e;t.scrollViewportTo({col:n})}}function Fp(){return()=>{}}function jp(t){return e=>{t.scrollViewportTo(e.toObject())}}function Wp(t){return e=>{t.scrollViewportTo(e.toObject())}}function Vp(t){return e=>{t.scrollViewportTo(e.toObject())}}function Bp(t){return e=>{let{row:n}=e;t.scrollViewportTo({row:n})}}function zp(t){return e=>{const n=t.selection.getSelectionSource(),{row:i,col:s}=e;if(i<0&&s>=0)t.scrollViewportTo({col:s});else if(s<0&&i>=0)t.scrollViewportTo({row:i});else{if("mouse"===n&&(s===t.view.getLastPartiallyVisibleColumn()||i===t.view.getLastPartiallyVisibleRow()))return;t.scrollViewportTo({row:i,col:s})}}}function Up(t){const{selection:e}=t;let n=!1,i=!1;return{resume(){i=!1},suspend(){i=!0},skipNextScrollCycle(){n=!0},scrollTo(s){var r;if(n||i)return void(n=!1);let o;e.isFocusSelectionChanged()?o=jp(t):e.isSelectedByCorner()?o=Fp(t):e.isSelectedByRowHeader()?o=Bp(t):e.isSelectedByColumnHeader()?o=Np(t):1===e.getSelectedRange().size()&&e.isMultiple()?o=Wp(t):1!==e.getSelectedRange().size()||e.isMultiple()?e.getSelectedRange().size()>1&&(o=Vp(t)):o=zp(t),null===(r=o)||void 0===r||r(s)}}}const $p="gridDefault",Gp="editorManager.handlingEditor";function Kp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.rootElement,i=qp(t),s=qp(t);return i.addEventListener("focus",(()=>null===e||void 0===e?void 0:e.onFocusFromTop())),s.addEventListener("focus",(()=>null===e||void 0===e?void 0:e.onFocusFromBottom())),n.firstChild.before(i),n.lastChild.after(s),{activate(){t._registerTimeout((()=>{i.tabIndex=0,s.tabIndex=0}),10)},deactivate(){t._registerTimeout((()=>{i.tabIndex=-1,s.tabIndex=-1}),10)}}}function qp(t){const e=t.rootDocument,n=e.createElement("input");return n.type="text",n.classList.add("htFocusCatcher"),t.getSettings().ariaTags&&he(n,[dt(),kt()]),n}function Xp(t){const e=Qp(t);let n;const{activate:i,deactivate:s}=Kp(t,{onFocusFromTop(){var i;const s=null!==(i=e(n))&&void 0!==i?i:Jp(t);s&&(t.runHooks("modifyFocusOnTabNavigation","from_above",s),t.selectCell(s.row,s.col)),t.listen()},onFocusFromBottom(){var i;const s=null!==(i=e(n))&&void 0!==i?i:Zp(t);s&&(t.runHooks("modifyFocusOnTabNavigation","from_below",s),t.selectCell(s.row,s.col)),t.listen()}}),r={wrapped:!1,flipped:!1};let o=!0,a=!1,l=!1;function h(){r.wrapped=!1,r.flipped=!1,t.deselectCell(),t.unlisten()}t.addHook("afterListen",(()=>s())),t.addHook("afterUnlisten",(()=>i())),t.addHook("afterSelection",((e,i,s,h,c)=>{var d;(a&&(r.wrapped&&r.flipped||l)&&(l=!1,c.value=!0),o)&&(n=null===(d=t.getSelectedRangeLast())||void 0===d?void 0:d.highlight)})),t.addHook("beforeRowWrap",((t,e,n)=>{r.wrapped=!0,r.flipped=n}));const c={keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:$p,group:"focusCatcher"};t.getShortcutManager().getContext("grid").addShortcuts([{...c,callback:()=>{const{tabNavigation:e}=t.getSettings();a=!0,t.getSelectedRangeLast()&&!e&&(o=!1),e||(l=!0)},position:"before"},{...c,callback:e=>{const{tabNavigation:i,autoWrapRow:s}=t.getSettings();if(a=!1,o=!0,!i||!t.selection.isSelected()||s&&r.wrapped&&r.flipped||!s&&r.wrapped)return s&&r.wrapped&&r.flipped&&(n=e.shiftKey?Jp(t):Zp(t)),h(),!1;e.preventDefault()},position:"after"}])}function Jp(t){const{rowIndexMapper:e,columnIndexMapper:n}=t,{navigableHeaders:i}=t.getSettings();let s=i&&t.countColHeaders()>0?-t.countColHeaders():0,r=i&&t.countRowHeaders()>0?-t.countRowHeaders():0;return 0===s&&(s=e.getVisualFromRenderableIndex(s)),0===r&&(r=n.getVisualFromRenderableIndex(r)),null===s||null===r?null:t._createCellCoords(s,r)}function Zp(t){var e,n;const{rowIndexMapper:i,columnIndexMapper:s}=t,{navigableHeaders:r}=t.getSettings();let o=i.getRenderableIndexesLength()-1,a=s.getRenderableIndexesLength()-1;if(o<0){if(!r||0===t.countColHeaders())return null;o=-1}if(a<0){if(!r||0===t.countColHeaders())return null;a=-1}return t._createCellCoords(null!==(e=i.getVisualFromRenderableIndex(o))&&void 0!==e?e:o,null!==(n=s.getVisualFromRenderableIndex(a))&&void 0!==n?n:a)}function Qp(t){return e=>{if(!e)return null;const n=Jp(t),i=Zp(t);return e.col<n.col&&(e.col=n.col),e.col>i.col&&(e.col=i.col),e.row<n.row&&(e.row=n.row),e.row>i.row&&(e.row=i.row),e}}const t_=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),e_=t=>t.map((t=>{const e=t.toLowerCase();return t_.has(e)?t_.get(e):e})).sort().join("+"),n_=t=>t.split("+"),i_=new RegExp("^(?:Key|Digit)([A-Z0-9])$"),s_=new Set(["Backquote","Minus","Equal","BracketLeft","BracketRight","Backslash","Semicolon","Quote","Comma","Period","Slash"]),r_=t=>{let{key:e,code:n}=t,i=e;return i_.test(n)?i=n.replace(i_,"$1"):s_.has(n)&&(i=n),i.toLowerCase()},o_=Symbol("shortcut-context");function a_(t){return vn(t)&&t.__kindOf===o_}const l_=t=>{const e=Fs({errorIdExists:e=>`The "${e}" shortcut is already registered in the "${t}" context.`}),n=function(){let{keys:t,callback:n,group:i,runOnlyIf:s=(()=>!0),captureCtrl:r=!1,preventDefault:o=!0,stopPropagation:a=!1,relativeToGroup:l,position:h,forwardToContext:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(j(i))throw new Error("You need to define the shortcut's group.");if(!1===nn(n))throw new Error("The shortcut's callback needs to be a function.");if(!1===Array.isArray(t))throw new Error(Y`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);const d={callback:n,group:i,runOnlyIf:s,captureCtrl:r,preventDefault:o,stopPropagation:a};F(l)&&(d.relativeToGroup=l,d.position=h),a_(c)&&(d.forwardToContext=c),t.forEach((t=>{const n=e_(t),i=e.hasItem(n);if(i){const t=e.getItem(n);let i=t.findIndex((t=>t.group===l));-1!==i?"before"===h?i-=1:i+=1:i=t.length,t.splice(i,0,d)}else e.addItem(n,[d])}))},i=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((t=>{Mn(e,((n,i)=>{!1===Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=e[i])})),n(t)}))},s=t=>{const n=e_(t);e.removeItem(n)},r=t=>{const n=e.getItems();n.forEach((e=>{let[n,i]=e;const r=i.filter((e=>e.group!==t));0===r.length?s(n_(n)):(i.length=0,i.push(...r))}))},o=t=>{const n=e_(t),i=e.getItem(n);return F(i)?i.slice():[]},a=t=>{const n=e_(t);return e.hasItem(n)};return{__kindOf:o_,addShortcut:n,addShortcuts:i,getShortcuts:o,hasShortcut:a,removeShortcutsByKeys:s,removeShortcutsByGroup:r}};function h_(){const t=new Set;return{press(e){t.add(e)},release(e){t.delete(e)},releaseAll(){t.clear()},isPressed(e){return t.has(e)}}}const c_=["meta","alt","shift","control"],d_=h_(),u_=[];let f_=0;function m_(t,e,n,i,s){const r=t=>c_.includes(t),o=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];return t.altKey&&n.push("alt"),e&&(t.ctrlKey||t.metaKey)?n.push("control/meta"):(t.ctrlKey&&n.push("control"),t.metaKey&&n.push("meta")),t.shiftKey&&n.push("shift"),n},a=t=>{if(!1===e(t))return;const a=n(t);if(229===t.keyCode||!1===a||oi(t))return;const l=r_(t);let h=[];r(l)||(h=o(t));const c=[l].concat(h),d=s(t,c);!d&&(Xn()&&h.includes("meta")||!Xn()&&h.includes("control"))&&s(t,[l].concat(o(t,!0))),i(t)},l=t=>{if(t.key){const e=r_(t);r(e)&&d_.press(e)}},h=t=>{if(t.key){const e=r_(t);r(e)&&d_.release(e)}},c=()=>{d_.releaseAll()},d=()=>{let e=t;f_+=1;while(e)1===f_&&(e.document.documentElement.addEventListener("keydown",l),u_.push({event:"keydown",listener:l}),e.document.documentElement.addEventListener("keyup",h),u_.push({event:"keyup",listener:h})),e.document.documentElement.addEventListener("keydown",a),e.document.documentElement.addEventListener("blur",c),e=Jt(e)},u=()=>{let e=t;f_-=1;while(e){if(0===f_){for(let t=0;t<u_.length;t++){const{event:n,listener:i}=u_[t];e.document.documentElement.removeEventListener(n,i)}u_.length=0}e.document.documentElement.removeEventListener("keydown",a),e.document.documentElement.removeEventListener("blur",c),e=Jt(e)}};return{mount:d,unmount:u,isPressed:t=>d_.isPressed(t),releasePressedKeys:()=>d_.releaseAll()}}const g_=t=>{let{ownerWindow:e,handleEvent:n,beforeKeyDown:i,afterKeyDown:s}=t;const r=Fs({errorIdExists:t=>`The "${t}" context name is already registered.`});let o="grid";const a=t=>{const e=l_(t);return r.addItem(t,e),e},l=()=>o,h=t=>r.getItem(t),c=t=>{if(!r.hasItem(t))throw new Error(Y`You've tried to activate the "${t}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);o=t};let d=!1;const u=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();const i=a_(n)?n:h(n);let s=!1;if(!i.hasShortcut(e))return s;const r=i.getShortcuts(e);for(let o=0;o<r.length;o++){const{callback:n,runOnlyIf:i,preventDefault:a,stopPropagation:l,captureCtrl:h,forwardToContext:c}=r[o];if(!0===i(t)){if(d=h,s=!1===n(t,e),d=!1,a&&t.preventDefault(),l&&(ri(t),t.stopPropagation()),s)break;c&&u(t,e,c)}}return s},f=m_(e,n,i,s,u);return f.mount(),{addContext:a,getActiveContextName:l,getContext:h,setActiveContextName:c,isCtrlPressed:()=>!d&&(f.isPressed("control")||f.isPressed("meta")),releasePressedKeys:()=>f.releasePressedKeys(),destroy:()=>f.unmount()}},p_={name:"editorCloseAndSave",callback(t,e){const n=t._getEditorManager();n.closeEditorAndSaveChanges(e.ctrlKey||e.metaKey),n.moveSelectionAfterEnter(e)}},__={name:"editorCloseWithoutSaving",callback(t){const e=t._getEditorManager();e.closeEditorAndRestoreOriginalValue(t.getShortcutManager().isCtrlPressed()),e.activeEditor.focus()}},y_={name:"editorFastOpen",callback(t,e){const{highlight:n}=t.getSelectedRangeLast();n.isHeader()||t._getEditorManager().openEditor(null,e,!0)}},w_={name:"editorOpen",callback(t,e,n){const i=t._getEditorManager(),s=t.getSelectedRangeLast(),{highlight:r}=s;if(t.selection.isMultiple()&&!s.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0){const i=t.getSettings(),s="function"===typeof i.enterMoves?i.enterMoves(e):i.enterMoves;n.includes("shift")?t.selection.transformFocus(-s.row,-s.col):t.selection.transformFocus(s.row,s.col)}else r.isHeader()||(t.getSettings().enterBeginsEditing?i.cellProperties.readOnly?i.moveSelectionAfterEnter(e):i.openEditor(null,e,!0):i.moveSelectionAfterEnter(e),ri(e))}};function v_(){return[p_,__,y_,w_]}const b_={name:"extendCellsSelectionDown",callback(t){const{highlight:e}=t.getSelectedRangeLast();t.selection.isSelectedByColumnHeader()||t.selection.isSelectedByCorner()||!(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())||t.selection.transformEnd(1,0)}},M_={name:"extendCellsSelectionDownByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.min(e.row+t.countVisibleRows(),t.countRows()-1),i=t.rowIndexMapper.getNearestNotHiddenIndex(n,-1);if(null!==i){const n=t._createCellCoords(i,e.col),s=e.row-t.view.getFirstFullyVisibleRow(),r=Math.min(n.row-s,t.countRows()-1);t.selection.setRangeEnd(n),t.scrollViewportTo({row:r,verticalSnap:"top",horizontalSnap:"start"})}}},S_={name:"extendCellsSelectionLeft",callback(t){const{highlight:e}=t.getSelectedRangeLast();t.selection.isSelectedByRowHeader()||t.selection.isSelectedByCorner()||!(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())||t.selection.transformEnd(0,-1*t.getDirectionFactor())}},C_={name:"extendCellsSelectionRight",callback(t){const{highlight:e}=t.getSelectedRangeLast();t.selection.isSelectedByRowHeader()||t.selection.isSelectedByCorner()||!(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())||t.selection.transformEnd(0,t.getDirectionFactor())}},x_={name:"extendCellsSelectionToColumns",callback(t){const{highlight:e,from:n,to:i}=t.getSelectedRangeLast();t.selection.isSelectedByRowHeader()?t.selection.selectAll(!0,!0):t.selectColumns(n.col,i.col,e)}},T_={name:"extendCellsSelectionToMostBottom",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:i,from:s,to:r}=t.getSelectedRangeLast(),o=i.isHeader()&&t.selection.isSelectedByRowHeader();if(i.isCell()||o){const a=n.getNearestNotHiddenIndex(t.countRows()-1,-1),l=s.clone();l.row=i.row,e.setRangeStart(l,void 0,!1,i.clone()),o&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,r.col))}}},k_={name:"extendCellsSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:i,from:s,to:r}=t.getSelectedRangeLast();if(!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&i.isCell()){const o=n.getNearestNotHiddenIndex(t.countCols()-1,-1),a=s.clone();a.col=i.col,e.setRangeStart(a,void 0,!1,i.clone()),e.setRangeEnd(t._createCellCoords(r.row,o))}}},L_={name:"extendCellsSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:i,from:s,to:r}=t.getSelectedRangeLast();if(!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&i.isCell()){const o=parseInt(t.getSettings().fixedColumnsStart,10),a=n.getNearestNotHiddenIndex(o,1),l=s.clone();l.col=i.col,e.setRangeStart(l,void 0,!1,i.clone()),e.setRangeEnd(t._createCellCoords(r.row,a))}}},E_={name:"extendCellsSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:i,from:s,to:r}=t.getSelectedRangeLast(),o=i.isHeader()&&t.selection.isSelectedByColumnHeader();if(i.isCell()||o){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]),l=s.clone();l.col=i.col,e.setRangeStart(l,void 0,!1,i.clone()),o&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(r.row,a))}}},R_={name:"extendCellsSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:i,from:s,to:r}=t.getSelectedRangeLast(),o=i.isHeader()&&t.selection.isSelectedByColumnHeader();if(i.isCell()||o){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]),l=s.clone();l.col=i.col,e.setRangeStart(l,void 0,!1,i.clone()),o&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(r.row,a))}}},A_={name:"extendCellsSelectionToMostTop",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:i,from:s,to:r}=t.getSelectedRangeLast(),o=i.isHeader()&&t.selection.isSelectedByRowHeader();if(i.isCell()||o){const a=n.getNearestNotHiddenIndex(0,1),l=s.clone();l.row=i.row,e.setRangeStart(l,void 0,!1,i.clone()),o&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,r.col))}}},D_={name:"extendCellsSelectionToRows",callback(t){const{highlight:e,from:n,to:i}=t.getSelectedRangeLast();t.selection.isSelectedByColumnHeader()?t.selection.selectAll(!0,!0):t.selectRows(n.row,i.row,e)}},H_={name:"extendCellsSelectionUp",callback(t){const{highlight:e}=t.getSelectedRangeLast();t.selection.isSelectedByColumnHeader()||t.selection.isSelectedByCorner()||!(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())||t.selection.transformEnd(-1,0)}},P_={name:"extendCellsSelectionUpByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.max(e.row-t.countVisibleRows(),0),i=t.rowIndexMapper.getNearestNotHiddenIndex(n,1);if(null!==i){const n=t._createCellCoords(i,e.col),s=e.row-t.view.getFirstFullyVisibleRow(),r=Math.max(n.row-s,0);t.selection.setRangeEnd(n),t.scrollViewportTo({row:r,verticalSnap:"top",horizontalSnap:"start"})}}};function I_(){return[b_,M_,S_,C_,x_,T_,k_,L_,E_,R_,A_,D_,H_,P_]}const O_={name:"moveCellSelectionDown",callback(t){let{selection:e}=t;e.transformStart(1,0)}},Y_={name:"moveCellSelectionDownByViewportHeight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:i}=t.getSelectedRangeLast().highlight;let s=t.countVisibleRows()+n;i===t.countRows()-1?s=1:i+s>t.countRows()&&(s=t.countRows()-i-1),t.selection.transformStart(s,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}},N_={name:"moveCellSelectionInlineEnd",callback(t,e){const n=t.getSettings(),i=t.getSelectedRangeLast(),s="function"===typeof n.tabMoves?n.tabMoves(e):n.tabMoves;t.selection.isMultiple()&&!i.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?t.selection.transformFocus(-s.row,-s.col):t.selection.transformStart(-s.row,-s.col)}},F_={name:"moveCellSelectionInlineStart",callback(t,e){const n=t.getSettings(),i=t.getSelectedRangeLast(),s="function"===typeof n.tabMoves?n.tabMoves(e):n.tabMoves;t.selection.isMultiple()&&!i.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?t.selection.transformFocus(s.row,s.col):t.selection.transformStart(s.row,s.col)}},j_={name:"moveCellSelectionLeft",callback(t){t.selection.transformStart(0,-1*t.getDirectionFactor())}},W_={name:"moveCellSelectionRight",callback(t){t.selection.transformStart(0,t.getDirectionFactor())}},V_={name:"moveCellSelectionToMostBottom",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(t.countRows()-1,-1);null===n&&(n=-1),t.selection.setRangeStart(t._createCellCoords(n,e))}},B_={name:"moveCellSelectionToMostBottomInlineEnd",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:i}=t,s=parseInt(t.getSettings().fixedRowsBottom,10),r=n.getNearestNotHiddenIndex(t.countRows()-s-1,-1),o=i.getNearestNotHiddenIndex(t.countCols()-1,-1);e.setRangeStart(t._createCellCoords(r,o))}},z_={name:"moveCellSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t;e.setRangeStart(t._createCellCoords(t.getSelectedRangeLast().highlight.row,n.getNearestNotHiddenIndex(t.countCols()-1,-1)))}},U_={name:"moveCellSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,i=parseInt(t.getSettings().fixedColumnsStart,10),s=t.getSelectedRangeLast().highlight.row,r=n.getNearestNotHiddenIndex(i,1);e.setRangeStart(t._createCellCoords(s,r))}},$_={name:"moveCellSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,i=t.getSelectedRangeLast().highlight.row;let s=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]);null===s&&(s=t.isRtl()?-1:-t.countRowHeaders()),e.setRangeStart(t._createCellCoords(i,s))}},G_={name:"moveCellSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{row:i}=t.getSelectedRangeLast().highlight;let s=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]);null===s&&(s=t.isRtl()?-t.countRowHeaders():-1),e.setRangeStart(t._createCellCoords(i,s))}},K_={name:"moveCellSelectionToMostTop",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(0,1);null===n&&(n=-t.countColHeaders()),t.selection.setRangeStart(t._createCellCoords(n,e))}},q_={name:"moveCellSelectionToMostTopInlineStart",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:i}=t,s=parseInt(t.getSettings().fixedRowsTop,10),r=parseInt(t.getSettings().fixedColumnsStart,10),o=n.getNearestNotHiddenIndex(s,1),a=i.getNearestNotHiddenIndex(r,1);e.setRangeStart(t._createCellCoords(o,a))}},X_={name:"moveCellSelectionUp",callback(t){let{selection:e}=t;e.transformStart(-1,0)}},J_={name:"moveCellSelectionUpByViewportHight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:i}=t.getSelectedRangeLast().highlight;let s=-(t.countVisibleRows()+n);i===-n?s=-1:i+s<n&&(s=-(i+n)),t.selection.transformStart(s,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}};function Z_(){return[O_,Y_,N_,F_,j_,W_,V_,B_,z_,U_,$_,G_,K_,q_,X_,J_]}const Q_={name:"emptySelectedCells",callback(t){t.emptySelectedCells(),t._getEditorManager().prepareEditor()}},ty={name:"scrollToFocusedCell",callback(t){const{highlight:e}=t.getSelectedRangeLast(),n=t.view.getFirstFullyVisibleRow()-1,i=t.view.getFirstFullyVisibleColumn()-1,s=t.view.getLastFullyVisibleRow()+1,r=t.view.getLastFullyVisibleColumn()+1,o=t._createCellCoords(n,i),a=t._createCellCoords(s,r),l=t._createCellRange(o,o,a);if(!l.includes(e)&&(e.row>=0||e.col>=0)){const n={};if(e.col>=0){const i=Math.floor(t.countVisibleCols()/2);n.col=Math.max(e.col-i,0)}if(e.row>=0){const i=Math.floor(t.countVisibleRows()/2);n.row=Math.max(e.row-i,0)}t.scrollViewportTo({...n,verticalSnap:"top",horizontalSnap:"start"})}}},ey={name:"selectAllCells",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!0})}},ny={name:"selectAllCellsAndHeaders",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!1})}},iy={name:"populateSelectedCellsData",callback(t){const e=t.getSelectedRange(),{row:n,col:i}=e[e.length-1].highlight.normalize(),s=t.getDataAtCell(n,i),r=new Map;for(let o=0;o<e.length;o++)e[o].forAll(((e,o)=>{if(e>=0&&o>=0&&(e!==n||o!==i)){const{readOnly:n}=t.getCellMeta(e,o);n||r.set(`${e}x${o}`,[e,o,s])}}));t.setDataAtCell(Array.from(r.values()))}},sy=[...v_(),...I_(),...Z_(),Q_,ty,ey,ny,iy];function ry(t){const e={};return sy.forEach((n=>{let{name:i,callback:s}=n;e[i]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return s(t,...n)}})),e}function oy(t){const e=t.getShortcutManager().addContext("editor"),n=ry(t),i={group:Gp};e.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(t,e)=>n.editorCloseAndSave(t,e)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(t,e)=>n.editorCloseAndSave(t,e)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>n.editorCloseWithoutSaving()}],i)}function ay(t){const e=t.getShortcutManager().addContext("grid"),n=ry(t),i={runOnlyIf:()=>{const{navigableHeaders:e}=t.getSettings();return F(t.getSelected())&&(e||!e&&t.countRenderedRows()>0&&t.countRenderedCols()>0)},group:$p};e.addShortcuts([{keys:[["F2"]],callback:t=>n.editorFastOpen(t)},{keys:[["Enter"],["Enter","Shift"]],callback:(t,e)=>n.editorOpen(t,e)},{keys:[["Backspace"],["Delete"]],callback:()=>n.emptySelectedCells()}],{group:Gp,runOnlyIf:()=>F(t.getSelected())}),e.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>n.selectAllCells(),runOnlyIf:()=>!t.getSelectedRangeLast().highlight.isHeader()},{keys:[["Control/Meta","A"]],callback:()=>{},runOnlyIf:()=>t.getSelectedRangeLast().highlight.isHeader(),preventDefault:!0},{keys:[["Control/Meta","Shift","Space"]],callback:()=>n.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>n.populateSelectedCellsData(),runOnlyIf:()=>!t.getSelectedRangeLast().highlight.isHeader()&&t.getSelectedRangeLast().getCellsCount()>1},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>n.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>n.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>n.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>n.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>n.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>n.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>n.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>n.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>n.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>n.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>n.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>n.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>n.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:t=>n.moveCellSelectionInlineStart(t)},{keys:[["Shift","Tab"]],preventDefault:!1,callback:t=>n.moveCellSelectionInlineEnd(t)},{keys:[["Control/Meta","Backspace"]],callback:()=>n.scrollToFocusedCell()}],i)}function ly(t){[oy,ay].forEach((e=>e(t)))}let hy=null;const cy=new Map;new Set;function dy(t,e){var n,i=this;let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;const o=new Wi(r);let a,l,h,c,d,u,f=!0;_c(s)&&pc(this),this.rootElement=t,this.rootDocument=t.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;const m=null!==(n=null===e||void 0===e?void 0:e.layoutDirection)&&void 0!==n?n:"inherit",g=["rtl","ltr"].includes(m)?m:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",g),this.isRtl=function(){return"rtl"===g},this.isLtr=function(){return!r.isRtl()},this.getDirectionFactor=function(){return r.isLtr()?1:-1},e.language=sm(e.language);const p=new yp(r,e,[Mp,Tp]),_=p.getTableMeta(),y=p.getGlobalMeta(),w=Fs();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,t.insertBefore(this.container,t.firstChild),yc(this)&&tt(e.licenseKey,t),this.guid=`ht_${st()}`,cy.set(this.guid,this),this.columnIndexMapper=new iu,this.rowIndexMapper=new iu,this.columnIndexMapper.addLocalHook("indexesSequenceChange",(t=>{r.runHooks("afterColumnSequenceChange",t)})),this.rowIndexMapper.addLocalHook("indexesSequenceChange",(t=>{r.runHooks("afterRowSequenceChange",t)})),l=new ed(r),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid);const v=t=>{const{row:e,col:n}=t;return r._createCellCoords(e>=0?r.rowIndexMapper.getRenderableFromVisualIndex(e):e,n>=0?r.columnIndexMapper.getRenderableFromVisualIndex(n):n)},b=t=>{const{row:e,col:n}=t;return r._createCellCoords(e>=0?r.rowIndexMapper.getVisualFromRenderableIndex(e):e,n>=0?r.columnIndexMapper.getVisualFromRenderableIndex(n):n)},C=(t,e)=>{const n=e>t?1:-1,i=Math.min(t,e),s=Math.max(t,e),o=r.rowIndexMapper.getNearestNotHiddenIndex(t,n);return null===o||1===n&&o>s||-1===n&&o<i?null:o>=0?r.rowIndexMapper.getRenderableFromVisualIndex(o):o},k=(t,e)=>{const n=e>t?1:-1,i=Math.min(t,e),s=Math.max(t,e),o=r.columnIndexMapper.getNearestNotHiddenIndex(t,n);return null===o||1===n&&o>s||-1===n&&o<i?null:o>=0?r.columnIndexMapper.getRenderableFromVisualIndex(o):o};let L=new Ig(_,{rowIndexMapper:r.rowIndexMapper,columnIndexMapper:r.columnIndexMapper,countCols:()=>r.countCols(),countRows:()=>r.countRows(),propToCol:t=>a.propToCol(t),isEditorOpened:()=>!!r.getActiveEditor()&&r.getActiveEditor().isOpened(),countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),countRenderableRowsInRange:function(){return i.view.countRenderableRowsInRange(...arguments)},countRenderableColumnsInRange:function(){return i.view.countRenderableColumnsInRange(...arguments)},getShortcutManager:()=>r.getShortcutManager(),createCellCoords:(t,e)=>r._createCellCoords(t,e),createCellRange:(t,e,n)=>r._createCellRange(t,e,n),visualToRenderableCoords:v,renderableToVisualCoords:b,findFirstNonHiddenRenderableRow:C,findFirstNonHiddenRenderableColumn:k,isDisabledCellSelection:(t,e)=>t<0||e<0?r.getSettings().disableVisualSelection:r.getCellMeta(t,e).disableVisualSelection});this.selection=L;const E=t=>{let{hiddenIndexesChanged:e}=t;e&&this.selection.refresh()};function R(t){const e=ru(t);tm(e)?(r.runHooks("beforeLanguageChange",e),y.language=e,r.runHooks("afterLanguageChange",e)):ou(t)}function A(t,e){const n="className"===t?r.rootElement:r.table;if(f)ae(n,e);else{let i=[],s=[];y[t]&&(i=Array.isArray(y[t])?y[t]:O(y[t])),e&&(s=Array.isArray(e)?e:O(e));const r=H(i,s),o=H(s,i);r.length&&le(n,r),o.length&&ae(n,o)}y[t]=e}function D(){let t=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,t=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){0===this.validatorsInQueue&&!1===t&&(t=!0,this.onQueueEmpty(this.valid))}}}function P(t){const e=t.replace(",",".");return!1===isNaN(parseFloat(e))?parseFloat(e):t}function I(t,e,n){if(!t.length)return;const i=r.getActiveEditor(),s=new D;let o=!0;s.onQueueEmpty=t=>{i&&o&&i.cancelChanges(),n(t)};for(let l=t.length-1;l>=0;l--){const[n,i,,h]=t[l],c=a.propToCol(i),d=r.getCellMeta(n,c);"numeric"===d.type&&"string"===typeof h&&ks(h)&&(t[l][3]=P(h)),r.getCellValidator(d)&&(s.addValidatorToQueue(),r.validateCell(t[l][3],d,function(e,n){return function(i){if("boolean"!==typeof i)throw new Error("Validation error: result is not boolean");if(!1===i&&!1===n.allowInvalid){o=!1,t.splice(e,1),n.valid=!0;const i=r.getCell(n.visualRow,n.visualCol);null!==i&&le(i,_.invalidCellClassName)}s.removeValidatorFormQueue()}}(l,d),e))}s.checkIfQueueIsEmpty()}function Y(t,e){let n=t.length-1;if(n<0)return;for(;n>=0;n--){let i=!1;if(null!==t[n]){if(null!==t[n][2]&&void 0!==t[n][2]||null!==t[n][3]&&void 0!==t[n][3]){if(_.allowInsertRow)while(t[n][0]>r.countRows()-1){const{delta:t}=a.createRow(void 0,void 0,{source:e});if(0===t){i=!0;break}}if("array"===r.dataType&&(!_.columns||0===_.columns.length)&&_.allowInsertColumn)while(a.propToCol(t[n][1])>r.countCols()-1){const{delta:t}=a.createCol(void 0,void 0,{source:e});if(0===t){i=!0;break}}i||a.set(t[n][0],t[n][1],t[n][3])}}else t.splice(n,1)}r.forceFullRender=!0,h.adjustRowsAndCols(),r.runHooks("beforeChangeRender",t,e),c.lockEditor(),r._refreshBorders(null),c.unlockEditor(),r.view.adjustElementsSize(),r.runHooks("afterChange",t,e||"edit");const i=r.getActiveEditor();i&&F(i.refreshValue)&&i.refreshValue()}function N(t,e,n){return Array.isArray(t)?t:[[t,e,n]]}function B(t,e){const n=r.getActiveEditor(),i=r.runHooks("beforeChange",t,e||"edit"),s=t.filter((t=>null!==t));return!1===i||0===s.length?(n&&n.cancelChanges(),[]):s}this.columnIndexMapper.addLocalHook("cacheUpdated",E),this.rowIndexMapper.addLocalHook("cacheUpdated",E),this.selection.addLocalHook("afterSetRangeEnd",((t,e)=>{const n=Tn(!1),i=this.selection.getSelectedRange(),{from:s,to:o}=i.current(),a=i.size()-1;this.runHooks("afterSelection",s.row,s.col,o.row,o.col,n,a),this.runHooks("afterSelectionByProp",s.row,r.colToProp(s.col),o.row,r.colToProp(o.col),n,a),e&&(!n.isTouched()||n.isTouched()&&!n.value)&&u.scrollTo(t);const l=L.isSelectedByRowHeader(),h=L.isSelectedByColumnHeader();l&&h?ae(this.rootElement,["ht__selection--rows","ht__selection--columns"]):l?(le(this.rootElement,"ht__selection--columns"),ae(this.rootElement,"ht__selection--rows")):h?(le(this.rootElement,"ht__selection--rows"),ae(this.rootElement,"ht__selection--columns")):le(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this._refreshBorders(null)})),this.selection.addLocalHook("beforeSetFocus",(t=>{this.runHooks("beforeSelectionFocusSet",t.row,t.col)})),this.selection.addLocalHook("afterSetFocus",(t=>{const e=Tn(!1);this.runHooks("afterSelectionFocusSet",t.row,t.col,e),(!e.isTouched()||e.isTouched()&&!e.value)&&u.scrollTo(t),this._refreshBorders(null)})),this.selection.addLocalHook("afterSelectionFinished",(t=>{const e=t.length-1,{from:n,to:i}=t[e];this.runHooks("afterSelectionEnd",n.row,n.col,i.row,i.col,e),this.runHooks("afterSelectionEndByProp",n.row,r.colToProp(n.col),i.row,r.colToProp(i.col),e)})),this.selection.addLocalHook("afterIsMultipleSelection",(t=>{const e=this.runHooks("afterIsMultipleSelection",t.value);t.value&&(t.value=e)})),this.selection.addLocalHook("afterDeselect",(()=>{c.destroyEditor(),this._refreshBorders(),le(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")})),this.selection.addLocalHook("beforeHighlightSet",(()=>this.runHooks("beforeSelectionHighlightSet"))).addLocalHook("beforeSetRangeStart",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("beforeSetRangeStart",...e)})).addLocalHook("beforeSetRangeStartOnly",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("beforeSetRangeStartOnly",...e)})).addLocalHook("beforeSetRangeEnd",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("beforeSetRangeEnd",...e)})).addLocalHook("beforeSelectColumns",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("beforeSelectColumns",...e)})).addLocalHook("afterSelectColumns",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("afterSelectColumns",...e)})).addLocalHook("beforeSelectRows",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("beforeSelectRows",...e)})).addLocalHook("afterSelectRows",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("afterSelectRows",...e)})).addLocalHook("beforeModifyTransformStart",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("modifyTransformStart",...e)})).addLocalHook("afterModifyTransformStart",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("afterModifyTransformStart",...e)})).addLocalHook("beforeModifyTransformFocus",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("modifyTransformFocus",...e)})).addLocalHook("afterModifyTransformFocus",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("afterModifyTransformFocus",...e)})).addLocalHook("beforeModifyTransformEnd",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("modifyTransformEnd",...e)})).addLocalHook("afterModifyTransformEnd",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("afterModifyTransformEnd",...e)})).addLocalHook("beforeRowWrap",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("beforeRowWrap",...e)})).addLocalHook("beforeColumnWrap",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.runHooks("beforeColumnWrap",...e)})).addLocalHook("insertRowRequire",(t=>this.alter("insert_row_above",t,1,"auto"))).addLocalHook("insertColRequire",(t=>this.alter("insert_col_start",t,1,"auto"))),h={alter(t,e){var n,i;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;const c=t=>{if(0===t.length)return[];const e=[...t];e.sort(((t,e)=>{let[n]=t,[i]=e;return n===i?0:n>i?1:-1}));const n=S(e,((t,e)=>{let[n,i]=e;const s=t[t.length-1],[r,o]=s,a=r+o;if(n<=a){const t=Math.max(i-(a-n),0);s[1]+=t}else t.push([n,i]);return t}),[e[0]]);return n};switch(t){case"insert_row_below":case"insert_row_above":const l=r.countSourceRows();if(_.maxRows===l)return;const d="insert_row_below"===t?"below":"above";e=null!==(n=e)&&void 0!==n?n:"below"===d?l:0;const{delta:u,startPhysicalIndex:f}=a.createRow(e,s,{source:o,mode:d});if(u){const t=L.selectedRange.current(),e=null===t||void 0===t?void 0:t.from,n=null===e||void 0===e?void 0:e.row,i=r.toVisualRow(f);if(L.isSelectedByCorner())L.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(F(n)&&n>=i){const{row:i,col:s}=t.to;let o=e.col;L.isSelectedByRowHeader()&&(o=-1),L.getSelectedRange().pop(),L.setRangeStartOnly(r._createCellCoords(n+u,o),!0),L.setRangeEnd(r._createCellCoords(i+u,s))}else r._refreshBorders()}break;case"insert_col_start":case"insert_col_end":const m="insert_col_end"===t?"end":"start";e=null!==(i=e)&&void 0!==i?i:"end"===m?r.countSourceCols():0;const{delta:g,startPhysicalIndex:p}=a.createCol(e,s,{source:o,mode:m});if(g){if(Array.isArray(_.colHeaders)){const t=[r.toVisualColumn(p),0];t.length+=g,Array.prototype.splice.apply(_.colHeaders,t)}const t=L.selectedRange.current(),e=null===t||void 0===t?void 0:t.from,n=null===e||void 0===e?void 0:e.col,i=r.toVisualColumn(p);if(L.isSelectedByCorner())L.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(F(n)&&n>=i){const{row:i,col:s}=t.to;let o=e.row;L.isSelectedByColumnHeader()&&(o=-1),L.getSelectedRange().pop(),L.setRangeStartOnly(r._createCellCoords(o,n+g),!0),L.setRangeEnd(r._createCellCoords(i,s+g))}else r._refreshBorders()}break;case"remove_row":const y=t=>{let e=0;T(t,(t=>{let[n,i]=t;const s=W(n)?r.countRows()-1:Math.max(n-e,0);Number.isInteger(n)&&(n=Math.max(n-e,0));const l=a.removeRow(n,i,o);if(!l)return;const h=r.countRows(),c=_.fixedRowsTop;c>=s+1&&(_.fixedRowsTop-=Math.min(i,c-s));const d=_.fixedRowsBottom;d&&s>=h-d&&(_.fixedRowsBottom-=Math.min(i,d)),e+=i}))};Array.isArray(e)?y(c(e)):y([[e,s]]),h.adjustRowsAndCols(),r._refreshBorders();break;case"remove_col":const w=t=>{let e=0;T(t,(t=>{let[n,i]=t;const s=W(n)?r.countCols()-1:Math.max(n-e,0);let l=r.toPhysicalColumn(s);Number.isInteger(n)&&(n=Math.max(n-e,0));const h=a.removeCol(n,i,o);if(!h)return;const c=_.fixedColumnsStart;c>=s+1&&(_.fixedColumnsStart-=Math.min(i,c-s)),Array.isArray(_.colHeaders)&&("undefined"===typeof l&&(l=-1),_.colHeaders.splice(l,i)),e+=i}))};Array.isArray(e)?w(c(e)):w([[e,s]]),h.adjustRowsAndCols(),r._refreshBorders();break;default:throw new Error(`There is no such action "${t}"`)}l||h.adjustRowsAndCols()},adjustRowsAndCols(){const t=_.minRows,e=_.minSpareRows,n=_.minCols,i=_.minSpareCols;if(0===r.countRows()&&0===r.countCols()&&L.deselect(),t){const e=r.countRows();e<t&&a.createRow(e,t-e,{source:"auto"})}if(e){const t=r.countEmptyRows(!0);if(t<e){const n=e-t,i=Math.min(n,_.maxRows-r.countSourceRows());a.createRow(r.countRows(),i,{source:"auto"})}}{let t;(n||i)&&(t=r.countEmptyCols(!0));let e=r.countCols();if(n&&!_.columns&&e<n){const i=n-e;t+=i,a.createCol(e,i,{source:"auto"})}if(i&&!_.columns&&"array"===r.dataType&&t<i){e=r.countCols();const n=i-t,s=Math.min(n,_.maxCols-e);a.createCol(e,s,{source:"auto"})}}if(L.isSelected()){const t=r.countRows(),e=r.countCols();T(L.selectedRange,(n=>{let i=!1,s=n.from.row,o=n.from.col,a=n.to.row,l=n.to.col;s>t-1?(s=t-1,i=!0,a>s&&(a=s)):a>t-1&&(a=t-1,i=!0,s>a&&(s=a)),o>e-1?(o=e-1,i=!0,l>o&&(l=o)):l>e-1&&(l=e-1,i=!0,o>l&&(o=l)),i&&(o<0?r.selectRows(s,a,o):s<0?r.selectColumns(o,l,s):r.selectCell(s,o,a,l))}))}r.view&&r.view.adjustElementsSize()},populateFromArray(t,e,n,i,s){let o,a,l,h;const c=[],d={},u=[],f=t.row,m=t.col;if(a=e.length,0===a)return!1;let g=0,p=0;switch(vn(n)&&(g=n.col-m+1,p=n.row-f+1),s){case"shift_down":const s=M(e),y=s.length,w=Math.max(y,g),v=r.getData().slice(f),b=M(v).slice(m,m+w);for(l=0;l<w;l+=1)if(l<y){for(o=0,a=s[l].length;o<p-a;o+=1)s[l].push(s[l][o%a]);l<b.length?u.push(s[l].concat(b[l])):u.push(s[l].concat(new Array(v.length).fill(null)))}else u.push(s[l%y].concat(b[l]));r.populateFromArray(f,m,M(u));break;case"shift_right":const S=e.length,C=Math.max(S,p),x=r.getData().slice(f).map((t=>t.slice(m)));for(o=0;o<C;o+=1)if(o<S){for(l=0,h=e[o].length;l<g-h;l+=1)e[o].push(e[o][l%h]);if(o<x.length)for(let t=0;t<x[o].length;t+=1)e[o].push(x[o][t]);else e[o].push(...new Array(x[0].length).fill(null))}else e.push(e[o%a].slice(0,C).concat(x[o]));r.populateFromArray(f,m,e);break;case"overwrite":default:d.row=t.row,d.col=t.col;let T,k=0,L=0,E=!0;const R=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=e[t%e.length];return null!==n?i[n%i.length]:i},A=e.length,D=n?n.row-t.row+1:0;for(a=n?D:Math.max(A,D),o=0;o<a;o++){if(n&&d.row>n.row&&D>A||!_.allowInsertRow&&d.row>r.countRows()-1||d.row>=_.maxRows)break;const e=o-k,s=R(e).length,u=n?n.col-t.col+1:0;if(h=n?u:Math.max(s,u),d.col=t.col,T=r.getCellMeta(d.row,d.col),"CopyPaste.paste"!==i&&"Autofill.fill"!==i||!T.skipRowOnPaste){for(L=0,l=0;l<h;l++){if(n&&d.col>n.col&&u>s||!_.allowInsertColumn&&d.col>r.countCols()-1||d.col>=_.maxCols)break;if(T=r.getCellMeta(d.row,d.col),("CopyPaste.paste"===i||"Autofill.fill"===i)&&T.skipColumnOnPaste){L+=1,d.col+=1,h+=1;continue}if(T.readOnly&&"UndoRedo.undo"!==i){d.col+=1;continue}const t=l-L;let o=R(e,t),a=r.getDataAtCell(d.row,d.col);if(null!==o&&"object"===typeof o)if(Array.isArray(o)&&null===a&&(a=[]),null===a||"object"!==typeof a)E=!1;else{const t=un(Array.isArray(a)?a:a[0]||a),e=un(Array.isArray(o)?o:o[0]||o);wn(t,e)||Array.isArray(t)&&Array.isArray(e)?o=pn(o):E=!1}else null!==a&&"object"===typeof a&&(E=!1);E&&c.push([d.row,d.col,o]),E=!0,d.col+=1}d.row+=1}else k+=1,d.row+=1,a+=1}r.setDataAtCell(c,null,null,i||"populateFromArray");break}}},this.init=function(){l.setData(_.data),r.runHooks("beforeInit"),($n()||Kn())&&ae(r.rootElement,"mobile"),this.updateSettings(_,!0),this.view=new Fc(this),c=es.getInstance(r,_,L),u=Up(r),d=new gs(r),yc(this)&&Xp(r),r.runHooks("init"),this.forceFullRender=!0,this.view.render(),f&&null===r.rootElement.offsetParent&&Ze(r.rootElement,(()=>{r.view._wt.wtOverlays.updateLastSpreaderSize(),r.render(),r.view.adjustElementsSize()})),"object"===typeof f&&(r.runHooks("afterChange",f[0],f[1]),f=!1),r.runHooks("afterInit")},this._createCellCoords=function(t,e){return r.view._wt.createCellCoords(t,e)},this._createCellRange=function(t,e,n){return r.view._wt.createCellRange(t,e,n)},this.validateCell=function(t,e,n,i){let s=r.getCellValidator(e);function o(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!i||!0===e.hidden)return void n(t);const s=e.visualCol,o=e.visualRow,a=r.getCell(o,s,!0);if(a&&"TH"!==a.nodeName){const t=r.rowIndexMapper.getRenderableFromVisualIndex(o),e=r.columnIndexMapper.getRenderableFromVisualIndex(s);r.view._wt.getSetting("cellRenderer",t,e,a)}n(t)}V(s)&&(s=function(t){return function(e,n){n(t.test(e))}}(s)),nn(s)?(t=r.runHooks("beforeValidate",t,e.visualRow,e.prop,i),r._registerImmediate((()=>{s.call(e,t,(n=>{r&&(n=r.runHooks("afterValidate",n,t,e.visualRow,e.prop,i),e.valid=n,o(n),r.runHooks("postAfterValidate",n,t,e.visualRow,e.prop,i))}))}))):r._registerImmediate((()=>{e.valid=!0,o(e.valid,!1)}))},this.setDataAtCell=function(t,e,n,i){const s=N(t,e,n),o=[];let h,c,d,u=i;for(h=0,c=s.length;h<c;h++){if("object"!==typeof s[h])throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!==typeof s[h][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");d=s[h][1]>=this.countCols()?s[h][1]:a.colToProp(s[h][1]),o.push([s[h][0],d,l.getAtCell(this.toPhysicalRow(s[h][0]),s[h][1]),s[h][2]])}u||"object"!==typeof t||(u=e);const f=B(o,i);r.runHooks("afterSetDataAtCell",f,u),I(f,u,(()=>{Y(f,u)}))},this.setDataAtRowProp=function(t,e,n,i){const s=N(t,e,n),o=[];let a,h,c=i;for(a=0,h=s.length;a<h;a++)o.push([s[a][0],s[a][1],l.getAtCell(this.toPhysicalRow(s[a][0]),s[a][1]),s[a][2]]);c||"object"!==typeof t||(c=e);const d=B(o,i);r.runHooks("afterSetDataAtRowProp",d,c),I(d,c,(()=>{Y(d,c)}))},this.listen=function(){r&&!r.isListening()&&(cy.forEach((t=>{r!==t&&t.unlisten()})),hy=r.guid,r.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(hy=null,r.runHooks("afterUnlisten"))},this.isListening=function(){return hy===r.guid},this.destroyEditor=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r._refreshBorders(t,e)},this.populateFromArray=function(t,e,n,i,s,o,a){if("object"!==typeof n||"object"!==typeof n[0])throw new Error("populateFromArray parameter `input` must be an array of arrays");const l="number"===typeof i?r._createCellCoords(i,s):null;return h.populateFromArray(r._createCellCoords(t,e),n,l,o,a)},this.spliceCol=function(t,e,n){for(var i=arguments.length,s=new Array(i>3?i-3:0),r=3;r<i;r++)s[r-3]=arguments[r];return a.spliceCol(t,e,n,...s)},this.spliceRow=function(t,e,n){for(var i=arguments.length,s=new Array(i>3?i-3:0),r=3;r<i;r++)s[r-3]=arguments[r];return a.spliceRow(t,e,n,...s)},this.getSelected=function(){if(L.isSelected())return x(L.getSelectedRange(),(t=>{let{from:e,to:n}=t;return[e.row,e.col,n.row,n.col]}))},this.getSelectedLast=function(){const t=this.getSelected();let e;return t&&t.length>0&&(e=t[t.length-1]),e},this.getSelectedRange=function(){if(L.isSelected())return Array.from(L.getSelectedRange())},this.getSelectedRangeLast=function(){const t=this.getSelectedRange();let e;return t&&t.length>0&&(e=t[t.length-1]),e},this.emptySelectedCells=function(t){if(!L.isSelected()||0===this.countRows()||0===this.countCols())return;const e=[];T(L.getSelectedRange(),(t=>{if(t.isSingleHeader())return;const n=t.getTopStartCorner(),i=t.getBottomEndCorner();Ls(n.row,i.row,(t=>{Ls(n.col,i.col,(n=>{this.getCellMeta(t,n).readOnly||e.push([t,n,null])}))}))})),e.length>0&&this.setDataAtCell(e,t)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){const t=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(t,0),this.isRenderSuspended()||t!==this.renderSuspendedCounter||(this.renderCall?this.render():this._refreshBorders(null))},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||(c.lockEditor(),this._refreshBorders(null),c.unlockEditor()))},this.batchRender=function(t){this.suspendRender();const e=t();return this.resumeRender(),e},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(e,0),(!this.isExecutionSuspended()&&e===this.executionSuspendedCounter||t)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.suspendExecution();const n=t();return this.resumeExecution(e),n},this.batch=function(t){this.suspendRender(),this.suspendExecution();const e=t();return this.resumeExecution(),this.resumeRender(),e},this.refreshDimensions=function(){if(!r.view)return;const{width:t,height:e}=r.view.getLastSize(),{width:n,height:i}=r.rootElement.getBoundingClientRect(),s=n!==t||i!==e,o=!1===r.runHooks("beforeRefreshDimensions",{width:t,height:e},{width:n,height:i},s);o||((s||r.view._wt.wtOverlays.scrollableElement===r.rootWindow)&&(r.view.setLastSize(n,i),r.render()),r.runHooks("afterRefreshDimensions",{width:t,height:e},{width:n,height:i},s))},this.updateData=function(t,e){Yp(t,(t=>{a=t}),(t=>{a=t,r.columnIndexMapper.fitToLength(this.getInitialColumnCount()),r.rowIndexMapper.fitToLength(this.countSourceRows()),h.adjustRowsAndCols()}),{hotInstance:r,dataMap:a,dataSource:l,internalSource:"updateData",source:e,metaManager:p,firstRun:f})},this.loadData=function(t,e){Yp(t,(t=>{a=t}),(()=>{p.clearCellsCache(),r.initIndexMappers(),h.adjustRowsAndCols(),f&&(f=[null,"loadData"])}),{hotInstance:r,dataMap:a,dataSource:l,internalSource:"loadData",source:e,metaManager:p,firstRun:f})},this.getInitialColumnCount=function(){const t=_.columns;let e=0;if(Array.isArray(t))e=t.length;else if(nn(t))if("array"===r.dataType){const n=this.countSourceCols();for(let i=0;i<n;i+=1)t(i)&&(e+=1)}else"object"!==r.dataType&&"function"!==r.dataType||(e=a.colToPropCache.length);else if(F(_.dataSchema)){const t=a.getSchema();e=Array.isArray(t)?t.length:xn(t)}else e=this.countSourceCols();return e},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(t,e,n,i){return j(t)?a.getAll():a.getRange(r._createCellCoords(t,e),r._createCellCoords(n,i),a.DESTINATION_RENDERER)},this.getCopyableText=function(t,e,n,i){return a.getCopyableText(r._createCellCoords(t,e),r._createCellCoords(n,i))},this.getCopyableData=function(t,e){return a.getCopyable(t,a.colToProp(e))},this.getSchema=function(){return a.getSchema()},this.updateSettings=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(f?r.loadData:r.updateData).bind(this);let i,s,o=!1;if(F(t.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(F(t.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(F(t.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(i in t)"data"===i||("language"===i?R(t.language):"className"===i?A("className",t.className):"tableClassName"===i&&r.table?(A("tableClassName",t.tableClassName),r.view._wt.wtOverlays.syncOverlayTableClassNames()):Mi.getSingleton().isRegistered(i)||Mi.getSingleton().isDeprecated(i)?(nn(t[i])||Array.isArray(t[i]))&&(t[i].initialHook=!0,r.addHook(i,t[i])):!e&&kn(t,i)&&(y[i]=t[i]));void 0===t.data&&void 0===_.data?n(null,"updateSettings"):void 0!==t.data?n(t.data,"updateSettings"):void 0!==t.columns&&(a.createMap(),r.initIndexMappers());const l=r.countCols(),d=_.columns;if(d&&nn(d)&&(o=!0),void 0===t.cell&&void 0===t.cells&&void 0===t.columns||p.clearCache(),l>0)for(i=0,s=0;i<l;i++){if(d){const t=o?d(i):d[s];t&&p.updateColumnMeta(s,t)}s+=1}F(t.cell)&&Mn(t.cell,(t=>{r.setCellMetaObject(t.row,t.col,t)})),r.runHooks("afterCellMetaReset");let u=r.rootElement.style.height;""!==u&&(u=parseInt(r.rootElement.style.height,10));let m=t.height;if(nn(m)&&(m=m()),e){const t=r.rootElement.getAttribute("style");t&&r.rootElement.setAttribute("data-initialstyle",r.rootElement.getAttribute("style"))}if(null===m){const t=r.rootElement.getAttribute("data-initialstyle");t&&(t.indexOf("height")>-1||t.indexOf("overflow")>-1)?r.rootElement.setAttribute("style",t):(r.rootElement.style.height="",r.rootElement.style.overflow="")}else void 0!==m&&(r.rootElement.style.height=isNaN(m)?`${m}`:`${m}px`,r.rootElement.style.overflow="hidden");if("undefined"!==typeof t.width){let e=t.width;nn(e)&&(e=e()),r.rootElement.style.width=isNaN(e)?`${e}`:`${e}px`}e||(r.view&&(r.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),r.view._wt.exportSettingsAsClassNames()),r.runHooks("afterUpdateSettings",t)),h.adjustRowsAndCols(),r.view&&!f&&(r.forceFullRender=!0,c.lockEditor(),r._refreshBorders(null),r.view._wt.wtOverlays.adjustElementsSize(),c.unlockEditor()),e||!r.view||""!==u&&""!==m&&void 0!==m||u===m||r.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){const t=r.getSelectedLast();if(_.getValue){if(nn(_.getValue))return _.getValue.call(r);if(t)return r.getData()[t[0][0]][_.getValue]}else if(t)return r.getDataAtCell(t[0],t[1])},this.getSettings=function(){return _},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(t,e,n,i,s){h.alter(t,e,n,i,s)},this.getCell=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e,s=t;if(e>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(e)))return null;i=this.columnIndexMapper.getRenderableFromVisualIndex(e)}if(t>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(t)))return null;s=this.rowIndexMapper.getRenderableFromVisualIndex(t)}return null===s||null===i?null:r.view.getCellAtCoords(r._createCellCoords(s,i),n)},this.getCoords=function(t){const e=this.view._wt.wtTable.getCoords(t);if(null===e)return null;const{row:n,col:i}=e;let s=n,o=i;return n>=0&&(s=this.rowIndexMapper.getVisualFromRenderableIndex(n)),i>=0&&(o=this.columnIndexMapper.getVisualFromRenderableIndex(i)),r._createCellCoords(s,o)},this.colToProp=function(t){return a.colToProp(t)},this.propToCol=function(t){return a.propToCol(t)},this.toVisualRow=t=>this.rowIndexMapper.getVisualFromPhysicalIndex(t),this.toVisualColumn=t=>this.columnIndexMapper.getVisualFromPhysicalIndex(t),this.toPhysicalRow=t=>this.rowIndexMapper.getPhysicalFromVisualIndex(t),this.toPhysicalColumn=t=>this.columnIndexMapper.getPhysicalFromVisualIndex(t),this.getDataAtCell=function(t,e){return a.get(t,a.colToProp(e))},this.getDataAtRowProp=function(t,e){return a.get(t,e)},this.getDataAtCol=function(t){const e=[],n=a.getRange(r._createCellCoords(0,t),r._createCellCoords(_.data.length-1,t),a.DESTINATION_RENDERER);for(let i=0;i<n.length;i+=1)for(let t=0;t<n[i].length;t+=1)e.push(n[i][t]);return e},this.getDataAtProp=function(t){const e=[],n=a.getRange(r._createCellCoords(0,a.propToCol(t)),r._createCellCoords(_.data.length-1,a.propToCol(t)),a.DESTINATION_RENDERER);for(let i=0;i<n.length;i+=1)for(let t=0;t<n[i].length;t+=1)e.push(n[i][t]);return e},this.getSourceData=function(t,e,n,i){let s;return s=void 0===t?l.getData():l.getByRange(r._createCellCoords(t,e),r._createCellCoords(n,i)),s},this.getSourceDataArray=function(t,e,n,i){let s;return s=void 0===t?l.getData(!0):l.getByRange(r._createCellCoords(t,e),r._createCellCoords(n,i),!0),s},this.getSourceDataAtCol=function(t){return l.getAtColumn(t)},this.setSourceDataAtCell=function(t,e,n,i){const s=N(t,e,n),o=this.hasHook("afterSetSourceDataAtCell"),a=[];o&&T(s,(t=>{let[e,n,i]=t;a.push([e,n,l.getAtCell(e,n),i])})),T(s,(t=>{let[e,n,i]=t;l.setAtCell(e,n,i)})),o&&this.runHooks("afterSetSourceDataAtCell",a,i),this.render();const h=r.getActiveEditor();h&&F(h.refreshValue)&&h.refreshValue()},this.getSourceDataAtRow=function(t){return l.getAtRow(t)},this.getSourceDataAtCell=function(t,e){return l.getAtCell(t,e)},this.getDataAtRow=function(t){const e=a.getRange(r._createCellCoords(t,0),r._createCellCoords(t,this.countCols()-1),a.DESTINATION_RENDERER);return e[0]||[]},this.getDataType=function(t,e,n,i){const s=void 0===t?[0,0,this.countRows(),this.countCols()]:[t,e,n,i],[r,o]=s;let[,,a,l]=s,h=null,c=null;void 0===a&&(a=r),void 0===l&&(l=o);let d="mixed";return Ls(Math.max(Math.min(r,a),0),Math.max(r,a),(t=>{let e=!0;return Ls(Math.max(Math.min(o,l),0),Math.max(o,l),(n=>{const i=this.getCellMeta(t,n);return c=i.type,h?e=h===c:h=c,e})),d=e?c:"mixed",e})),d},this.removeCellMeta=function(t,e,n){const[i,s]=[this.toPhysicalRow(t),this.toPhysicalColumn(e)];let o=p.getCellMetaKeyValue(i,s,n);const a=r.runHooks("beforeRemoveCellMeta",t,e,n,o);!1!==a&&(p.removeCellMeta(i,s,n),r.runHooks("afterRemoveCellMeta",t,e,n,o)),o=null},this.spliceCellsMeta=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(i.length>0&&!Array.isArray(i[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");e>0&&p.removeRow(this.toPhysicalRow(t),e),i.length>0&&T(i.reverse(),(e=>{p.createRow(this.toPhysicalRow(t)),T(e,((e,n)=>this.setCellMetaObject(t,n,e)))})),r.render()},this.setCellMetaObject=function(t,e,n){"object"===typeof n&&Mn(n,((n,i)=>{this.setCellMeta(t,e,i,n)}))},this.setCellMeta=function(t,e,n,i){const s=r.runHooks("beforeSetCellMeta",t,e,n,i);if(!1===s)return;let o=t,a=e;t<this.countRows()&&(o=this.toPhysicalRow(t)),e<this.countCols()&&(a=this.toPhysicalColumn(e)),p.setCellMeta(o,a,n,i),r.runHooks("afterSetCellMeta",t,e,n,i)},this.getCellsMeta=function(){return p.getCellsMeta()},this.getCellMeta=function(t,e){let n=this.toPhysicalRow(t),i=this.toPhysicalColumn(e);return null===n&&(n=t),null===i&&(i=e),p.getCellMeta(n,i,{visualRow:t,visualColumn:e})},this.getCellMetaAtRow=function(t){return p.getCellsMetaAtRow(t)},this.isColumnModificationAllowed=function(){return!("object"===r.dataType||_.columns)},this.getCellRenderer=function(t,e){const n="number"===typeof t?r.getCellMeta(t,e).renderer:t.renderer;return"string"===typeof n?rr(n):j(n)?rr("text"):n},this.getCellEditor=function(t,e){const n="number"===typeof t?r.getCellMeta(t,e).editor:t.editor;return"string"===typeof n?Hi(n):j(n)?Hi("text"):n},this.getCellValidator=function(t,e){const n="number"===typeof t?r.getCellMeta(t,e).validator:t.validator;return"string"===typeof n?ur(n):n},this.validateCells=function(t){this._validateCells(t)},this.validateRows=function(t,e){if(!Array.isArray(t))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(e,t)},this.validateColumns=function(t,e){if(!Array.isArray(t))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(e,void 0,t)},this._validateCells=function(t,e,n){const i=new D;t&&(i.onQueueEmpty=t);let s=r.countRows()-1;while(s>=0){if(void 0!==e&&-1===e.indexOf(s)){s-=1;continue}let t=r.countCols()-1;while(t>=0)void 0===n||-1!==n.indexOf(t)?(i.addValidatorToQueue(),r.validateCell(r.getDataAtCell(s,t),r.getCellMeta(s,t),(t=>{if("boolean"!==typeof t)throw new Error("Validation error: result is not boolean");!1===t&&(i.valid=!1),i.removeValidatorFormQueue()}),"validateCells"),t-=1):t-=1;s-=1}i.checkIfQueueIsEmpty()},this.getRowHeader=function(t){let e=_.rowHeaders,n=t;return void 0!==n&&(n=r.runHooks("modifyRowHeader",n)),void 0===n?(e=[],Ls(r.countRows()-1,(t=>{e.push(r.getRowHeader(t))}))):Array.isArray(e)&&void 0!==e[n]?e=e[n]:nn(e)?e=e(n):e&&"string"!==typeof e&&"number"!==typeof e&&(e=n+1),e},this.hasRowHeaders=function(){return!!_.rowHeaders},this.hasColHeaders=function(){if(void 0!==_.colHeaders&&null!==_.colHeaders)return!!_.colHeaders;for(let t=0,e=r.countCols();t<e;t++)if(r.getColHeader(t))return!0;return!1},this.getColHeader=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=r.runHooks("modifyColHeader",t);if(void 0===n){const t=[],e=r.countCols();for(let n=0;n<e;n++)t.push(r.getColHeader(n));return t}let i=_.colHeaders;const s=function(t){const e=[],n=r.countCols();let i=0;for(;i<n;i++)nn(_.columns)&&_.columns(i)&&e.push(i);return e[t]},o=r.toPhysicalColumn(n),a=s(o);return!1===_.colHeaders?i=null:_.columns&&nn(_.columns)&&_.columns(a)&&_.columns(a).title?i=_.columns(a).title:_.columns&&_.columns[o]&&_.columns[o].title?i=_.columns[o].title:Array.isArray(_.colHeaders)&&void 0!==_.colHeaders[o]?i=_.colHeaders[o]:nn(_.colHeaders)?i=_.colHeaders(o):_.colHeaders&&"string"!==typeof _.colHeaders&&"number"!==typeof _.colHeaders&&(i=Vc(n)),i=r.runHooks("modifyColumnHeaderValue",i,t,e),i},this._getColWidthFromSettings=function(t){let e;if(t>=0){const n=r.getCellMeta(0,t);e=n.width}if(void 0!==e&&e!==_.width||(e=_.colWidths),void 0!==e&&null!==e){switch(typeof e){case"object":e=e[t];break;case"function":e=e(t);break;default:break}"string"===typeof e&&(e=parseInt(e,10))}return e},this.getColWidth=function(t){let e=r._getColWidthFromSettings(t);return e=r.runHooks("modifyColWidth",e,t),void 0===e&&(e=Ah.DEFAULT_WIDTH),e},this._getRowHeightFromSettings=function(t){let e=_.rowHeights;if(void 0!==e&&null!==e){switch(typeof e){case"object":e=e[t];break;case"function":e=e(t);break;default:break}"string"===typeof e&&(e=parseInt(e,10))}return e},this.getRowHeight=function(t){let e=r._getRowHeightFromSettings(t);return e=r.runHooks("modifyRowHeight",e,t),e},this.countSourceRows=function(){return l.countRows()},this.countSourceCols=function(){return l.countFirstRowKeys()},this.countRows=function(){return a.getLength()},this.countCols=function(){const t=_.maxCols,e=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(t,e)},this.countRenderedRows=function(){return r.view._wt.drawn?r.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return r.view._wt.drawn?r.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return r.view._wt.drawn?r.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return r.view._wt.drawn?r.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0;return Es(r.countRows()-1,(n=>{if(r.isEmptyRow(n))e+=1;else if(!0===t)return!1})),e},this.countEmptyCols=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0;return Es(r.countCols()-1,(n=>{if(r.isEmptyCol(n))e+=1;else if(!0===t)return!1})),e},this.isEmptyRow=function(t){return _.isEmptyRow.call(r,t)},this.isEmptyCol=function(t){return _.isEmptyCol.call(r,t)},this.selectCell=function(t,e,n,i){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return!j(t)&&!j(e)&&this.selectCells([[t,e,n,i]],s,r)},this.selectCells=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1===e&&u.suspend();const i=L.selectCells(t);return i&&n&&r.listen(),u.resume(),i},this.selectColumns=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2?arguments[2]:void 0;return L.selectColumns(t,e,n)},this.selectRows=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2?arguments[2]:void 0;return L.selectRows(t,e,n)},this.deselectCell=function(){L.deselect()},this.selectAll=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2?arguments[2]:void 0;u.skipNextScrollCycle(),L.selectAll(t,e,n)};const z=(t,e)=>t.getNearestNotHiddenIndex(e,1,!0);function U(t){return()=>{throw new Error(`The "${t}" method cannot be called because this Handsontable instance has been destroyed`)}}this.scrollViewportTo=function(t){var e,n;"number"===typeof t&&(t={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:null===(n=arguments[4])||void 0===n||n});const{row:i,col:s,verticalSnap:o,horizontalSnap:a,considerHiddenIndexes:l}=null!==(e=t)&&void 0!==e?e:{};let h,c,d,u;void 0!==o&&(h="top"===o,c=!h),void 0!==a&&(d="start"===a,u=!d);let f=i,m=s;if(void 0===l||l){const t=Number.isInteger(i)&&i>=0,e=Number.isInteger(s)&&s>=0,n=t?z(this.rowIndexMapper,i):void 0,o=e?z(this.columnIndexMapper,s):void 0;if(null===n||null===o)return!1;f=t?r.rowIndexMapper.getRenderableFromVisualIndex(n):i,m=e?r.columnIndexMapper.getRenderableFromVisualIndex(o):s}const g=Number.isInteger(f),p=Number.isInteger(m);return g&&f>=0&&p&&m>=0?r.view.scrollViewport(r._createCellCoords(f,m),h,u,c,d):g&&f>=0&&(p&&m<0||!p)?r.view.scrollViewportVertically(f,h,c):!!(p&&m>=0&&(g&&f<0||!g))&&r.view.scrollViewportHorizontally(m,u,d)},this.scrollToFocusedCell=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};if(!this.selection.isSelected())return;this.addHookOnce("afterScroll",t);const{highlight:e}=this.getSelectedRangeLast(),n=this.scrollViewportTo(e.toObject());n?this.view.render():(this.removeHook("afterScroll",t),this._registerImmediate((()=>t())))},this.destroy=function(){if(r._clearTimeouts(),r._clearImmediates(),r.view&&r.view.destroy(),l&&l.destroy(),l=null,this.getShortcutManager().destroy(),p.clearCache(),cy.delete(this.guid),yc(r)){const t=this.rootDocument.querySelector(".hot-display-license-info");t&&t.parentNode.removeChild(t)}ue(r.rootElement),o.destroy(),c&&c.destroy(),r.batchExecution((()=>{r.rowIndexMapper.unregisterAll(),r.columnIndexMapper.unregisterAll(),w.getItems().forEach((t=>{let[,e]=t;e.destroy()})),w.clear(),r.runHooks("afterDestroy")}),!0),Mi.getSingleton().destroy(r),Mn(r,((t,e,n)=>{nn(t)?n[e]=U(e):"guid"!==e&&(n[e]=null)})),r.isDestroyed=!0,a&&a.destroy(),a=null,h=null,L=null,c=null,r=null},this.getActiveEditor=function(){return c.getActiveEditor()},this.getPlugin=function(t){const e=nt(t);return"UndoRedo"===e?this.undoRedo:w.getItem(e)},this.getPluginName=function(t){return t===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:w.getId(t)},this.getInstance=function(){return r},this.addHook=function(t,e){Mi.getSingleton().add(t,e,r)},this.hasHook=function(t){return Mi.getSingleton().has(t,r)||Mi.getSingleton().has(t)},this.addHookOnce=function(t,e){Mi.getSingleton().once(t,e,r)},this.removeHook=function(t,e){Mi.getSingleton().remove(t,e,r)},this.runHooks=function(t,e,n,i,s,o,a){return Mi.getSingleton().run(r,t,e,n,i,s,o,a)},this.getTranslatedPhrase=function(t,e){return nm(_.language,t,e)},this.toHTML=()=>Ss(this),this.toTableElement=()=>{const t=this.rootDocument.createElement("div");return t.insertAdjacentHTML("afterbegin",Ss(this)),t.firstElementChild},this.timeouts=[],this._registerTimeout=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t;"function"===typeof n&&(n=setTimeout(n,e)),this.timeouts.push(n)},this._clearTimeouts=function(){T(this.timeouts,(t=>{clearTimeout(t)}))},this.immediates=[],this._registerImmediate=function(t){this.immediates.push(setImmediate(t))},this._clearImmediates=function(){T(this.immediates,(t=>{clearImmediate(t)}))},this._refreshBorders=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c.destroyEditor(t),r.view.render(),e&&L.isSelected()&&c.prepareEditor()},this._getEditorManager=function(){return c},this.isRtl=function(){return"rtl"===r.rootWindow.getComputedStyle(r.rootElement).direction},this.isLtr=function(){return!r.isRtl()},this.getDirectionFactor=function(){return r.isLtr()?1:-1};const $=g_({handleEvent(){return r.isListening()},beforeKeyDown:t=>this.runHooks("beforeKeyDown",t),afterKeyDown:t=>{this.isDestroyed||r.runHooks("afterDocumentKeyDown",t)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",(t=>{!1===t.ctrlKey&&!1===t.metaKey&&$.releasePressedKeys()})),this.getShortcutManager=function(){return $},this.getFocusManager=function(){return d},Ks().forEach((t=>{const e=qs(t);w.addItem(t,new e(this))})),ly(r),$.setActiveContextName("grid"),Mi.getSingleton().run(r,"construct")}const uy="hooksRefRegisterer",fy={_hooksStorage:Object.create(null),addHook(t,e){return this._hooksStorage[t]||(this._hooksStorage[t]=[]),this.hot.addHook(t,e),this._hooksStorage[t].push(e),this},removeHooksByKey(t){T(this._hooksStorage[t]||[],(e=>{this.hot.removeHook(t,e)}))},clearHooks(){Mn(this._hooksStorage,((t,e)=>this.removeHooksByKey(e))),this._hooksStorage={}}};bn(fy,"MIXIN_NAME",uy,{writable:!1,enumerable:!1});var my=fy;function gy(t,e,n){return e=py(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function py(t){var e=_y(t,"string");return"symbol"==typeof e?e:e+""}function _y(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}const yy="base",wy=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),vy="baseEditor";class by{static get EDITOR_TYPE(){return yy}constructor(t){gy(this,"hot",void 0),gy(this,"state",wy.VIRGIN),gy(this,"_opened",!1),gy(this,"_fullEditMode",!1),gy(this,"_closeCallback",null),gy(this,"TD",null),gy(this,"row",null),gy(this,"col",null),gy(this,"prop",null),gy(this,"originalValue",null),gy(this,"cellProperties",null),this.hot=t,this.init()}_fireCallbacks(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(t,e,n,i,s,r){this.TD=i,this.row=t,this.col=e,this.prop=n,this.originalValue=s,this.cellProperties=r,this.state=wy.VIRGIN}extend(){return class extends this.constructor{}}saveValue(t,e){let n,i,s,r;if(e){const t=this.hot.getSelectedLast();n=Math.max(Math.min(t[0],t[2]),0),i=Math.max(Math.min(t[1],t[3]),0),s=Math.max(t[0],t[2]),r=Math.max(t[1],t[3])}else[n,i,s,r]=[this.row,this.col,null,null];const o=this.hot.runHooks("modifyGetCellCoords",n,i);Array.isArray(o)&&([n,i]=o);const a=this.hot.getShortcutManager(),l=a.getContext("editor"),h={runOnlyIf:()=>F(this.hot.getSelected()),group:vy};this.isInFullEditMode()&&l.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{this.hot.selection.transformStart(-1,0)}},{keys:[["ArrowDown"]],callback:()=>{this.hot.selection.transformStart(1,0)}},{keys:[["ArrowLeft"]],callback:()=>{this.hot.selection.transformStart(0,-1*this.hot.getDirectionFactor())}},{keys:[["ArrowRight"]],callback:()=>{this.hot.selection.transformStart(0,this.hot.getDirectionFactor())}}],h),this.hot.populateFromArray(n,i,t,s,r,"edit")}beginEditing(t,e){if(this.state!==wy.VIRGIN)return;const n=this.hot,i=n.rowIndexMapper.getRenderableFromVisualIndex(this.row),s=n.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(n.view.scrollViewport(n._createCellCoords(i,s)),this.state=wy.EDITING,this.isInFullEditMode()){const e="string"===typeof t?t:N(this.originalValue);this.setValue(e)}this.open(e),this._opened=!0,this.focus(),n.view.render(),n.runHooks("afterBeginEditing",this.row,this.col)}finishEditing(t,e,n){let i;if(n){const t=this._closeCallback;this._closeCallback=e=>{t&&t(e),n(e),this.hot.view.render()}}if(this.isWaiting())return;const s=this.hot.getShortcutManager(),r=s.getContext("editor");if(r.removeShortcutsByGroup(vy),r.removeShortcutsByGroup(qi),this.state!==wy.VIRGIN){if(this.state===wy.EDITING){if(t)return this.cancelChanges(),void this.hot.view.render();const n=this.getValue();i=this.cellProperties.trimWhitespace?[["string"===typeof n?String.prototype.trim.call(n||""):n]]:[[n]],this.state=wy.WAITING,this.saveValue(i,e),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",(t=>{this.state=wy.FINISHED,this.discardEditor(t)})):(this.state=wy.FINISHED,this.discardEditor(!0))}}else this.hot._registerTimeout((()=>{this._fireCallbacks(!0)}))}cancelChanges(){this.state=wy.FINISHED,this.discardEditor()}discardEditor(t){if(this.state===wy.FINISHED)if(!1===t&&!0!==this.cellProperties.allowInvalid)this.hot.selectCell(this.row,this.col),this.focus(),this.state=wy.EDITING,this._fireCallbacks(!1);else{this.close(),this._opened=!1,this._fullEditMode=!1,this.state=wy.VIRGIN,this._fireCallbacks(!0);const t=this.hot.getShortcutManager();t.setActiveContextName("grid")}}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===wy.WAITING}getEditedCellRect(){var t;const e=this.getEditedCell();if(!e)return;const{wtOverlays:n,wtViewport:i}=this.hot.view._wt,s=this.hot.rootWindow,r=_e(e),o=Ee(e),a=_e(this.hot.rootElement),l=Ee(this.hot.rootElement),h=n.topOverlay.holder,c=n.inlineStartOverlay.holder,d=h!==s?h.scrollTop:0,u=c!==s?c.scrollLeft:0,f=s.innerWidth-a.left-l,{wtTable:m}=null!==(t=n.getParentOverlay(e))&&void 0!==t?t:this.hot.view._wt,g=m.name,p=["master","inline_start"].includes(g)?d:0,_=["master","top","bottom"].includes(g)?u:0,y=r.top===a.top?0:1;let w=r.top-a.top-y-p,v=0;v=this.hot.isRtl()?s.innerWidth-r.left-o-f-1+_:r.left-a.left-1-_,["top","top_inline_start_corner"].includes(g)&&(w+=n.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(g)&&(v+=Math.abs(n.inlineStartOverlay.getOverlayOffset()));const b=this.hot.hasColHeaders(),M=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),S=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),C=this.hot.rowIndexMapper.getRenderableIndexesLength(),x=C-this.hot.view._wt.getSetting("fixedRowsBottom");(b&&M<=0||M===x)&&(w+=1),S<=0&&(v+=1);const T=i.rowsRenderCalculator.startPosition,k=i.columnsRenderCalculator.startPosition,L=Math.abs(n.inlineStartOverlay.getScrollPosition()),E=n.topOverlay.getScrollPosition(),R=Ve(this.hot.rootDocument);let A=e.offsetTop;if(["inline_start","master"].includes(g)&&(A+=T-E),["bottom","bottom_inline_start_corner"].includes(g)){const{wtViewport:t,wtTable:e}=n.bottomOverlay.clone;A+=t.getWorkspaceHeight()-e.getHeight()-R}let D=e.offsetLeft;this.hot.isRtl()?(D=D>=0?m.getWidth()-e.offsetLeft:Math.abs(D),D+=k-L-o):["top","master","bottom"].includes(g)&&(D+=k-L);const H=Le(this.TD,this.hot.rootWindow),P=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",I=parseInt(H[P],10)>0?0:1,O=parseInt(H.borderTopWidth,10)>0?0:1,Y=Ee(e)+I,N=Re(e)+O,F=Be(h)?R:0,j=ze(c)?R:0,W=this.hot.view.maximumVisibleElementWidth(D)-F+I,V=Math.max(this.hot.view.maximumVisibleElementHeight(A)-j+O,23);return{top:w,start:v,height:N,maxHeight:V,width:Y,maxWidth:W}}getEditedCellsLayerClass(){const t=this.checkEditorSection();switch(t){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){const t=this.hot.countRows();let e="";return this.row<this.hot.getSettings().fixedRowsTop?e=this.col<this.hot.getSettings().fixedColumnsStart?"top-inline-start-corner":"top":this.hot.getSettings().fixedRowsBottom&&this.row>=t-this.hot.getSettings().fixedRowsBottom?e=this.col<this.hot.getSettings().fixedColumnsStart?"bottom-inline-start-corner":"bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(e="inline-start"),e}}function My(t,e,n){t.addEventListener(e,n,!1)}function Sy(t,e,n){t.removeEventListener(e,n,!1)}function Cy(t){return t.ownerDocument.defaultView.getComputedStyle(t)}function xy(t){const e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=t.body,i=t.createTextNode(""),s=t.createElement("span");let r;function o(){i.textContent=r.value,s.style.position="absolute",s.style.fontSize=Cy(r).fontSize,s.style.fontFamily=Cy(r).fontFamily,s.style.whiteSpace="pre",n.appendChild(s);const t=s.clientWidth+2;n.removeChild(s);const o=r.style;o.height=`${e.minHeight}px`,e.minWidth>t?o.width=`${e.minWidth}px`:t>e.maxWidth?o.width=`${e.maxWidth}px`:o.width=`${t}px`;const a=r.scrollHeight?r.scrollHeight-1:0;e.minHeight>a?o.height=`${e.minHeight}px`:e.maxHeight<a?(o.height=`${e.maxHeight}px`,o.overflowY="visible"):o.height=`${a}px`}function a(){t.defaultView.setTimeout(o,0)}function l(t){if(t&&t.minHeight)if("inherit"===t.minHeight)e.minHeight=r.clientHeight;else{const n=parseInt(t.minHeight,10);isNaN(n)||(e.minHeight=n)}if(t&&t.maxHeight)if("inherit"===t.maxHeight)e.maxHeight=r.clientHeight;else{const n=parseInt(t.maxHeight,10);isNaN(n)||(e.maxHeight=n)}if(t&&t.minWidth)if("inherit"===t.minWidth)e.minWidth=r.clientWidth;else{const n=parseInt(t.minWidth,10);isNaN(n)||(e.minWidth=n)}if(t&&t.maxWidth)if("inherit"===t.maxWidth)e.maxWidth=r.clientWidth;else{const n=parseInt(t.maxWidth,10);isNaN(n)||(e.maxWidth=n)}s.firstChild||(s.className="autoResize",s.style.display="inline-block",s.appendChild(i))}function h(t,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r=t,l(n),"TEXTAREA"===r.nodeName&&(r.style.resize="none",r.style.height=`${e.minHeight}px`,r.style.minWidth=`${e.minWidth}px`,r.style.maxWidth=`${e.maxWidth}px`,r.style.overflowY="hidden"),i&&(My(r,"input",o),My(r,"keydown",a)),o()}return{init:h,resize:o,unObserve(){Sy(r,"input",o),Sy(r,"keydown",a)}}}function Ty(t,e){const n=Ie(e),i=e.value.split("\n");let s=n,r=0;for(let o=0;o<i.length;o++){const e=i[o];0!==o&&(r+=i[o-1].length+1);const a=r+e.length;if("home"===t?s=r:"end"===t&&(s=a),n<=a)break}Fe(e,s)}function ky(t,e,n){return e=Ly(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ly(t){var e=Ey(t,"string");return"symbol"==typeof e?e:e+""}function Ey(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}yn(by,my);const Ry="ht_editor_visible",Ay="ht_editor_hidden",Dy="textEditor",Hy="text";class Py extends by{static get EDITOR_TYPE(){return Hy}constructor(t){super(t),ky(this,"eventManager",new Wi(this)),ky(this,"autoResize",xy(this.hot.rootDocument)),ky(this,"TEXTAREA",void 0),ky(this,"textareaStyle",void 0),ky(this,"TEXTAREA_PARENT",void 0),ky(this,"textareaParentStyle",void 0),ky(this,"layerClass",void 0),this.eventManager=new Wi(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",(()=>this.destroy()))}getValue(){return this.TEXTAREA.value}setValue(t){this.TEXTAREA.value=t}open(){this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this.autoResize.unObserve(),qt(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(t,e,n,i,s,r){const o=this.state;if(super.prepare(t,e,n,i,s,r),!r.readOnly){this.refreshDimensions(!0);const{allowInvalid:t}=r;t&&(this.TEXTAREA.value=""),o!==wy.FINISHED&&this.hideEditableElement()}}beginEditing(t,e){this.state===wy.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(t,e))}focus(){this.TEXTAREA.select(),Fe(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){const{rootDocument:t}=this.hot;this.TEXTAREA=t.createElement("TEXTAREA"),he(this.TEXTAREA,[["data-hot-input",""],ht(-1)]),this.hot.getSettings().ariaTags&&he(this.TEXTAREA,[kt()]),ae(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=t.createElement("DIV"),ae(this.TEXTAREA_PARENT,"handsontableInputHolder"),oe(this.TEXTAREA_PARENT,this.layerClass)&&le(this.TEXTAREA_PARENT,this.layerClass),ae(this.TEXTAREA_PARENT,Ay),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){zn()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",le(this.TEXTAREA_PARENT,this.layerClass),ae(this.TEXTAREA_PARENT,Ay)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="";const t=this.TEXTAREA_PARENT.childNodes;let e=!1;Ls(t.length-1,(n=>{const i=t[n];if(oe(i,"handsontableEditor"))return e=!0,!1})),oe(this.TEXTAREA_PARENT,Ay)&&le(this.TEXTAREA_PARENT,Ay),e?(this.layerClass=Ry,ae(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),ae(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){const t=this.hot.toPhysicalRow(this.row),e=this.hot.getSourceDataAtCell(t,this.col);this.originalValue=e,this.setValue(e),this.refreshDimensions()}refreshDimensions(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state!==wy.EDITING&&!t)return;if(this.TD=this.getEditedCell(),!this.TD)return void(t||this.close());const{top:e,start:n,width:i,maxWidth:s,height:r,maxHeight:o}=this.getEditedCellRect();this.textareaParentStyle.top=`${e}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${n}px`,this.showEditableElement();const a=Le(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=a.fontSize,this.TEXTAREA.style.fontFamily=a.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;const l=Le(this.TEXTAREA),h=parseInt(l.paddingLeft,10)+parseInt(l.paddingRight,10),c=parseInt(l.paddingTop,10)+parseInt(l.paddingBottom,10),d=i-h,u=r-c,f=s-h,m=o-c;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(d,f),minHeight:Math.min(u,m),maxWidth:f,maxHeight:m},!0)}bindEvents(){Gn()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",(()=>this.finishEditing(!1))),this.addHook("afterScrollHorizontally",(()=>this.refreshDimensions())),this.addHook("afterScrollVertically",(()=>this.refreshDimensions())),this.addHook("afterColumnResize",(()=>{this.refreshDimensions(),this.state===wy.EDITING&&this.focus()})),this.addHook("afterRowResize",(()=>{this.refreshDimensions(),this.state===wy.EDITING&&this.focus()}))}allowKeyEventPropagation(){}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){const t=this.hot.getShortcutManager(),e=t.getContext("editor"),n=t.getContext("grid"),i={runOnlyIf:()=>F(this.hot.getSelected()),group:Dy},s=()=>{this.hot.rootDocument.execCommand("insertText",!1,"\n")};e.addShortcuts([{keys:[["Tab"],["Shift","Tab"],["PageUp"],["PageDown"]],forwardToContext:n,callback:()=>{}},{keys:[["Control","Enter"]],callback:()=>(s(),!1),runOnlyIf:t=>!this.hot.selection.isMultiple()&&!t.altKey},{keys:[["Meta","Enter"]],callback:()=>(s(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(s(),!1)},{keys:[["Home"]],callback:(t,e)=>{let[n]=e;Ty(n,this.TEXTAREA)}},{keys:[["End"]],callback:(t,e)=>{let[n]=e;Ty(n,this.TEXTAREA)}}],i)}unregisterShortcuts(){const t=this.hot.getShortcutManager(),e=t.getContext("editor");e.removeShortcutsByGroup(qi),e.removeShortcutsByGroup(Dy),e.removeShortcutsByGroup(vy)}}const Iy="base";function Oy(t,e,n,i,s,r,o){const a=o.ariaTags,l=[],h=[],c=[],d=[];o.className&&ae(e,o.className),o.readOnly?(l.push(o.readOnlyCellClassName),a&&d.push(Yt())):a&&c.push(Yt()[0]),!1===o.valid&&o.invalidCellClassName?(l.push(o.invalidCellClassName),a&&d.push(Nt())):(h.push(o.invalidCellClassName),a&&c.push(Nt()[0])),!1===o.wordWrap&&o.noWordWrapClassName&&l.push(o.noWordWrapClassName),!r&&o.placeholder&&l.push(o.placeholderCellClassName),le(e,h),ae(e,l),ce(e,c),he(e,d)}Oy.RENDERER_TYPE=Iy;const Yy="text";function Ny(t,e,n,i,s,r,o){Oy.apply(this,[t,e,n,i,s,r,o]);let a=r;if(!a&&o.placeholder&&(a=o.placeholder),a=N(a),o.trimWhitespace&&(a=a.trim()),o.rendererTemplate){ue(e);const i=t.rootDocument.createElement("TEMPLATE");i.setAttribute("bind","{{}}"),i.innerHTML=o.rendererTemplate,HTMLTemplateElement.decorate(i),i.model=t.getSourceDataAtRow(n),e.appendChild(i)}else ge(e,a)}Ny.RENDERER_TYPE=Yy;const Fy="text",jy={CELL_TYPE:Fy,editor:Py,renderer:Ny};function Wy(t,e){const n=new dy(t,e||{},gc);return n.init(),n}Vg(jy),Wy.editors={BaseEditor:by},Wy.Core=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new dy(t,e,gc)},Wy.DefaultSettings=qg(),Wy.hooks=Mi.getSingleton(),Wy.CellCoords=Va,Wy.CellRange=Qa,Wy.packageName="handsontable",Wy.buildDate="16/04/2024 10:23:22",Wy.version="14.3.0",Wy.languages={dictionaryKeys:Uf,getLanguageDictionary:Qf,getLanguagesDictionaries:em,registerLanguageDictionary:Jf,getTranslatedPhrase:nm};var Vy=Wy;const By="handsontableEditor",zy="handsontable";class Uy extends Py{static get EDITOR_TYPE(){return zy}open(){super.open(),this.htEditor&&this.htEditor.destroy(),"none"===this.htContainer.style.display&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),Fe(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(t,e,n,i,s,r){super.prepare(t,e,n,i,s,r);const o=this,a={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,afterOnCellMouseDown(t,e){const n=this.getSourceData(e.row,e.col);void 0!==n&&o.setValue(n),o.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&mn(a,r.handsontable),this.htOptions=a}beginEditing(t,e){const n=this.hot.getSettings().onBeginEditing;n&&!1===n()||super.beginEditing(t,e)}createElements(){super.createElements();const t=this.hot.rootDocument.createElement("DIV");t.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(t),this.htContainer=t,this.assignHooks()}finishEditing(t,e,n){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){const t=this.htEditor.getValue();void 0!==t&&this.setValue(t)}super.finishEditing(t,e,n)}assignHooks(){this.hot.addHook("afterDestroy",(()=>{this.htEditor&&this.htEditor.destroy()}))}registerShortcuts(){const t=this.hot.getShortcutManager(),e=t.getContext("editor");super.registerShortcuts();const n={group:By,relativeToGroup:qi,position:"before"},i=(t,e)=>{const n=this.htEditor;if(void 0!==t&&(t<0||n.flipped&&t>n.countRows()-1?n.deselectCell():n.selectCell(t,0),n.getData().length))return e.preventDefault(),ri(e),this.hot.listen(),this.TEXTAREA.focus(),!1};e.addShortcuts([{keys:[["ArrowUp"]],callback:t=>{const e=this.htEditor;let n,s;return!e.getSelectedLast()&&e.flipped?n=e.countRows()-1:e.getSelectedLast()&&(e.flipped?(s=e.getSelectedLast()[0],n=Math.max(0,s-1)):(s=e.getSelectedLast()[0],n=s-1)),i(n,t)},preventDefault:!1},{keys:[["ArrowDown"]],callback:t=>{const e=this.htEditor;let n,s;if(e.getSelectedLast()||e.flipped){if(e.getSelectedLast())if(e.flipped)n=e.getSelectedLast()[0]+1;else if(!e.flipped){const t=e.countRows()-1;s=e.getSelectedLast()[0],n=Math.min(t,s+1)}}else n=0;return i(n,t)},preventDefault:!1}],n)}unregisterShortcuts(){super.unregisterShortcuts();const t=this.hot.getShortcutManager(),e=t.getContext("editor");e.removeShortcutsByGroup(By)}}function $y(t,e,n){Gy(t,e),e.set(t,n)}function Gy(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ky(t,e,n){return e=qy(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qy(t){var e=Xy(t,"string");return"symbol"==typeof e?e:e+""}function Xy(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Jy(t,e){return t.get(Zy(t,e))}function Zy(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Qy="autocomplete";var tw=new WeakMap;class ew extends Uy{constructor(){super(...arguments),Ky(this,"query",null),Ky(this,"strippedChoices",[]),Ky(this,"rawChoices",[]),$y(this,tw,this.hot.guid.slice(0,9)),Ky(this,"sortByRelevance",(function(t,e,n){const i=[],s=[],r=t.length;let o,a,l,h,c=e.length;if(0===r){for(l=0;l<c;l++)s.push(l);return s}for(l=0;l<c;l++){if(a=at(N(e[l])),n)h=a.indexOf(t);else{const e=this.cellProperties.locale;h=a.toLocaleLowerCase(e).indexOf(t.toLocaleLowerCase(e))}-1!==h&&(o=a.length-h-r,i.push({baseIndex:l,index:h,charsLeft:o,value:a}))}for(i.sort(((t,e)=>{if(-1===e.index)return-1;if(-1===t.index)return 1;if(t.index<e.index)return-1;if(e.index<t.index)return 1;if(t.index===e.index){if(t.charsLeft<e.charsLeft)return-1;if(t.charsLeft>e.charsLeft)return 1}return 0})),l=0,c=i.length;l<c;l++)s.push(i[l].baseIndex);return s}))}static get EDITOR_TYPE(){return Qy}getValue(){const t=this.rawChoices.find((t=>{const e=this.stripValueIfNeeded(t);return e===this.TEXTAREA.value}));return F(t)?t:this.TEXTAREA.value}createElements(){super.createElements(),ae(this.htContainer,"autocompleteEditor"),ae(this.htContainer,-1===this.hot.rootWindow.navigator.platform.indexOf("Mac")?"":"htMacScroll"),this.hot.getSettings().ariaTags&&he(this.TEXTAREA,[xt(),wt(),Rt("listbox"),Wt()])}prepare(t,e,n,i,s,r){super.prepare(t,e,n,i,s,r),this.hot.getSettings().ariaTags&&he(this.TEXTAREA,[It("false"),Vt(`${Jy(tw,this)}-listbox-${t}-${e}`)])}open(){super.open();const t=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown,e=this.hot.getSettings().ariaTags,n=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,i=null===n||void 0===n?void 0:n.length,{row:s,col:r}=this;this.showEditableElement(),this.focus();let o=Ve();0===o&&Xn()&&(o+=15),this.addHook("beforeKeyDown",(t=>this.onBeforeKeyDown(t))),this.htEditor.updateSettings({colWidths:t?[Ee(this.TEXTAREA)-2]:void 0,width:t?Ee(this.TEXTAREA)+o:void 0,autoColumnSize:!0,renderer:(t,s,r,o,a,l,h)=>{Ny(t,s,r,o,a,l,h);const{filteringCaseSensitive:c,allowHtml:d,locale:u}=this.cellProperties,f=this.query;let m,g,p=N(l);p&&!d&&(m=!0===c?p.indexOf(f):p.toLocaleLowerCase(u).indexOf(f.toLocaleLowerCase(u)),-1!==m&&(g=p.substr(m,f.length),p=p.replace(g,`<strong>${g}</strong>`))),e&&he(s,[bt(),...n?[$t(i)]:[],...n?[Gt(n.indexOf(l)+1)]:[],["id",`${this.htEditor.rootElement.id}_${r}-${o}`]]),s.innerHTML=p},afterSelectionEnd:(t,n)=>{if(e){const e=this.htEditor.getCell(t,n,!0);he(e,[jt()]),he(this.TEXTAREA,...Bt(e.id))}}}),e&&(he(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,...dt()),he(this.htEditor.rootElement,[vt(),zt("polite"),Ut("text"),["id",`${Jy(tw,this)}-listbox-${s}-${r}`]]),he(this.TEXTAREA,...It("true"))),this.hot._registerTimeout((()=>{this.queryChoices(this.TEXTAREA.value)}))}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&he(this.TEXTAREA,[It("false")])}discardEditor(t){super.discardEditor(t),this.hot.view.render()}queryChoices(t){const e=this.cellProperties.source;this.query=t,"function"===typeof e?e.call(this.cellProperties,t,(t=>{this.rawChoices=t,this.updateChoicesList(this.stripValuesIfNeeded(t))})):Array.isArray(e)?(this.rawChoices=e,this.updateChoicesList(this.stripValuesIfNeeded(e))):this.updateChoicesList([])}updateChoicesList(t){const e=Ie(this.TEXTAREA),n=Oe(this.TEXTAREA),i=this.cellProperties.sortByRelevance,s=this.cellProperties.filter;let r=null,o=null,a=t;i&&(r=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),a,this.cellProperties.filteringCaseSensitive));const l=Array.isArray(r)?r.length:0;if(!1===s)l&&(o=r[0]);else{const t=[];for(let e=0,n=a.length;e<n;e++){if(i&&l<=e)break;l?t.push(a[r[e]]):t.push(a[e])}o=0,a=t}this.strippedChoices=a,this.htEditor.loadData(M([a])),0===a.length?this.htEditor.rootElement.style.display="none":(this.htEditor.rootElement.style.display="",this.updateDropdownHeight(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(o)),this.hot.listen(),Fe(this.TEXTAREA,e,e===n?void 0:n)}flipDropdownIfNeeded(){const t=xe(this.hot.view._wt.wtTable.TABLE),e=t===this.hot.rootWindow,n=this.cellProperties.preventOverflow;if(e||!e&&(n||"horizontal"===n))return!1;const i=_e(this.TEXTAREA),s=Re(this.TEXTAREA),r=this.getDropdownHeight(),o=t.scrollTop,a=Re(this.hot.view._wt.wtTable.THEAD),l=_e(t),h=i.top-l.top-a+o,c=t.scrollHeight-h-a-s,d=r>c&&h>c;return d?this.flipDropdown(r):this.unflipDropdown(),this.limitDropdownIfNeeded(d?h:c,r),d}limitDropdownIfNeeded(t,e){if(e>t){let n=0,i=0,s=0,r=null;do{s=this.htEditor.getRowHeight(i)||this.htEditor.view._wt.getSetting("defaultRowHeight"),n+=s,i+=1}while(n<t);r=n-s,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=parseInt(this.htEditor.rootElement.style.top,10)+e-r+"px"),this.setDropdownHeight(n-s)}}flipDropdown(t){const e=this.htEditor.rootElement.style;e.position="absolute",e.top=-t+"px",this.htEditor.flipped=!0}unflipDropdown(){const t=this.htEditor.rootElement.style;t.position="absolute",t.top="",this.htEditor.flipped=void 0}updateDropdownHeight(){const t=this.htEditor.getColWidth(0)+Ve(this.hot.rootDocument)+2,e=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:e?void 0:t}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(t){this.htEditor.updateSettings({height:t})}highlightBestMatchingChoice(t){"number"===typeof t?this.htEditor.selectCell(t,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getDropdownHeight(){const t=this.htEditor.getRowHeight(0)||23,e=this.cellProperties.visibleRows;return this.strippedChoices.length>=e?e*t:this.strippedChoices.length*t+8}stripValueIfNeeded(t){return this.stripValuesIfNeeded([t])[0]}stripValuesIfNeeded(t){const{allowHtml:e}=this.cellProperties,n=x(t,(t=>N(t))),i=x(n,(t=>e?t:at(t)));return i}allowKeyEventPropagation(t){const e=this.htEditor.getSelectedRangeLast(),n={row:e?e.from.row:-1};let i=!1;return t===Zn.ARROW_DOWN&&n.row>0&&n.row<this.htEditor.countRows()-1&&(i=!0),t===Zn.ARROW_UP&&n.row>-1&&(i=!0),i}onBeforeKeyDown(t){if(ti(t.keyCode)||t.keyCode===Zn.BACKSPACE||t.keyCode===Zn.DELETE||t.keyCode===Zn.INSERT){let e=10;if(t.keyCode===Zn.C&&(t.ctrlKey||t.metaKey))return;this.isOpened()||(e+=10),this.htEditor&&this.hot._registerTimeout((()=>{this.queryChoices(this.TEXTAREA.value)}),e)}}}const nw="checkbox";class iw extends by{static get EDITOR_TYPE(){return nw}beginEditing(t,e){if(e&&"mouseup"===e.type&&"TD"===e.target.nodeName){const t=this.TD.querySelector('input[type="checkbox"]');oe(t,"htBadValue")||t.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}}
/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */
const sw=()=>window,rw=()=>window.document,ow=(t,e)=>window.setTimeout(t,e),aw=function(t,e,n,i){t.addEventListener(e,n,!!i)},lw=function(t,e,n,i){t.removeEventListener(e,n,!!i)},hw=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},cw=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},dw=function(t,e){cw(t,e)||(t.className=""===t.className?e:t.className+" "+e)},uw=function(t,e){t.className=hw((" "+t.className+" ").replace(" "+e+" "," "))},fw=function(t){return/Array/.test(Object.prototype.toString.call(t))},mw=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},gw=function(t){let e=t.getDay();return 0===e||6===e},pw=function(t){return t%4===0&&t%100!==0||t%400===0},_w=function(t,e){return[31,pw(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},yw=function(t){mw(t)&&t.setHours(0,0,0,0)},ww=function(t,e){return t.getTime()===e.getTime()},vw=function(t,e,n){let i,s;for(i in e)s=void 0!==t[i],s&&"object"===typeof e[i]&&null!==e[i]&&void 0===e[i].nodeName?mw(e[i])?n&&(t[i]=new Date(e[i].getTime())):fw(e[i])?n&&(t[i]=e[i].slice(0)):t[i]=vw({},e[i],n):!n&&s||(t[i]=e[i]);return t},bw=function(t,e,n){let i=rw().createEvent("HTMLEvents");i.initEvent(e,!0,!1),i=vw(i,n),t.dispatchEvent(i)},Mw=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},Sw={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},Cw=function(t,e,n){e+=t.firstDay;while(e>=7)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},xw=function(t){let e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},Tw=function(t,e){t.setHours(0,0,0,0);let n=t.getDate(),i=t.getDay(),s=e,r=s-1,o=7,a=function(t){return(t+o-1)%o};t.setDate(n+r-a(i));let l=new Date(t.getFullYear(),0,s),h=864e5,c=(t.getTime()-l.getTime())/h,d=1+Math.round((c-r+a(l.getDay()))/o);return d},kw=function(t,e,n,i,s){let r=new Date(i,n,e),o=t.hasMoment?t.moment(r).isoWeek():Tw(r,s);return'<td class="pika-week">'+o+"</td>"},Lw=function(t,e,n,i){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(i?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},Ew=function(t){return"<tbody>"+t.join("")+"</tbody>"},Rw=function(t){let e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+Cw(t,e)+'">'+Cw(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"},Aw=function(t,e,n,i,s,r){let o,a,l,h,c,d=t._o,u=n===d.minYear,f=n===d.maxYear,m='<div id="'+r+'" class="pika-title" role="heading" aria-live="polite">',g=!0,p=!0;for(l=[],o=0;o<12;o++)l.push('<option value="'+(n===s?o-e:12+o-e)+'"'+(o===i?' selected="selected"':"")+(u&&o<d.minMonth||f&&o>d.maxMonth?' disabled="disabled"':"")+">"+d.i18n.months[o]+"</option>");for(h='<div class="pika-label">'+d.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",fw(d.yearRange)?(o=d.yearRange[0],a=d.yearRange[1]+1):(o=n-d.yearRange,a=1+n+d.yearRange),l=[];o<a&&o<=d.maxYear;o++)o>=d.minYear&&l.push('<option value="'+o+'"'+(o===n?' selected="selected"':"")+">"+o+"</option>");return c='<div class="pika-label">'+n+d.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",d.showMonthAfterYear?m+=c+h:m+=h+c,u&&(0===i||d.minMonth>=i)&&(g=!1),f&&(11===i||d.maxMonth<=i)&&(p=!1),0===e&&(m+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+d.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(m+='<button class="pika-next'+(p?"":" is-disabled")+'" type="button">'+d.i18n.nextMonth+"</button>"),m+"</div>"},Dw=function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+Rw(t)+Ew(e)+"</table>"};function Hw(t){let e=this,n=e.config(t);e._onMouseDown=function(t){if(!e._v)return;t=t||sw().event;let i=t.target||t.srcElement;if(i)if(cw(i,"is-disabled")||(!cw(i,"pika-button")||cw(i,"is-empty")||cw(i.parentNode,"is-disabled")?cw(i,"pika-prev")?e.prevMonth():cw(i,"pika-next")&&e.nextMonth():(e.setDate(new Date(i.getAttribute("data-pika-year"),i.getAttribute("data-pika-month"),i.getAttribute("data-pika-day"))),n.bound&&ow((function(){e.hide(),n.blurFieldOnSelect&&n.field&&n.field.blur()}),100))),cw(i,"pika-select"))e._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}},e._onChange=function(t){t=t||sw().event;let n=t.target||t.srcElement;n&&(cw(n,"pika-select-month")?e.gotoMonth(n.value):cw(n,"pika-select-year")&&e.gotoYear(n.value))},e._onKeyChange=function(t){if(t=t||sw().event,e.isVisible())switch(t.keyCode){case 13:case 27:n.field&&n.field.blur();break;case 37:e.adjustDate("subtract",1);break;case 38:e.adjustDate("subtract",7);break;case 39:e.adjustDate("add",1);break;case 40:e.adjustDate("add",7);break;case 8:case 46:e.setDate(null);break}},e._parseFieldValue=function(){if(n.parse)return n.parse(n.field.value,n.format);if(this.hasMoment){let t=this.moment(n.field.value,n.format,n.formatStrict);return t&&t.isValid()?t.toDate():null}return new Date(Date.parse(n.field.value))},e._onInputChange=function(t){let n;t.firedBy!==e&&(n=e._parseFieldValue(),mw(n)&&e.setDate(n),e._v||e.show())},e._onInputFocus=function(){e.show()},e._onInputClick=function(){e.show()},e._onInputBlur=function(){let t=rw().activeElement;do{if(cw(t,"pika-single"))return}while(t=t.parentNode);e._c||(e._b=ow((function(){e.hide()}),50)),e._c=!1},e._onClick=function(t){t=t||sw().event;let i=t.target||t.srcElement,s=i;if(i){!hasEventListeners&&cw(i,"pika-select")&&(i.onchange||(i.setAttribute("onchange","return;"),aw(i,"change",e._onChange)));do{if(cw(s,"pika-single")||s===n.trigger)return}while(s=s.parentNode);e._v&&i!==n.trigger&&s!==n.trigger&&e.hide()}},e.el=rw().createElement("div"),e.el.className="pika-single"+(n.isRTL?" is-rtl":"")+(n.theme?" "+n.theme:""),aw(e.el,"mousedown",e._onMouseDown,!0),aw(e.el,"touchend",e._onMouseDown,!0),aw(e.el,"change",e._onChange),n.keyboardInput&&aw(rw(),"keydown",e._onKeyChange),n.field&&(n.container?n.container.appendChild(e.el):n.bound?rw().body.appendChild(e.el):n.field.parentNode.insertBefore(e.el,n.field.nextSibling),aw(n.field,"change",e._onInputChange),n.defaultDate||(n.defaultDate=e._parseFieldValue(),n.setDefaultDate=!0));let i=n.defaultDate;mw(i)?n.setDefaultDate?e.setDate(i,!0):e.gotoDate(i):e.gotoDate(new Date),n.bound?(this.hide(),e.el.className+=" is-bound",aw(n.trigger,"click",e._onInputClick),aw(n.trigger,"focus",e._onInputFocus),aw(n.trigger,"blur",e._onInputBlur)):this.show()}function Pw(t,e,n){return e=Iw(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iw(t){var e=Ow(t,"string");return"symbol"==typeof e?e:e+""}function Ow(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}Hw.prototype={config:function(t){this._o||(this._o=vw({},Sw,!0));let e=vw(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"===typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"===typeof e.disableDayFn?e.disableDayFn:null;let n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,mw(e.minDate)||(e.minDate=!1),mw(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),fw(e.yearRange)){let t=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||t,e.yearRange[1]=parseInt(e.yearRange[1],10)||t}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||Sw.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(t){return t=t||this._o.format,mw(this._d)?this._o.toString?this._o.toString(this._d,t):this.hasMoment?this.moment(this._d).format(t):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(t,e){this.hasMoment&&this.moment.isMoment(t)&&this.setDate(t.toDate(),e)},useMoment:function(t){this.hasMoment=!0,this.moment=t},getDate:function(){return mw(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",bw(this._o.field,"change",{firedBy:this})),this.draw();if("string"===typeof t&&(t=new Date(Date.parse(t))),!mw(t))return;let n=this._o.minDate,i=this._o.maxDate;mw(n)&&t<n?t=n:mw(i)&&t>i&&(t=i),this._d=new Date(t.getTime()),yw(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),bw(this._o.field,"change",{firedBy:this})),e||"function"!==typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(t){let e=!0;if(mw(t)){if(this.calendars){let n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),s=t.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),e=s<n.getTime()||i.getTime()<s}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){let n,i=this.getDate()||new Date,s=24*parseInt(e)*60*60*1e3;"add"===t?n=new Date(i.valueOf()+s):"subtract"===t&&(n=new Date(i.valueOf()-s)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=Mw(this.calendars[0]);for(let t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=Mw({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(yw(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=Sw.minDate,this._o.minYear=Sw.minYear,this._o.minMonth=Sw.minMonth,this._o.startRange=Sw.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(yw(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=Sw.maxDate,this._o.maxYear=Sw.maxYear,this._o.maxMonth=Sw.maxMonth,this._o.endRange=Sw.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(!this._v&&!t)return;let e,n=this._o,i=n.minYear,s=n.maxYear,r=n.minMonth,o=n.maxMonth,a="";this._y<=i&&(this._y=i,!isNaN(r)&&this._m<r&&(this._m=r)),this._y>=s&&(this._y=s,!isNaN(o)&&this._m>o&&(this._m=o));for(let l=0;l<n.numberOfMonths;l++)e="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),a+='<div class="pika-lendar">'+Aw(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,e)+this.render(this.calendars[l].year,this.calendars[l].month,e)+"</div>";this.el.innerHTML=a,n.bound&&"hidden"!==n.field.type&&ow((function(){n.trigger.focus()}),1),"function"===typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)},adjustPosition:function(){let t,e,n,i,s,r,o,a,l,h,c;this._o.container||(this.el.style.position="absolute",t=this._o.trigger,e=this.el.offsetWidth,n=this.el.offsetHeight,i=sw().innerWidth||rw().documentElement.clientWidth,s=sw().innerHeight||rw().documentElement.clientHeight,r=rw().body.scrollTop||rw().documentElement.scrollTop,h=!0,c=!0,l=t.getBoundingClientRect(),o=l.left+sw().pageXOffset,a=l.bottom+sw().pageYOffset,(this._o.reposition&&o+e>i||this._o.position.indexOf("right")>-1&&o-e+t.offsetWidth>0)&&(o=o-e+t.offsetWidth,h=!1),(this._o.reposition&&a+n>s+r||this._o.position.indexOf("top")>-1&&a-n-t.offsetHeight>0)&&(a=a-n-t.offsetHeight,c=!1),o<0&&(o=0),a<0&&(a=0),this.el.style.left=o+"px",this.el.style.top=a+"px",dw(this.el,h?"left-aligned":"right-aligned"),dw(this.el,c?"bottom-aligned":"top-aligned"),uw(this.el,h?"right-aligned":"left-aligned"),uw(this.el,c?"top-aligned":"bottom-aligned"))},render:function(t,e,n){let i=this._o,s=new Date,r=_w(t,e),o=new Date(t,e,1).getDay(),a=[],l=[];yw(s),i.firstDay>0&&(o-=i.firstDay,o<0&&(o+=7));let h=0===e?11:e-1,c=11===e?0:e+1,d=0===e?t-1:t,u=11===e?t+1:t,f=_w(d,h),m=r+o,g=m;while(g>7)g-=7;m+=7-g;let p=!1;for(let _=0,y=0;_<m;_++){let n=new Date(t,e,_-o+1),m=!!mw(this._d)&&ww(n,this._d),g=ww(n,s),w=-1!==i.events.indexOf(n.toDateString()),v=_<o||_>=r+o,b=_-o+1,M=e,S=t,C=i.startRange&&ww(i.startRange,n),x=i.endRange&&ww(i.endRange,n),T=i.startRange&&i.endRange&&i.startRange<n&&n<i.endRange,k=i.minDate&&n<i.minDate||i.maxDate&&n>i.maxDate||i.disableWeekends&&gw(n)||i.disableDayFn&&i.disableDayFn(n);v&&(_<o?(b=f+b,M=h,S=d):(b-=r,M=c,S=u));let L={day:b,month:M,year:S,hasEvent:w,isSelected:m,isToday:g,isDisabled:k,isEmpty:v,isStartRange:C,isEndRange:x,isInRange:T,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:i.enableSelectionDaysInNextAndPreviousMonths};i.pickWholeWeek&&m&&(p=!0),l.push(xw(L)),7===++y&&(i.showWeekNumber&&l.unshift(kw(this,_-o,e,t,i.firstWeekOfYearMinDays)),a.push(Lw(l,i.isRTL,i.pickWholeWeek,p)),l=[],y=0,p=!1)}return Dw(i,a,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),uw(this.el,"is-hidden"),this._o.bound&&(aw(rw(),"click",this._onClick),this.adjustPosition()),"function"===typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){let t=this._v;!1!==t&&(this._o.bound&&lw(rw(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),dw(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"===typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){let t=this._o;this.hide(),lw(this.el,"mousedown",this._onMouseDown,!0),lw(this.el,"touchend",this._onMouseDown,!0),lw(this.el,"change",this._onChange),t.keyboardInput&&lw(rw(),"keydown",this._onKeyChange),t.field&&(lw(t.field,"change",this._onInputChange),t.bound&&(lw(t.trigger,"click",this._onInputClick),lw(t.trigger,"focus",this._onInputFocus),lw(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};const Yw="date",Nw="dateEditor";class Fw extends Py{constructor(){super(...arguments),Pw(this,"defaultDateFormat","DD/MM/YYYY"),Pw(this,"parentDestroyed",!1),Pw(this,"$datePicker",null)}static get EDITOR_TYPE(){return Yw}init(){if("function"!==typeof w)throw new Error("You need to include moment.js to your project.");if("function"!==typeof Hw)throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",(()=>{this.parentDestroyed=!0,this.destroyElements()}))}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),ae(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",(t=>{oe(t.target,"pika-day")&&this.hideDatepicker(),t.stopPropagation()}))}destroyElements(){const t=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),t&&t.removeChild(this.datePicker)}prepare(t,e,n,i,s,r){super.prepare(t,e,n,i,s,r)}open(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e=this.hot.getShortcutManager(),n=e.getContext("editor");this.showDatepicker(t),super.open(),n.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:Nw})}close(){var t;this._opened=!1,null!==(t=this.$datePicker)&&void 0!==t&&t.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout((()=>{this.hot._refreshBorders()}));const e=this.hot.getShortcutManager(),n=e.getContext("editor");n.removeShortcutsByGroup(Nw),super.close()}finishEditing(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.finishEditing(t,e)}showDatepicker(t){const e=this.cellProperties.dateFormat||this.defaultDateFormat,n=this.hot.view.isMouseDown(),i=!!t&&ei(t.keyCode);let s;this.datePicker.style.display="block",this.$datePicker=new Hw(this.getDatePickerConfig()),"function"===typeof this.$datePicker.useMoment&&this.$datePicker.useMoment(w),this.$datePicker._onInputFocus=function(){},this.originalValue?(s=this.originalValue,w(s,e,!0).isValid()&&this.$datePicker.setMoment(w(s,e),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),i||n||this.setValue("")):this.cellProperties.defaultDate?(s=this.cellProperties.defaultDate,w(s,e,!0).isValid()&&this.$datePicker.setMoment(w(s,e),!0),i||n||this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){const t=this.TEXTAREA,e={};this.cellProperties&&this.cellProperties.datePickerConfig&&gn(e,this.cellProperties.datePickerConfig);const n=e.onSelect,i=e.onClose;return e.field=t,e.trigger=t,e.container=this.datePicker,e.bound=!1,e.keyboardInput=!1,e.format=e.format||this.defaultDateFormat,e.reposition=e.reposition||!1,e.isRTL=!1,e.onSelect=t=>{let e=t;isNaN(e.getTime())||(e=w(e).format(this.cellProperties.dateFormat||this.defaultDateFormat)),this.setValue(e),n&&n()},e.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),i&&i()},e}refreshDimensions(t){var e;if(super.refreshDimensions(t),this.state!==wy.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD)return void this.hideDatepicker();const{rowIndexMapper:n,columnIndexMapper:i}=this.hot,{wtOverlays:s}=this.hot.view._wt,{wtTable:r}=null!==(e=s.getParentOverlay(this.TD))&&void 0!==e?e:this.hot.view._wt,o=n.getVisualFromRenderableIndex(r.getFirstPartiallyVisibleRow()),a=n.getVisualFromRenderableIndex(r.getLastPartiallyVisibleRow()),l=i.getVisualFromRenderableIndex(r.getFirstPartiallyVisibleColumn()),h=i.getVisualFromRenderableIndex(r.getLastPartiallyVisibleColumn());if(this.row>=o&&this.row<=a&&this.col>=l&&this.col<=h){const t=this.TD.getBoundingClientRect();this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+t.top+Re(this.TD)}px`;let e=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?e+=t.right-Ee(this.datePicker):e+=t.left,this.datePickerStyle.left=`${e}px`}else this.hideDatepicker()}}const jw="dropdown";class Ww extends ew{static get EDITOR_TYPE(){return jw}prepare(t,e,n,i,s,r){super.prepare(t,e,n,i,s,r),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}Mi.getSingleton().add("beforeValidate",(function(t,e,n){const i=this.getCellMeta(e,this.propToCol(n));i.editor===Ww&&void 0===i.strict&&(i.filter=!1,i.strict=!0)}));const Vw="numeric";class Bw extends Py{static get EDITOR_TYPE(){return Vw}}const zw="password";class Uw extends Py{static get EDITOR_TYPE(){return zw}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.hot.getSettings().ariaTags&&he(this.TEXTAREA,[kt()]),ue(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}const $w="ht_editor_visible",Gw="selectEditor",Kw="select";class qw extends by{static get EDITOR_TYPE(){return Kw}init(){this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.select.style.display="none",ae(this.select,"htSelectEditor"),this.hot.rootElement.appendChild(this.select),this.registerHooks()}getValue(){return this.select.value}setValue(t){this.select.value=t}open(){this._opened=!0,this.refreshDimensions(),this.select.style.display="";const t=this.hot.getShortcutManager();t.setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.select.style.display="none",oe(this.select,$w)&&le(this.select,$w),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",(()=>this.refreshDimensions())),this.addHook("afterScrollVertically",(()=>this.refreshDimensions())),this.addHook("afterColumnResize",(()=>this.refreshDimensions())),this.addHook("afterRowResize",(()=>this.refreshDimensions()))}prepare(t,e,n,i,s,r){super.prepare(t,e,n,i,s,r);const o=this.cellProperties.selectOptions;let a;a="function"===typeof o?this.prepareOptions(o(this.row,this.col,this.prop)):this.prepareOptions(o),ue(this.select),Mn(a,((t,e)=>{const n=this.hot.rootDocument.createElement("OPTION");n.value=e,me(n,t),this.select.appendChild(n)}))}prepareOptions(t){let e={};if(Array.isArray(t))for(let n=0,i=t.length;n<i;n++)e[t[n]]=t[n];else"object"===typeof t&&(e=t);return e}refreshValue(){const t=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=t,this.setValue(t),this.refreshDimensions()}refreshDimensions(){if(this.state!==wy.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD)return void this.close();const{top:t,start:e,width:n,height:i}=this.getEditedCellRect(),s=this.select.style;s.height=`${i}px`,s.width=`${n}px`,s.top=`${t}px`,s[this.hot.isRtl()?"right":"left"]=`${e}px`,s.margin="0px",ae(this.select,$w)}registerShortcuts(){const t=this.hot.getShortcutManager(),e=t.getContext("editor"),n=t.getContext("grid"),i={group:Gw};e.addShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:n,callback:()=>{}}],i),!0===this.isInFullEditMode()&&e.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{const t=this.select.selectedIndex-1;t>=0&&(this.select[t].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{const t=this.select.selectedIndex+1;t<=this.select.length-1&&(this.select[t].selected=!0)}}],i)}unregisterShortcuts(){const t=this.hot.getShortcutManager(),e=t.getContext("editor");e.removeShortcutsByGroup(Gw)}}const Xw="time";class Jw extends Py{static get EDITOR_TYPE(){return Xw}prepare(t,e,n,i,s,r){super.prepare(t,e,n,i,s,r),this.TEXTAREA.dir="ltr"}}function Zw(){Pi(by),Pi(ew),Pi(iw),Pi(Fw),Pi(Ww),Pi(Uy),Pi(Bw),Pi(Uw),Pi(qw),Pi(Py),Pi(Jw)}const Qw="html";function tv(t,e,n,i,s,r,o){Oy.apply(this,[t,e,n,i,s,r,o]),me(e,null===r||void 0===r?"":r,!1)}tv.RENDERER_TYPE=Qw;const ev="autocomplete";function nv(t,e,n,i,s,r,o){const{rootDocument:a}=t,l=o.allowHtml?tv:Ny,h=a.createElement("DIV"),c=t.getSettings().ariaTags;if(h.className="htAutocompleteArrow",c&&h.setAttribute(...kt()),h.appendChild(a.createTextNode(String.fromCharCode(9660))),l.apply(this,[t,e,n,i,s,r,o]),e.firstChild||e.appendChild(a.createTextNode(String.fromCharCode(160))),e.insertBefore(h,e.firstChild),ae(e,"htAutocomplete"),!t.acArrowListener){const s=new Wi(t);t.acArrowListener=function(s){oe(s.target,"htAutocompleteArrow")&&t.view._wt.getSetting("onCellDblClick",null,t._createCellCoords(n,i),e)},s.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",(()=>{s.destroy()}))}}nv.RENDERER_TYPE=ev;const iv="dropdown";function sv(t,e,n,i,s,r,o){nv.apply(this,[t,e,n,i,s,r,o])}sv.RENDERER_TYPE=iv;const rv=new WeakMap,ov=new WeakMap,av="htBadValue",lv="data-row",hv="data-col",cv="checkboxRenderer",dv="checkbox";function uv(t,e,n,i,s,r,o){const{rootDocument:a}=t,l=t.getSettings().ariaTags;Oy.apply(this,[t,e,n,i,s,r,o]),fv(t);let h=mv(a);const c=o.label;let d=!1;if("undefined"===typeof o.checkedTemplate&&(o.checkedTemplate=!0),"undefined"===typeof o.uncheckedTemplate&&(o.uncheckedTemplate=!1),ue(e),r===o.checkedTemplate||N(r).toLocaleLowerCase(o.locale)===N(o.checkedTemplate).toLocaleLowerCase(o.locale)?h.checked=!0:r===o.uncheckedTemplate||N(r).toLocaleLowerCase(o.locale)===N(o.uncheckedTemplate).toLocaleLowerCase(o.locale)?h.checked=!1:W(r)?ae(h,"noValue"):(h.style.display="none",ae(h,av),d=!0),he(h,[[lv,n],[hv,i]]),l&&he(h,[Tt(h.checked?t.getTranslatedPhrase(Wf):t.getTranslatedPhrase(Vf)),Ft(h.checked),Mt()]),!d&&c){let o="";if(c.value)o="function"===typeof c.value?c.value.call(this,n,i,s,r):c.value;else if(c.property){const e=t.getDataAtRowProp(n,c.property);o=null!==e?e:""}const l=gv(a,o,!0!==c.separated);"before"===c.position?c.separated?(e.appendChild(l),e.appendChild(h)):(l.appendChild(h),h=l):c.position&&"after"!==c.position||(c.separated?(e.appendChild(h),e.appendChild(l)):(l.insertBefore(h,l.firstChild),h=l))}function u(){const e=t.getShortcutManager(),n=e.getContext("grid"),i={group:cv,relativeToGroup:Gp,position:"before"};n.addShortcuts([{keys:[["space"]],callback:()=>(f(),!m())},{keys:[["enter"]],callback:()=>(f(),!m()),runOnlyIf:()=>{var e;return t.getSettings().enterBeginsEditing&&(null===(e=t.getSelectedRangeLast())||void 0===e?void 0:e.isSingle())}},{keys:[["delete"],["backspace"]],callback:()=>(f(!0),!m())}],i)}function f(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=t.getSelectedRange(),i=[];let s=[],r=0;if(n){for(let o=0;o<n.length;o++){const{row:a,col:l}=n[o].getTopStartCorner(),{row:h,col:c}=n[o].getBottomEndCorner();for(let n=a;n<=h;n+=1)for(let i=l;i<=c;i+=1){const o=t.getCellMeta(n,i),a={checkedTemplate:o.checkedTemplate,uncheckedTemplate:o.uncheckedTemplate};if("checkbox"!==o.type)return;if(!0===o.readOnly)continue;"undefined"===typeof o.checkedTemplate&&(o.checkedTemplate=!0),"undefined"===typeof o.uncheckedTemplate&&(o.uncheckedTemplate=!1);const l=t.getDataAtCell(n,i);!1===e?[o.checkedTemplate,o.checkedTemplate.toString()].includes(l)?s.push([n,i,o.uncheckedTemplate,a]):[o.uncheckedTemplate,o.uncheckedTemplate.toString(),null,void 0].includes(l)&&s.push([n,i,o.checkedTemplate,a]):s.push([n,i,o.uncheckedTemplate,a]),r+=1}i.push(r),r=0}s=s.every((t=>{let[,,e]=t;return e===s[0][2]}))?s.map((t=>{let[e,n,i]=t;return[e,n,i]})):s.map((t=>{let[e,n,,i]=t;return[e,n,i.checkedTemplate]})),s.length>0&&i.forEach((e=>{const n=s.splice(0,e);t.setDataAtCell(n)}))}}function m(){const e=t.getSelectedRange();if(e){for(let n=0;n<e.length;n++){const i=e[n].getTopStartCorner(),s=e[n].getBottomEndCorner();for(let e=i.row;e<=s.row;e++)for(let n=i.col;n<=s.col;n++){const i=t.getCellMeta(e,n);if("checkbox"!==i.type)return!1;const s=t.getCell(e,n);if(null===s||void 0===s)return!0;{const t=s.querySelectorAll("input[type=checkbox]");if(t.length>0&&!i.readOnly)return!0}}}return!1}}(!c||c&&!c.separated)&&e.appendChild(h),d&&e.appendChild(a.createTextNode("#bad-value#")),rv.has(t)||(rv.set(t,!0),u())}function fv(t){let e=ov.get(t);if(!e){const{rootElement:n}=t;e=new Wi(t),e.addEventListener(n,"click",(e=>_v(e,t))),e.addEventListener(n,"mouseup",(e=>pv(e,t))),e.addEventListener(n,"change",(e=>yv(e,t))),ov.set(t,e)}return e}function mv(t){const e=t.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("tabindex","-1"),e.cloneNode(!1)}function gv(t,e,n){const i=t.createElement("label");return i.className="htCheckboxRendererLabel "+(n?"fullWidth":""),i.appendChild(t.createTextNode(e)),i.cloneNode(!0)}function pv(t,e){const{target:n}=t;wv(n)&&n.hasAttribute(lv)&&n.hasAttribute(hv)&&setTimeout(e.listen,10)}function _v(t,e){const{target:n}=t;if(!wv(n))return;if(!n.hasAttribute(lv)||!n.hasAttribute(hv))return;const i=parseInt(n.getAttribute(lv),10),s=parseInt(n.getAttribute(hv),10),r=e.getCellMeta(i,s);r.readOnly&&t.preventDefault()}function yv(t,e){const{target:n}=t;if(!wv(n))return;if(!n.hasAttribute(lv)||!n.hasAttribute(hv))return;const i=parseInt(n.getAttribute(lv),10),s=parseInt(n.getAttribute(hv),10),r=e.getCellMeta(i,s);if(!r.readOnly){let n=null;n=t.target.checked?void 0===r.uncheckedTemplate||r.checkedTemplate:void 0!==r.uncheckedTemplate&&r.uncheckedTemplate,e.setDataAtCell(i,s,n)}}function wv(t){return"INPUT"===t.tagName&&"checkbox"===t.getAttribute("type")}Mi.getSingleton().add("modifyAutoColumnSizeSeed",(function(t,e,n){const{label:i,type:s,row:r,column:o,prop:a}=e;if(s===dv){if(i){const{value:e,property:s}=i;let l=n;if(e)l="function"===typeof e?e(r,o,a,n):e;else if(s){const t=this.getDataAtRowProp(r,s);l=null!==t?t:n}t=l}return t}})),uv.RENDERER_TYPE=dv;const vv="handsontable";function bv(t,e,n,i,s,r,o){nv.apply(this,[t,e,n,i,s,r,o])}bv.RENDERER_TYPE=vv;var Mv=n(8646);const Sv="numeric";function Cv(t,e){if(Ts(t)){const n=e.numericFormat,i=n&&n.culture||"-",s=n&&n.pattern;if("undefined"!==typeof i&&!Mv.languages()[i]){const t=i.replace("-",""),e=Mv.allLanguages?Mv.allLanguages[i]:Mv[t];e&&Mv.registerLanguage(e)}Mv.setLanguage(i),t=Mv(t).format(s||"0")}return t}function xv(t,e,n,i,s,r,o){let a=r;if(Ts(a)){const t=o.className||"",n=t.length?t.split(" "):[];a=Cv(a,o),n.indexOf("htLeft")<0&&n.indexOf("htCenter")<0&&n.indexOf("htRight")<0&&n.indexOf("htJustify")<0&&n.push("htRight"),n.indexOf("htNumeric")<0&&n.push("htNumeric"),o.className=n.join(" "),e.dir="ltr"}Ny(t,e,n,i,s,a,o)}xv.RENDERER_TYPE=Sv;const Tv="password";function kv(t,e,n,i,s,r,o){Ny.apply(this,[t,e,n,i,s,r,o]);const a=o.hashLength||e.innerHTML.length,l=o.hashSymbol||"*";let h="";Ls(a-1,(()=>{h+=l})),me(e,h)}kv.RENDERER_TYPE=Tv;const Lv="select";function Ev(t,e,n,i,s,r,o){Ny.apply(this,[t,e,n,i,s,r,o])}Ev.RENDERER_TYPE=Lv;const Rv="time";function Av(t,e,n,i,s,r,o){Ny.apply(this,[t,e,n,i,s,r,o]),e.dir="ltr"}function Dv(){or(nv),or(Oy),or(uv),or(sv),or(bv),or(tv),or(xv),or(kv),or(Ev),or(Ny),or(Av)}Av.RENDERER_TYPE=Rv;const Hv="autocomplete";function Pv(t,e){let n=t;null!==n&&void 0!==n||(n=""),this.allowEmpty&&""===n?e(!0):this.strict&&this.source?"function"===typeof this.source?this.source(n,Iv(n,e)):Iv(n,e)(this.source):e(!0)}function Iv(t,e){const n=t;return function(t){let i=!1;for(let e=0,s=t.length;e<s;e++)if(n===t[e]){i=!0;break}e(i)}}function Ov(t){const e=new Date(t);return isNaN(new Date(`${t}T00:00`).getDate())?e:new Date(e.getTime()+6e4*e.getTimezoneOffset())}Pv.VALIDATOR_TYPE=Hv;const Yv="date";function Nv(t,e){const n=Di(Yw,this.instance);let i=t,s=!0;null!==i&&void 0!==i||(i="");let r=w(i,this.dateFormat||n.defaultDateFormat,!0).isValid(),o=w(new Date(i)).isValid()||r;if(this.allowEmpty&&""===i&&(o=!0,r=!0),o||(s=!1),!o&&r&&(s=!0),o&&!r)if(!0===this.correctFormat){const t=Fv(i,this.dateFormat),e=this.instance.toVisualRow(this.row),n=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(e,n,t,"dateValidator"),s=!0}else s=!1;e(s)}function Fv(t,e){const n=w(Ov(t)),i=w(t,e),s=t.search(/[A-z]/g)>-1;let r;return r=n.isValid()&&n.format("x")===i.format("x")||!i.isValid()||s?n:i,r.format(e)}Nv.VALIDATOR_TYPE=Yv;const jv="dropdown";function Wv(t,e){Pv.apply(this,[t,e])}Wv.VALIDATOR_TYPE=jv;const Vv="numeric";function Bv(t,e){let n=t;null!==n&&void 0!==n||(n=""),this.allowEmpty&&""===n?e(!0):e(""!==n&&Ts(t))}Bv.VALIDATOR_TYPE=Vv;const zv=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],Uv="time";function $v(t,e){const n=this.timeFormat||"h:mm:ss a";let i=!0,s=t;null===s&&(s=""),s=/^\d{3,}$/.test(s)?parseInt(s,10):s;const r=/^\d{1,2}$/.test(s);r&&(s+=":00");const o=w(s,zv,!0).isValid()?w(s):w(s,n);let a=o.isValid(),l=w(s,n,!0).isValid()&&!r;if(this.allowEmpty&&""===s&&(a=!0,l=!0),a||(i=!1),!a&&l&&(i=!0),a&&!l)if(!0===this.correctFormat){const t=o.format(n),e=this.instance.toVisualRow(this.row),s=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(e,s,t,"timeValidator"),i=!0}else i=!1;e(i)}function Gv(){fr(Pv),fr(Wv),fr(Nv),fr(Bv),fr($v)}$v.VALIDATOR_TYPE=Uv;const Kv="autocomplete",qv={CELL_TYPE:Kv,editor:ew,renderer:nv,validator:Pv},Xv="checkbox",Jv={CELL_TYPE:Xv,editor:iw,renderer:uv},Zv="date";function Qv(t,e,n,i,s,r,o){nv.apply(this,[t,e,n,i,s,r,o])}Qv.RENDERER_TYPE=Zv;const tb="date",eb={CELL_TYPE:tb,editor:Fw,renderer:Qv,validator:Nv},nb="dropdown",ib={CELL_TYPE:nb,editor:Ww,renderer:sv,validator:Wv},sb="handsontable",rb={CELL_TYPE:sb,editor:Uy,renderer:bv},ob="numeric",ab={CELL_TYPE:ob,editor:Bw,renderer:xv,validator:Bv,dataType:"number"},lb="password",hb={CELL_TYPE:lb,editor:Uw,renderer:kv,copyable:!1},cb="select",db={CELL_TYPE:cb,editor:qw,renderer:Ev},ub="time",fb={CELL_TYPE:ub,editor:Jw,renderer:Av,validator:$v};function mb(){Vg(qv),Vg(Jv),Vg(eb),Vg(ib),Vg(rb),Vg(ab),Vg(hb),Vg(db),Vg(jy),Vg(fb)}function gb(t,e){_b(t,e),e.add(t)}function pb(t,e,n){_b(t,e),e.set(t,n)}function _b(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yb(t,e,n){return e=wb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wb(t){var e=vb(t,"string");return"symbol"==typeof e?e:e+""}function vb(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function bb(t,e){return t.get(Mb(t,e))}function Mb(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Sb=new Map([["plugin",Xs],["cell-type",Ng],["editor",Li],["renderer",nr],["validator",hr]]),Cb="base",xb=[];let Tb=null;var kb=new WeakMap,Lb=new WeakSet;class Eb{static get PLUGIN_KEY(){return Cb}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}constructor(t){gb(this,Lb),yb(this,"eventManager",new Wi(this)),yb(this,"pluginName",null),yb(this,"pluginsInitializedCallbacks",[]),yb(this,"isPluginsReady",!1),yb(this,"enabled",!1),yb(this,"initialized",!1),pb(this,kb,{}),bn(this,"hot",t,{writable:!1}),Tb=null,this.hot.addHook("afterPluginsInitialized",(()=>this.onAfterPluginsInitialized())),this.hot.addHook("afterUpdateSettings",(t=>this.onUpdateSettings(t))),this.hot.addHook("beforeInit",(()=>this.init()))}init(){this.pluginName=this.hot.getPluginName(this);const t=this.constructor.PLUGIN_DEPS,e=Array.isArray(t)?t:[];if(e.length>0){const t=[];if(e.forEach((e=>{const[n,i]=e.split(":");if(!Sb.has(n))throw new Error(`Unknown plugin dependency type "${n}" was found.`);Sb.get(n)(i)||t.push(` - ${i} (${n})`)})),t.length>0){const e=[`The ${this.pluginName} plugin requires the following modules:\n`,`${t.join("\n")}\n`].join("");xb.push(e)}}Tb||(Tb=Ks()),Tb.indexOf("UndoRedo")>=0&&Tb.splice(Tb.indexOf("UndoRedo"),1),Tb.indexOf(this.pluginName)>=0&&Tb.splice(Tb.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",(()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}));const n=0===Tb.length;if(n){if(xb.length>0){const t=[`${xb.join("\n")}\n`,"You have to import and register them manually."].join("");throw new Error(t)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var t;null===(t=this.eventManager)||void 0===t||t.clear(),this.clearHooks(),this.enabled=!1}addHook(t,e){bb(kb,this)[t]=bb(kb,this)[t]||[];const n=bb(kb,this)[t];this.hot.addHook(t,e),n.push(e),bb(kb,this)[t]=n}removeHooks(t){T(bb(kb,this)[t]||[],(e=>{this.hot.removeHook(t,e)}))}clearHooks(){const t=bb(kb,this);Mn(t,((t,e)=>this.removeHooks(e))),t.length=0}callOnPluginsReady(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)}onAfterPluginsInitialized(){T(this.pluginsInitializedCallbacks,(t=>t())),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(t){const e=Mb(Lb,this,Rb).call(this,t);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&e&&this.updatePlugin(t))}updatePlugin(){}destroy(){var t;null===(t=this.eventManager)||void 0===t||t.destroy(),this.clearHooks(),Mn(this,((t,e)=>{"hot"!==e&&(this[e]=null)})),delete this.t,delete this.hot}}function Rb(t){if(!t)return!1;const e=this.constructor.SETTING_KEYS;if("boolean"===typeof e)return e;for(let n=0;n<e.length;n++)if(void 0!==t[e[n]])return!0;return!1}function Ab(t,e,n){return e=Db(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Db(t){var e=Hb(t,"string");return"symbol"==typeof e?e:e+""}function Hb(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Pb{constructor(t){Ab(this,"hot",null),Ab(this,"container",null),Ab(this,"injected",!1),Ab(this,"rows",[]),Ab(this,"columns",[]),Ab(this,"samples",null),Ab(this,"settings",{useHeaders:!0}),this.hot=t}addRow(t,e){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));const n={row:t};this.rows.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(t)),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}addColumnHeadersRow(t){const e=this.hot.getColHeader(0);if(null!==e&&void 0!==e){const e={row:-1};this.rows.push(e),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),e.table=this.table.table}}addColumn(t,e){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));const n={col:t};this.columns.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(t)&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}getHeights(t){this.injected||this.injectTable(),T(this.rows,(e=>{t(e.row,Re(e.table)-1)}))}getWidths(t){this.injected||this.injectTable(),T(this.columns,(e=>{const{width:n}=e.table.getBoundingClientRect();t(e.col,Math.ceil(n))}))}setSettings(t){this.settings=t}setSetting(t,e){this.settings||(this.settings={}),this.settings[t]=e}getSettings(){return this.settings}getSetting(t){return this.settings?this.settings[t]:null}createColGroupsCol(t){const e=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&e.appendChild(this.createColElement(-1,-1)),this.samples.forEach((n=>{T(n.strings,(n=>{e.appendChild(this.createColElement(n.col,t))}))})),e}createRow(t){const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),i=e.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,i),n.appendChild(i)),this.samples.forEach((i=>{T(i.strings,(i=>{const s=i.col,r=this.hot.getCellMeta(t,s);r.col=s,r.row=t;const o=this.hot.getCellRenderer(r),a=e.createElement("td");a.setAttribute("ghost-table",1),o(this.hot,a,t,s,this.hot.colToProp(s),i.value,r),n.appendChild(a)}))})),n}appendColumnHeadersRow(){const{rootDocument:t}=this.hot,e=t.createDocumentFragment(),n=[];if(this.hot.hasRowHeaders()){const i=t.createElement("th");n.push([-1,i]),e.appendChild(i)}this.samples.forEach((i=>{T(i.strings,(i=>{const s=i.col,r=t.createElement("th");n.push([s,r]),e.appendChild(r)}))})),this.table.tHead.appendChild(e),T(n,(t=>{const[e,n]=t;this.hot.view.appendColHeader(e,n)}))}createCol(t){const{rootDocument:e}=this.hot,n=e.createDocumentFragment();return this.samples.forEach((i=>{T(i.strings,(i=>{const s=i.row,r=this.hot.getCellMeta(s,t);r.col=t,r.row=s;const o=this.hot.getCellRenderer(r),a=e.createElement("td"),l=e.createElement("tr");a.setAttribute("ghost-table",1),o(this.hot,a,s,t,this.hot.colToProp(t),i.value,r),l.appendChild(a),n.appendChild(l)}))})),n}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(t,e){const n=this.hot.rootDocument.createElement("col");let i=0;e>=0&&t>=0&&(i=this.hot.getCellMeta(e,t).colspan);let s=this.hot.getColWidth(t);if(i>1)for(let r=t+1;r<t+i;r++)s+=this.hot.getColWidth(r);return n.style.width=`${s}px`,n}createTable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),i=e.createElement("table"),s=e.createElement("thead"),r=e.createElement("tbody"),o=e.createElement("colgroup"),a=e.createElement("tr"),l=e.createElement("th");return this.isVertical()&&i.appendChild(o),this.isHorizontal()&&(a.appendChild(l),s.appendChild(a),i.style.tableLayout="auto",i.style.width="auto"),i.appendChild(s),this.isVertical()&&r.appendChild(a),i.appendChild(r),ae(i,t),n.appendChild(i),{fragment:n,table:i,tHead:s,tBody:r,colGroup:o,tr:a,th:l}}createContainer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),i=e.createElement("div"),s=`htGhostTable htAutoSize ${t.trim()}`;return ae(i,s),n.appendChild(i),{fragment:n,container:i}}isVertical(){return!(!this.rows.length||this.columns.length)}isHorizontal(){return!(!this.columns.length||this.rows.length)}}var Ib=Pb;function Ob(t,e,n){return e=Yb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yb(t){var e=Nb(t,"string");return"symbol"==typeof e?e:e+""}function Nb(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Fb{static get SAMPLE_COUNT(){return 3}constructor(t){Ob(this,"samples",null),Ob(this,"dataFactory",null),Ob(this,"customSampleCount",null),Ob(this,"allowDuplicates",!1),this.dataFactory=t}getSampleCount(){return this.customSampleCount?this.customSampleCount:Fb.SAMPLE_COUNT}setSampleCount(t){this.customSampleCount=t}setAllowDuplicates(t){this.allowDuplicates=t}generateRowSamples(t,e){return this.generateSamples("row",e,t)}generateColumnSamples(t,e){return this.generateSamples("col",e,t)}generateSamples(t,e,n){const i=new Map,{from:s,to:r}="number"===typeof n?{from:n,to:n}:n;return Ls(s,r,(n=>{const s=this.generateSample(t,e,n);i.set(n,s)})),i}generateSample(t,e,n){if("row"!==t&&"col"!==t)throw new Error("Unsupported sample type");const i=new Map,s="row"===t?"col":"row",r=[];return Ls(e.from,e.to,(e=>{const o="row"===t?this.dataFactory(n,e):this.dataFactory(e,n);if(!1===o)return;const{value:a,bundleSeed:l}=o,h="string"===typeof l&&l.length>0;let c;c=h?l:vn(a)?`${Object.keys(a).length}`:Array.isArray(a)?`${a.length}`:`${N(a).length}`,i.has(c)||i.set(c,{needed:this.getSampleCount(),strings:[]});const d=i.get(c);if(d.needed){const t=r.indexOf(a)>-1;(!t||this.allowDuplicates||h)&&(d.strings.push({value:a,[s]:e}),r.push(a),d.needed-=1)}})),i}}var jb=Fb;function Wb(t,e){Bb(t,e),e.add(t)}function Vb(t,e,n){Bb(t,e),e.set(t,n)}function Bb(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zb(t,e,n){return e=Ub(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ub(t){var e=$b(t,"string");return"symbol"==typeof e?e:e+""}function $b(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Gb(t,e,n){return t.set(qb(t,e),n),n}function Kb(t,e){return t.get(qb(t,e))}function qb(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Mi.getSingleton().register("modifyAutoColumnSizeSeed");const Xb="autoColumnSize",Jb=10,Zb="autoColumnSize";var Qb=new WeakMap,tM=new WeakSet;class eM extends Eb{static get PLUGIN_KEY(){return Xb}static get PLUGIN_PRIORITY(){return Jb}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(t){super(t),Wb(this,tM),zb(this,"ghostTable",new Ib(this.hot)),zb(this,"samplesGenerator",new jb(((t,e)=>{const n=this.hot.toPhysicalRow(t),i=this.hot.toPhysicalColumn(e);if(this.hot.rowIndexMapper.isHidden(n)||this.hot.columnIndexMapper.isHidden(i))return!1;const s=this.hot.getCellMeta(t,e);let r="";s.spanned||(r=this.hot.getDataAtCell(t,e));let o="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(o=this.hot.runHooks("modifyAutoColumnSizeSeed",o,s,r)),{value:r,bundleSeed:o}}))),zb(this,"firstCalculation",!0),zb(this,"inProgress",!1),zb(this,"measuredColumns",0),zb(this,"columnWidthsMap",new pd),Vb(this,Qb,[]),this.hot.columnIndexMapper.registerMap(Zb,this.columnWidthsMap),this.addHook("beforeColumnResize",((t,e,n)=>qb(tM,this,rM).call(this,t,e,n)))}isEnabled(){return!1!==this.hot.getSettings()[Xb]&&!this.hot.getSettings().colWidths}enablePlugin(){var t=this;if(this.enabled)return;const e=this.hot.getSettings()[Xb];e&&null!==e.useHeaders&&void 0!==e.useHeaders&&this.ghostTable.setSetting("useHeaders",e.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return qb(tM,t,iM).call(t,...n)})),this.addHook("beforeChangeRender",(t=>qb(tM,this,sM).call(this,t))),this.addHook("afterFormulasValuesUpdate",(t=>qb(tM,this,aM).call(this,t))),this.addHook("beforeViewRender",(t=>qb(tM,this,nM).call(this,t))),this.addHook("modifyColWidth",((t,e)=>this.getColumnWidth(e,t))),this.addHook("afterInit",(()=>qb(tM,this,oM).call(this))),super.enablePlugin()}updatePlugin(){const t=this.findColumnsWhereHeaderWasChanged();t.length&&(this.clearCache(t),this.calculateVisibleColumnsWidth()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",((t,e,n)=>qb(tM,this,rM).call(this,t,e,n)))}calculateVisibleColumnsWidth(){const t=this.hot.countRows();if(!t)return;const e=this.hot.renderCall,n=this.getFirstVisibleColumn(),i=this.getLastVisibleColumn();-1!==n&&-1!==i&&this.calculateColumnsWidth({from:n,to:i},void 0,e)}calculateColumnsWidth(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="number"===typeof t?{from:t,to:t}:t,s="number"===typeof e?{from:e,to:e}:e;Ls(i.from,i.to,(t=>{let e=this.hot.toPhysicalColumn(t);if(null===e&&(e=t),n||null===this.columnWidthsMap.getValueAtIndex(e)&&!this.hot._getColWidthFromSettings(e)){const e=this.samplesGenerator.generateColumnSamples(t,s);T(e,(t=>{let[e,n]=t;return this.ghostTable.addColumn(e,n)}))}})),this.ghostTable.columns.length&&(this.hot.batchExecution((()=>{this.ghostTable.getWidths(((t,e)=>{const n=this.hot.toPhysicalColumn(t);this.columnWidthsMap.setValueAtIndex(n,e)}))}),!0),this.measuredColumns=i.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},e=0;const n=this.hot.countCols()-1;let i=null;this.inProgress=!0;const s=()=>{if(!this.hot)return En(i),void(this.inProgress=!1);this.calculateColumnsWidth({from:e,to:Math.min(e+eM.CALCULATION_STEP,n)},t),e=e+eM.CALCULATION_STEP+1,e<n?i=Ln(s):(En(i),this.inProgress=!1,this.hot.view.adjustElementsSize())},r=this.getSyncCalculationLimit();this.firstCalculation&&r>=0&&(this.calculateColumnsWidth({from:0,to:r},t),this.firstCalculation=!1,e=r+1),e<n?s():this.inProgress=!1}setSamplingOptions(){const t=this.hot.getSettings()[Xb],e=t&&kn(t,"samplingRatio")?t.samplingRatio:void 0,n=t&&kn(t,"allowSampleDuplicates")?t.allowSampleDuplicates:void 0;e&&!isNaN(e)&&this.samplesGenerator.setSampleCount(parseInt(e,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}recalculateAllColumnsWidth(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}getSyncCalculationLimit(){const t=this.hot.getSettings()[Xb];let e=eM.SYNC_CALCULATION_LIMIT;const n=this.hot.countCols()-1;return vn(t)&&(e=t.syncLimit,rt(e)?e=Rs(n,e):e>>=0),Math.min(e,n)}getColumnWidth(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e;return void 0===i&&(i=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(t)),n&&"number"===typeof i&&(i=Math.max(i,Ah.DEFAULT_WIDTH))),i}getFirstVisibleColumn(){const t=this.hot.view._wt;if(t.wtViewport.columnsVisibleCalculator){const e=t.wtTable.getFirstVisibleColumn();if(-1!==e)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(e)}if(t.wtViewport.columnsRenderCalculator){const e=t.wtTable.getFirstRenderedColumn();if(-1!==e)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(e)}return-1}getLastVisibleColumn(){const t=this.hot.view._wt;if(t.wtViewport.columnsVisibleCalculator){const e=t.wtTable.getLastVisibleColumn();if(-1!==e)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(e)}if(t.wtViewport.columnsRenderCalculator){const e=t.wtTable.getLastRenderedColumn();if(-1!==e)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(e)}return-1}findColumnsWhereHeaderWasChanged(){const t=this.hot.getColHeader(),e=S(t,((t,e,n)=>{const i=Kb(Qb,this).length;return(i-1<n||Kb(Qb,this)[n]!==e)&&t.push(n),i-1<n?Kb(Qb,this).push(e):Kb(Qb,this)[n]=e,t}),[]);return e}clearCache(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length?this.hot.batchExecution((()=>{T(t,(t=>{this.columnWidthsMap.setValueAtIndex(t,null)}))}),!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!C(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),(t=>null===t)).length}destroy(){this.ghostTable.clean(),super.destroy()}}function nM(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}function iM(){this.hot.view?this.recalculateAllColumnsWidth():setTimeout((()=>{this.hot&&this.recalculateAllColumnsWidth()}),0)}function sM(t){const e=x(t,(t=>{let[,e]=t;return this.hot.toPhysicalColumn(this.hot.propToCol(e))}));this.clearCache(Array.from(new Set(e)))}function rM(t,e,n){let i=t;return n&&(this.calculateColumnsWidth(e,void 0,!0),i=this.getColumnWidth(e,void 0,!1)),i}function oM(){Gb(Qb,this,this.hot.getColHeader())}function aM(t){const e=C(t,(t=>{var e;return F(null===(e=t.address)||void 0===e?void 0:e.col)})),n=x(e,(t=>t.address.col));this.clearCache(Array.from(new Set(n)))}const lM={horizontal:"horizontal",vertical:"vertical"};function hM(t,e,n){let i,s,r;return e[0]===t[0]&&e[1]<t[1]?(r="left",i=n(e[0],e[1]),s=n(e[2],t[1]-1)):e[2]===t[2]&&e[0]===t[0]&&e[3]>t[3]?(r="right",i=n(e[0],t[3]+1),s=n(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(r="up",i=n(e[0],e[1]),s=n(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(r="down",i=n(t[2]+1,e[1]),s=n(e[2],e[3])),i&&i.normalize(),s&&s.normalize(),{directionOfDrag:r,startOfDragCoords:i,endOfDragCoords:s}}function cM(t){const e={};return!0===t?(e.directions=Object.keys(lM),e.autoInsertRow=!0):vn(t)?(F(t.autoInsertRow)?t.direction===lM.horizontal?e.autoInsertRow=!1:e.autoInsertRow=t.autoInsertRow:e.autoInsertRow=!1,F(t.direction)?e.directions=[t.direction]:e.directions=Object.keys(lM)):"string"===typeof t?(e.directions=[t],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}function dM(t,e){uM(t,e),e.add(t)}function uM(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fM(t,e,n){return e=mM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mM(t){var e=gM(t,"string");return"symbol"==typeof e?e:e+""}function gM(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function pM(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Mi.getSingleton().register("modifyAutofillRange"),Mi.getSingleton().register("beforeAutofill"),Mi.getSingleton().register("afterAutofill");const _M="autofill",yM=20,wM=["fillHandle"],vM="insert_row_below",bM=200;var MM=new WeakSet;class SM extends Eb{constructor(){super(...arguments),dM(this,MM),fM(this,"addingStarted",!1),fM(this,"mouseDownOnCellCorner",!1),fM(this,"mouseDragOutside",!1),fM(this,"handleDraggedCells",0),fM(this,"directions",[]),fM(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return _M}static get PLUGIN_PRIORITY(){return yM}static get SETTING_KEYS(){return[_M,...wM]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",(t=>pM(MM,this,xM).call(this,t))),this.addHook("afterOnCellCornerDblClick",(t=>pM(MM,this,CM).call(this,t))),this.addHook("beforeOnCellMouseOver",((t,e)=>pM(MM,this,TM).call(this,e))),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){const t=this.hot.getSelectedRangeLast(),{row:e,col:n}=t.getTopStartCorner(),{row:i,col:s}=t.getBottomEndCorner(),r=this.hot.runHooks("modifyCopyableRange",[{startRow:e,startCol:n,endRow:i,endCol:s}]),o=[],a=[],l=[];return T(r,(t=>{for(let e=t.startRow;e<=t.endRow;e+=1)-1===o.indexOf(e)&&o.push(e);for(let e=t.startCol;e<=t.endCol;e+=1)-1===a.indexOf(e)&&a.push(e)})),T(o,(t=>{const e=[];T(a,(n=>{e.push(this.hot.getCopyableData(t,n))})),l.push(e)})),l}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;const[t,e,n,i]=this.hot.selection.highlight.getFill().getVisualCorners(),s=this.hot.getSelectedRangeLast(),r=s.getTopStartCorner(),o=s.getBottomEndCorner();this.resetSelectionOfDraggedArea();const a=[r.row,r.col,o.row,o.col],l=this.hot.runHooks("modifyAutofillRange",[Math.min(r.row,t),Math.min(r.col,e),Math.max(o.row,n),Math.max(o.col,i)],a),{directionOfDrag:h,startOfDragCoords:c,endOfDragCoords:d}=hM(a,l,((t,e)=>this.hot._createCellCoords(t,e)));if(c&&c.row>-1&&c.col>-1){const t=this.getSelectionData(),e=s.clone(),n=this.hot._createCellRange(c,c,d),i=this.hot.runHooks("beforeAutofill",t,e,n,h);if(!1===i)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let r=i;const o=i;if(["up","left"].indexOf(h)>-1&&(1!==o.length||0!==o[0].length))if(r=[],"up"===h){const t=d.row-c.row+1,e=t%o.length;for(let n=0;n<t;n++)r.push(o[(n+(o.length-e))%o.length])}else{const t=d.col-c.col+1,e=t%o[0].length;for(let n=0;n<o.length;n++){r.push([]);for(let i=0;i<t;i++)r[n].push(o[n][(i+(o[n].length-e))%o[n].length])}}this.hot.populateFromArray(c.row,c.col,r,d.row,d.col,`${this.pluginName}.fill`,null),this.setSelection(l),this.hot.runHooks("afterAutofill",r,e,n,h),this.hot.render()}else this.hot._refreshBorders();return!0}reduceSelectionAreaIfNeeded(t){return t.row<0&&(t.row=0),t.col<0&&(t.col=0),t}getCoordsOfDragAndDropBorders(t){const e=this.hot.getSelectedRangeLast(),n=e.getBottomEndCorner();let i=t;if(this.directions.includes(lM.vertical)&&this.directions.includes(lM.horizontal)){const s=e.getTopStartCorner();(n.col<=t.col||s.col>=t.col)&&(i=this.hot._createCellCoords(n.row,t.col)),(n.row<t.row||s.row>t.row)&&(i=this.hot._createCellCoords(t.row,n.col))}else if(this.directions.includes(lM.vertical))i=this.hot._createCellCoords(t.row,n.col);else{if(!this.directions.includes(lM.horizontal))return;i=this.hot._createCellCoords(n.row,t.col)}return this.reduceSelectionAreaIfNeeded(i)}showBorder(t){const e=this.getCoordsOfDragAndDropBorders(t);e&&this.redrawBorders(e)}addRow(){this.hot._registerTimeout((()=>{this.hot.alter(vM,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1}),bM)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&!1===this.addingStarted&&this.autoInsertRow){const t=this.hot.getSelectedLast(),e=this.hot.selection.highlight.getFill().getVisualCorners(),n=this.hot.countRows();t[2]<n-1&&e[2]===n-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(t){const e=this.hot.getData(),n=this.hot.countRows();let i;for(let s=t[2]+1;s<n;s++){for(let i=t[1];i<=t[3];i++){const t=e[s][i];if(!W(t))return-1}const n=e[s][t[1]-1],r=e[s][t[3]+1];W(n)&&W(r)||(i=s)}return i}addSelectionFromStartAreaToSpecificRowIndex(t,e){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(t[0],t[1])).add(this.hot._createCellCoords(e,t[3])).commit()}setSelection(t){this.hot.selectCell(...x(t,(t=>Math.max(t,0))),!1,!1)}selectAdjacent(){const t=this.hot.getSelectedLast(),e=this.getIndexOfLastAdjacentFilledInRow(t);return-1!==e&&void 0!==e&&(this.addSelectionFromStartAreaToSpecificRowIndex(t,e),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(t){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(t).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(t){const{documentElement:e}=this.hot.rootDocument,n=_e(this.hot.table).top-(this.hot.rootWindow.pageYOffset||e.scrollTop)+Re(this.hot.table),i=_e(this.hot.table).left-(this.hot.rootWindow.pageXOffset||e.scrollLeft)+Ee(this.hot.table);return t.clientY>n&&t.clientX<=i}registerEvents(){const{documentElement:t}=this.hot.rootDocument;this.eventManager.addEventListener(t,"mouseup",(()=>pM(MM,this,kM).call(this))),this.eventManager.addEventListener(t,"mousemove",(t=>pM(MM,this,LM).call(this,t)))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){const t=cM(this.hot.getSettings().fillHandle);this.directions=t.directions,this.autoInsertRow=t.autoInsertRow}destroy(){super.destroy()}}function CM(){const t=this.selectAdjacent();t&&this.fillIn()}function xM(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function TM(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(t),this.addNewRowIfNeeded())}function kM(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function LM(t){const e=this.getIfMouseWasDraggedOutside(t);!1===this.addingStarted&&this.handleDraggedCells>0&&e?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}function EM(t,e){RM(t,e),e.add(t)}function RM(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function AM(t,e,n){return e=DM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DM(t){var e=HM(t,"string");return"symbol"==typeof e?e:e+""}function HM(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function PM(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const IM="autoRowSize",OM=40,YM="autoRowSize";var NM=new WeakSet;class FM extends Eb{static get PLUGIN_KEY(){return IM}static get PLUGIN_PRIORITY(){return OM}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(t){super(t),EM(this,NM),AM(this,"headerHeight",null),AM(this,"ghostTable",new Ib(this.hot)),AM(this,"samplesGenerator",new jb(((t,e)=>{const n=this.hot.toPhysicalRow(t),i=this.hot.toPhysicalColumn(e);if(this.hot.rowIndexMapper.isHidden(n)||this.hot.columnIndexMapper.isHidden(i))return!1;if(t>=0&&e>=0){const n=this.hot.getCellMeta(t,e);if(n.hidden)return!1}let s;return t>=0?s=this.hot.getDataAtCell(t,e):-1===t&&(s=this.hot.getColHeader(e)),{value:s}}))),AM(this,"firstCalculation",!0),AM(this,"inProgress",!1),AM(this,"measuredRows",0),AM(this,"rowHeightsMap",new pd),this.hot.rowIndexMapper.registerMap(YM,this.rowHeightsMap),this.addHook("beforeRowResize",((t,e,n)=>PM(NM,this,WM).call(this,t,e,n)))}isEnabled(){const t=this.hot.getSettings()[IM];return!0===t||vn(t)}enablePlugin(){var t=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return PM(NM,t,VM).call(t,...n)})),this.addHook("beforeChangeRender",(t=>PM(NM,this,BM).call(this,t))),this.addHook("beforeColumnResize",(()=>this.recalculateAllRowsHeight())),this.addHook("beforeViewRender",(t=>PM(NM,this,jM).call(this,t))),this.addHook("modifyRowHeight",((t,e)=>this.getRowHeight(e,t))),this.addHook("modifyColumnHeaderHeight",(()=>this.getColumnHeaderHeight())),super.enablePlugin())}disablePlugin(){this.headerHeight=null,super.disablePlugin(),this.addHook("beforeRowResize",((t,e,n)=>PM(NM,this,WM).call(this,t,e,n)))}calculateRowsHeight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="number"===typeof t?{from:t,to:t}:t,s="number"===typeof e?{from:e,to:e}:e;if(null!==this.hot.getColHeader(0)){const t=this.samplesGenerator.generateRowSamples(-1,s);this.ghostTable.addColumnHeadersRow(t.get(-1))}Ls(i.from,i.to,(t=>{if(n||null===this.rowHeightsMap.getValueAtIndex(t)){const e=this.samplesGenerator.generateRowSamples(t,s);T(e,(t=>{let[e,n]=t;return this.ghostTable.addRow(e,n)}))}})),this.ghostTable.rows.length&&(this.hot.batchExecution((()=>{this.ghostTable.getHeights(((t,e)=>{t<0?this.headerHeight=e:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(t),e)}))}),!0),this.measuredRows=i.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},e=0;const n=this.hot.countRows()-1;let i=null;this.inProgress=!0;const s=()=>{if(!this.hot)return En(i),void(this.inProgress=!1);this.calculateRowsHeight({from:e,to:Math.min(e+FM.CALCULATION_STEP,n)},t),e=e+FM.CALCULATION_STEP+1,e<n?i=Ln(s):(En(i),this.inProgress=!1,this.hot.view.adjustElementsSize(!0),this.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},r=this.getSyncCalculationLimit();this.firstCalculation&&r>=0&&(this.calculateRowsHeight({from:0,to:r},t),this.firstCalculation=!1,e=r+1),e<n?s():(this.inProgress=!1,this.hot.view.adjustElementsSize(!1))}setSamplingOptions(){const t=this.hot.getSettings()[IM],e=t&&kn(t,"samplingRatio")?t.samplingRatio:void 0,n=t&&kn(t,"allowSampleDuplicates")?t.allowSampleDuplicates:void 0;e&&!isNaN(e)&&this.samplesGenerator.setSampleCount(parseInt(e,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}recalculateAllRowsHeight(){pe(this.hot.view._wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}getSyncCalculationLimit(){const t=this.hot.getSettings()[IM];let e=FM.SYNC_CALCULATION_LIMIT;const n=this.hot.countRows()-1;return vn(t)&&(e=t.syncLimit,rt(e)?e=Rs(n,e):e>>=0),Math.min(e,n)}getRowHeight(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const n=t<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(t));let i=e;return null!==n&&n>(e||0)&&(i=n),i}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){const t=this.hot.view._wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getFirstVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getFirstRenderedRow():-1}getLastVisibleRow(){const t=this.hot.view._wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getLastVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getLastRenderedRow():-1}clearCache(){this.headerHeight=null,this.rowHeightsMap.init()}clearCacheByRange(t){const{from:e,to:n}="number"===typeof t?{from:t,to:t}:t;this.hot.batchExecution((()=>{Ls(Math.min(e,n),Math.max(e,n),(t=>{this.rowHeightsMap.setValueAtIndex(t,null)}))}),!0)}isNeedRecalculate(){return!!C(this.rowHeightsMap.getValues().slice(0,this.measuredRows),(t=>null===t)).length}destroy(){this.ghostTable.clean(),super.destroy()}}function jM(){const t=this.hot.renderCall,e=this.hot.getSettings().fixedRowsBottom,n=this.getFirstVisibleRow(),i=this.getLastVisibleRow();if(-1!==n&&-1!==i){if(this.calculateRowsHeight({from:n,to:i},void 0,t),e){const t=this.hot.countRows()-1;this.calculateRowsHeight({from:t-e,to:t})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}function WM(t,e,n){let i=t;return n&&(this.calculateRowsHeight(e,void 0,!0),i=this.getRowHeight(e)),i}function VM(){this.hot.view?this.recalculateAllRowsHeight():this.hot._registerTimeout((()=>{this.hot&&this.recalculateAllRowsHeight()}))}function BM(t){let e=null;1===t.length?e=t[0][0]:t.length>1&&(e={from:t[0][0],to:t[t.length-1][0]}),null!==e&&this.clearCacheByRange(e)}const zM=new Map([["indexesSequence",{getListWithInsertedItems:hd,getListWithRemovedItems:cd}],["physicallyIndexed",{getListWithInsertedItems:md,getListWithRemovedItems:gd}]]),UM=t=>{if(!1===zM.has(t))throw new Error(`Alter strategy with ID '${t}' does not exist.`);return zM.get(t)},{getListWithInsertedItems:$M,getListWithRemovedItems:GM}=UM("physicallyIndexed");class KM extends ld{constructor(){super((t=>t))}insert(t,e){const n=ud(this.indexedValues,e);this.indexedValues=$M(n,t,e,this.initValueOrFn),super.insert(t,e)}remove(t){const e=GM(this.indexedValues,t);this.indexedValues=dd(e,t),super.remove(t)}}var qM=KM;const{getListWithInsertedItems:XM,getListWithRemovedItems:JM}=UM("physicallyIndexed");class ZM extends ld{constructor(){super((t=>t))}insert(t,e){this.indexedValues=XM(this.indexedValues,t,e,((t,e)=>this.getNextValue(e))),super.insert(t,e)}remove(t){this.indexedValues=JM(this.indexedValues,t),super.remove(t)}getNextValue(t){return Math.max(...this.getValues())+1+t}}var QM=ZM;function tS(t,e){eS(t,e),e.add(t)}function eS(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nS(t,e,n){return e=iS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iS(t){var e=sS(t,"string");return"symbol"==typeof e?e:e+""}function sS(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function rS(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const oS="bindRowsWithHeaders",aS=210,lS="loose",hS=new Map([["loose",qM],["strict",QM]]);var cS=new WeakSet;class dS extends Eb{constructor(){super(...arguments),tS(this,cS),nS(this,"headerIndexes",null)}static get PLUGIN_KEY(){return oS}static get PLUGIN_PRIORITY(){return aS}isEnabled(){return!!this.hot.getSettings()[oS]}enablePlugin(){if(this.enabled)return;let t=this.hot.getSettings()[oS];"string"!==typeof t&&(t=lS);const e=hS.get(t);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new e),this.addHook("modifyRowHeader",(t=>rS(cS,this,uS).call(this,t))),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}}function uS(t){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(t))}function fS(t,e){gS(t,e),e.add(t)}function mS(t,e,n){gS(t,e),e.set(t,n)}function gS(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pS(t,e,n){return e=_S(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _S(t){var e=yS(t,"string");return"symbol"==typeof e?e:e+""}function yS(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function wS(t,e){return t.get(bS(t,e))}function vS(t,e,n){return t.set(bS(t,e),n),n}function bS(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const MS="collapsibleColumns",SS=290,CS=["nestedHeaders"],xS="collapsibleIndicator",TS=MS,kS=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]);var LS=new WeakMap,ES=new WeakSet;class RS extends Eb{constructor(){super(...arguments),fS(this,ES),pS(this,"nestedHeadersPlugin",null),pS(this,"headerStateManager",null),mS(this,LS,null)}static get PLUGIN_KEY(){return MS}static get PLUGIN_PRIORITY(){return SS}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[MS,...CS]}isEnabled(){return!!this.hot.getSettings()[MS]}enablePlugin(){var t=this;if(this.enabled)return;const{nestedHeaders:e}=this.hot.getSettings();e||ci("You need to configure the Nested Headers plugin in order to use collapsible headers."),vS(LS,this,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",(()=>bS(ES,this,HS).call(this))),this.addHook("afterLoadData",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return bS(ES,t,PS).call(t,...n)})),this.addHook("afterGetColHeader",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return bS(ES,t,AS).call(t,...n)})),this.addHook("beforeOnCellMouseDown",((t,e,n)=>bS(ES,this,DS).call(this,t,e,n))),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){const{collapsibleColumns:t}=this.hot.getSettings();"boolean"===typeof t?this.headerStateManager.mapState((t=>({collapsible:t.origColspan>1}))):Array.isArray(t)&&(this.headerStateManager.mapState((()=>({collapsible:!1}))),this.headerStateManager.mergeStateWith(t))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),vS(LS,this,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var t;const{row:e,col:n}=this.hot.getSelectedRangeLast().highlight,{collapsible:i,isCollapsed:s,columnIndex:r}=null!==(t=this.headerStateManager.getHeaderTreeNodeData(e,n))&&void 0!==t?t:{};if(i)return s?this.expandSection({row:e,col:r}):this.collapseSection({row:e,col:r}),!1},runOnlyIf:()=>{var t,e;return(null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.isSingle())&&(null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.highlight.isHeader())},group:TS,relativeToGroup:Gp,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(TS)}clearButtons(){if(!this.hot.view)return;const t=this.hot.view._wt.getSetting("columnHeaders").length,e=this.hot.view._wt.wtTable.THEAD,n=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,i=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,s=function(t){t&&t.parentNode.removeChild(t)};Ls(0,t-1,(t=>{const r=e.childNodes[t],o=n.childNodes[t],a=i?i.childNodes[t]:null;Ls(0,r.childNodes.length-1,(t=>{let e=r.childNodes[t].querySelector(`.${xS}`);s(e),o&&o.childNodes[t]&&(e=o.childNodes[t].querySelector(`.${xS}`),s(e)),i&&a&&a.childNodes[t]&&(e=a.childNodes[t].querySelector(`.${xS}`),s(e))}))}),!0)}expandSection(t){this.toggleCollapsibleSection([t],"expand")}collapseSection(t){this.toggleCollapsibleSection([t],"collapse")}toggleAllCollapsibleSections(t){const e=this.headerStateManager.mapNodes((e=>{const{collapsible:n,origColspan:i,headerLevel:s,columnIndex:r,isCollapsed:o}=e;if(!0===n&&i>1&&(o&&"expand"===t||!o&&"collapse"===t))return{row:this.headerStateManager.levelToRowCoords(s),col:r}}));this.toggleCollapsibleSection(e,t)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(t,e){if(!kS.has(e))throw new Error(`Unsupported action is passed (${e}).`);if(!Array.isArray(t))return;const n=C(t,(t=>{let{row:e}=t;return e<0}));let i=n.length>0;T(n,(t=>{var n;let{row:s,col:r}=t;const{collapsible:o,isCollapsed:a}=null!==(n=this.headerStateManager.getHeaderSettings(s,r))&&void 0!==n?n:{};if(!o||a&&"collapse"===e||!a&&"expand"===e)return i=!1,!1}));const s=[],r=[];i&&T(n,(t=>{let{row:n,col:i}=t;const{colspanCompensation:o,affectedColumns:a,rollbackModification:l}=this.headerStateManager.triggerNodeModification(e,n,i);o>0&&(r.push(...a),s.push(l))}));const o=this.getCollapsedColumns();let a=[];"collapse"===e?a=D([...o,...r]):"expand"===e&&(a=C(o,(t=>!r.includes(t))));const l=kS.get(e),h=this.hot.runHooks(l.beforeHook,o,a,i);if(!1===h)return void T(s,(t=>{t()}));this.hot.batchExecution((()=>{T(r,(t=>{wS(LS,this).setValueAtIndex(this.hot.toPhysicalColumn(t),l.hideColumn)}))}),!0);const c=this.getCollapsedColumns().length!==o.length,d=this.hot.getSelectedRangeLast();if("collapse"===e&&c&&d){const{row:t,col:e}=d.highlight,n=this.hot.rowIndexMapper.isHidden(t)||this.hot.columnIndexMapper.isHidden(e);if(n&&r.includes(e)){const n=t>=0?this.hot.rowIndexMapper.getNearestNotHiddenIndex(t,1,!0):t,i=e>=0?this.hot.columnIndexMapper.getNearestNotHiddenIndex(e,1,!0):e;null!==n&&null!==i&&this.hot.selectCell(n,i)}}this.hot.runHooks(l.afterHook,o,a,i,c),this.hot.render(),this.hot.view.adjustElementsSize(!0)}getCollapsedColumns(){return wS(LS,this).getHiddenIndexes()}destroy(){vS(LS,this,null),super.destroy()}}function AS(t,e,n){var i;const{collapsible:s,origColspan:r,isCollapsed:o}=null!==(i=this.headerStateManager.getHeaderSettings(n,t))&&void 0!==i?i:{},a=s&&r>1&&t>=this.hot.getSettings().fixedColumnsStart,l=this.hot.getSettings().ariaTags;let h=e.querySelector(`.${xS}`);var c;(ce(e,[It("")[0]]),a)?(h||(h=this.hot.rootDocument.createElement("div"),ae(h,xS),e.querySelector("div:first-child").appendChild(h)),le(h,["collapsed","expanded"]),o?(ae(h,"collapsed"),ge(h,"+"),l&&he(e,...It(!1))):(ae(h,"expanded"),ge(h,"-"),l&&he(e,...It(!0))),l&&he(h,...kt())):null===(c=h)||void 0===c||c.remove()}function DS(t,e){oe(t.target,xS)&&(oe(t.target,"expanded")?(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"collapse")):oe(t.target,"collapsed")&&(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"expand")),ri(t))}function HS(){this.updatePlugin()}function PS(t,e){e||this.updatePlugin()}function IS(t,e,n){return e=OS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OS(t){var e=YS(t,"string");return"symbol"==typeof e?e:e+""}function YS(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}const NS=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],FS=!1,jS=!0,WS=!0;class VS{constructor(t,e){IS(this,"hot",void 0),IS(this,"sortingStates",new bd),IS(this,"sortEmptyCells",FS),IS(this,"indicator",jS),IS(this,"headerAction",WS),IS(this,"compareFunctionFactory",void 0),IS(this,"mapName",void 0),this.hot=t,this.mapName=e,this.hot.columnIndexMapper.registerMap(e,this.sortingStates)}updateAllColumnsProperties(t){vn(t)&&Mn(t,((t,e)=>{NS.includes(e)&&(this[e]=t)}))}getAllColumnsProperties(){const t={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return"function"===typeof this.compareFunctionFactory&&(t.compareFunctionFactory=this.compareFunctionFactory),t}getSortOrderOfColumn(t){var e;return null===(e=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))||void 0===e?void 0:e.sortOrder}getIndexOfColumnInSortQueue(t){return t=this.hot.toPhysicalColumn(t),this.sortingStates.getEntries().findIndex((e=>{let[n]=e;return n===t}))}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return 0===this.getNumberOfSortedColumns()}isColumnSorted(t){return vn(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))}getSortStates(){if(null===this.sortingStates)return[];const t=this.sortingStates.getEntries();return t.map((t=>{let[e,n]=t;return{column:this.hot.toVisualColumn(e),...n}}))}getColumnSortState(t){const e=this.getSortOrderOfColumn(t);if(F(e))return{column:t,sortOrder:e}}setSortStates(t){this.sortingStates.clear();for(let e=0;e<t.length;e+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(t[e].column),{sortOrder:t[e].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}const BS="asc",zS="desc",US="colHeader";function $S(t){if(!1===vn(t))return!1;const{column:e,sortOrder:n}=t;return Number.isInteger(e)&&[BS,zS].includes(n)}function GS(t){if(t.some((t=>!1===$S(t))))return!1;const e=t.map((t=>{let{column:e}=t;return e}));return new Set(e).size===e.length}function KS(t){if(t!==zS)return t===BS?zS:BS}function qS(t){const e=t.querySelector(`.${US}`);return e}function XS(t,e){if(t<0||!e.parentNode)return!1;const n=e.parentNode.parentNode.childNodes,i=Array.from(n).indexOf(e.parentNode)-n.length;return-1===i}function JS(t,e,n){return-1===t&&e>=0&&!1===ai(n)}const ZS="ascending",QS="descending",tC="indicatorDisabled",eC="columnSorting",nC="sortAction",iC=new Map([[BS,ZS],[zS,QS]]);function sC(t,e,n,i){const s=[eC];if(i&&s.push(nC),!1===n)return s.push(tC),s;const r=t.getSortOrderOfColumn(e);return F(r)&&s.push(iC.get(r)),s}function rC(){return Array.from(iC.values()).concat(nC,tC,eC)}const oC=0,aC=-1,lC=1;function hC(t,e){const n=MC(e);for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];t.sort(n(...s))}function cC(t,e,n){const i=e.locale;return function(e,s){const{sortEmptyCells:r}=n;return"string"===typeof e&&(e=e.toLocaleLowerCase(i)),"string"===typeof s&&(s=s.toLocaleLowerCase(i)),e===s?oC:W(e)?W(s)?oC:r&&"asc"===t?aC:lC:W(s)?r&&"asc"===t?lC:aC:isNaN(e)&&!isNaN(s)?"asc"===t?lC:aC:!isNaN(e)&&isNaN(s)?"asc"===t?aC:lC:(isNaN(e)||isNaN(s)||(e=parseFloat(e),s=parseFloat(s)),e<s?"asc"===t?aC:lC:e>s?"asc"===t?lC:aC:oC)}}const dC="default";function uC(t,e,n){return function(e,i){const s=parseFloat(e),r=parseFloat(i),{sortEmptyCells:o}=n;if(s===r||isNaN(s)&&isNaN(r))return oC;if(o){if(W(e))return"asc"===t?aC:lC;if(W(i))return"asc"===t?lC:aC}return isNaN(s)?lC:isNaN(r)?aC:s<r?"asc"===t?aC:lC:s>r?"asc"===t?lC:aC:oC}}const fC="numeric";function mC(t,e,n){const i=e.checkedTemplate,s=e.uncheckedTemplate,{sortEmptyCells:r}=n;return function(o,a){const l=W(o),h=W(a),c=l?s:o,d=h?s:a,u=c===s||c===i,f=d===s||d===i;if(!1===r){if(l&&!1===h)return lC;if(!1===l&&h)return aC}return!1===u&&f?"asc"===t?aC:lC:u&&!1===f?"asc"===t?lC:aC:!1===u&&!1===f?cC(t,e,n)(o,a):c===s&&d===i?"asc"===t?aC:lC:c===i&&d===s?"asc"===t?lC:aC:oC}}const gC="checkbox";function pC(t,e,n){return function(i,s){const{sortEmptyCells:r}=n;if(i===s)return oC;if(W(i))return W(s)?oC:r&&"asc"===t?aC:lC;if(W(s))return r&&"asc"===t?lC:aC;const o=e.dateFormat,a=w(i,o),l=w(s,o);return a.isValid()?l.isValid()?l.isAfter(a)?"asc"===t?aC:lC:l.isBefore(a)?"asc"===t?lC:aC:oC:aC:lC}}const _C="date",{register:yC,getItem:wC,hasItem:vC}=Ci("sorting.compareFunctionFactory"),{register:bC,getItem:MC}=Ci("sorting.mainSortComparator");function SC(t){return vC(t)?wC(t):wC(dC)}function CC(t,e){return function(n,i){const[,...s]=n,[,...r]=i;return function(n){const i=t[n],o=e[n],a=s[n],l=r[n],h=o.columnSorting,c=h.compareFunctionFactory?h.compareFunctionFactory:SC(o.type),d=c(i,o,h)(a,l);return d}(0)}}function xC(t,e){TC(t,e),e.add(t)}function TC(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kC(t,e,n){return e=LC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LC(t){var e=EC(t,"string");return"symbol"==typeof e?e:e+""}function EC(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function RC(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}yC(fC,uC),yC(gC,mC),yC(_C,pC),yC(dC,cC);const AC="columnSorting",DC=50,HC="append",PC="replace",IC=AC;bC(AC,CC),Mi.getSingleton().register("beforeColumnSort"),Mi.getSingleton().register("afterColumnSort");var OC=new WeakSet;class YC extends Eb{constructor(){super(...arguments),xC(this,OC),kC(this,"columnStatesManager",null),kC(this,"columnMetaCache",null),kC(this,"pluginKey",AC),kC(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return AC}static get PLUGIN_PRIORITY(){return DC}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var t=this;this.enabled||(this.columnStatesManager=new VS(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new pd((t=>{let e=this.hot.toVisualColumn(t);return null===e&&(e=t),this.getMergedPluginSettings(e)})),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",((t,e)=>RC(OC,this,FC).call(this,t,e))),this.addHook("beforeOnCellMouseDown",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return RC(OC,t,WC).call(t,...n)})),this.addHook("afterOnCellMouseDown",((t,e)=>this.onAfterOnCellMouseDown(t,e))),this.addHook("afterInit",(()=>RC(OC,this,NC).call(this))),this.addHook("afterLoadData",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return RC(OC,t,jC).call(t,...n)})),this.hot.view&&RC(OC,this,NC).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){const t=(t,e)=>{const n=qS(e);!1!==XS(t,e)&&null!==n&&this.updateHeaderClasses(n)};this.hot.addHook("afterGetColHeader",t),this.hot.addHookOnce("afterViewRender",(()=>{this.hot.removeHook("afterGetColHeader",t)})),this.hot.batchExecution((()=>{null!==this.indexesSequenceCache&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey))}),!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:t}=this.hot.getSelectedRangeLast();return this.sort(this.getColumnNextConfig(t.col)),!1},runOnlyIf:()=>{var t,e;const n=null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight;return n&&(null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.isSingle())&&this.hot.selection.isCellVisible(n)&&-1===n.row&&n.col>=0},relativeToGroup:Gp,position:"before",group:IC})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(IC)}sort(t){const e=this.getSortConfig(),n=this.getNormalizedSortConfigs(t),i=this.areValidSortConfigs(n),s=this.hot.runHooks("beforeColumnSort",e,n,i);!1!==s&&(0===e.length&&null===this.indexesSequenceCache&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new fd),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),i&&(this.columnStatesManager.setSortStates(n),this.sortByPresetSortStates(n),this.saveAllSortSettings(n)),this.hot.runHooks("afterColumnSort",e,i?n:e,i),i&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(t){return F(t)?this.columnStatesManager.getColumnSortState(t):this.columnStatesManager.getSortStates()}setSortConfig(t){const e=this.getNormalizedSortConfigs(t);this.areValidSortConfigs(e)&&this.columnStatesManager.setSortStates(e)}getNormalizedSortConfigs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?t.slice(0,1):[t]}areValidSortConfigs(t){const e=this.hot.countCols();return GS(t)&&t.every((t=>{let{column:n}=t;return n<=e&&n>=0}))}saveAllSortSettings(t){const e=this.columnStatesManager.getAllColumnsProperties(),n=t=>{let{column:e,...n}=t;return{column:this.hot.toPhysicalColumn(e),...n}};e.initialConfig=x(t,n),this.hot.runHooks("persistentStateSave","columnSorting",e)}getAllSavedSortSettings(){const t={};this.hot.runHooks("persistentStateLoad","columnSorting",t);const e=t.value,n=t=>{let{column:e,...n}=t;return{column:this.hot.toVisualColumn(e),...n}};return F(e)&&Array.isArray(e.initialConfig)&&(e.initialConfig=x(e.initialConfig,n)),e}getColumnNextConfig(t){const e=this.columnStatesManager.getSortOrderOfColumn(t);if(F(e)){const n=KS(e);return F(n)?{column:t,sortOrder:n}:void 0}const n=this.hot.countCols();if(Number.isInteger(t)&&t>=0&&t<n)return{column:t,sortOrder:KS()}}getNextSortConfig(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HC;const n=this.columnStatesManager.getIndexOfColumnInSortQueue(t),i=-1!==n,s=this.getSortConfig(),r=this.getColumnNextConfig(t);if(i){if(j(r))return[...s.slice(0,n),...s.slice(n+1)];if(e===HC)return[...s.slice(0,n),...s.slice(n+1),r];if(e===PC)return[...s.slice(0,n),r,...s.slice(n+1)]}return F(r)?s.concat(r):s}getPluginColumnConfig(t){if(vn(t)){const e=t[this.pluginKey];if(vn(e))return e}return{}}getMergedPluginSettings(t){const e=this.hot.getSettings()[this.pluginKey],n=this.columnStatesManager.getAllColumnsProperties(),i=this.hot.getCellMeta(0,t),s=Object.getPrototypeOf(i);return Array.isArray(s.columns)?Object.assign(n,e,this.getPluginColumnConfig(s.columns[t])):nn(s.columns)?Object.assign(n,e,this.getPluginColumnConfig(s.columns(t))):Object.assign(n,e)}getFirstCellSettings(t){const e=this.hot.getCellMeta(0,t),n=Object.create(e);return n[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(t)),n}getNumberOfRowsToSort(t){const e=this.hot.getSettings();return e.maxRows<=t?e.maxRows:t-e.minSpareRows}sortByPresetSortStates(t){if(0===t.length)return void this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues());const e=[],n=this.hot.countRows(),i=e=>x(t,(t=>this.hot.getDataAtCell(e,t.column)));for(let l=0;l<this.getNumberOfRowsToSort(n);l+=1)e.push([this.hot.toPhysicalRow(l)].concat(i(l)));const s=x(e,(t=>t[0]));hC(e,this.pluginKey,x(t,(t=>t.sortOrder)),x(t,(t=>this.getFirstCellSettings(t.column))));for(let l=e.length;l<n;l+=1)e.push([l].concat(i(l)));const r=x(e,(t=>t[0])),o=new Map(x(s,((t,e)=>[t,r[e]]))),a=x(this.hot.rowIndexMapper.getIndexesSequence(),(t=>o.has(t)?o.get(t):t));this.hot.rowIndexMapper.setIndexesSequence(a)}sortBySettings(t){if(vn(t)){this.columnStatesManager.updateAllColumnsProperties(t);const e=t.initialConfig;(Array.isArray(e)||vn(e))&&this.sort(e)}else this.hot.render()}updateHeaderClasses(t){if(le(t,rC(t)),!1!==this.enabled){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];ae(t,sC(...n))}}onUpdateSettings(t){super.onUpdateSettings(),null!==this.columnMetaCache&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),F(t[this.pluginKey])&&this.sortBySettings(t[this.pluginKey])}wasClickableHeaderClicked(t,e){const n=this.getFirstCellSettings(e)[this.pluginKey],i=n.headerAction;return i&&oe(t.target,US)}onAfterOnCellMouseDown(t,e){!1!==JS(e.row,e.col,t)&&this.wasClickableHeaderClicked(t,e.col)&&(this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(e.col)),this.sort(this.getColumnNextConfig(e.col)))}destroy(){var t;null===(t=this.columnStatesManager)||void 0===t||t.destroy(),super.destroy()}}function NC(){const t=this.getAllSavedSortSettings();if(vn(t))this.sortBySettings(t);else{const t=this.hot.getSettings()[this.pluginKey];this.sortBySettings(t)}}function FC(t,e){const n=qS(e);if(!1===XS(t,e)||null===n)return;const i=this.getFirstCellSettings(t)[this.pluginKey],s=i.indicator,r=i.headerAction;if(this.updateHeaderClasses(n,this.columnStatesManager,t,s,r),this.hot.getSettings().ariaTags){const n=this.columnStatesManager.getSortOrderOfColumn(t);he(e,...Ot(n?`${n}ending`:"none"))}}function jC(t){!0===t&&this.hot.view&&RC(OC,this,NC).call(this)}function WC(t,e,n,i){!1!==JS(e.row,e.col,t)&&this.wasClickableHeaderClicked(t,e.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(i.column=!0)}function VC(t,e,n){return e=BC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BC(t){var e=zC(t,"string");return"symbol"==typeof e?e:e+""}function zC(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class UC{constructor(t,e){VC(this,"plugin",void 0),VC(this,"hot",void 0),VC(this,"endpoints",[]),VC(this,"settings",void 0),VC(this,"settingsType","array"),VC(this,"currentEndpoint",null),VC(this,"cellsToSetCache",[]),this.plugin=t,this.hot=this.plugin.hot,this.settings=e}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(t){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings)[t]:this.endpoints[t]}getAllEndpoints(){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(t){return this.parseSettings(t.call(this))}parseSettings(t){const e=[];let n=t;if(n||"function"!==typeof this.settings)return n||(n=this.settings),T(n,(t=>{const n={};this.assignSetting(t,n,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(t,n,"reversedRowCoords",!1),this.assignSetting(t,n,"destinationRow",new Error("\n        You must provide a destination row for the Column Summary plugin in order to work properly!\n      ")),this.assignSetting(t,n,"destinationColumn",new Error("\n        You must provide a destination column for the Column Summary plugin in order to work properly!\n      ")),this.assignSetting(t,n,"sourceColumn",t.destinationColumn),this.assignSetting(t,n,"type","sum"),this.assignSetting(t,n,"forceNumeric",!1),this.assignSetting(t,n,"suppressDataTypeErrors",!0),this.assignSetting(t,n,"customFunction",null),this.assignSetting(t,n,"readOnly",!0),this.assignSetting(t,n,"roundFloat",!1),e.push(n)})),e;this.settingsType="function"}assignSetting(t,e,n,i){if("ranges"!==n||void 0!==t[n]){if("ranges"!==n||0!==t[n].length)if(void 0===t[n]){if(i instanceof Error)throw i;e[n]=i}else"destinationRow"===n&&e.reversedRowCoords?e[n]=this.hot.countRows()-t[n]-1:e[n]=t[n]}else e[n]=i}resetSetupBeforeStructureAlteration(t,e,n){if("function"!==this.settingsType)return;const i=t.indexOf("row")>-1?"row":"col",s=this.getAllEndpoints();T(s,(s=>{"row"===i&&s.destinationRow>=e&&("insert_row"===t?s.alterRowOffset=n:"remove_row"===t&&(s.alterRowOffset=-1*n)),"col"===i&&s.destinationColumn>=e&&("insert_col"===t?s.alterColumnOffset=n:"remove_col"===t&&(s.alterColumnOffset=-1*n))})),this.resetAllEndpoints(s,!1)}resetSetupAfterStructureAlteration(t,e,n,i,s){let r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if("function"===this.settingsType){const t=()=>(this.hot.removeHook("beforeViewRender",t),this.refreshAllEndpoints());return void this.hot.addHookOnce("beforeViewRender",t)}const o=t.indexOf("row")>-1?"row":"col",a=t.indexOf("remove")>-1?-1:1,l=this.getAllEndpoints(),h=0===t.indexOf("move_row"),c=e;T(l,(t=>{"row"===o&&t.destinationRow>=c&&(t.alterRowOffset=a*n),"col"===o&&t.destinationColumn>=c&&(t.alterColumnOffset=a*n)})),this.resetAllEndpoints(l,!h),T(l,h?t=>{this.extendEndpointRanges(t,c,i[0],i.length),this.recreatePhysicalRanges(t),this.clearOffsetInformation(t)}:t=>{this.shiftEndpointCoordinates(t,c)}),r&&this.refreshAllEndpoints()}clearOffsetInformation(t){t.alterRowOffset=void 0,t.alterColumnOffset=void 0}extendEndpointRanges(t,e,n,i){T(t.ranges,(t=>{t[1]&&(e>=t[0]&&e<=t[1]?n>t[1]?t[1]+=i:n<t[0]&&(t[0]-=i):n>=t[0]&&n<=t[1]&&(t[1]-=i,e<=t[0]&&(t[0]+=1,t[1]+=1)))}))}recreatePhysicalRanges(t){const e=t.ranges,n=[],i=[];T(e,(t=>{const e=[];if(t[1])for(let n=t[0];n<=t[1];n++)e.push(this.hot.toPhysicalRow(n));else e.push(this.hot.toPhysicalRow(t[0]));i.push(e)})),T(i,(t=>{let e=[];T(t,((i,s)=>{0===s?e.push(i):t[s]!==t[s-1]+1&&(e.push(t[s-1]),n.push(e),e=[],e.push(i)),s===t.length-1&&(e.push(i),n.push(e))}))})),t.ranges=n}shiftEndpointCoordinates(t,e){t.alterRowOffset&&0!==t.alterRowOffset?(t.destinationRow+=t.alterRowOffset||0,T(t.ranges,(n=>{T(n,((i,s)=>{i>=e&&(n[s]+=t.alterRowOffset||0)}))}))):t.alterColumnOffset&&0!==t.alterColumnOffset&&(t.destinationColumn+=t.alterColumnOffset||0,t.sourceColumn+=t.alterColumnOffset||0)}resetAllEndpoints(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAllEndpoints(),e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=t.some((t=>{const e=t.alterRowOffset||0,n=t.alterColumnOffset||0;return t.destinationRow+e>=this.hot.countRows()||t.destinationColumn+n>=this.hot.countCols()}));n||(this.cellsToSetCache=[],T(t,(t=>{this.resetEndpointValue(t,e)})),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],T(this.getAllEndpoints(),(t=>{this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t,"init")})),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(t){const e=[];this.cellsToSetCache=[],T(t,((t,n,i)=>{`${t[2]||""}`!==`${t[3]}`&&T(this.getAllEndpoints(),((t,s)=>{this.hot.propToCol(i[n][1])===t.sourceColumn&&-1===e.indexOf(s)&&e.push(s)}))})),T(e,(t=>{this.refreshEndpoint(this.getEndpoint(t))})),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshEndpoint(t){this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t),this.currentEndpoint=null}resetEndpointValue(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=t.alterRowOffset||0,i=t.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(t.destinationRow+(e?n:0)),this.hot.toVisualColumn(t.destinationColumn+(e?i:0)),""])}setEndpointValue(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.hot.toVisualRow(t.destinationRow);if(t.destinationRow>=this.hot.countRows()||t.destinationColumn>=this.hot.countCols())return void this.throwOutOfBoundsWarning();const s=this.hot.toVisualRow(t.destinationRow);if(null!==s){const n=this.hot.getCellMeta(s,t.destinationColumn);"init"!==e&&n.readOnly===t.readOnly||(n.readOnly=t.readOnly,n.className="columnSummaryResult")}if((!0===t.roundFloat||Number.isInteger(t.roundFloat))&&!isNaN(t.result)){const e=t.roundFloat;let n=0;Number.isInteger(e)&&(n=Math.min(Math.max(0,e),100)),t.result=t.result.toFixed(n)}n?this.hot.setDataAtCell(i,t.destinationColumn,t.result,"ColumnSummary.set"):this.cellsToSetCache.push([i,t.destinationColumn,t.result]),t.alterRowOffset=void 0,t.alterColumnOffset=void 0}throwOutOfBoundsWarning(){ci("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}var $C=UC;function GC(t){return null===t||void 0===t||isNaN(t)}function KC(t,e){qC(t,e),e.add(t)}function qC(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XC(t,e,n){return e=JC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JC(t){var e=ZC(t,"string");return"symbol"==typeof e?e:e+""}function ZC(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function QC(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const tx="columnSummary",ex=220;var nx=new WeakSet;class ix extends Eb{constructor(){super(...arguments),KC(this,nx),XC(this,"endpoints",null)}static get PLUGIN_KEY(){return tx}static get PLUGIN_PRIORITY(){return ex}isEnabled(){return!!this.hot.getSettings()[tx]}enablePlugin(){var t=this;this.enabled||(this.settings=this.hot.getSettings()[tx],this.endpoints=new $C(this,this.settings),this.addHook("afterInit",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QC(nx,t,sx).call(t,...n)})),this.addHook("afterChange",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QC(nx,t,rx).call(t,...n)})),this.addHook("beforeCreateRow",((t,e,n)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",t,e,null,n))),this.addHook("beforeCreateCol",((t,e,n)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",t,e,null,n))),this.addHook("beforeRemoveRow",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.endpoints.resetSetupBeforeStructureAlteration("remove_row",...n)})),this.addHook("beforeRemoveCol",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.endpoints.resetSetupBeforeStructureAlteration("remove_col",...n)})),this.addHook("afterCreateRow",((t,e,n)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",t,e,null,n))),this.addHook("afterCreateCol",((t,e,n)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",t,e,null,n))),this.addHook("afterRemoveRow",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.endpoints.resetSetupAfterStructureAlteration("remove_row",...n)})),this.addHook("afterRemoveCol",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.endpoints.resetSetupAfterStructureAlteration("remove_col",...n)})),this.addHook("afterRowMove",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QC(nx,t,ox).call(t,...n)})),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(t){switch(t.type.toLowerCase()){case"sum":t.result=this.calculateSum(t);break;case"min":t.result=this.calculateMinMax(t,t.type);break;case"max":t.result=this.calculateMinMax(t,t.type);break;case"count":t.result=this.countEntries(t);break;case"average":t.result=this.calculateAverage(t);break;case"custom":t.result=t.customFunction.call(this,t);break;default:break}}calculateSum(t){let e=0;return Mn(t.ranges,(n=>{e+=this.getPartialSum(n,t.sourceColumn)})),e}getPartialSum(t,e){let n=0,i=t[1]||t[0],s=null,r=0;do{if(s=this.getCellValue(i,e),s=GC(s)?null:s,null!==s){const t=(`${s}`.split(".")[1]||[]).length||1;t>r&&(r=t)}n+=s||0,i-=1}while(i>=t[0]);return Math.round(n*10**r)/10**r}calculateMinMax(t,e){let n=null;return Mn(t.ranges,(i=>{const s=this.getPartialMinMax(i,t.sourceColumn,e);if(null===n&&null!==s&&(n=s),null!==s)switch(e){case"min":n=Math.min(n,s);break;case"max":n=Math.max(n,s);break;default:break}})),null===n?"Not enough data":n}getPartialMinMax(t,e,n){let i,s=null,r=t[1]||t[0];do{if(i=this.getCellValue(r,e),i=GC(i)?null:i,null===s)s=i;else if(null!==i)switch(n){case"min":s=Math.min(s,i);break;case"max":s=Math.max(s,i);break;default:break}r-=1}while(r>=t[0]);return s}countEmpty(t,e){let n,i=0,s=t[1]||t[0];do{n=this.getCellValue(s,e),n=GC(n)?null:n,null===n&&(i+=1),s-=1}while(s>=t[0]);return i}countEntries(t){let e=0;const n=t.ranges;return Mn(n,(n=>{const i=void 0===n[1]?1:n[1]-n[0]+1,s=this.countEmpty(n,t.sourceColumn);e+=i,e-=s})),e}calculateAverage(t){const e=this.calculateSum(t),n=this.countEntries(t);return e/n}getCellValue(t,e){const n=this.hot.toVisualRow(t),i=this.hot.toVisualColumn(e);let s=this.hot.getSourceDataAtCell(t,e),r="";if(null!==n&&null!==i&&(r=this.hot.getCellMeta(n,i).className||""),r.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&("string"===typeof s&&(s=s.replace(/,/,".")),s=parseFloat(s)),isNaN(s)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(Y`ColumnSummary plugin: cell at (${t}, ${e}) is not in a\x20
          numeric format. Cannot do the calculation.`);return s}}function sx(){this.endpoints.initEndpoints()}function rx(t,e){t&&"ColumnSummary.reset"!==e&&"ColumnSummary.set"!==e&&"loadData"!==e&&this.endpoints.refreshChangedEndpoints(t)}function ox(t,e){this.endpoints.resetSetupBeforeStructureAlteration("move_row",t[0],t.length,t,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",e,t.length,t,this.pluginName)}function ax(t,e,n){return e=lx(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lx(t){var e=hx(t,"string");return"symbol"==typeof e?e:e+""}function hx(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class cx{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(t,e){ax(this,"rootDocument",void 0),ax(this,"isRtl",!1),ax(this,"container",null),ax(this,"editor",void 0),ax(this,"editorStyle",void 0),ax(this,"hidden",!0),this.rootDocument=t,this.isRtl=e,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hide()}setPosition(t,e){this.editorStyle.left=`${t}px`,this.editorStyle.top=`${e}px`}setSize(t,e){if(t&&e){const n=this.getInputElement();n.style.width=`${t}px`,n.style.height=`${e}px`}}getSize(){return{width:Ee(this.getInputElement()),height:Re(this.getInputElement())}}resetSize(){const t=this.getInputElement();t.style.width="",t.style.height=""}setReadOnlyState(t){const e=this.getInputElement();e.readOnly=t}show(){this.editorStyle.display="block",this.hidden=!1}hide(){this.hidden||(this.editorStyle.display="none"),this.hidden=!0}isVisible(){return"block"===this.editorStyle.display}setValue(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const e=t||"";this.getInputElement().value=e}getValue(){return this.getInputElement().value}isFocused(){return this.rootDocument.activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){const t=this.rootDocument.createElement("div"),e=this.rootDocument.createElement("textarea");return t.style.display="none",this.container=this.rootDocument.createElement("div"),this.container.setAttribute("dir",this.isRtl?"rtl":"ltr"),ae(this.container,cx.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),ae(t,cx.CLASS_EDITOR),ae(e,cx.CLASS_INPUT),e.setAttribute("data-hot-input",!0),t.appendChild(e),this.container.appendChild(t),t}getInputElement(){return this.editor.querySelector(`.${cx.CLASS_INPUT}`)}destroy(){const t=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,t&&t.removeChild(this.container)}}var dx=cx;function ux(t,e,n){return e=fx(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fx(t){var e=mx(t,"string");return"symbol"==typeof e?e:e+""}function mx(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}const gx=250,px=250;class _x{constructor(t){ux(this,"wasLastActionShow",!0),ux(this,"showDebounced",null),ux(this,"hidingTimer",null),this.updateDelay(t)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout((()=>{!1===this.wasLastActionShow&&this.runLocalHooks("hide")}),px)}show(t){this.wasLastActionShow=!0,this.showDebounced(t)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gx;this.showDebounced=on((t=>{this.wasLastActionShow&&this.runLocalHooks("show",t.from.row,t.from.col)}),t)}destroy(){this.clearLocalHooks()}}yn(_x,sd);var yx=_x;const wx="---------";function vx(){return{name:wx}}function bx(t){return{key:"commentsAddEdit",name(){var e;const n=null===(e=this.getSelectedRangeLast())||void 0===e?void 0:e.highlight;return null!==n&&void 0!==n&&n.isCell()&&t.getCommentAtCell(n.row,n.col)?this.getTranslatedPhrase(Iu):this.getTranslatedPhrase(Pu)},callback(){const e=this.getSelectedRangeLast();this.deselectCell(),t.setRange(e),t.show(),t.focusEditor()},disabled(){const t=this.getSelectedRangeLast();return!!(!t||t.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||0===this.countRenderedRows()||0===this.countRenderedCols())}}}function Mx(t){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(Ou)},callback(){const e=this.getSelectedRangeLast();e.forAll(((e,n)=>{e>=0&&n>=0&&t.removeCommentAtCell(e,n,!1)})),this.render()},disabled(){const t=this.getSelectedRangeLast();return!!(!t||t.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||0===this.countRenderedRows()||0===this.countRenderedCols())}}}function Sx(t,e){if(-1!==t.indexOf(e))return t;const n=t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","");return`${n} ${e}`}function Cx(t,e){if(-1!==t.indexOf(e))return t;const n=t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","");return`${n} ${e}`}function xx(t,e){const n={};return T(t,(t=>{t.forAll(((t,i)=>{t>=0&&i>=0&&(n[t]||(n[t]=[]),n[t][i]=e(t,i))}))})),n}function Tx(t,e,n,i,s){T(t,(t=>{t.forAll(((t,r)=>{t>=0&&r>=0&&kx(t,r,e,n,i,s)}))}))}function kx(t,e,n,i,s,r){const o=s(t,e);let a=i;o.className&&(a="vertical"===n?Sx(o.className,i):Cx(o.className,i)),r(t,e,"className",a)}function Lx(t){return`<span class="selected">${String.fromCharCode(10003)}</span>${t}`}function Ex(t,e){let n=!1;return Array.isArray(t)&&T(t,(t=>(t.forAll(((t,i)=>{if(t>=0&&i>=0&&e(t,i))return n=!0,!1})),n))),n}function Rx(t,e){const n={top:0,left:0};if(e!==t.ownerDocument){const{frameElement:t}=e.defaultView,{top:i,left:s}=t.getBoundingClientRect();n.top=i,n.left=s}return n}function Ax(t){return{key:"commentsReadOnly",name(){const e=this.getTranslatedPhrase(Yu),n=Ex(this.getSelectedRange(),((e,n)=>t.getCommentMeta(e,n,$x)));return n?Lx(e):e},callback(){const e=this.getSelectedRangeLast();e.forAll(((e,n)=>{if(e>=0&&n>=0){const i=!!t.getCommentMeta(e,n,$x);t.updateCommentMeta(e,n,{[$x]:!i})}}))},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||!t.getCommentAtCell(e.highlight.row,e.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||0===this.countRenderedRows()||0===this.countRenderedCols())}}}function Dx(t,e){Px(t,e),e.add(t)}function Hx(t,e,n){Px(t,e),e.set(t,n)}function Px(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ix(t,e,n){return e=Ox(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ox(t){var e=Yx(t,"string");return"symbol"==typeof e?e:e+""}function Yx(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Nx(t,e,n){return t.set(jx(t,e),n),n}function Fx(t,e){return t.get(jx(t,e))}function jx(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Wx="comments",Vx=60,Bx="comment",zx="value",Ux="style",$x="readOnly",Gx=Wx,Kx=`plugin:${Wx}`;var qx=new WeakMap,Xx=new WeakMap,Jx=new WeakMap,Zx=new WeakMap,Qx=new WeakMap,tT=new WeakMap,eT=new WeakMap,nT=new WeakSet;class iT extends Eb{constructor(){super(...arguments),Dx(this,nT),Ix(this,"range",{}),Hx(this,qx,null),Hx(this,Xx,null),Hx(this,Jx,!1),Hx(this,Zx,!1),Hx(this,Qx,{}),Hx(this,tT,null),Hx(this,eT,"")}static get PLUGIN_KEY(){return Wx}static get PLUGIN_PRIORITY(){return Vx}isEnabled(){return!!this.hot.getSettings()[Wx]}enablePlugin(){this.enabled||(Fx(qx,this)||Nx(qx,this,new dx(this.hot.rootDocument,this.hot.isRtl())),Fx(Xx,this)||Nx(Xx,this,new yx(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",(t=>this.addToContextMenu(t))),this.addHook("afterRenderer",((t,e,n,i,s,r)=>jx(nT,this,aT).call(this,t,r))),this.addHook("afterScroll",(()=>jx(nT,this,fT).call(this))),this.addHook("afterBeginEditing",(()=>this.hide())),this.addHook("afterDocumentKeyDown",(t=>jx(nT,this,uT).call(this,t))),Fx(Xx,this).addLocalHook("hide",(()=>this.hide())),Fx(Xx,this).addLocalHook("show",((t,e)=>this.showAtCell(t,e))),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){Fx(Xx,this).updateDelay(this.getDisplayDelaySetting()),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const t=this.hot.getShortcutManager(),e=t.getContext("grid"),n=t.addContext(Kx);e.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{const e=this.hot.getSelectedRangeLast();Nx(Zx,this,!0),this.hot.scrollToFocusedCell((()=>{this.setRange(e),this.show(),this.focusEditor(),t.setActiveContextName(Kx),this.hot._registerTimeout((()=>{Nx(Zx,this,!1)}))}))},stopPropagation:!0,runOnlyIf:()=>{var t;return(null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight.isCell())&&!Fx(qx,this).isVisible()},group:Gx}),n.addShortcut({keys:[["Escape"]],callback:()=>{Fx(qx,this).setValue(Fx(eT,this)),this.hide(),t.setActiveContextName("grid")},runOnlyIf:()=>{var t;return(null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight.isCell())&&Fx(qx,this).isVisible()},group:Gx}),n.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),t.setActiveContextName("grid")},runOnlyIf:()=>{var t;return(null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight.isCell())&&Fx(qx,this).isVisible()},group:Gx})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Gx)}registerListeners(){const{rootDocument:t}=this.hot,e=this.getEditorInputElement();this.eventManager.addEventListener(t,"mouseover",(t=>jx(nT,this,rT).call(this,t))),this.eventManager.addEventListener(t,"mousedown",(t=>jx(nT,this,sT).call(this,t))),this.eventManager.addEventListener(t,"mouseup",(()=>jx(nT,this,oT).call(this))),this.eventManager.addEventListener(e,"focus",(()=>jx(nT,this,hT).call(this))),this.eventManager.addEventListener(e,"blur",(()=>jx(nT,this,lT).call(this))),this.eventManager.addEventListener(e,"mousedown",(t=>jx(nT,this,cT).call(this,t))),this.eventManager.addEventListener(e,"mouseup",(t=>jx(nT,this,dT).call(this,t)))}setRange(t){this.range=t}clearRange(){this.range={}}targetIsCellWithComment(t){const e=Qt(t.target,"TD","TBODY");return!!(e&&oe(e,"htCommentCell")&&Qt(e,[this.hot.rootElement]))}targetIsCommentTextArea(t){return this.getEditorInputElement()===t.target}setComment(t){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const e=Fx(qx,this).getValue();let n="";null!==t&&void 0!==t?n=t:null!==e&&void 0!==e&&(n=e);const i=this.range.from.row,s=this.range.from.col;this.updateCommentMeta(i,s,{[zx]:n}),this.hot.render()}setCommentAtCell(t,e,n){this.setRange({from:this.hot._createCellCoords(t,e)}),this.setComment(n)}removeComment(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,Bx),t&&this.hot.render(),this.hide()}removeCommentAtCell(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setRange({from:this.hot._createCellCoords(t,e)}),this.removeComment(n)}getComment(){const t=this.range.from.row,e=this.range.from.col;return this.getCommentMeta(t,e,zx)}getCommentAtCell(t,e){return this.getCommentMeta(t,e,zx)}show(){var t;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const{from:{row:e,col:n}}=this.range;if(e<0||e>this.hot.countSourceRows()-1||n<0||n>this.hot.countSourceCols()-1)return!1;const i=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return Fx(Xx,this).cancelHiding(),Fx(qx,this).setValue(null!==(t=i[Bx]?i[Bx][zx]:null)&&void 0!==t?t:""),Fx(qx,this).show(),this.refreshEditor(!0),!0}showAtCell(t,e){return this.setRange({from:this.hot._createCellCoords(t,e)}),this.show()}hide(){Fx(qx,this).hide()}refreshEditor(){var t,e;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!n&&(!this.range.from||!Fx(qx,this).isVisible()))return;const{rowIndexMapper:i,columnIndexMapper:s}=this.hot,{row:r,col:o}=this.range.from;let a=i.getRenderableFromVisualIndex(r),l=s.getRenderableFromVisualIndex(o);const h=null===a;Fx(qx,this).setPosition(0,0),null===a&&(a=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(r,-1))),null===l&&(l=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(o,-1)));const c=null===a,d=null===l;a=null!==(t=a)&&void 0!==t?t:0,l=null!==(e=l)&&void 0!==e?e:0;const{rootWindow:u,view:{_wt:f}}=this.hot,{wtTable:m}=f,g=f.getCell({row:a,col:l},!0),p=this.getCommentMeta(r,o,Ux);p?Fx(qx,this).setSize(p.width,p.height):Fx(qx,this).resetSize();const _=d?0:m.getStretchedColumnWidth(l),y=h&&!c?Re(g):0,{left:w,top:v,width:b,height:M}=g.getBoundingClientRect(),{width:S,height:C}=Fx(qx,this).getSize(),{innerWidth:x,innerHeight:T}=this.hot.rootWindow,k=this.hot.rootDocument.documentElement;let L=w+u.scrollX+_,E=v+u.scrollY+y;this.hot.isRtl()&&(L-=S+_),this.hot.isLtr()&&w+b+S>x?L=w+u.scrollX-S-1:this.hot.isRtl()&&L<-(k.scrollWidth-k.clientWidth)&&(L=w+u.scrollX+_+1),v+C>T&&(E-=C-M+1),Fx(qx,this).setPosition(L,E),Fx(qx,this).setReadOnlyState(this.getCommentMeta(r,o,$x))}focusEditor(){Fx(qx,this).focus()}updateCommentMeta(t,e,n){const i=this.hot.getCellMeta(t,e)[Bx];let s;i?(s=pn(i),gn(s,n)):s=n,this.hot.setCellMeta(t,e,Bx,s)}getCommentMeta(t,e,n){const i=this.hot.getCellMeta(t,e);if(i[Bx])return i[Bx][n]}addToContextMenu(t){t.items.push({name:wx},bx(this),Mx(this),Ax(this))}getDisplayDelaySetting(){const t=this.hot.getSettings()[Wx];if(vn(t))return t.displayDelay}getEditorInputElement(){return Fx(qx,this).getInputElement()}destroy(){Fx(qx,this)&&Fx(qx,this).destroy(),Fx(Xx,this)&&Fx(Xx,this).destroy(),super.destroy()}}function sT(t){if(this.hot.view&&this.hot.view._wt&&!Fx(Jx,this)&&!this.targetIsCommentTextArea(t)){const e=Qt(t.target,"TD","TBODY");let n=null;e&&(n=this.hot.getCoords(e)),(!e||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}}function rT(t){const{rootDocument:e}=this.hot;if(!(Fx(Jx,this)||Fx(qx,this).isFocused()||oe(t.target,"wtBorder")||Fx(tT,this)===t.target)&&Fx(qx,this))if(Nx(tT,this,e.elementFromPoint(t.clientX,t.clientY)),this.targetIsCellWithComment(t)){const e=this.hot._createCellRange(this.hot.getCoords(t.target));Fx(Xx,this).show(e)}else ee(t.target,e)&&!this.targetIsCommentTextArea(t)&&Fx(Xx,this).hide()}function oT(){Nx(Jx,this,!1)}function aT(t,e){e[Bx]&&e[Bx][zx]&&ae(t,e.commentedCellClassName)}function lT(){Nx(eT,this,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function hT(){Nx(eT,this,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(Kx)}function cT(t){Nx(Qx,this,{width:Ee(t.target),height:Re(t.target)})}function dT(t){const e=Ee(t.target),n=Re(t.target);e===Fx(Qx,this).width+1&&n===Fx(Qx,this).height+2||this.updateCommentMeta(this.range.from.row,this.range.from.col,{[Ux]:{width:e,height:n}})}function uT(t){Fx(qx,this).isVisible()&&ri(t)}function fT(){Fx(Zx,this)||this.hide()}n(3609);function mT(t,e,n){return e=gT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gT(t){var e=pT(t,"string");return"symbol"==typeof e?e:e+""}function pT(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class _T{constructor(t){mT(this,"hot",void 0),mT(this,"commands",{}),mT(this,"commonCallback",null),this.hot=t}registerCommand(t,e){this.commands[t]=e}setCommonCallback(t){this.commonCallback=t}execute(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const s=t.split(":"),r=s[0],o=2===s.length?s[1]:null;let a=this.commands[r];if(!a)throw new Error(`Menu command '${r}' not exists.`);if(o&&a.submenu&&(a=yT(o,a.submenu.items)),!0===a.disabled)return;if("function"===typeof a.disabled&&!0===a.disabled.call(this.hot))return;if(kn(a,"submenu"))return;const l=[];"function"===typeof a.callback&&l.push(a.callback),"function"===typeof this.commonCallback&&l.push(this.commonCallback),n.unshift(s.join(":")),T(l,(t=>t.apply(this.hot,n)))}}function yT(t,e){let n;return T(e,(e=>{const i=e.key?e.key.split(":"):null;if(Array.isArray(i)&&i[1]===t)return n=e,!1})),n}const wT="alignment";function vT(){return{key:wT,name(){return this.getTranslatedPhrase(Nu)},disabled(){if(0===this.countRows()||0===this.countCols())return!0;const t=this.getSelectedRangeLast();return!t||(!!t.isSingleHeader()||!(this.getSelectedRange()&&!this.selection.isSelectedByCorner()))},submenu:{items:[{key:`${wT}:left`,name(){let t=this.getTranslatedPhrase(Fu);const e=Ex(this.getSelectedRange(),((t,e)=>{const n=this.getCellMeta(t,e).className;if(n&&-1!==n.indexOf("htLeft"))return!0}));return e&&(t=Lx(t)),t},callback(){const t=this.getSelectedRange(),e=xx(t,((t,e)=>this.getCellMeta(t,e).className)),n="horizontal",i="htLeft";this.runHooks("beforeCellAlignment",e,t,n,i),Tx(t,n,i,((t,e)=>this.getCellMeta(t,e)),((t,e,n,i)=>this.setCellMeta(t,e,n,i))),this.render()},disabled:!1},{key:`${wT}:center`,name(){let t=this.getTranslatedPhrase(ju);const e=Ex(this.getSelectedRange(),((t,e)=>{const n=this.getCellMeta(t,e).className;if(n&&-1!==n.indexOf("htCenter"))return!0}));return e&&(t=Lx(t)),t},callback(){const t=this.getSelectedRange(),e=xx(t,((t,e)=>this.getCellMeta(t,e).className)),n="horizontal",i="htCenter";this.runHooks("beforeCellAlignment",e,t,n,i),Tx(t,n,i,((t,e)=>this.getCellMeta(t,e)),((t,e,n,i)=>this.setCellMeta(t,e,n,i))),this.render()},disabled:!1},{key:`${wT}:right`,name(){let t=this.getTranslatedPhrase(Wu);const e=Ex(this.getSelectedRange(),((t,e)=>{const n=this.getCellMeta(t,e).className;if(n&&-1!==n.indexOf("htRight"))return!0}));return e&&(t=Lx(t)),t},callback(){const t=this.getSelectedRange(),e=xx(t,((t,e)=>this.getCellMeta(t,e).className)),n="horizontal",i="htRight";this.runHooks("beforeCellAlignment",e,t,n,i),Tx(t,n,i,((t,e)=>this.getCellMeta(t,e)),((t,e,n,i)=>this.setCellMeta(t,e,n,i))),this.render()},disabled:!1},{key:`${wT}:justify`,name(){let t=this.getTranslatedPhrase(Vu);const e=Ex(this.getSelectedRange(),((t,e)=>{const n=this.getCellMeta(t,e).className;if(n&&-1!==n.indexOf("htJustify"))return!0}));return e&&(t=Lx(t)),t},callback(){const t=this.getSelectedRange(),e=xx(t,((t,e)=>this.getCellMeta(t,e).className)),n="horizontal",i="htJustify";this.runHooks("beforeCellAlignment",e,t,n,i),Tx(t,n,i,((t,e)=>this.getCellMeta(t,e)),((t,e,n,i)=>this.setCellMeta(t,e,n,i))),this.render()},disabled:!1},{name:wx},{key:`${wT}:top`,name(){let t=this.getTranslatedPhrase(Bu);const e=Ex(this.getSelectedRange(),((t,e)=>{const n=this.getCellMeta(t,e).className;if(n&&-1!==n.indexOf("htTop"))return!0}));return e&&(t=Lx(t)),t},callback(){const t=this.getSelectedRange(),e=xx(t,((t,e)=>this.getCellMeta(t,e).className)),n="vertical",i="htTop";this.runHooks("beforeCellAlignment",e,t,n,i),Tx(t,n,i,((t,e)=>this.getCellMeta(t,e)),((t,e,n,i)=>this.setCellMeta(t,e,n,i))),this.render()},disabled:!1},{key:`${wT}:middle`,name(){let t=this.getTranslatedPhrase(zu);const e=Ex(this.getSelectedRange(),((t,e)=>{const n=this.getCellMeta(t,e).className;if(n&&-1!==n.indexOf("htMiddle"))return!0}));return e&&(t=Lx(t)),t},callback(){const t=this.getSelectedRange(),e=xx(t,((t,e)=>this.getCellMeta(t,e).className)),n="vertical",i="htMiddle";this.runHooks("beforeCellAlignment",e,t,n,i),Tx(t,n,i,((t,e)=>this.getCellMeta(t,e)),((t,e,n,i)=>this.setCellMeta(t,e,n,i))),this.render()},disabled:!1},{key:`${wT}:bottom`,name(){let t=this.getTranslatedPhrase(Uu);const e=Ex(this.getSelectedRange(),((t,e)=>{const n=this.getCellMeta(t,e).className;if(n&&-1!==n.indexOf("htBottom"))return!0}));return e&&(t=Lx(t)),t},callback(){const t=this.getSelectedRange(),e=xx(t,((t,e)=>this.getCellMeta(t,e).className)),n="vertical",i="htBottom";this.runHooks("beforeCellAlignment",e,t,n,i),Tx(t,n,i,((t,e)=>this.getCellMeta(t,e)),((t,e,n,i)=>this.setCellMeta(t,e,n,i))),this.render()},disabled:!1}]}}}const bT="clear_column";function MT(){return{key:bT,name(){return this.getTranslatedPhrase(Cu)},callback(t,e){const n=e[0].start.col,i=e[0].end.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(e[0].start.row,e[0].end.row),i,"ContextMenu.clearColumn")},disabled(){const t=this.getSelectedRangeLast();return!t||(!!(t.isSingleHeader()&&t.highlight.col<0)||!this.selection.isSelectedByColumnHeader())}}}const ST="col_left";function CT(){return{key:ST,name(){return this.getTranslatedPhrase(_u)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner(),e=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(e,t.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();if(!t)return!0;if(t.isSingleHeader()&&t.highlight.col<0)return!0;if(this.selection.isSelectedByCorner()){const t=this.countCols();return 0===t}return this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const xT="col_right";function TT(){return{key:xT,name(){return this.getTranslatedPhrase(yu)},callback(){const t=this.getSelectedRangeLast().getTopRightCorner(),e=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(e,t.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||(!!(t.isSingleHeader()&&t.highlight.col<0)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols))},hidden(){return!this.getSettings().allowInsertColumn}}}const kT="make_read_only";function LT(){return{key:kT,name(){let t=this.getTranslatedPhrase(Su);const e=Ex(this.getSelectedRange(),((t,e)=>this.getCellMeta(t,e).readOnly));return e&&(t=Lx(t)),t},callback(){const t=this.getSelectedRange(),e=Ex(t,((t,e)=>this.getCellMeta(t,e).readOnly));T(t,(t=>{t.forAll(((t,n)=>{t>=0&&n>=0&&this.setCellMeta(t,n,"readOnly",!e)}))})),this.render()},disabled(){const t=this.getSelectedRangeLast();return!t||(!!t.isSingleHeader()||(!!this.selection.isSelectedByCorner()||(0===this.countRows()||0===this.countCols()||(!this.getSelectedRange()||0===this.getSelectedRange().length))))}}}const ET="redo";function RT(){return{key:ET,name(){return this.getTranslatedPhrase(Mu)},callback(){this.redo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}const AT="remove_col";function DT(){return{key:AT,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[,n,,i]=t[0];n-i!==0&&(e=1)}return this.getTranslatedPhrase(vu,e)},callback(){this.alter("remove_col",yg(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();if(!t)return!0;if(t.isSingleHeader()&&t.highlight.col<0)return!0;const e=this.countCols();return this.selection.isSelectedByCorner()?0===e:this.selection.isSelectedByRowHeader()||0===e},hidden(){return!this.getSettings().allowRemoveColumn}}}const HT="remove_row";function PT(){return{key:HT,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[n,,i]=t[0];n-i!==0&&(e=1)}return this.getTranslatedPhrase(wu,e)},callback(){this.alter("remove_row",wg(this),1,"ContextMenu.removeRow")},disabled(){const t=this.getSelectedRangeLast();if(!t)return!0;if(t.isSingleHeader()&&t.highlight.row<0)return!0;const e=this.countRows();return this.selection.isSelectedByCorner()?0===e:this.selection.isSelectedByColumnHeader()||0===e},hidden(){return!this.getSettings().allowRemoveRow}}}const IT="row_above";function OT(){return{key:IT,name(){return this.getTranslatedPhrase(gu)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",t.row,1,"ContextMenu.rowAbove")},disabled(){const t=this.getSelectedRangeLast();if(!t)return!0;if(t.isSingleHeader()&&t.highlight.row<0)return!0;if(this.selection.isSelectedByCorner()){const t=this.countRows();return 0===t}return this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const YT="row_below";function NT(){return{key:YT,name(){return this.getTranslatedPhrase(pu)},callback(){const t=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",t.row,1,"ContextMenu.rowBelow")},disabled(){const t=this.getSelectedRangeLast();return!t||(!!(t.isSingleHeader()&&t.highlight.row<0)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows))},hidden(){return!this.getSettings().allowInsertRow}}}const FT="no_items";function jT(){return{key:FT,name(){return this.getTranslatedPhrase(mu)},disabled:!0,isCommand:!1}}const WT="undo";function VT(){return{key:WT,name(){return this.getTranslatedPhrase(bu)},callback(){this.undo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}const BT=[IT,YT,ST,xT,bT,HT,AT,WT,ET,kT,wT,wx,FT],zT={[wx]:vx,[FT]:jT,[IT]:OT,[YT]:NT,[ST]:CT,[xT]:TT,[bT]:MT,[HT]:PT,[AT]:DT,[WT]:VT,[ET]:RT,[kT]:LT,[wT]:vT};function UT(){const t={};return Mn(zT,((e,n)=>{t[n]=e()})),t}function $T(t,e,n){return e=GT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GT(t){var e=KT(t,"string");return"symbol"==typeof e?e:e+""}function KT(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class qT{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;$T(this,"hot",void 0),$T(this,"predefinedItems",UT()),$T(this,"defaultOrderPattern",void 0),this.hot=t,this.defaultOrderPattern=e}setPredefinedItems(t){const e={};this.defaultOrderPattern.length=0,Mn(t,((t,n)=>{let i="";t.name===wx?(e[wx]=t,i=wx):isNaN(parseInt(n,10))?(t.key=void 0===t.key?n:t.key,e[n]=t,i=t.key):(e[t.key]=t,i=t.key),this.defaultOrderPattern.push(i)})),this.predefinedItems=e}getItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return XT(t,this.defaultOrderPattern,this.predefinedItems)}}function XT(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=[];let s=t;return s&&s.items?s=s.items:Array.isArray(s)||(s=e),vn(s)?Mn(s,((t,e)=>{let s=n["string"===typeof t?t:e];s||(s=t),vn(t)?mn(s,t):"string"===typeof s&&(s={name:s}),void 0===s.key&&(s.key=e),i.push(s)})):T(s,((t,e)=>{let s=n[t];!s&&BT.indexOf(t)>=0||(s||(s={name:t,key:`${e}`}),vn(t)&&mn(s,t),void 0===s.key&&(s.key=e),i.push(s))})),i}function JT(t,e,n){return e=ZT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZT(t){var e=QT(t,"string");return"symbol"==typeof e?e:e+""}function QT(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class tk{constructor(t,e){JT(this,"top",void 0),JT(this,"topRelative",void 0),JT(this,"left",void 0),JT(this,"leftRelative",void 0),JT(this,"scrollTop",void 0),JT(this,"scrollLeft",void 0),JT(this,"cellHeight",void 0),JT(this,"cellWidth",void 0);const n=e.scrollY,i=e.scrollX;let s,r,o,a,l,h;this.rootWindow=e,this.type=this.getSourceType(t),"literal"===this.type?(s=parseInt(t.top,10),o=parseInt(t.left,10),l=t.height||0,h=t.width||0,r=s,a=o,s+=n,o+=i):"event"===this.type&&(s=parseInt(t.pageY,10),o=parseInt(t.pageX,10),l=t.target.clientHeight,h=t.target.clientWidth,r=s-n,a=o-i),this.top=s,this.topRelative=r,this.left=o,this.leftRelative=a,this.scrollTop=n,this.scrollLeft=i,this.cellHeight=l,this.cellWidth=h}getSourceType(t){let e="literal";return t instanceof Event&&(e="event"),e}fitsAbove(t){return this.topRelative>=t.offsetHeight}fitsBelow(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+t.offsetHeight<=e}fitsOnRight(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=e}fitsOnLeft(t){return this.leftRelative>=t.offsetWidth}}function ek(t,e,n){nk(t,e),e.set(t,n)}function nk(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ik(t,e){return t.get(rk(t,e))}function sk(t,e,n){return t.set(rk(t,e),n),n}function rk(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ok=new WeakMap,ak=new WeakMap,lk=new WeakMap,hk=new WeakMap,ck=new WeakMap;class dk{constructor(t){ek(this,ok,void 0),ek(this,ak,void 0),ek(this,lk,void 0),ek(this,hk,!1),ek(this,ck,{above:0,below:0,left:0,right:0}),sk(hk,this,t)}setOffset(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ik(ck,this)[t]=e,this}setElement(t){return sk(ok,this,t),this}setParentElement(t){return sk(ak,this,t),this}updatePosition(t){sk(lk,this,new tk(t,ik(ok,this).ownerDocument.defaultView)),ik(hk,this)?(ik(lk,this).fitsBelow(ik(ok,this))?this.setPositionBelowCursor():ik(lk,this).fitsAbove(ik(ok,this))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){"rtl"===ik(ok,this).dir?ik(lk,this).fitsOnLeft(ik(ok,this))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():ik(lk,this).fitsOnRight(ik(ok,this))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let t=ik(ck,this).above+ik(lk,this).top-ik(ok,this).offsetHeight;ik(ak,this)&&(t=ik(lk,this).top+ik(lk,this).cellHeight-ik(ok,this).offsetHeight+3),ik(ok,this).style.top=`${t}px`}setPositionBelowCursor(){let t=ik(ck,this).below+ik(lk,this).top+1;ik(ak,this)&&(t=ik(lk,this).top-1),ik(ok,this).style.top=`${t}px`}setPositionOnRightOfCursor(){let t=ik(lk,this).left;if(ik(ak,this)){const{right:e}=ik(ak,this).getBoundingClientRect();t+=ik(lk,this).cellWidth+e-(ik(lk,this).left+ik(lk,this).cellWidth)}else t+=ik(ck,this).right;ik(ok,this).style.left=`${t}px`}setPositionOnLeftOfCursor(){let t=ik(ck,this).left+ik(lk,this).left-ik(ok,this).offsetWidth;if(ik(ak,this)){const{left:e}=ik(ak,this).getBoundingClientRect();t-=ik(lk,this).left-e}ik(ok,this).style.left=`${t}px`}}function uk(t){let{initialPage:e=-1,size:n=(()=>0),onItemSelect:i=(()=>{}),onClear:s=(()=>{})}=t;const r=new Set;let o=As(e,-1,m()-1);function a(t,e){const n=m()-1;if(t<0&&(t=n),t>n&&(t=0),r.has(t))return-1;r.add(t);const s=i(t,!1);return!1===s&&(t=a(1===e?++t:--t,e)),t}function l(t){t>-1&&t<m()&&!1!==i(t,!0)&&(o=t)}function h(){return o}function c(){m()>0&&(r.clear(),o=a(0,1))}function d(){m()>0&&(r.clear(),o=a(m()-1,-1))}function u(){m()>0&&(r.clear(),o=a(++o,1))}function f(){m()>0&&(r.clear(),o=a(--o,-1))}function m(){return Math.max(n(),0)}function g(){r.clear(),o=e,s()}return{setCurrentPage:l,getCurrentPage:h,toFirstItem:c,toLastItem:d,toNextItem:u,toPreviousItem:f,getSize:m,clear:g}}function fk(t){return x(t,(t=>({start:t.getTopStartCorner(),end:t.getBottomEndCorner()})))}function mk(t){return kn(t,"submenu")}function gk(t){return new RegExp(wx,"i").test(t.name)}function pk(t,e){return!0===t.disabled||"function"===typeof t.disabled&&!0===t.disabled.call(e)}function _k(t){return kn(t,"disableSelection")}function yk(t){return oe(t,"htSeparator")}function wk(t){return oe(t,"htSubmenu")}function vk(t){return oe(t,"htDisabled")}function bk(t){return oe(t,"htSelectionDisabled")}function Mk(t,e){return!t.hidden||!("function"===typeof t.hidden&&t.hidden.call(e))}function Sk(t,e){const n=t.slice(0);for(let i=0;i<n.length;){if(n[i].name!==e)break;n.shift()}return n}function Ck(t,e){let n=t.slice(0);return n.reverse(),n=Sk(n,e),n.reverse(),n}function xk(t){const e=[];return T(t,((t,n)=>{n>0?e[e.length-1].name!==t.name&&e.push(t):e.push(t)})),e}function Tk(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wx,n=t.slice(0);return n=Sk(n,e),n=Ck(n,e),n=xk(n),n}function kk(t){return uk({size:()=>t.countRows(),onItemSelect(e,n){const i=t.getCell(e,0);if(!i||yk(i)||vk(i)||bk(i))return!1;t.selectCell(e,0,...n?[e,0,!1,!1]:[])},onClear(){t.deselectCell()}})}function Lk(t){const{hot:e,hotMenu:n}=t;return[{keys:[["Control/Meta","A"]],forwardToContext:e.getShortcutManager().getContext("grid"),callback:()=>t.close(!0)},{keys:[["Tab"],["Shift","Tab"]],callback:(n,i)=>{const s=e.getSettings(),r="function"===typeof s.tabMoves?s.tabMoves(n):s.tabMoves;i.includes("shift")?e.selection.transformStart(-r.row,-r.col):e.selection.transformStart(r.row,r.col),t.close(!0)}},{keys:[["Escape"]],callback:()=>t.close()},{keys:[["ArrowDown"]],callback:()=>t.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>t.getNavigator().toPreviousItem()},{keys:[["ArrowRight"]],callback:()=>{const e=n.getSelectedLast();if(e){const n=t.openSubMenu(e[0]);n&&n.getNavigator().toFirstItem()}}},{keys:[["ArrowLeft"]],callback:()=>{const e=n.getSelectedLast();e&&t.isSubMenu()&&(t.close(),t.isSubMenu()&&t.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>t.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>t.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:e=>{const i=n.getSelectedLast();i&&(n.getSourceDataAtRow(i[0]).submenu?t.openSubMenu(i[0]).getNavigator().toFirstItem():(t.executeCommand(e),t.close(!0)))}},{keys:[["PageUp"]],callback:()=>{const e=n.getSelectedLast();e?n.selection.transformStart(-n.countVisibleRows(),0):t.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{const e=n.getSelectedLast();e?n.selection.transformStart(n.countVisibleRows(),0):t.getNavigator().toLastItem()}}]}const Ek="menu",Rk=Ek;function Ak(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[];function i(t,e){a(e).addShortcuts(t,{group:Ek})}function s(t,e){const s=a(e);t.forEach((t=>{let{keys:e}=t;e.forEach((t=>s.removeShortcutsByKeys(t)))})),n.push({shortcuts:t,contextName:e}),i(t,e)}function r(){return[...n]}function o(t){return t?`${Rk}:${t}`:Rk}function a(e){var n;const i=t.hotMenu.getShortcutManager(),s=o(e);return null!==(n=i.getContext(s))&&void 0!==n?n:i.addContext(s)}function l(e){t.hotMenu.getShortcutManager().setActiveContextName(o(e))}return i(Lk(t)),e.forEach((t=>{let{shortcuts:e,contextName:n}=t;s(e,n)})),{addCustomShortcuts:s,getCustomShortcuts:r,getContext:a,listen:l}}function Dk(t){return(e,n,i,s,r,o)=>{if(n.hasAttribute("ghost-table"))return;const a=e.getSourceDataAtRow(i),l=t.rootDocument.createElement("div"),h="function"===typeof o?o.call(t):o;if(ue(n),ae(l,"htItemWrapper"),t.getSettings().ariaTags){const e=!pk(a,t)&&!_k(a)&&!gk(a);he(n,[yt(),Tt(h),...e?[ht(-1)]:[],...pk(a,t)?[Lt()]:[],...mk(a)?[It(!1)]:[]])}n.className="",n.appendChild(l),gk(a)?ae(n,"htSeparator"):"function"===typeof a.renderer?(ae(n,"htCustomMenuRenderer"),n.appendChild(a.renderer(e,l,i,s,r,h))):me(l,h),pk(a,t)?ae(n,"htDisabled"):_k(a)?ae(n,"htSelectionDisabled"):mk(a)&&ae(n,"htSubmenu")}}function Hk(t,e,n){Pk(t,e),e.set(t,n)}function Pk(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ik(t,e,n){return e=Ok(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ok(t){var e=Yk(t,"string");return"symbol"==typeof e?e:e+""}function Yk(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Nk(t,e,n){return t.set(jk(t,e),n),n}function Fk(t,e){return t.get(jk(t,e))}function jk(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Wk=215;var Vk=new WeakMap,Bk=new WeakMap;class zk{constructor(t,e){var n=this;Ik(this,"hot",void 0),Ik(this,"options",void 0),Ik(this,"eventManager",new Wi(this)),Ik(this,"container",void 0),Ik(this,"positioner",void 0),Ik(this,"hotMenu",null),Ik(this,"hotSubMenus",{}),Ik(this,"parentMenu",void 0),Ik(this,"menuItems",null),Ik(this,"origOutsideClickDeselects",null),Hk(this,Vk,void 0),Hk(this,Bk,void 0),this.hot=t,this.options=e||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:Wk,container:this.hot.rootDocument.documentElement},this.container=this.createContainer(this.options.name),this.positioner=new dk(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.parentMenu.runLocalHooks("afterSelectionChange",...e)}))}registerEvents(){let t=this.hot.rootWindow;while(t)this.eventManager.addEventListener(t.document,"mousedown",(t=>this.onDocumentMouseDown(t))),this.eventManager.addEventListener(t.document,"contextmenu",(t=>this.onDocumentContextMenu(t))),t=Jt(t)}setMenuItems(t){this.menuItems=t}getNavigator(){return Fk(Vk,this)}getKeyboardShortcutsCtrl(){return Fk(Bk,this)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedLast())}isSubMenu(){return null!==this.parentMenu}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";const t=on((t=>this.openSubMenu(t)),300),e=this.options.minWidth||Wk;let n=!1,i=C(this.menuItems,(t=>(t.key===FT&&(n=!0),Mk(t,this.hot))));if(i.length<1&&!n)i.push(UT()[FT]);else if(0===i.length)return;i=Tk(i,wx);let s=!1;const r={data:i,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(t){return F(t)&&t<e?e:t},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:Dk(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,beforeOnCellMouseOver:(t,e)=>{Fk(Vk,this).setCurrentPage(e.row)},afterOnCellMouseOver:(e,n)=>{this.isAllSubMenusClosed()?t(n.row):this.openSubMenu(n.row)},rowHeights:t=>i[t].name===wx?1:23,afterOnCellContextMenu:t=>{t.preventDefault(),qn()&&s&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(t,e,n,i,s)=>{this.hotMenu.view.isMouseDown()&&(s.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:t=>{this.hasSelectedItem()&&(s=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(t))},afterOnCellMouseUp:t=>{qn()&&ai(t)||!s||!this.hasSelectedItem()||($n()||Kn()?this.hot._registerTimeout((()=>this.close(!0)),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,r),this.hotMenu.addHook("afterInit",(()=>this.onAfterInit())),this.hotMenu.init(),Nk(Vk,this,kk(this.hotMenu)),Nk(Bk,this,Ak(this)),Fk(Bk,this).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",(()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this))),this.runLocalHooks("afterOpen",this)}close(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isOpened())if(t&&this.isSubMenu())this.parentMenu.close();else if(Fk(Vk,this).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){const t=this.parentMenu.hotMenu.getSelectedLast();if(t){const e=this.parentMenu.hotMenu.getCell(t[0],0);he(e,[It(!1)])}}this.parentMenu.hotMenu.listen()}}openSubMenu(t){if(!this.hotMenu)return!1;const e=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!e||!wk(e))return!1;const n=this.hotMenu.getSourceDataAtRow(t),i=new zk(this.hot,{parent:this,name:n.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return i.setMenuItems(n.submenu.items),i.open(),i.setPosition(e.getBoundingClientRect()),this.hotSubMenus[n.key]=i,this.hot.getSettings().ariaTags&&he(e,[It(!0)]),i}closeSubMenu(t){const e=this.hotMenu.getSourceDataAtRow(t),n=this.hotSubMenus[e.key];if(n){n.destroy(),delete this.hotSubMenus[e.key];const i=this.hotMenu.getCell(t,0);this.hot.getSettings().ariaTags&&he(i,[It(!1)])}}closeAllSubMenus(){T(this.hotMenu.getData(),((t,e)=>this.closeSubMenu(e)))}isAllSubMenusClosed(){return 0===Object.keys(this.hotSubMenus).length}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){const t=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),t&&t.removeChild(this.container)}isOpened(){return null!==this.hotMenu}executeCommand(t){if(!this.isOpened()||!this.hasSelectedItem())return;const e=this.getSelectedItem();if(this.runLocalHooks("select",e,t),this.isCommandPassive(e))return;const n=this.hot.getSelectedRange(),i=n?fk(n):[];this.runLocalHooks("executeCommand",e.key,i,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",e.key,i,t)}isCommandPassive(t){return!1===t.isCommand||gk(t)||pk(t,this.hot)||mk(t)}setOffset(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.positioner.setOffset(t,e)}setPosition(t){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(t)}createContainer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e=this.options.container.ownerDocument;let n,i=t;return i&&(nn(i)&&(i=i.call(this.hot),i=null===i||j(i)?"":i.toString()),i=i.replace(/[^A-z0-9]/g,"_"),i=`${this.options.className}Sub_${i}`,n=e.querySelector(`.${this.options.className}.${i}`)),n||(n=e.createElement("div"),ae(n,`htMenu ${this.options.className}`),i&&ae(n,i),this.options.container.appendChild(n)),n}onAfterInit(){const{wtTable:t}=this.hotMenu.view._wt,e=this.hotMenu.getSettings().data,n=t.hider.style,i=t.holder.style,s=parseInt(n.width,10),r=S(e,((t,e)=>t+(e.name===wx?1:26)),0);i.width=`${s+3}px`,i.height=`${r+3}px`,n.height=i.height,this.hot.getSettings().ariaTags&&he(this.hotMenu.rootElement,[_t(),ht(-1)])}onDocumentMouseDown(t){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!ee(t.target,this.hotMenu.rootElement)?this.close(!0):!this.isAllSubMenusClosed()&&!this.isSubMenu()||ee(t.target,".htMenu")||this.close(!0))}onDocumentContextMenu(t){this.isOpened()&&oe(t.target,"htCore")&&ee(t.target,this.hotMenu.rootElement)&&t.preventDefault()}}function Uk(t,e){$k(t,e),e.add(t)}function $k(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gk(t,e,n){return e=Kk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kk(t){var e=qk(t,"string");return"symbol"==typeof e?e:e+""}function qk(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Xk(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}yn(zk,sd);const Jk="contextMenu",Zk=70,Qk=Jk;Mi.getSingleton().register("afterContextMenuDefaultOptions"),Mi.getSingleton().register("beforeContextMenuShow"),Mi.getSingleton().register("afterContextMenuShow"),Mi.getSingleton().register("afterContextMenuHide"),Mi.getSingleton().register("afterContextMenuExecute");var tL=new WeakSet;class eL extends Eb{constructor(){super(...arguments),Uk(this,tL),Gk(this,"commandExecutor",new _T(this.hot)),Gk(this,"itemsFactory",null),Gk(this,"menu",null)}static get PLUGIN_KEY(){return Jk}static get PLUGIN_PRIORITY(){return Zk}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[IT,YT,wx,ST,xT,wx,HT,AT,wx,WT,ET,wx,kT,wx,wT]}isEnabled(){return!!this.hot.getSettings()[Jk]}enablePlugin(){var t=this;if(this.enabled)return;const e=this.hot.getSettings()[Jk];"function"===typeof e.callback&&this.commandExecutor.setCommonCallback(e.callback),this.menu=new zk(this.hot,{className:"htContextMenu",keepInViewport:!0,container:e.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",(()=>Xk(tL,this,iL).call(this))),this.menu.addLocalHook("afterOpen",(()=>Xk(tL,this,sL).call(this))),this.menu.addLocalHook("afterClose",(()=>Xk(tL,this,rL).call(this))),this.menu.addLocalHook("executeCommand",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.executeCommand.call(t,...n)})),this.addHook("afterOnCellContextMenu",(t=>Xk(tL,this,nL).call(this,t))),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{const{highlight:t}=this.hot.getSelectedRangeLast();this.hot.scrollToFocusedCell();const e=this.hot.getCell(t.row,t.col,!0).getBoundingClientRect(),n=Rx(this.menu.container,this.hot.rootDocument);this.open({left:e.left+n.left,top:e.top+n.top-1+e.height},{left:e.width,above:-e.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var t;const e=null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight;return e&&this.hot.selection.isCellVisible(e)&&!this.menu.isOpened()},group:Qk})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Qk)}open(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{above:0,below:0,left:0,right:0};null!==(e=this.menu)&&void 0!==e&&e.isOpened()||(this.prepareMenuItems(),this.menu.open(),Mn(n,((t,e)=>{this.menu.setOffset(e,t)})),this.menu.setPosition(t))}close(){var t;null===(t=this.menu)||void 0===t||t.close(),this.itemsFactory=null}executeCommand(t){null===this.itemsFactory&&this.prepareMenuItems();for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.commandExecutor.execute(t,...n)}prepareMenuItems(){this.itemsFactory=new qT(this.hot,eL.DEFAULT_ITEMS);const t=this.hot.getSettings()[Jk],e={items:this.itemsFactory.getItems(t)};this.hot.runHooks("afterContextMenuDefaultOptions",e),this.itemsFactory.setPredefinedItems(e.items);const n=this.itemsFactory.getItems(t);this.hot.runHooks("beforeContextMenuSetItems",n),this.menu.setMenuItems(n),T(n,(t=>this.commandExecutor.registerCommand(t.key,t)))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function nL(t){const e=this.hot.getSettings(),n=e.rowHeaders,i=e.colHeaders;function s(t){return"TD"===t.nodeName||"TD"===t.parentNode.nodeName}const r=t.target;if(this.close(),oe(r,"handsontableInput"))return;if(t.preventDefault(),t.stopPropagation(),!n&&!i&&!s(r)&&(!oe(r,"current")||!oe(r,"wtBorder")))return;const o=Rx(this.menu.container,this.hot.rootDocument);this.open({top:t.clientY+o.top,left:t.clientX+o.left})}function iL(){this.hot.runHooks("beforeContextMenuShow",this)}function sL(){this.hot.runHooks("afterContextMenuShow",this)}function rL(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}function oL(t){return{key:"copy",name(){return this.getTranslatedPhrase(xu)},callback(){t.copyCellsOnly()},disabled(){if(0===this.countRows()||0===this.countCols())return!0;const t=this.getSelectedRangeLast();if(!t)return!0;if(t.isSingleHeader())return!0;const e=this.getSelected();return!e||e.length>1},hidden:!1}}function aL(t){return{key:"copy_column_headers_only",name(){const t=this.getSelectedRangeLast(),e=t?As(t.getWidth()-1,0,1):0;return this.getTranslatedPhrase(Lu,e)},callback(){t.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;const t=this.getSelectedRangeLast();if(!t)return!0;if(t.isSingleHeader())return!0;const e=this.getSelected();return!e||e.length>1},hidden:!1}}function lL(t){return{key:"copy_with_column_group_headers",name(){const t=this.getSelectedRangeLast(),e=t?As(t.getWidth()-1,0,1):0;return this.getTranslatedPhrase(ku,e)},callback(){t.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;const t=this.getSelectedRangeLast();if(!t)return!0;if(t.isSingleHeader())return!0;const e=this.getSelected();return!e||e.length>1},hidden:!1}}function hL(t){return{key:"copy_with_column_headers",name(){const t=this.getSelectedRangeLast(),e=t?As(t.getWidth()-1,0,1):0;return this.getTranslatedPhrase(Tu,e)},callback(){t.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;const t=this.getSelectedRangeLast();if(!t)return!0;if(t.isSingleHeader())return!0;const e=this.getSelected();return!e||e.length>1},hidden:!1}}function cL(t){return{key:"cut",name(){return this.getTranslatedPhrase(Eu)},callback(){t.cut()},disabled(){if(0===this.countRows()||0===this.countCols())return!0;const t=this.getSelectedRangeLast();if(!t)return!0;if(t.isSingleHeader())return!0;const e=this.getSelected();return!e||e.length>1},hidden:!1}}eL.SEPARATOR={name:wx};class dL{constructor(){this.data={}}setData(t,e){this.data[t]=e}getData(t){return this.data[t]||void 0}}class uL{constructor(){this.clipboardData=new dL}}function fL(t,e){gL(t,e),e.add(t)}function mL(t,e,n){gL(t,e),e.set(t,n)}function gL(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pL(t,e){return t.get(yL(t,e))}function _L(t,e,n){return t.set(yL(t,e),n),n}function yL(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var wL=new WeakMap,vL=new WeakMap,bL=new WeakMap,ML=new WeakMap,SL=new WeakMap,CL=new WeakMap,xL=new WeakSet;class TL{constructor(t){let{countRows:e,countColumns:n,rowsLimit:i,columnsLimit:s,countColumnHeaders:r}=t;fL(this,xL),mL(this,wL,void 0),mL(this,vL,void 0),mL(this,bL,void 0),mL(this,ML,void 0),mL(this,SL,void 0),mL(this,CL,void 0),_L(vL,this,e),_L(bL,this,n),_L(ML,this,i),_L(SL,this,s),_L(CL,this,r)}setSelectedRange(t){_L(wL,this,t)}getCellsRange(){if(0===pL(vL,this).call(this)||0===pL(bL,this).call(this))return null;const{row:t,col:e}=pL(wL,this).getTopStartCorner(),{row:n,col:i}=pL(wL,this).getBottomEndCorner(),s=yL(xL,this,LL).call(this,t,n),r=yL(xL,this,kL).call(this,e,i),o=n!==s||i!==r;return{isRangeTrimmed:o,startRow:t,startCol:e,endRow:s,endCol:r}}getMostBottomColumnHeadersRange(){if(0===pL(bL,this).call(this)||0===pL(CL,this).call(this))return null;const{col:t}=pL(wL,this).getTopStartCorner(),{col:e}=pL(wL,this).getBottomEndCorner(),n=yL(xL,this,kL).call(this,t,e),i=e!==n;return{isRangeTrimmed:i,startRow:-1,startCol:t,endRow:-1,endCol:n}}getAllColumnHeadersRange(){if(0===pL(bL,this).call(this)||0===pL(CL,this).call(this))return null;const{col:t}=pL(wL,this).getTopStartCorner(),{col:e}=pL(wL,this).getBottomEndCorner(),n=yL(xL,this,kL).call(this,t,e),i=e!==n;return{isRangeTrimmed:i,startRow:-pL(CL,this).call(this),startCol:t,endRow:-1,endCol:n}}}function kL(t,e){return Math.min(e,Math.max(t+pL(SL,this).call(this)-1,t))}function LL(t,e){return Math.min(e,Math.max(t+pL(ML,this).call(this)-1,t))}function EL(t){const e=[],n=[];return T(t,(t=>{const i=Math.min(t.startRow,t.endRow),s=Math.max(t.startRow,t.endRow);Ls(i,s,(t=>{-1===e.indexOf(t)&&e.push(t)}));const r=Math.min(t.startCol,t.endCol),o=Math.max(t.startCol,t.endCol);Ls(r,o,(t=>{-1===n.indexOf(t)&&n.push(t)}))})),{rows:e,columns:n}}function RL(t,e){DL(t,e),e.add(t)}function AL(t,e,n){DL(t,e),e.set(t,n)}function DL(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function HL(t,e,n){return e=PL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PL(t){var e=IL(t,"string");return"symbol"==typeof e?e:e+""}function IL(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function OL(t,e){return t.get(NL(t,e))}function YL(t,e,n){return t.set(NL(t,e),n),n}function NL(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Mi.getSingleton().register("afterCopyLimit"),Mi.getSingleton().register("modifyCopyableRange"),Mi.getSingleton().register("beforeCut"),Mi.getSingleton().register("afterCut"),Mi.getSingleton().register("beforePaste"),Mi.getSingleton().register("afterPaste"),Mi.getSingleton().register("beforeCopy"),Mi.getSingleton().register("afterCopy");const FL="copyPaste",jL=80,WL=["fragmentSelection"],VL=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join("");var BL=new WeakMap,zL=new WeakMap,UL=new WeakMap,$L=new WeakMap,GL=new WeakMap,KL=new WeakMap,qL=new WeakMap,XL=new WeakMap,JL=new WeakSet;class ZL extends Eb{constructor(){super(...arguments),RL(this,JL),HL(this,"columnsLimit",1/0),HL(this,"rowsLimit",1/0),HL(this,"pasteMode","overwrite"),HL(this,"uiContainer",this.hot.rootDocument.body),AL(this,BL,!1),AL(this,zL,!1),AL(this,UL,!1),AL(this,$L,"cells-only"),AL(this,GL,!1),AL(this,KL,!1),AL(this,qL,new TL({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})),AL(this,XL,!1),HL(this,"copyableRanges",[])}static get PLUGIN_KEY(){return FL}static get SETTING_KEYS(){return[FL,...WL]}static get PLUGIN_PRIORITY(){return jL}isEnabled(){return!!this.hot.getSettings()[FL]}enablePlugin(){var t=this;if(this.enabled)return;const{[FL]:e}=this.hot.getSettings();var n,i;"object"===typeof e&&(this.pasteMode=null!==(n=e.pasteMode)&&void 0!==n?n:this.pasteMode,this.rowsLimit=isNaN(e.rowsLimit)?this.rowsLimit:e.rowsLimit,this.columnsLimit=isNaN(e.columnsLimit)?this.columnsLimit:e.columnsLimit,YL(BL,this,!!e.copyColumnHeaders),YL(zL,this,!!e.copyColumnGroupHeaders),YL(UL,this,!!e.copyColumnHeadersOnly),this.uiContainer=null!==(i=e.uiContainer)&&void 0!==i?i:this.uiContainer);this.addHook("afterContextMenuDefaultOptions",(t=>NL(JL,this,iE).call(this,t))),this.addHook("afterSelection",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return NL(JL,t,sE).call(t,...n)})),this.addHook("afterSelectionEnd",(()=>NL(JL,this,rE).call(this))),this.eventManager.addEventListener(this.hot.rootDocument,"copy",(function(){return t.onCopy(...arguments)})),this.eventManager.addEventListener(this.hot.rootDocument,"cut",(function(){return t.onCut(...arguments)})),this.eventManager.addEventListener(this.hot.rootDocument,"paste",(function(){return t.onPaste(...arguments)})),Bn()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return NL(JL,t,oE).call(t,...n)})),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return NL(JL,t,aE).call(t,...n)})),this.addHook("afterSelection",(()=>NL(JL,this,lE).call(this)))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cells-only";YL($L,this,t),YL(GL,this,!0),NL(JL,this,QL).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){YL(KL,this,!0),NL(JL,this,QL).call(this,"cut")}getRangedCopyableData(t){return Ap(this.getRangedData(t))}getRangedData(t){const e=[],{rows:n,columns:i}=EL(t);return T(n,(t=>{const n=[];T(i,(e=>{t<0?n.push(this.hot.getColHeader(e,t)):n.push(this.hot.getCopyableData(t,e))})),e.push(n)})),e}paste(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(!t&&!e)return;const n=new uL;t&&n.clipboardData.setData("text/plain",t),e&&n.clipboardData.setData("text/html",e),this.onPaste(n)}setCopyableText(){const t=this.hot.getSelectedRangeLast();if(!t)return;if(t.isSingleHeader())return void(this.copyableRanges=[]);OL(qL,this).setSelectedRange(t);const e=new Map([["headers",null],["cells",null]]);"column-headers-only"===OL($L,this)?e.set("headers",OL(qL,this).getMostBottomColumnHeadersRange()):("with-column-headers"===OL($L,this)?e.set("headers",OL(qL,this).getMostBottomColumnHeadersRange()):"with-column-group-headers"===OL($L,this)&&e.set("headers",OL(qL,this).getAllColumnHeadersRange()),e.set("cells",OL(qL,this).getCellsRange())),this.copyableRanges=Array.from(e.values()).filter((t=>null!==t)).map((t=>{let{startRow:e,startCol:n,endRow:i,endCol:s}=t;return{startRow:e,startCol:n,endRow:i,endCol:s}})),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);const n=e.get("cells");if(null!==n&&n.isRangeTrimmed){const{startRow:t,startCol:e,endRow:i,endCol:s}=n;this.hot.runHooks("afterCopyLimit",i-t+1,s-e+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var t;return null===(t=this.hot.getActiveEditor())||void 0===t?void 0:t.isOpened()}populateValues(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.hot.getSelectedRangeLast();if(!t.length)return;const n=t.length,i=t[0].length,s=[],{row:r,col:o}=e.getTopStartCorner(),{row:a,col:l}=e.getBottomEndCorner();let h=r,c=o,d=r,u=o;while(s.length<n||h<=a){const{skipRowOnPaste:e,visualRow:a}=this.hot.getCellMeta(h,o);if(h=a+1,!0===e)continue;d=a,c=o;const f=[],m=s.length%n;while(f.length<i||c<=l){const{skipColumnOnPaste:e,visualCol:n}=this.hot.getCellMeta(r,c);if(c=n+1,!0===e)continue;u=n;const s=f.length%i;f.push(t[m][s])}s.push(f)}return YL(XL,this,!0),this.hot.populateFromArray(r,o,s,void 0,void 0,"CopyPaste.paste",this.pasteMode),[r,o,d,u]}onCopy(t){if(!this.hot.isListening()&&!OL(GL,this)||this.isEditorOpened())return;this.setCopyableText(),YL(GL,this,!1);const e=this.getRangedData(this.copyableRanges),n=NL(JL,this,tE).call(this,this.copyableRanges),i=!!this.hot.runHooks("beforeCopy",e,this.copyableRanges,n);if(i){const i=Ap(e);if(t&&t.clipboardData){const n=Cs(e,this.hot.rootDocument);t.clipboardData.setData("text/plain",i),t.clipboardData.setData("text/html",[VL,n].join(""))}else"undefined"===typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",i);this.hot.runHooks("afterCopy",e,this.copyableRanges,n)}YL($L,this,"cells-only"),t.preventDefault()}onCut(t){if(!this.hot.isListening()&&!OL(KL,this)||this.isEditorOpened())return;this.setCopyableText(),YL(KL,this,!1);const e=this.getRangedData(this.copyableRanges),n=!!this.hot.runHooks("beforeCut",e,this.copyableRanges);if(n){const n=Ap(e);if(t&&t.clipboardData){const i=Cs(e,this.hot.rootDocument);t.clipboardData.setData("text/plain",n),t.clipboardData.setData("text/html",[VL,i].join(""))}else"undefined"===typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",n);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",e,this.copyableRanges)}t.preventDefault()}onPaste(t){if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected())return;let e;if(t&&t.preventDefault&&t.preventDefault(),t&&"undefined"!==typeof t.clipboardData){const n=lt(t.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});if(n&&/(<table)|(<TABLE)/g.test(n)){const t=xs(n,this.hot.rootDocument);e=t.data}else e=t.clipboardData.getData("text/plain")}else"undefined"===typeof ClipboardEvent&&"undefined"!==typeof this.hot.rootWindow.clipboardData&&(e=this.hot.rootWindow.clipboardData.getData("Text"));if("string"===typeof e&&(e=Rp(e)),void 0===e||e&&0===e.length)return;if(!1===this.hot.runHooks("beforePaste",e,this.copyableRanges))return;const[n,i,s,r]=this.populateValues(e);this.hot.selectCell(n,i,Math.min(this.hot.countRows()-1,s),Math.min(this.hot.countCols()-1,r)),this.hot.runHooks("afterPaste",e,this.copyableRanges)}destroy(){super.destroy()}}function QL(t){if(Bn()){const e=this.hot.getSelectedRangeLast();if(e){const{row:n,col:i}=e.highlight,s=this.hot.getCell(n,i,!0);s&&en(s,(()=>{this.hot.rootDocument.execCommand(t)}))}}else this.hot.rootDocument.execCommand(t)}function tE(t){const{rows:e}=EL(t);let n=0;for(let i=0;i<e.length;i++){if(e[i]>=0)break;n+=1}return{columnHeadersCount:n}}function eE(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,i=this.hot.getCell(e,n,!0);i&&Qe(i)}}}function nE(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,i=this.hot.getCell(e,n,!0);null!==i&&void 0!==i&&i.hasAttribute("contenteditable")&&tn(i)}}}function iE(t){t.items.push({name:"---------"},oL(this)),OL(BL,this)&&t.items.push(hL(this)),OL(zL,this)&&t.items.push(lL(this)),OL(UL,this)&&t.items.push(aL(this)),t.items.push(cL(this))}function sE(t,e,n,i,s){OL(XL,this)&&(s.value=!0),YL(XL,this,!1)}function rE(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function oE(){NL(JL,this,nE).call(this)}function aE(){NL(JL,this,eE).call(this)}function lE(){NL(JL,this,nE).call(this)}function hE(t,e){return`border_row${t}col${e}`}function cE(){return{width:1,color:"#000"}}function dE(){return{hide:!0}}function uE(){return{width:1,color:"#000",cornerVisible:!1}}function fE(t){var e,n;(F(t.start)||F(t.left))&&(t.start=null!==(e=t.start)&&void 0!==e?e:t.left);(F(t.end)||F(t.right))&&(t.end=null!==(n=t.end)&&void 0!==n?n:t.right);return delete t.left,delete t.right,t}function mE(t){return F(t.start)&&(t.left=t.start),F(t.end)&&(t.right=t.end),t}function gE(t,e){return{id:hE(t,e),border:uE(),row:t,col:e,top:dE(),bottom:dE(),start:dE(),end:dE()}}function pE(t,e){return kn(e,"border")&&e.border&&(t.border=e.border),kn(e,"top")&&F(e.top)&&(e.top?(vn(e.top)||(e.top=cE()),t.top=e.top):(e.top=dE(),t.top=e.top)),kn(e,"bottom")&&F(e.bottom)&&(e.bottom?(vn(e.bottom)||(e.bottom=cE()),t.bottom=e.bottom):(e.bottom=dE(),t.bottom=e.bottom)),kn(e,"start")&&F(e.start)&&(e.start?(vn(e.start)||(e.start=cE()),t.start=e.start):(e.start=dE(),t.start=e.start)),kn(e,"end")&&F(e.end)&&(e.end?(vn(e.end)||(e.end=cE()),t.end=e.end):(e.end=dE(),t.end=e.end)),t}function _E(t,e){let n=!1;return T(t.getSelectedRange(),(i=>{i.forAll(((i,s)=>{if(i<0||s<0)return;const r=t.getCellMeta(i,s).borders;if(r){if(!e)return n=!0,!1;if(!kn(r[e],"hide")||!1===r[e].hide)return n=!0,!1}}))})),n}function yE(t){return`<span class="selected">${String.fromCharCode(10003)}</span>${t}`}function wE(t){return t.some((t=>F(t.left)||F(t.right)))}function vE(t){return t.some((t=>F(t.start)||F(t.end)))}const bE=new Map([["left","start"],["right","end"]]);function ME(t){var e;return null!==(e=bE.get(t))&&void 0!==e?e:t}function SE(t){return{key:"borders:top",name(){let t=this.getTranslatedPhrase(Gu);const e=_E(this,"top");return e&&(t=yE(t)),t},callback(e,n){const i=_E(this,"top");t.prepareBorder(n,"top",i)}}}function CE(t){const e=t.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let t=this.getTranslatedPhrase(Ku);const n=_E(this,e);return n&&(t=yE(t)),t},callback(n,i){const s=_E(this,e);t.prepareBorder(i,e,s)}}}function xE(t){return{key:"borders:bottom",name(){let t=this.getTranslatedPhrase(qu);const e=_E(this,"bottom");return e&&(t=yE(t)),t},callback(e,n){const i=_E(this,"bottom");t.prepareBorder(n,"bottom",i)}}}function TE(t){const e=t.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let t=this.getTranslatedPhrase(Xu);const n=_E(this,e);return n&&(t=yE(t)),t},callback(n,i){const s=_E(this,e);t.prepareBorder(i,e,s)}}}function kE(t){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(Ju)},callback(e,n){t.prepareBorder(n,"noBorders")},disabled(){return!_E(this)}}}function LE(t,e){EE(t,e),e.add(t)}function EE(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function RE(t,e,n){return e=AE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AE(t){var e=DE(t,"string");return"symbol"==typeof e?e:e+""}function DE(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function HE(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const PE="customBorders",IE=90;var OE=new WeakSet;class YE extends Eb{constructor(){super(...arguments),LE(this,OE),RE(this,"savedBorders",[])}static get PLUGIN_KEY(){return PE}static get PLUGIN_PRIORITY(){return IE}isEnabled(){return!!this.hot.getSettings()[PE]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",(t=>HE(OE,this,NE).call(this,t))),this.addHook("init",(()=>HE(OE,this,FE).call(this))),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(t,e){let n=["top","bottom","start","end"],i=null;e&&(this.checkSettingsCohesion([e]),n=Object.keys(e),i=fE(e));const s=pg(t),r=_g(s,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});T(t,(t=>{r(t).forAll(((t,e)=>{T(n,(n=>{this.prepareBorderFromCustomAdded(t,e,i,ME(n))}))}))})),this.hot.view.render()}getBorders(t){if(!Array.isArray(t))return this.savedBorders;const e=pg(t),n=_g(e,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),i=[];return T(t,(t=>{n(t).forAll(((t,e)=>{T(this.savedBorders,(n=>{n.row===t&&n.col===e&&i.push(mE(n))}))}))})),i}clearBorders(t){t?this.setBorders(t):(T(this.savedBorders,(t=>{this.clearBordersFromSelectionSettings(t.id),this.clearNullCellRange(),this.hot.removeCellMeta(t.row,t.col,"borders")})),this.savedBorders.length=0)}insertBorderIntoSettings(t,e){const n=this.checkSavedBorders(t);n||this.savedBorders.push(t);const i=this.hot._createCellRange(this.hot._createCellCoords(t.row,t.col)),s=this.checkCustomSelections(t,i,e);s||this.hot.selection.highlight.addCustomSelection({border:t,visualCellRange:i})}prepareBorderFromCustomAdded(t,e,n,i){const s=this.hot.countRows(),r=this.hot.countCols();if(t>=s||e>=r)return;let o=gE(t,e);n&&(o=pE(o,n),T(this.hot.selection.highlight.customSelections,(t=>{if(o.id===t.settings.id)return Object.assign(t.settings,n),o.id=t.settings.id,o.top=t.settings.top,o.bottom=t.settings.bottom,o.start=t.settings.start,o.end=t.settings.end,!1}))),this.hot.setCellMeta(t,e,"borders",mE(o)),this.insertBorderIntoSettings(o,i)}prepareBorderFromCustomAddedRange(t,e){const n=Math.min(t.to.row,this.hot.countRows()-1),i=Math.min(t.to.col,this.hot.countCols()-1);Ls(t.from.row,n,(n=>{Ls(t.from.col,i,(i=>{const s=gE(n,i);let r=0;n===t.from.row&&kn(e,"top")&&(r+=1,s.top=e.top),n===t.to.row&&kn(e,"bottom")&&(r+=1,s.bottom=e.bottom),i===t.from.col&&kn(e,"start")&&(r+=1,s.start=e.start),i===t.to.col&&kn(e,"end")&&(r+=1,s.end=e.end),r>0&&(this.hot.setCellMeta(n,i,"borders",mE(s)),this.insertBorderIntoSettings(s))}))}))}removeAllBorders(t,e){const n=hE(t,e);this.spliceBorder(n),this.clearBordersFromSelectionSettings(n),this.clearNullCellRange(),this.hot.removeCellMeta(t,e,"borders")}setBorder(t,e,n,i){let s=this.hot.getCellMeta(t,e).borders;if(s=s&&void 0!==s.border?fE(s):gE(t,e),i){s[n]=dE();const r=this.countHide(s);if(4===r)this.removeAllBorders(t,e);else{const r=this.checkCustomSelectionsFromContextMenu(s,n,i);r||this.insertBorderIntoSettings(s),this.hot.setCellMeta(t,e,"borders",mE(s))}}else{s[n]=cE();const r=this.checkCustomSelectionsFromContextMenu(s,n,i);r||this.insertBorderIntoSettings(s),this.hot.setCellMeta(t,e,"borders",mE(s))}}prepareBorder(t,e,n){T(t,(t=>{let{start:i,end:s}=t;if(i.row===s.row&&i.col===s.col)"noBorders"===e?this.removeAllBorders(i.row,i.col):this.setBorder(i.row,i.col,e,n);else switch(e){case"noBorders":Ls(i.col,s.col,(t=>{Ls(i.row,s.row,(e=>{this.removeAllBorders(e,t)}))}));break;case"top":Ls(i.col,s.col,(t=>{this.setBorder(i.row,t,e,n)}));break;case"bottom":Ls(i.col,s.col,(t=>{this.setBorder(s.row,t,e,n)}));break;case"start":Ls(i.row,s.row,(t=>{this.setBorder(t,i.col,e,n)}));break;case"end":Ls(i.row,s.row,(t=>{this.setBorder(t,s.col,e,n)}));break;default:break}}))}createCustomBorders(t){T(t,(t=>{const e=fE(t);t.range?this.prepareBorderFromCustomAddedRange(t.range,e):this.prepareBorderFromCustomAdded(t.row,t.col,e)}))}countHide(t){const{top:e,bottom:n,start:i,end:s}=t,r=[e,n,i,s];return S(r,((t,e)=>{let n=t;return e&&e.hide&&(n+=1),n}),0)}clearBordersFromSelectionSettings(t){const e=x(this.hot.selection.highlight.customSelections,(t=>t.settings.id)).indexOf(t);e>-1&&this.hot.selection.highlight.customSelections[e].clear()}clearNullCellRange(){T(this.hot.selection.highlight.customSelections,((t,e)=>{if(null===t.cellRange)return this.hot.selection.highlight.customSelections[e].destroy(),this.hot.selection.highlight.customSelections.splice(e,1),!1}))}hideBorders(){T(this.savedBorders,(t=>{this.clearBordersFromSelectionSettings(t.id),this.clearNullCellRange()}))}spliceBorder(t){const e=x(this.savedBorders,(t=>t.id)).indexOf(t);e>-1&&this.savedBorders.splice(e,1)}checkSavedBorders(t){let e=!1;const n=this.countHide(t);return 4===n?(this.spliceBorder(t.id),e=!0):T(this.savedBorders,((n,i)=>{if(t.id===n.id)return this.savedBorders[i]=t,e=!0,!1})),e}checkCustomSelectionsFromContextMenu(t,e,n){let i=!1;return T(this.hot.selection.highlight.customSelections,(s=>{if(t.id===s.settings.id){const t=this.hot.view._wt.selectionManager.getBorderInstances(s);return T(t,(t=>{t.toggleHiddenClass(e,n)})),i=!0,!1}})),i}checkCustomSelections(t,e,n){const i=this.countHide(t);let s=!1;return 4===i?(this.removeAllBorders(t.row,t.col),s=!0):T(this.hot.selection.highlight.customSelections,(i=>{if(t.id===i.settings.id){if(i.visualCellRange=e,i.commit(),n){const e=this.hot.view._wt.selectionManager.getBorderInstances(i);T(e,(e=>{e.changeBorderStyle(n,t)}))}return s=!0,!1}})),s}changeBorderSettings(){const t=this.hot.getSettings()[PE];if(Array.isArray(t)){const e=pn(t);this.checkSettingsCohesion(e),e.length||(this.savedBorders=e),this.createCustomBorders(e)}else void 0!==t&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(t){const e=wE(t),n=vE(t);if(e&&n)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&e)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}destroy(){super.destroy()}}function NE(t){this.hot.getSettings()[PE]&&t.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase($u)},disabled(){const t=this.getSelectedRangeLast();return!t||(!!t.isSingleHeader()||this.selection.isSelectedByCorner())},submenu:{items:[SE(this),CE(this),xE(this),TE(this),kE(this)]}})}function FE(){this.changeBorderSettings()}function jE(t,e){WE(t,e),e.add(t)}function WE(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function VE(t,e,n){return e=BE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BE(t){var e=zE(t,"string");return"symbol"==typeof e?e:e+""}function zE(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function UE(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const $E="dragToScroll",GE=100;var KE=new WeakSet;class qE extends Eb{constructor(){super(...arguments),jE(this,KE),VE(this,"boundaries",null),VE(this,"callback",null),VE(this,"listening",!1)}static get PLUGIN_KEY(){return $E}static get PLUGIN_PRIORITY(){return GE}isEnabled(){return!!this.hot.getSettings()[$E]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",(t=>UE(KE,this,XE).call(this,t))),this.addHook("afterOnCellCornerMouseDown",(t=>UE(KE,this,XE).call(this,t))),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=t}setCallback(t){this.callback=t}check(t,e){let n=0,i=0;e<this.boundaries.top?i=e-this.boundaries.top:e>this.boundaries.bottom&&(i=e-this.boundaries.bottom),t<this.boundaries.left?n=t-this.boundaries.left:t>this.boundaries.right&&(n=t-this.boundaries.right),this.callback(n,i)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){const{rootWindow:t}=this.hot;let e=t;while(e)this.eventManager.addEventListener(e.document,"contextmenu",(()=>this.unlisten())),this.eventManager.addEventListener(e.document,"mouseup",(()=>this.unlisten())),this.eventManager.addEventListener(e.document,"mousemove",(t=>this.onMouseMove(t))),e=Jt(e)}unregisterEvents(){this.eventManager.clear()}onMouseMove(t){this.isListening()&&this.check(t.clientX,t.clientY)}destroy(){super.destroy()}}function XE(t){if(ai(t))return;const e=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(e!==this.hot.rootWindow?e.getBoundingClientRect():void 0),this.setCallback(((t,n)=>{var i,s;const r=null!==(i=e.scrollLeft)&&void 0!==i?i:e.scrollX,o=null!==(s=e.scrollTop)&&void 0!==s?s:e.scrollY;e.scroll(r+50*Math.sign(t),o+20*Math.sign(n))})),this.listen()}function JE(t,e){QE(t,e),e.add(t)}function ZE(t,e,n){QE(t,e),e.set(t,n)}function QE(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tR(t,e,n){return e=eR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eR(t){var e=nR(t,"string");return"symbol"==typeof e?e:e+""}function nR(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function iR(t,e){return t.get(rR(t,e))}function sR(t,e,n){return t.set(rR(t,e),n),n}function rR(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Mi.getSingleton().register("afterDropdownMenuDefaultOptions"),Mi.getSingleton().register("beforeDropdownMenuShow"),Mi.getSingleton().register("afterDropdownMenuShow"),Mi.getSingleton().register("afterDropdownMenuHide"),Mi.getSingleton().register("afterDropdownMenuExecute");const oR="dropdownMenu",aR=230,lR="changeType",hR=oR;var cR=new WeakMap,dR=new WeakSet;class uR extends Eb{static get PLUGIN_KEY(){return oR}static get PLUGIN_PRIORITY(){return aR}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[ST,xT,wx,AT,wx,bT,wx,kT,wx,wT]}constructor(t){super(t),JE(this,dR),tR(this,"commandExecutor",new _T(this.hot)),tR(this,"itemsFactory",null),tR(this,"menu",null),ZE(this,cR,!1),this.hot.addHook("afterGetColHeader",((t,e)=>rR(dR,this,gR).call(this,t,e)))}isEnabled(){return this.hot.getSettings()[oR]}enablePlugin(){var t=this;if(this.enabled)return;this.itemsFactory=new qT(this.hot,uR.DEFAULT_ITEMS),this.addHook("beforeOnCellMouseDown",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return rR(dR,t,bR).call(t,...n)})),this.addHook("beforeViewportScrollHorizontally",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return rR(dR,t,vR).call(t,...n)}));const e=this.hot.getSettings()[oR],n={items:this.itemsFactory.getItems(e)};this.registerEvents(),"function"===typeof e.callback&&this.commandExecutor.setCommonCallback(e.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady((()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",n),this.itemsFactory.setPredefinedItems(n.items);const i=this.itemsFactory.getItems(e);this.menu&&this.menu.destroy(),this.menu=new zk(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:e.uiContainer||this.hot.rootDocument.body}),this.hot.runHooks("beforeDropdownMenuSetItems",i),this.menu.setMenuItems(i),this.menu.addLocalHook("beforeOpen",(()=>rR(dR,this,pR).call(this))),this.menu.addLocalHook("afterOpen",(()=>rR(dR,this,_R).call(this))),this.menu.addLocalHook("afterSubmenuOpen",(t=>rR(dR,this,yR).call(this,t))),this.menu.addLocalHook("afterClose",(()=>rR(dR,this,wR).call(this))),this.menu.addLocalHook("executeCommand",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.executeCommand.call(t,...n)})),T(i,(t=>this.commandExecutor.registerCommand(t.key,t)))}))}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const t=this.hot.getShortcutManager().getContext("grid"),e=()=>{const{highlight:t}=this.hot.getSelectedRangeLast();if((t.isHeader()&&-1===t.row||t.isCell())&&t.col>=0){this.hot.selectColumns(t.col,t.col,-1);const{from:e}=this.hot.getSelectedRangeLast(),n=Rx(this.menu.container,this.hot.rootDocument),i=this.hot.getCell(-1,e.col,!0),s=i.getBoundingClientRect();this.open({left:s.left+n.left,top:s.top+i.offsetHeight+n.top},{left:s.width}),this.menu.getNavigator().toFirstItem()}};t.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:e,runOnlyIf:()=>{var t;const e=null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight;return e&&this.hot.selection.isCellVisible(e)&&e.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:hR},{keys:[["Shift","Alt","ArrowDown"]],callback:e,runOnlyIf:()=>{var t;const e=null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight;return e&&this.hot.selection.isCellVisible(e)&&e.isCell()&&!this.menu.isOpened()},group:hR}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(hR)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",(t=>rR(dR,this,mR).call(this,t)))}open(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{above:0,below:0,left:0,right:0};null!==(e=this.menu)&&void 0!==e&&e.isOpened()||(this.menu.open(),Mn(n,((t,e)=>{this.menu.setOffset(e,t)})),this.menu.setPosition(t))}close(){var t;null===(t=this.menu)||void 0===t||t.close()}executeCommand(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.commandExecutor.execute(t,...n)}setListening(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.menu.isOpened()&&(t?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function fR(t){t.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function mR(t){if(oe(t.target,lR)){const e=Rx(this.menu.container,this.hot.rootDocument),n=t.target.getBoundingClientRect();t.stopPropagation(),sR(cR,this,!1),this.open({left:n.left+e.left,top:n.top+t.target.offsetHeight+3+e.top},{left:n.width})}}function gR(t,e){const n=e.parentNode;if(!n)return;const i=n.parentNode.childNodes,s=Array.prototype.indexOf.call(i,n);if(t<0||s!==i.length-1)return;const r=e.querySelector(`.${lR}`);if(this.enabled&&r)return;if(!this.enabled)return void(r&&r.parentNode.removeChild(r));const o=this.hot.rootDocument.createElement("button");o.className=lR,o.type="button",o.tabIndex=-1,this.hot.getSettings().ariaTags&&(he(o,[kt(),Tt(" ")]),he(e,[Rt("menu")])),o.onclick=function(){return!1},e.firstChild.insertBefore(o,e.firstChild.firstChild)}function pR(){this.hot.runHooks("beforeDropdownMenuShow",this)}function _R(){this.hot.runHooks("afterDropdownMenuShow",this),rR(dR,this,fR).call(this,this.menu)}function yR(t){rR(dR,this,fR).call(this,t)}function wR(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}function vR(t){return iR(cR,this)?null:t}function bR(t){oe(t.target,lR)&&sR(cR,this,!0)}function MR(t,e,n){return e=SR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SR(t){var e=CR(t,"string");return"symbol"==typeof e?e:e+""}function CR(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}uR.SEPARATOR={name:wx};class xR{constructor(t){MR(this,"hot",void 0),MR(this,"options",{}),this.hot=t}setOptions(t){this.options=t}getData(){const{startRow:t,startCol:e,endRow:n,endCol:i}=this._getDataRange(),s=this.options,r=[];return Ls(t,n,(t=>{const n=[];!s.exportHiddenRows&&this._isHiddenRow(t)||(Ls(e,i,(e=>{!s.exportHiddenColumns&&this._isHiddenColumn(e)||n.push(this.hot.getDataAtCell(t,e))})),r.push(n))})),r}getRowHeaders(){const t=[];if(this.options.rowHeaders){const{startRow:e,endRow:n}=this._getDataRange(),i=this.hot.getRowHeader();Ls(e,n,(e=>{!this.options.exportHiddenRows&&this._isHiddenRow(e)||t.push(i[e])}))}return t}getColumnHeaders(){const t=[];if(this.options.columnHeaders){const{startCol:e,endCol:n}=this._getDataRange(),i=this.hot.getColHeader();Ls(e,n,(e=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(e)||t.push(i[e])}))}return t}_getDataRange(){const t=this.hot.countCols()-1,e=this.hot.countRows()-1;let[n=0,i=0,s=e,r=t]=this.options.range;return n=Math.max(n,0),i=Math.max(i,0),s=Math.min(s,e),r=Math.min(r,t),{startRow:n,startCol:i,endRow:s,endCol:r}}_isHiddenRow(t){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(t))}_isHiddenColumn(t){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(t))}}var TR=xR;function kR(t,e,n){return e=LR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LR(t){var e=ER(t,"string");return"symbol"==typeof e?e:e+""}function ER(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class RR{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(t,e){kR(this,"dataProvider",void 0),kR(this,"options",void 0),this.dataProvider=t,this.options=this._mergeOptions(e),this.dataProvider.setOptions(this.options)}_mergeOptions(t){let e=_n(this.constructor.DEFAULT_OPTIONS);const n=new Date;return e=mn(_n(RR.DEFAULT_OPTIONS),e),e=mn(e,t),e.filename=ot(e.filename,{YYYY:n.getFullYear(),MM:`${n.getMonth()+1}`.padStart(2,"0"),DD:`${n.getDate()}`.padStart(2,"0")}),e}}var AR=RR;const DR=String.fromCharCode(13),HR=String.fromCharCode(34),PR=String.fromCharCode(10);class IR extends AR{static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:"\r\n"}}export(){const t=this.options,e=this.dataProvider.getData();let n=this.dataProvider.getColumnHeaders();const i=n.length>0,s=this.dataProvider.getRowHeaders(),r=s.length>0;let o=t.bom?String.fromCharCode(65279):"";return i&&(n=x(n,(t=>this._escapeCell(t,!0))),r&&(o+=t.columnDelimiter),o+=n.join(t.columnDelimiter),o+=t.rowDelimiter),T(e,((e,n)=>{n>0&&(o+=t.rowDelimiter),r&&(o+=this._escapeCell(s[n])+t.columnDelimiter),o+=e.map((t=>this._escapeCell(t))).join(t.columnDelimiter)})),o}_escapeCell(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=N(t);return""!==n&&(e||n.indexOf(DR)>=0||n.indexOf(HR)>=0||n.indexOf(PR)>=0||n.indexOf(this.options.columnDelimiter)>=0)&&(n=n.replace(new RegExp('"',"g"),'""'),n=`"${n}"`),n}}var OR=IR;const YR="csv",NR={[YR]:OR};function FR(t,e,n){return"function"===typeof NR[t]?new NR[t](e,n):null}const jR="exportFile",WR=240;class VR extends Eb{static get PLUGIN_KEY(){return jR}static get PLUGIN_PRIORITY(){return WR}isEnabled(){return!0}exportAsString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createTypeFormatter(t,e).export()}exportAsBlob(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createBlob(this._createTypeFormatter(t,e))}downloadFile(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{rootDocument:n,rootWindow:i}=this.hot,s=this._createTypeFormatter(t,e),r=this._createBlob(s),o=i.URL||i.webkitURL,a=n.createElement("a"),l=`${s.options.filename}.${s.options.fileExtension}`;if(void 0!==a.download){const t=o.createObjectURL(r);a.style.display="none",a.setAttribute("href",t),a.setAttribute("download",l),n.body.appendChild(a),a.dispatchEvent(new MouseEvent("click")),n.body.removeChild(a),setTimeout((()=>{o.revokeObjectURL(t)}),100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(r,l)}_createTypeFormatter(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!NR[t])throw new Error(`Export format type "${t}" is not supported.`);return FR(t,new TR(this.hot),e)}_createBlob(t){let e=null;return"undefined"!==typeof Blob&&(e=new Blob([t.export()],{type:`${t.options.mimeType};charset=${t.options.encoding}`})),e}}function BR(t,e,n){return e=zR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zR(t){var e=UR(t,"string");return"symbol"==typeof e?e:e+""}function UR(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class $R{constructor(t,e){let{id:n,stateless:i=!0}=e;BR(this,"hot",void 0),BR(this,"id",void 0),BR(this,"elements",[]),BR(this,"hidden",!1),BR(this,"stateId",""),BR(this,"state",void 0),this.hot=t,this.id=n,this.stateId=`Filters.component.${this.id}`,this.state=i?null:this.hot.columnIndexMapper.registerMap(this.stateId,new bd)}getElements(){return this.elements}reset(){T(this.elements,(t=>t.reset()))}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return null===this.hot||this.hidden}restoreState(t){this.state&&this.setState(this.state.getValueAtIndex(t))}setState(){throw new Error("The state setting logic is not implemented")}saveState(t){this.state&&this.state.setValueAtIndex(t,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),T(this.elements,(t=>t.destroy())),this.state=null,this.elements=null,this.hot=null}}yn($R,sd);const GR={};function KR(t,e){if(!GR[t])throw Error(`Filter condition "${t}" does not exist.`);const{condition:n,descriptor:i}=GR[t];let s=e;return i.inputValuesDecorator&&(s=i.inputValuesDecorator(s)),function(t){return n.apply(t.meta.instance,[].concat([t],[s]))}}function qR(t){if(!GR[t])throw Error(`Filter condition "${t}" does not exist.`);return GR[t].descriptor}function XR(t,e,n){n.key=t,GR[t]={condition:e,descriptor:n}}const JR="none";function ZR(){return!0}XR(JR,ZR,{name:af,inputsCount:0,showOperators:!1});const QR="empty";function tA(t){return W(t.value)}XR(QR,tA,{name:lf,inputsCount:0,showOperators:!0});const eA="not_empty";function nA(t,e){return!KR(QR,e)(t)}XR(eA,nA,{name:hf,inputsCount:0,showOperators:!0});const iA="eq";function sA(t,e){let[n]=e;return N(t.value).toLocaleLowerCase(t.meta.locale)===N(n)}XR(iA,sA,{name:cf,inputsCount:1,showOperators:!0});const rA="neq";function oA(t,e){return!KR(iA,e)(t)}XR(rA,oA,{name:df,inputsCount:1,showOperators:!0});const aA="gt";function lA(t,e){let[n]=e,i=n;return"numeric"===t.meta.type&&(i=parseFloat(i,10)),t.value>i}XR(aA,lA,{name:_f,inputsCount:1,showOperators:!0});const hA="gte";function cA(t,e){let[n]=e,i=n;return"numeric"===t.meta.type&&(i=parseFloat(i,10)),t.value>=i}XR(hA,cA,{name:yf,inputsCount:1,showOperators:!0});const dA="lt";function uA(t,e){let[n]=e,i=n;return"numeric"===t.meta.type&&(i=parseFloat(i,10)),t.value<i}XR(dA,uA,{name:wf,inputsCount:1,showOperators:!0});const fA="lte";function mA(t,e){let[n]=e,i=n;return"numeric"===t.meta.type&&(i=parseFloat(i,10)),t.value<=i}XR(fA,mA,{name:vf,inputsCount:1,showOperators:!0});const gA="date_after";function pA(t,e){let[n]=e;const i=w(t.value,t.meta.dateFormat),s=w(n,t.meta.dateFormat);return!(!i.isValid()||!s.isValid())&&i.diff(s)>=0}XR(gA,pA,{name:Sf,inputsCount:1,showOperators:!0});const _A="date_before";function yA(t,e){let[n]=e;const i=w(t.value,t.meta.dateFormat),s=w(n,t.meta.dateFormat);return!(!i.isValid()||!s.isValid())&&i.diff(s)<=0}XR(_A,yA,{name:Cf,inputsCount:1,showOperators:!0});const wA="between";function vA(t,e){let[n,i]=e,s=n,r=i;if("numeric"===t.meta.type){const t=parseFloat(s,10),e=parseFloat(r,10);s=Math.min(t,e),r=Math.max(t,e)}else if("date"===t.meta.type){const e=KR(_A,[r]),n=KR(gA,[s]);return e(t)&&n(t)}return t.value>=s&&t.value<=r}XR(wA,vA,{name:bf,inputsCount:2,showOperators:!0});const bA="not_between";function MA(t,e){return!KR(wA,e)(t)}XR(bA,MA,{name:Mf,inputsCount:2,showOperators:!0});const SA="begins_with";function CA(t,e){let[n]=e;return N(t.value).toLocaleLowerCase(t.meta.locale).startsWith(N(n))}XR(SA,CA,{name:uf,inputsCount:1,showOperators:!0});const xA="ends_with";function TA(t,e){let[n]=e;return N(t.value).toLocaleLowerCase(t.meta.locale).endsWith(N(n))}XR(xA,TA,{name:ff,inputsCount:1,showOperators:!0});const kA="contains";function LA(t,e){let[n]=e;return N(t.value).toLocaleLowerCase(t.meta.locale).indexOf(N(n))>=0}XR(kA,LA,{name:mf,inputsCount:1,showOperators:!0});const EA="not_contains";function RA(t,e){return!KR(kA,e)(t)}XR(EA,RA,{name:gf,inputsCount:1,showOperators:!0});const AA="date_tomorrow";function DA(t){const e=w(t.value,t.meta.dateFormat);return!!e.isValid()&&e.isSame(w().subtract(-1,"days").startOf("day"),"d")}XR(AA,DA,{name:Tf,inputsCount:0});const HA="date_today";function PA(t){const e=w(t.value,t.meta.dateFormat);return!!e.isValid()&&e.isSame(w().startOf("day"),"d")}XR(HA,PA,{name:xf,inputsCount:0});const IA="date_yesterday";function OA(t){const e=w(t.value,t.meta.dateFormat);return!!e.isValid()&&e.isSame(w().subtract(1,"days").startOf("day"),"d")}XR(IA,OA,{name:kf,inputsCount:0});const YA="numeric",NA="text",FA="date",jA={[YA]:[JR,wx,QR,eA,wx,iA,rA,wx,aA,hA,dA,fA,wA,bA],[NA]:[JR,wx,QR,eA,wx,iA,rA,wx,SA,xA,wx,kA,EA],[FA]:[JR,wx,QR,eA,wx,iA,rA,wx,_A,gA,wA,wx,AA,HA,IA]};function WA(t){const e=[];let n=t;return jA[n]||(n=NA),T(jA[n],(t=>{let n;n=t===wx?{name:wx}:_n(qR(t)),e.push(n)})),e}function VA(t,e,n){return e=BA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BA(t){var e=zA(t,"string");return"symbol"==typeof e?e:e+""}function zA(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}const UA="built",$A="building",GA=["click","input","keydown","keypress","keyup","focus","blur","change"];class KA{static get DEFAULTS(){return _n({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(t,e){VA(this,"hot",void 0),VA(this,"eventManager",new Wi(this)),VA(this,"options",void 0),VA(this,"_element",void 0),VA(this,"buildState",void 0),this.hot=t,this.options=mn(KA.DEFAULTS,e),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(t){this.options.value=t,this.update()}getValue(){return this.options.value}get element(){return this.buildState===$A?this._element:this.buildState===UA?(this.update(),this._element):(this.buildState=$A,this.build(),this.buildState=UA,this._element)}isBuilt(){return this.buildState===UA}translateIfPossible(t){return"string"===typeof t&&t.startsWith(rf)?this.hot.getTranslatedPhrase(t):t}build(){const t=(t,e)=>{this.eventManager.addEventListener(t,e,(t=>this.runLocalHooks(e,t,this)))};if(this.buildState||(this.buildState=$A),this._element.setAttribute("data-hot-input",!0),void 0!==this.options.tabIndex&&this._element.setAttribute("tabindex",this.options.tabIndex),void 0!==this.options.role&&this._element.setAttribute("role",this.options.role),this.options.className&&ae(this._element,this.options.className),this.options.children.length)T(this.options.children,(t=>this._element.appendChild(t.element)));else if(this.options.wrapIt){const e=this.hot.rootDocument.createElement(this.options.tagName);e.setAttribute("data-hot-input",!0),Mn(this.options,((t,n)=>{void 0!==e[n]&&"className"!==n&&"tagName"!==n&&"children"!==n&&(e[n]=this.translateIfPossible(t))})),this._element.appendChild(e),T(GA,(n=>t(e,n)))}else T(GA,(e=>t(this._element,e)))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}}function qA(t,e){JA(t,e),e.add(t)}function XA(t,e,n){JA(t,e),e.set(t,n)}function JA(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ZA(t,e){return t.get(tD(t,e))}function QA(t,e,n){return t.set(tD(t,e),n),n}function tD(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}yn(KA,sd);var eD=new WeakMap,nD=new WeakSet;class iD extends KA{static get DEFAULTS(){return _n({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(t,e){super(t,mn(iD.DEFAULTS,e)),qA(this,nD),XA(this,eD,void 0),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",(t=>tD(nD,this,sD).call(this,t)))}build(){super.build();const t=this.hot.rootDocument.createElement("div");QA(eD,this,this._element.firstChild),ae(this._element,"htUIInput"),ae(t,"htUIInputIcon"),this._element.appendChild(t),this.update()}update(){this.isBuilt()&&(ZA(eD,this).type=this.options.type,ZA(eD,this).placeholder=this.translateIfPossible(this.options.placeholder),ZA(eD,this).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&ZA(eD,this).focus()}}function sD(t){this.options.value=t.target.value}function rD(t,e){aD(t,e),e.add(t)}function oD(t,e,n){aD(t,e),e.set(t,n)}function aD(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lD(t,e,n){return t.set(cD(t,e),n),n}function hD(t,e){return t.get(cD(t,e))}function cD(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var dD=new WeakMap,uD=new WeakMap,fD=new WeakMap,mD=new WeakMap,gD=new WeakMap,pD=new WeakSet;class _D extends KA{static get DEFAULTS(){return _n({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(t,e){super(t,mn(_D.DEFAULTS,e)),rD(this,pD),oD(this,dD,null),oD(this,uD,[]),oD(this,fD,void 0),oD(this,mD,void 0),oD(this,gD,void 0),this.registerHooks()}getMenu(){return hD(dD,this)}registerHooks(){this.addLocalHook("click",(()=>cD(pD,this,vD).call(this)))}setItems(t){lD(uD,this,this.translateNames(t)),hD(dD,this)&&hD(dD,this).setMenuItems(hD(uD,this))}translateNames(t){return T(t,(t=>{t.name=this.translateIfPossible(t.name)})),t}build(){super.build(),lD(dD,this,new zk(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),hD(dD,this).setMenuItems(hD(uD,this));const t=new KA(this.hot,{className:"htUISelectCaption"}),e=new KA(this.hot,{className:"htUISelectDropdown"});lD(fD,this,t),lD(mD,this,t.element),lD(gD,this,e),this.hot.getSettings().ariaTags&&(he(e.element,[kt()]),he(this._element,[vt()])),T([t,e],(t=>this._element.appendChild(t.element))),hD(dD,this).addLocalHook("select",(t=>cD(pD,this,yD).call(this,t))),hD(dD,this).addLocalHook("afterClose",(()=>cD(pD,this,wD).call(this))),this.update()}update(){if(!this.isBuilt())return;let t;t=this.options.value?this.options.value.name:hD(dD,this).hot.getTranslatedPhrase(af),hD(mD,this).textContent=t,super.update()}openOptions(){const t=this.element.getBoundingClientRect();hD(dD,this)&&(hD(dD,this).open(),hD(dD,this).setPosition({left:this.hot.isLtr()?t.left-5:t.left-31,top:t.top-1,width:t.width,height:t.height}),hD(dD,this).getNavigator().toFirstItem(),hD(dD,this).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:t=>{this.closeOptions(),this.runLocalHooks("tabKeydown",t)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){hD(dD,this)&&hD(dD,this).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){hD(dD,this)&&(hD(dD,this).destroy(),lD(dD,this,null)),hD(fD,this)&&hD(fD,this).destroy(),hD(gD,this)&&hD(gD,this).destroy(),super.destroy()}}function yD(t){t.name!==wx&&(this.options.value=t,this.update(),this.runLocalHooks("select",this.options.value))}function wD(){this.runLocalHooks("afterClose")}function vD(){this.openOptions()}function bD(t,e){MD(t,e),e.add(t)}function MD(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function SD(t,e,n){return e=CD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CD(t){var e=xD(t,"string");return"symbol"==typeof e?e:e+""}function xD(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function TD(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var kD=new WeakSet;class LD extends $R{constructor(t,e){super(t,{id:e.id,stateless:!1}),bD(this,kD),SD(this,"name",""),SD(this,"addSeparator",!1),this.name=e.name,this.addSeparator=e.addSeparator,this.elements.push(new _D(this.hot,{menuContainer:e.menuContainer})),this.elements.push(new iD(this.hot,{placeholder:Nf})),this.elements.push(new iD(this.hot,{placeholder:Ff})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",(t=>TD(kD,this,ED).call(this,t))).addLocalHook("afterClose",(()=>this.runLocalHooks("afterClose"))).addLocalHook("tabKeydown",(t=>this.runLocalHooks("selectTabKeydown",t))),T(this.getInputElements(),(t=>{t.addLocalHook("keydown",(t=>TD(kD,this,RD).call(this,t)))}))}setState(t){if(this.reset(),!t)return;const e=_n(t.command);e.name.startsWith(of)&&(e.name=this.hot.getTranslatedPhrase(e.name)),this.getSelectElement().setValue(e),T(t.args,((t,n)=>{if(n>e.inputsCount-1)return!1;const i=this.getInputElement(n);i.setValue(t),i[e.inputsCount>n?"show":"hide"](),n||this.hot._registerTimeout((()=>i.focus()),10)}))}getState(){const t=this.getSelectElement().getValue()||qR(JR),e=[];return T(this.getInputElements(),((n,i)=>{t.inputsCount>i&&e.push(n.getValue())})),{command:t,args:e}}updateState(t,e){const n=qR(t?t.name:JR);this.state.setValueAtIndex(e,{command:n,args:t?t.args:[]}),t||T(this.getInputElements(),(t=>t.setValue(null)))}getSelectElement(){return this.elements.filter((t=>t instanceof _D))[0]}getInputElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getInputElements()[t]}getInputElements(){return this.elements.filter((t=>t instanceof iD))}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,e,n,i,s,r)=>{ae(e.parentNode,"htFiltersMenuCondition"),this.addSeparator&&ae(e.parentNode,"border");const o=this.hot.rootDocument.createElement("div");return ae(o,"htFiltersMenuLabel"),o.textContent=r,e.appendChild(o),T(this.elements,(t=>e.appendChild(t.element))),e}}}reset(){const t=this.hot.getPlugin("filters").getSelectedColumn();let e=[qR(JR)];if(null!==t){const{visualIndex:n}=t;e=WA(this.hot.getDataType(0,n,this.hot.countRows(),n))}T(this.getInputElements(),(t=>t.hide())),this.getSelectElement().setItems(e),super.reset(),this.getSelectElement().setValue(e[0])}}function ED(t){T(this.getInputElements(),((e,n)=>{e[t.inputsCount>n?"show":"hide"](),0===n&&this.hot._registerTimeout((()=>e.focus()),10)})),this.runLocalHooks("change",t)}function RD(t){si(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),ri(t))}const AD={};function DD(t){if(!AD[t])throw Error(`Operation with id "${t}" does not exist.`);const e=AD[t].func;return function(t,n){return e(t,n)}}function HD(t){return AD[t].name}function PD(t,e,n){AD[t]={name:e,func:n}}const ID="conjunction",OD=Rf;function YD(t,e){return t.every((t=>t.func(e)))}PD(ID,OD,YD);const ND="disjunction",FD=Af;function jD(t,e){return t.some((t=>t.func(e)))}PD(ND,FD,jD);const WD="disjunctionWithExtraCondition",VD=Af;function BD(t,e){if(t.length<3)throw Error("Operation doesn't work on less then three conditions.");return t.slice(0,t.length-1).some((t=>t.func(e)))&&t[t.length-1].func(e)}function zD(t,e,n){UD(t,e),e.set(t,n)}function UD(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $D(t,e){return t.get(KD(t,e))}function GD(t,e,n){return t.set(KD(t,e),n),n}function KD(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}PD(WD,VD,BD);var qD=new WeakMap,XD=new WeakMap;class JD extends KA{static get DEFAULTS(){return _n({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(t,e){super(t,mn(JD.DEFAULTS,e)),zD(this,qD,void 0),zD(this,XD,void 0)}build(){super.build();const t=this.hot.rootDocument.createElement("label");t.textContent=this.translateIfPossible(this.options.label.textContent),t.htmlFor=this.translateIfPossible(this.options.label.htmlFor),GD(XD,this,t),GD(qD,this,this._element.firstChild),$D(qD,this).checked=this.options.checked,this._element.appendChild(t),this.update()}update(){this.isBuilt()&&($D(XD,this).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return!!this.isBuilt()&&$D(qD,this).checked}setChecked(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isBuilt()&&($D(qD,this).checked=t)}focus(){this.isBuilt()&&$D(qD,this).focus()}}function ZD(t,e){QD(t,e),e.add(t)}function QD(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tH(t,e,n){return e=eH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eH(t){var e=nH(t,"string");return"symbol"==typeof e?e:e+""}function nH(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function iH(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const sH=0;var rH=new WeakSet;class oH extends $R{constructor(t,e){super(t,{id:e.id,stateless:!1}),ZD(this,rH),tH(this,"name",""),this.name=e.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,e)=>(ae(e.parentNode,"htFiltersMenuOperators"),T(this.elements,(t=>e.appendChild(t.element))),e)}}buildOperatorsElement(){const t=[ID,ND];T(t,(e=>{const n=new JD(this.hot,{name:"operator",label:{htmlFor:e,textContent:HD(e)},value:e,checked:e===t[sH],id:e});n.addLocalHook("change",(t=>iH(rH,this,aH).call(this,t))),this.elements.push(n)}))}setChecked(t){if(this.elements.length<t)throw Error(Y`Radio button with index ${t} doesn't exist.`);T(this.elements,((e,n)=>{e.setChecked(n===t)}))}getActiveOperationId(){const t=this.elements.find((t=>t instanceof JD&&t.isChecked()));return t?t.getValue():ID}getState(){return this.getActiveOperationId()}setState(t){this.reset(),t&&this.getActiveOperationId()!==t&&T(this.elements,(e=>{e.setChecked(e.getValue()===t)}))}updateState(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ID,e=arguments.length>1?arguments[1]:void 0,n=t;n===WD&&(n=ND),this.state.setValueAtIndex(e,n)}reset(){this.setChecked(sH)}}function aH(t){this.setState(t.target.value)}Hn();function lH(t,e){let n=t;return""===n&&(n=`(${e})`),n}const hH=new Set([1]).has(1),cH=hH&&"function"===typeof Array.from;function dH(t){let e=t;return hH&&(e=new Set(e)),function(t){let n;return n=hH?e.has(t):!!~e.indexOf(t),n}}function uH(t){return null===t||void 0===t?"":t}function fH(t){let e=t;return e=cH?Array.from(new Set(e)):D(e),e=e.sort(((t,e)=>"number"===typeof t&&"number"===typeof e?t-e:t===e?0:t>e?1:-1)),e}function mH(t,e,n,i){const s=[],r=t===e;let o;return r||(o=dH(e)),T(t,(t=>{let e=!1;(r||o(t))&&(e=!0);const a={checked:e,value:t,visualValue:lH(t,n)};i&&i(a),s.push(a)})),s}function gH(t,e,n){pH(t,e),e.set(t,n)}function pH(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _H(t,e){return t.get(wH(t,e))}function yH(t,e,n){return t.set(wH(t,e),n),n}function wH(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var vH=new WeakMap;class bH extends KA{static get DEFAULTS(){return _n({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(t,e){super(t,mn(bH.DEFAULTS,e)),gH(this,vH,void 0)}build(){super.build(),yH(vH,this,this._element.firstChild)}update(){this.isBuilt()&&(_H(vH,this).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&_H(vH,this).focus()}activate(){_H(vH,this).click()}}function MH(t,e){CH(t,e),e.add(t)}function SH(t,e,n){CH(t,e),e.set(t,n)}function CH(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xH(t,e){return t.get(kH(t,e))}function TH(t,e,n){return t.set(kH(t,e),n),n}function kH(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const LH="multipleSelect.itemBox";var EH=new WeakMap,RH=new WeakMap,AH=new WeakMap,DH=new WeakMap,HH=new WeakMap,PH=new WeakMap,IH=new WeakSet;class OH extends KA{static get DEFAULTS(){return _n({className:"htUIMultipleSelect",value:[]})}constructor(t,e){super(t,mn(OH.DEFAULTS,e)),MH(this,IH),SH(this,EH,[]),SH(this,RH,void 0),SH(this,AH,void 0),SH(this,DH,void 0),SH(this,HH,void 0),SH(this,PH,void 0),TH(DH,this,new iD(this.hot,{placeholder:Yf,className:"htUIMultipleSelectSearch"})),TH(HH,this,new bH(this.hot,{textContent:Hf,className:"htUISelectAll"})),TH(PH,this,new bH(this.hot,{textContent:Pf,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return xH(RH,this)}registerHooks(){xH(DH,this).addLocalHook("keydown",(t=>kH(IH,this,NH).call(this,t))),xH(DH,this).addLocalHook("input",(t=>kH(IH,this,YH).call(this,t))),xH(HH,this).addLocalHook("click",(t=>kH(IH,this,FH).call(this,t))),xH(PH,this).addLocalHook("click",(t=>kH(IH,this,jH).call(this,t)))}setItems(t){TH(EH,this,t),xH(RH,this)&&xH(RH,this).loadData(xH(EH,this))}setLocale(t){TH(AH,this,t)}getLocale(){return xH(AH,this)}getItems(){return[...xH(EH,this)]}getValue(){return VH(xH(EH,this))}getSearchInputElement(){return xH(DH,this)}getSelectAllElement(){return xH(HH,this)}getClearAllElement(){return xH(PH,this)}isSelectedAllValues(){return xH(EH,this).length===this.getValue().length}build(){super.build();const{rootDocument:t}=this.hot,e=t.createElement("div"),n=new KA(this.hot,{className:"htUISelectionControls",children:[xH(HH,this),xH(PH,this)]});this._element.appendChild(xH(DH,this).element),this._element.appendChild(n.element),this._element.appendChild(e);const i=e=>{if(!this._element)return;xH(RH,this)&&xH(RH,this).destroy(),ae(e,"htUIMultipleSelectHot"),TH(RH,this,new this.hot.constructor(e,{data:xH(EH,this),columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(t,e,n,i,s,r)=>{t.title=r.instance.getDataAtRowProp(e,r.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{xH(RH,this).listen()},maxCols:1,autoWrapCol:!0,height:110,colWidths:()=>xH(RH,this).container.scrollWidth-Ve(t),copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),xH(RH,this).init();const n=xH(RH,this).getShortcutManager(),i=n.getContext("grid");i.removeShortcutsByKeys(["Tab"]),i.removeShortcutsByKeys(["Shift","Tab"]),i.addShortcut({keys:[["Escape"]],callback:t=>{this.runLocalHooks("keydown",t,this)},group:LH}),i.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:t=>{xH(RH,this).deselectCell(),this.runLocalHooks("keydown",t,this),this.runLocalHooks("listTabKeydown",t,this)},group:LH})};i(e),this.hot._registerTimeout((()=>i(e)),100)}focus(){this.isBuilt()&&xH(RH,this).listen()}reset(){xH(DH,this).reset(),xH(HH,this).reset(),xH(PH,this).reset()}update(){this.isBuilt()&&(xH(RH,this).loadData(WH(xH(EH,this),this.options.value)),super.update())}destroy(){xH(RH,this)&&xH(RH,this).destroy(),xH(DH,this).destroy(),xH(PH,this).destroy(),xH(HH,this).destroy(),TH(DH,this,null),TH(PH,this,null),TH(HH,this,null),TH(RH,this,null),TH(EH,this,null),super.destroy()}}function YH(t){const e=t.target.value.toLocaleLowerCase(this.getLocale());let n;n=""===e?[...xH(EH,this)]:C(xH(EH,this),(t=>`${t.value}`.toLocaleLowerCase(this.getLocale()).indexOf(e)>=0)),xH(RH,this).loadData(n)}function NH(t){this.runLocalHooks("keydown",t,this);const e=ln(si,t.keyCode);e("ARROW_DOWN")&&(t.preventDefault(),ri(t),xH(RH,this).listen(),xH(RH,this).selectCell(0,0))}function FH(t){const e=[];t.preventDefault(),T(xH(RH,this).getSourceData(),((t,n)=>{t.checked=!0,e.push(Gc(t,n)[0])})),xH(RH,this).setSourceDataAtCell(e)}function jH(t){const e=[];t.preventDefault(),T(xH(RH,this).getSourceData(),((t,n)=>{t.checked=!1,e.push(Gc(t,n)[0])})),xH(RH,this).setSourceDataAtCell(e)}function WH(t,e){const n=dH(e);return x(t,(t=>(t.checked=n(t.value),t)))}function VH(t){const e=[];return T(t,(t=>{t.checked&&e.push(t.value)})),e}const BH="by_value";function zH(t,e){let[n]=e;return n(t.value)}function UH(t,e){$H(t,e),e.add(t)}function $H(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function GH(t,e,n){return e=KH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KH(t){var e=qH(t,"string");return"symbol"==typeof e?e:e+""}function qH(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function XH(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}XR(BH,zH,{name:"By value",inputsCount:0,inputValuesDecorator(t){let[e]=t;return[dH(e)]},showOperators:!1});var JH,ZH=new WeakSet;class QH extends $R{constructor(t,e){super(t,{id:e.id,stateless:!1}),UH(this,ZH),GH(this,"name",""),this.name=e.name,this.elements.push(new OH(this.hot)),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",(t=>XH(ZH,this,tP).call(this,t))).addLocalHook("listTabKeydown",(t=>this.runLocalHooks("listTabKeydown",t))),this.hot.addHook("modifyFiltersMultiSelectValue",((t,e)=>XH(ZH,this,nP).call(this,t,e)))}getElements(){const t=this.getMultipleSelectElement();return[t.getSearchInputElement(),t.getSelectAllElement(),t.getClearAllElement(),this.getMultipleSelectElement()]}setState(t){if(this.reset(),t&&t.command.key===BH){const e=this.getMultipleSelectElement();e.setItems(t.itemsSnapshot),e.setValue(t.args[0]),e.setLocale(t.locale)}}getState(){const t=this.getMultipleSelectElement(),e=t.getItems();return{command:{key:t.isSelectedAllValues()||!e.length?JR:BH},args:[t.getValue()],itemsSnapshot:e}}updateState(t){const e=(e,n,i,s,r)=>{const[o]=C(n,(t=>t.name===BH)),a={},l=this.hot.getTranslatedPhrase(Df);if(o){const n=s(e,r),h=x(n,(t=>t.value)),c=new Map(n.map((t=>[t.value,this.hot.getCellMeta(t.meta.visualRow,t.meta.visualCol)]))),d=fH(h);i&&(o.args[0]=i);const u=[],f=mH(d,o.args[0],l,(t=>{t.checked&&u.push(t.value),XH(ZH,this,eP).call(this,t,c)})),m=t.editedConditionStack.column;a.locale=this.hot.getCellMeta(0,m).locale,a.args=[u],a.command=qR(BH),a.itemsSnapshot=f}else a.args=[],a.command=qR(JR);this.state.setValueAtIndex(e,a)};e(t.editedConditionStack.column,t.editedConditionStack.conditions,t.conditionArgsChange,t.filteredRowsFactory),t.dependentConditionStacks.length&&e(t.dependentConditionStacks[0].column,t.dependentConditionStacks[0].conditions,t.conditionArgsChange,t.filteredRowsFactory,t.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter((t=>t instanceof OH))[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,e,n,i,s,r)=>{ae(e.parentNode,"htFiltersMenuValue");const o=this.hot.rootDocument.createElement("div");return ae(o,"htFiltersMenuLabel"),o.textContent=r,e.appendChild(o),T(this.elements,(t=>e.appendChild(t.element))),e}}}reset(){const t=this.hot.getTranslatedPhrase(Df),e=this._getColumnVisibleValues(),n=e.map((t=>t.value)),i=new Map(e.map((t=>[t.value,t.meta]))),s=fH(n),r=mH(s,s,t,(t=>{XH(ZH,this,eP).call(this,t,i)}));this.getMultipleSelectElement().setItems(r),super.reset(),this.getMultipleSelectElement().setValue(s);const o=this.hot.getPlugin("filters").getSelectedColumn();null!==o&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,o.visualIndex).locale)}_getColumnVisibleValues(){const t=this.hot.getPlugin("filters").getSelectedColumn();return null===t?[]:x(this.hot.getDataAtCol(t.visualIndex),((e,n)=>({value:uH(e),meta:this.hot.getCellMeta(n,t.visualIndex)})))}}function tP(t){si(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),ri(t))}function eP(t,e){this.hot.hasHook("modifyFiltersMultiSelectValue")&&(t.visualValue=this.hot.runHooks("modifyFiltersMultiSelectValue",t.visualValue,e.get(t.value)))}function nP(t,e){switch(e.type){case"numeric":return Cv(t,e);default:return t}}function iP(t,e){sP(t,e),e.add(t)}function sP(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rP(t,e,n){return e=oP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oP(t){var e=aP(t,"string");return"symbol"==typeof e?e:e+""}function aP(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function lP(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var hP=new WeakSet;class cP extends $R{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(t,e){super(t,{id:e.id,stateless:!0}),iP(this,hP),rP(this,"name",""),this.name=e.name,this.elements.push(new iD(this.hot,{type:"button",value:If,className:"htUIButton htUIButtonOK",identifier:cP.BUTTON_OK})),this.elements.push(new iD(this.hot,{type:"button",value:Of,className:"htUIButton htUIButtonCancel",identifier:cP.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){T(this.elements,(t=>{t.addLocalHook("click",((t,e)=>lP(hP,this,dP).call(this,t,e)))}))}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,e)=>(ae(e.parentNode,"htFiltersMenuActionBar"),T(this.elements,(t=>e.appendChild(t.element))),e)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}}function dP(t,e){e.options.identifier===JH.BUTTON_OK?this.accept():this.cancel()}function uP(t,e,n){return e=fP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fP(t){var e=mP(t,"string");return"symbol"==typeof e?e:e+""}function mP(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}JH=cP;const gP="ConditionCollection.filteringStates";class pP{constructor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];uP(this,"hot",void 0),uP(this,"isMapRegistrable",void 0),uP(this,"filteringStates",new bd),this.hot=t,this.isMapRegistrable=e,!0===this.isMapRegistrable?this.hot.columnIndexMapper.registerMap(gP,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return 0===this.getFilteredColumns().length}isMatch(t,e){var n;const i=this.filteringStates.getValueAtIndex(e),s=null!==(n=null===i||void 0===i?void 0:i.conditions)&&void 0!==n?n:[],r=null===i||void 0===i?void 0:i.operation;return this.isMatchInConditions(s,t,r)}isMatchInConditions(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ID;return!t.length||DD(n)(t,e)}addCondition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ID,i=arguments.length>3?arguments[3]:void 0;const s=this.hot.getCellMeta(0,t).locale,r=x(e.args,(t=>"string"===typeof t?t.toLocaleLowerCase(s):t)),o=e.name||e.command.key;this.runLocalHooks("beforeAdd",t);const a=this.getOperation(t);if(a){if(a!==n)throw Error(Y`The column of index ${t} has been already applied with a \`${a}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if(j(AD[n]))throw new Error(Y`Unexpected operation named \`${n}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);const l=this.getConditions(t);0===l.length?this.filteringStates.setValueAtIndex(t,{operation:n,conditions:[{name:o,args:r,func:KR(o,r)}]},i):l.push({name:o,args:r,func:KR(o,r)}),this.runLocalHooks("afterAdd",t)}getConditions(t){var e,n;return null!==(e=null===(n=this.filteringStates.getValueAtIndex(t))||void 0===n?void 0:n.conditions)&&void 0!==e?e:[]}getOperation(t){var e;return null===(e=this.filteringStates.getValueAtIndex(t))||void 0===e?void 0:e.operation}getFilteredColumns(){return this.filteringStates.getEntries().map((t=>{let[e]=t;return e}))}getColumnStackPosition(t){return this.getFilteredColumns().indexOf(t)}exportAllConditions(){return S(this.filteringStates.getEntries(),((t,e)=>{let[n,{operation:i,conditions:s}]=e;return t.push({column:n,operation:i,conditions:x(s,(t=>{let{name:e,args:n}=t;return{name:e,args:n}}))}),t}),[])}importAllConditions(t){this.clean(),T(t,(t=>{T(t.conditions,(e=>this.addCondition(t.column,e)))}))}removeConditions(t){this.runLocalHooks("beforeRemove",t),this.filteringStates.clearValue(t),this.runLocalHooks("afterRemove",t)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(t,e){const n=this.getConditions(t);return e?n.some((t=>t.name===e)):n.length>0}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(gP),this.filteringStates=null,this.clearLocalHooks()}}yn(pP,sd);var _P=pP;function yP(t,e,n){return e=wP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wP(t){var e=vP(t,"string");return"symbol"==typeof e?e:e+""}function vP(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class bP{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>[];yP(this,"conditionCollection",void 0),yP(this,"columnDataFactory",void 0),this.conditionCollection=t,this.columnDataFactory=e}filter(){let t=[];return T(this.conditionCollection.getFilteredColumns(),((e,n)=>{let i=this.columnDataFactory(e);n&&(i=this._getIntersectData(i,t)),t=this.filterByColumn(e,i)})),t}filterByColumn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[];return T(e,(e=>{void 0!==e&&this.conditionCollection.isMatch(e,t)&&n.push(e)})),n}_getIntersectData(t,e){const n=[];return T(e,(e=>{const i=e.meta.visualRow;void 0!==t[i]&&(n[i]=t[i])})),n}}var MP=bP;function SP(t,e){CP(t,e),e.add(t)}function CP(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xP(t,e,n){return e=TP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TP(t){var e=kP(t,"string");return"symbol"==typeof e?e:e+""}function kP(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function LP(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var EP=new WeakSet;class RP{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>[];SP(this,EP),xP(this,"hot",void 0),xP(this,"conditionCollection",void 0),xP(this,"columnDataFactory",void 0),xP(this,"changes",[]),xP(this,"grouping",!1),xP(this,"latestEditedColumnPosition",-1),xP(this,"latestOrderStack",[]),this.hot=t,this.conditionCollection=e,this.columnDataFactory=n,this.conditionCollection.addLocalHook("beforeRemove",(t=>LP(EP,this,AP).call(this,t))),this.conditionCollection.addLocalHook("afterRemove",(t=>this.updateStatesAtColumn(t))),this.conditionCollection.addLocalHook("afterAdd",(t=>this.updateStatesAtColumn(t))),this.conditionCollection.addLocalHook("beforeClean",(()=>LP(EP,this,DP).call(this))),this.conditionCollection.addLocalHook("afterClean",(()=>LP(EP,this,HP).call(this)))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,T(this.changes,(t=>{this.updateStatesAtColumn(t)})),this.changes.length=0}updateStatesAtColumn(t,e){var n=this;if(this.grouping)return void(-1===this.changes.indexOf(t)&&this.changes.push(t));const i=this.conditionCollection.exportAllConditions();let s=this.conditionCollection.getColumnStackPosition(t);-1===s&&(s=this.latestEditedColumnPosition);const r=i.slice(0,s),o=i.slice(s);o.length&&o[0].column===t&&o.shift();const a=hn((function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const s=new _P(n.hot,!1),r=[].concat(t,i);s.importAllConditions(r);const o=n.columnDataFactory(e);let a;a=s.isEmpty()?o:new MP(s,(t=>n.columnDataFactory(t))).filter(),a=x(a,(t=>t.meta.visualRow));const l=dH(a);return s.destroy(),C(o,(t=>l(t.meta.visualRow)))}))(r),l=[].concat(this.conditionCollection.getConditions(t));this.runLocalHooks("update",{editedConditionStack:{column:t,conditions:l},dependentConditionStacks:o,filteredRowsFactory:a,conditionArgsChange:e})}destroy(){this.clearLocalHooks(),Mn(this,((t,e)=>{this[e]=null}))}}function AP(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}function DP(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function HP(){T(this.latestOrderStack,(t=>{this.updateStatesAtColumn(t)}))}yn(RP,sd);var PP=RP;function IP(t){const e=uk({initialPage:0,size:()=>t.length,onItemSelect:(e,n)=>{const i=t[e];return i instanceof OH?n:!(i.element&&!pe(i.element))&&void i.focus()}});return e}const OP="filters";function YP(t,e){let n=-1;const i=IP(e),s=n=>()=>{t.isOpened()&&t.getKeyboardShortcutsCtrl().listen(OP),i.setCurrentPage(e.indexOf(n))};function r(s){const r=t.getKeyboardShortcutsCtrl(),o=s.getKeyboardShortcutsCtrl();i.clear(),o.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:r.getContext(OP),callback:()=>{s.isSubMenu()&&s.close(),r.listen(OP)}}]),s.isSubMenu()||r.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:e=>{const s=t.getNavigator();s.getCurrentPage()>-1&&(n=s.getCurrentPage()),s.clear(),e.shiftKey?i.toPreviousItem():i.toNextItem()}},{keys:[["Escape"]],callback:()=>{t.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:t=>{const n=e[i.getCurrentPage()];n instanceof _D&&(n.openOptions(),t.preventDefault()),n instanceof bH&&(n.activate(),t.preventDefault()),n instanceof KA||t.preventDefault()}}],OP)}function o(){t.focus(),t.getKeyboardShortcutsCtrl().listen(OP)}function a(){return n}return e.forEach((t=>{t instanceof KA&&(t.addLocalHook("click",s(t)),t.addLocalHook("focus",s(t)),t.addLocalHook("afterClose",s(t)))})),t.addLocalHook("afterSelectionChange",(t=>{t.key.startsWith("filter_")||i.clear()})),t.addLocalHook("afterSubmenuOpen",r),t.addLocalHook("afterOpen",r),{...i,listen:o,getLastMenuPage:a}}function NP(t,e){jP(t,e),e.add(t)}function FP(t,e,n){jP(t,e),e.set(t,n)}function jP(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function WP(t,e,n){return e=VP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VP(t){var e=BP(t,"string");return"symbol"==typeof e?e:e+""}function BP(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function zP(t,e,n){return t.set($P(t,e),n),n}function UP(t,e){return t.get($P(t,e))}function $P(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const GP="filters",KP=250,qP=GP;var XP=new WeakMap,JP=new WeakSet;class ZP extends Eb{static get PLUGIN_KEY(){return GP}static get PLUGIN_PRIORITY(){return KP}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(t){super(t),NP(this,JP),WP(this,"dropdownMenuPlugin",null),WP(this,"conditionCollection",null),WP(this,"conditionUpdateObserver",null),WP(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),WP(this,"filtersRowsMap",null),FP(this,XP,void 0),this.hot.addHook("afterGetColHeader",((t,e)=>$P(JP,this,oI).call(this,t,e)))}isEnabled(){return!!this.hot.getSettings()[GP]}enablePlugin(){if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new Md),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");const t=this.hot.getSettings().dropdownMenu,e=t&&t.uiContainer||this.hot.rootDocument.body,n=t=>(t.addLocalHook("accept",(()=>$P(JP,this,iI).call(this,"accept"))),t.addLocalHook("cancel",(()=>$P(JP,this,iI).call(this,"cancel"))),t.addLocalHook("change",(e=>$P(JP,this,sI).call(this,t,e))),t),i=()=>`${this.hot.getTranslatedPhrase(Lf)}:`,s=()=>`${this.hot.getTranslatedPhrase(Ef)}:`;if(!this.components.get("filter_by_condition")){const t=new LD(this.hot,{id:"filter_by_condition",name:i,addSeparator:!1,menuContainer:e});t.addLocalHook("afterClose",(()=>$P(JP,this,rI).call(this))),this.components.set("filter_by_condition",n(t))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new oH(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){const t=new LD(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:e});t.addLocalHook("afterClose",(()=>$P(JP,this,rI).call(this))),this.components.set("filter_by_condition2",n(t))}if(this.components.get("filter_by_value")||this.components.set("filter_by_value",n(new QH(this.hot,{id:"filter_by_value",name:s}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",n(new cP(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new _P(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new PP(this.hot,this.conditionCollection,(t=>this.getDataMapAtColumn(t))),this.conditionUpdateObserver.addLocalHook("update",(t=>$P(JP,this,aI).call(this,t)))),this.components.forEach((t=>t.show())),this.addHook("afterDropdownMenuDefaultOptions",(t=>$P(JP,this,nI).call(this,t))),this.addHook("afterDropdownMenuShow",(()=>$P(JP,this,tI).call(this))),this.addHook("afterDropdownMenuHide",(()=>$P(JP,this,eI).call(this))),this.addHook("afterChange",(t=>$P(JP,this,QP).call(this,t))),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!UP(XP,this)&&this.dropdownMenuPlugin.enabled){const t=this.dropdownMenuPlugin.menu,e=[{focus:()=>{const e=t.getNavigator(),n=UP(XP,this).getLastMenuPage();t.focus(),n>0?e.setCurrentPage(n):e.toFirstItem()}},...Array.from(this.components).map((t=>{let[,e]=t;return e.getElements()})).flat()];zP(XP,this,YP(t,e));const n=t=>{UP(XP,this).listen(),t.preventDefault(),si(t.keyCode,"TAB")&&(t.shiftKey?UP(XP,this).toPreviousItem():UP(XP,this).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",n),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",n)}this.registerShortcuts(),super.enablePlugin()}disablePlugin(){var t;this.enabled&&(null!==(t=this.dropdownMenuPlugin)&&void 0!==t&&t.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach(((t,e)=>{t.destroy(),this.components.set(e,null)})),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName));this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{const t=this.hot.getSelected();this.clearConditions(),this.filter(),t&&this.hot.selectCells(t)},group:qP})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(qP)}addCondition(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ID;const s=this.hot.toPhysicalColumn(t);this.conditionCollection.addCondition(s,{command:{key:e},args:n},i)}removeConditions(t){const e=this.hot.toPhysicalColumn(t);this.conditionCollection.removeConditions(e)}clearConditions(t){if(void 0===t)this.conditionCollection.clean();else{const e=this.hot.toPhysicalColumn(t);this.conditionCollection.removeConditions(e)}}filter(){const{navigableHeaders:t}=this.hot.getSettings(),e=this._createDataFilter(),n=!this.conditionCollection.isEmpty();let i=[];const s=this.conditionCollection.exportAllConditions(),r=this.hot.runHooks("beforeFilter",s);if(!1!==r)if(n){const n=[];this.hot.batchExecution((()=>{this.filtersRowsMap.clear(),i=x(e.filter(),(t=>t.meta.visualRow));const t=dH(i);Ls(this.hot.countSourceRows()-1,(e=>{t(e)||n.push(e)})),T(n,(t=>{this.filtersRowsMap.setValueAtIndex(t,!0)}))}),!0),t||i.length||this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",s),this.hot.view.adjustElementsSize(!0),this.hot.render(),this.hot.selection.isSelected()&&this.hot.selectCell(t?-1:0,this.hot.getSelectedRangeLast().highlight.col)}getSelectedColumn(){var t;const e=null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight;return e?{visualIndex:e.col,physicalIndex:this.hot.toPhysicalColumn(e.col)}:null}getDataMapAtColumn(t){const e=this.hot.toVisualColumn(t),n=[];return T(this.hot.getSourceDataAtCol(e),((t,i)=>{var s;const{row:r,col:o,visualCol:a,visualRow:l,type:h,instance:c,dateFormat:d,locale:u}=this.hot.getCellMeta(i,e),f=null!==(s=this.hot.getDataAtCell(this.hot.toVisualRow(i),e))&&void 0!==s?s:t;n.push({meta:{row:r,col:o,visualCol:a,visualRow:l,type:h,instance:c,dateFormat:d,locale:u},value:uH(f)})})),n}updateValueComponentCondition(t){const e=this.hot.getDataAtCol(t),n=fH(e);this.conditionUpdateObserver.updateStatesAtColumn(t,n)}restoreComponents(t){var e;const n=null===(e=this.getSelectedColumn())||void 0===e?void 0:e.physicalIndex;t.forEach((t=>{t.isHidden()||t.restoreState(n)})),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(t,e,n,i){let s=t;return s===ND&&e.command.key!==JR&&n.command.key!==JR&&i.command.key!==JR?s=WD:i.command.key!==JR&&(e.command.key!==JR&&n.command.key!==JR||(s=ID)),s}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){const t=this.components.get("filter_by_condition"),{command:e}=t.getState(),n=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];e.showOperators?this.showComponents(...n):this.hideComponents(...n)}_createDataFilter(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.conditionCollection;return new MP(t,(t=>this.getDataMapAtColumn(t)))}getIndexesOfComponents(){const t=[];if(!this.dropdownMenuPlugin)return t;const e=this.dropdownMenuPlugin.menu;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return T(i,(n=>{T(e.menuItems,((e,i)=>{e.key===n.getMenuItemDescriptor().key&&t.push(i)}))})),t}changeComponentsVisibility(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.dropdownMenuPlugin)return;const e=this.dropdownMenuPlugin.menu,n=e.hotMenu,i=n.getPlugin("hiddenRows");for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];const a=this.getIndexesOfComponents(...r);t?i.showRows(a):i.hideRows(a),n.render()}hideComponents(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.changeComponentsVisibility(!1,...e)}showComponents(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.changeComponentsVisibility(!0,...e)}destroy(){this.enabled&&(this.components.forEach(((t,e)=>{null!==t&&(t.destroy(),this.components.set(e,null))})),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}}function QP(t){t&&T(t,(t=>{const[,e]=t,n=this.hot.propToCol(e);this.conditionCollection.hasConditions(n)&&this.updateValueComponentCondition(n)}))}function tI(){this.restoreComponents(Array.from(this.components.values()))}function eI(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function nI(t){t.items.push({name:wx}),this.components.forEach((e=>{t.items.push(e.getMenuItemDescriptor())}))}function iI(t){var e;if("accept"===t){const t=this.getSelectedColumn();var n;if(null===t)return void(null===(n=this.dropdownMenuPlugin)||void 0===n||n.close());const{physicalIndex:e}=t,i=this.components.get("filter_by_condition").getState(),s=this.components.get("filter_by_condition2").getState(),r=this.components.get("filter_by_value").getState(),o=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),i,s,r);this.conditionUpdateObserver.groupChanges();let a=this.conditionCollection.getColumnStackPosition(e);-1===a&&(a=void 0),this.conditionCollection.removeConditions(e),i.command.key!==JR&&(this.conditionCollection.addCondition(e,i,o,a),s.command.key!==JR&&this.conditionCollection.addCondition(e,s,o,a)),r.command.key!==JR&&this.conditionCollection.addCondition(e,r,o,a),this.conditionUpdateObserver.flush(),this.components.forEach((t=>t.saveState(e))),this.filtersRowsMap.clear(),this.filter()}null===(e=this.dropdownMenuPlugin)||void 0===e||e.close()}function sI(t,e){this.updateDependentComponentsVisibility(),t.constructor!==LD||e.inputsCount||this.setListeningDropdownMenu()}function rI(){this.setListeningDropdownMenu()}function oI(t,e){const n=this.hot.toPhysicalColumn(t);this.enabled&&this.conditionCollection.hasConditions(n)?ae(e,"htFiltersActive"):le(e,"htFiltersActive")}function aI(t){var e;if(null===(e=this.dropdownMenuPlugin)||void 0===e||!e.enabled)return;const{editedConditionStack:{conditions:n,column:i}}=t,s=n.filter((t=>t.name===BH)),r=n.filter((t=>t.name!==BH));if(s.length>=2||r.length>=3)ci(Y`The filter conditions have been applied properly, but couldnt be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{const e=this.conditionCollection.getOperation(i);this.components.get("filter_by_condition").updateState(r[0],i),this.components.get("filter_by_condition2").updateState(r[1],i),this.components.get("filter_operators").updateState(e,i),this.components.get("filter_by_value").updateState(t)}}const lI="internal-use-in-handsontable",hI={licenseKey:lI,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function cI(t){var e;return{maxColumns:t.maxColumns,maxRows:t.maxRows,language:null===(e=t[bO])||void 0===e||null===(e=e.language)||void 0===e?void 0:e.langCode}}function dI(t){return Object.keys(t).reduce(((e,n)=>("hyperformula"!==n&&(e[n]=t[n]),e)),{})}function uI(t){var e;const n=t[bO],i=dI(null!==n&&void 0!==n&&null!==(e=n.engine)&&void 0!==e&&e.hyperformula?n.engine:{}),s=cI(t);return{...hI,...i,...s}}function fI(t){var e;const n=t[bO],i=dI(null!==n&&void 0!==n&&null!==(e=n.engine)&&void 0!==e&&e.hyperformula?n.engine:{}),s=cI(t);return{...i,...s}}function mI(t,e){return Object.keys(e).some((n=>void 0!==e[n]&&e[n]!==t[n]))}function gI(){const t="engine_relationship",e=Ci(bO);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function pI(){const t="shared_engine_usage",e=Ci(bO);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function _I(t){const e=t.getSettings(),n=e[bO],i=null===n||void 0===n?void 0:n.engine;if(!0===n)return null;if(j(i))return null;var s;if("function"===typeof i.hyperformula||"function"===typeof i)return yI(null!==(s=i.hyperformula)&&void 0!==s?s:i,e,t);if("object"===typeof i&&j(i.hyperformula)){const e=gI(),n=pI().get(i);return e.has(i)||e.set(i,[]),e.get(i).push(t),n&&n.push(t.guid),i.getConfig().licenseKey||i.updateConfig({licenseKey:lI}),i.getConfig().leapYear1900===hI.leapYear1900&&!1!==wn(i.getConfig().nullDate,hI.nullDate)||ci(Y`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),i}return null}function yI(t,e,n){const i=e[bO],s=uI(e),r=gI(),o=pI();bI(t,i.functions),MI(t,i.language);const a=t.buildEmpty(s);return r.set(a,[n]),o.set(a,[n.guid]),SI(a,i.namedExpressions),a.on("sheetAdded",(()=>{a.rebuildAndRecalculate()})),a.on("sheetRemoved",(()=>{a.rebuildAndRecalculate()})),a}function wI(t){var e;const n=gI(),i=0===n.size?[]:Array.from(null!==(e=n.get(t))&&void 0!==e?e:[]);return new Map(i.map((t=>[t.getPlugin("formulas").sheetId,t])))}function vI(t,e){if(t){const n=gI(),i=n.get(t),s=pI(),r=s.get(t);i&&i.includes(e)&&(i.splice(i.indexOf(e),1),0===i.length&&n.delete(t)),r&&r.includes(e.guid)&&(r.splice(r.indexOf(e.guid),1),0===r.length&&(s.delete(t),t.destroy()))}}function bI(t,e){e&&e.forEach((e=>{const{name:n,plugin:i,translations:s}=e;try{t.registerFunction(n,i,s)}catch(r){ci(r.message)}}))}function MI(t,e){if(e){const{langCode:i}=e;try{t.registerLanguage(i,e)}catch(n){ci(n.message)}}}function SI(t,e){e&&(t.suspendEvaluation(),e.forEach((e=>{const{name:n,expression:i,scope:s,options:r}=e;try{t.addNamedExpression(n,i,s,r)}catch(o){ci(o.message)}})),t.resumeEvaluation())}function CI(t,e){return!j(e)&&t.doesSheetExist(e)||(e=t.addSheet(e)),e}const xI="DD/MM/YYYY";function TI(t){return"string"===typeof t&&"'"===t.charAt(0)&&"="===t.charAt(1)}function kI(t){return TI(t)?t.substr(1):t}function LI(t){return"string"===typeof t&&t.startsWith("=")}function EI(t,e){return"string"===typeof t&&"date"===e}function RI(t,e){return w(t,e,!0).isValid()}function AI(t,e){return w(t,e,!0).format(xI)}function DI(t,e){return w(t,xI,!0).format(e)}function HI(t,e){const n=-1,i=new Date(Date.UTC(0,0,t+n));return w(i).format(e)}function PI(t,e,n){const i=Array.from(Array(n).keys()).filter((e=>!1===t.includes(e)));var s;return 0===e?null!==(s=i[e])&&void 0!==s?s:0:i[e-1]+1}function II(t,e){const n=[];return t.forEach((t=>{const i={from:t,to:e};n.forEach((t=>{const e=t.from>t.to,n=t.to<=i.from,s=t.from>i.from;s&&n&&e&&(i.from+=1)})),i.from>=e&&(e+=1),n.push(i)})),n}function OI(t){return t.forEach(((e,n)=>{const i=t.slice(n+1);i.forEach((t=>{const n=t.from<t.to;t.from>e.from&&n&&(t.from-=1)}))})),t}function YI(t,e,n){const i=II(t,PI(t,e,n));return OI(i)}function NI(t,e,n){FI(t,e),e.set(t,n)}function FI(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jI(t,e){return t.get(VI(t,e))}function WI(t,e,n){return t.set(VI(t,e),n),n}function VI(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var BI=new WeakMap,zI=new WeakMap,UI=new WeakMap,$I=new WeakMap,GI=new WeakMap,KI=new WeakMap,qI=new WeakMap;class XI{constructor(t,e,n){NI(this,BI,void 0),NI(this,zI,void 0),NI(this,UI,void 0),NI(this,$I,[]),NI(this,GI,[]),NI(this,KI,void 0),NI(this,qI,[]),WI(BI,this,t),WI(zI,this,e),WI(UI,this,n)}setRemovedHfIndexes(t){return WI(qI,this,t.map((t=>{const e=jI(zI,this).getVisualFromPhysicalIndex(t);return this.getHfIndexFromVisualIndex(e)}))),jI(qI,this)}getRemovedHfIndexes(){return jI(qI,this)}getHfIndexFromVisualIndex(t){const e=jI(zI,this).getIndexesSequence(),n=jI(zI,this).getNotTrimmedIndexes();return e.indexOf(n[t])}syncMoves(t){const e=1,n=`move${nt(jI(BI,this))}s`;jI(UI,this).getEngine().batch((()=>{t.forEach((t=>{const i=t.from!==t.to,s=t.from+1!==t.to;i&&s&&jI(UI,this).getEngine()[n](jI(UI,this).getSheetId(),t.from,e,t.to)}))}))}storeMovesInformation(t,e,n){!1!==n&&(WI(GI,this,t.map((t=>this.getHfIndexFromVisualIndex(t)))),WI(KI,this,this.getHfIndexFromVisualIndex(e)))}calculateAndSyncMoves(t,e){if(jI(UI,this).isPerformingUndoRedo())return;if(!1===t||!1===e)return;const n=YI(jI(GI,this),jI(KI,this),jI(zI,this).getNumberOfIndexes());null===jI(UI,this).getSheetId()?jI(UI,this).getPostponeAction((()=>this.syncMoves(n))):this.syncMoves(n)}getIndexesChangeSyncMethod(){const t=`set${nt(jI(BI,this))}Order`;return e=>{if(jI(UI,this).isPerformingUndoRedo())return;const n=jI(zI,this).getIndexesSequence();if("update"===e&&n.length>0){const e=jI($I,this).map((t=>n.indexOf(t))),i=jI(UI,this).getEngine().getSheetDimensions(jI(UI,this).getSheetId());let s;s="row"===jI(BI,this)?i.height:i.width;const r=e.length;for(let t=r;t<s;t+=1)e.push(t);jI(UI,this).getEngine()[t](jI(UI,this).getSheetId(),e)}WI($I,this,n)}}init(){WI($I,this,jI(zI,this).getIndexesSequence())}}var JI=XI;function ZI(t,e,n){QI(t,e),e.set(t,n)}function QI(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tO(t,e){return t.get(nO(t,e))}function eO(t,e,n){return t.set(nO(t,e),n),n}function nO(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var iO=new WeakMap,sO=new WeakMap,rO=new WeakMap,oO=new WeakMap,aO=new WeakMap,lO=new WeakMap,hO=new WeakMap;class cO{constructor(t,e,n){ZI(this,iO,void 0),ZI(this,sO,void 0),ZI(this,rO,void 0),ZI(this,oO,!1),ZI(this,aO,!1),ZI(this,lO,null),ZI(this,hO,null),eO(iO,this,new JI("row",t,this)),eO(sO,this,new JI("column",e,this)),eO(rO,this,n)}getForAxis(t){return tO("row"===t?iO:sO,this)}setPerformUndo(t){eO(oO,this,t)}setPerformRedo(t){eO(aO,this,t)}isPerformingUndoRedo(){return tO(oO,this)||tO(aO,this)}getSheetId(){return tO(hO,this)}getEngine(){return tO(lO,this)}getPostponeAction(){return tO(rO,this)}setupSyncEndpoint(t,e){eO(lO,this,t),eO(hO,this,e),tO(iO,this).init(),tO(sO,this).init()}}var dO=cO;function uO(t,e){_O(t,e),e.add(t)}function fO(t,e,n){return e=mO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mO(t){var e=gO(t,"string");return"symbol"==typeof e?e:e+""}function gO(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function pO(t,e,n){_O(t,e),e.set(t,n)}function _O(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yO(t,e,n){return t.set(vO(t,e),n),n}function wO(t,e){return t.get(vO(t,e))}function vO(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const bO="formulas",MO=["maxRows","maxColumns","language"],SO=260;Mi.getSingleton().register("afterNamedExpressionAdded"),Mi.getSingleton().register("afterNamedExpressionRemoved"),Mi.getSingleton().register("afterSheetAdded"),Mi.getSingleton().register("afterSheetRemoved"),Mi.getSingleton().register("afterSheetRenamed"),Mi.getSingleton().register("afterFormulasValuesUpdate");const CO=t=>"UndoRedo.undo"===t||"UndoRedo.redo"===t||"auto"===t;var xO=new WeakMap,TO=new WeakMap,kO=new WeakMap,LO=new WeakSet;class EO extends Eb{constructor(){var t;super(...arguments),t=this,uO(this,LO),pO(this,xO,!1),pO(this,TO,!1),pO(this,kO,[["valuesUpdated",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return vO(LO,t,KO).call(t,...n)}],["namedExpressionAdded",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return vO(LO,t,qO).call(t,...n)}],["namedExpressionRemoved",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return vO(LO,t,XO).call(t,...n)}],["sheetAdded",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return vO(LO,t,JO).call(t,...n)}],["sheetRenamed",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return vO(LO,t,ZO).call(t,...n)}],["sheetRemoved",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return vO(LO,t,QO).call(t,...n)}]]),fO(this,"staticRegister",Ci("formulas")),fO(this,"engine",null),fO(this,"sheetName",null),fO(this,"indexSyncer",null),fO(this,"rowAxisSyncer",null),fO(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return bO}static get PLUGIN_PRIORITY(){return SO}static get SETTING_KEYS(){return[bO,...MO]}get sheetId(){return null===this.sheetName?null:this.engine.getSheetId(this.sheetName)}isEnabled(){return!!this.hot.getSettings()[bO]}enablePlugin(){var t,e=this;if(!this.enabled)if(this.engine=null!==(t=_I(this.hot))&&void 0!==t?t:this.engine,this.engine){if(null!==this.sheetName&&!this.engine.doesSheetExist(this.sheetName)){const t=this.addSheet(this.sheetName,this.hot.getSourceDataArray());!1!==t&&(this.sheetName=t)}this.addHook("beforeLoadData",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,DO).call(e,...n)})),this.addHook("afterLoadData",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,PO).call(e,...n)})),this.addHook("beforeUpdateData",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,DO).call(e,...n)})),this.addHook("afterUpdateData",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,PO).call(e,...n)})),this.addHook("modifyData",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,IO).call(e,...n)})),this.addHook("modifySourceData",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,OO).call(e,...n)})),this.addHook("beforeValidate",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,RO).call(e,...n)})),this.addHook("afterSetSourceDataAtCell",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,NO).call(e,...n)})),this.addHook("afterSetDataAtCell",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,YO).call(e,...n)})),this.addHook("afterSetDataAtRowProp",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,YO).call(e,...n)})),this.addHook("beforeCreateRow",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,FO).call(e,...n)})),this.addHook("beforeCreateCol",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,jO).call(e,...n)})),this.addHook("afterCreateRow",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,BO).call(e,...n)})),this.addHook("afterCreateCol",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,zO).call(e,...n)})),this.addHook("beforeRemoveRow",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,WO).call(e,...n)})),this.addHook("beforeRemoveCol",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,VO).call(e,...n)})),this.addHook("afterRemoveRow",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,UO).call(e,...n)})),this.addHook("afterRemoveCol",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,$O).call(e,...n)})),this.indexSyncer=new dO(this.hot.rowIndexMapper,this.hot.columnIndexMapper,(t=>{this.hot.addHookOnce("init",(()=>{t()}))})),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",((t,e,n,i)=>{this.rowAxisSyncer.storeMovesInformation(t,e,i)})),this.hot.addHook("beforeColumnMove",((t,e,n,i)=>{this.columnAxisSyncer.storeMovesInformation(t,e,i)})),this.hot.addHook("afterRowMove",((t,e,n,i,s)=>{this.rowAxisSyncer.calculateAndSyncMoves(i,s)})),this.hot.addHook("afterColumnMove",((t,e,n,i,s)=>{this.columnAxisSyncer.calculateAndSyncMoves(i,s)})),this.hot.addHook("beforeColumnFreeze",((t,e)=>{this.columnAxisSyncer.storeMovesInformation([t],this.hot.getSettings().fixedColumnsStart,e)})),this.hot.addHook("afterColumnFreeze",((t,e)=>{this.columnAxisSyncer.calculateAndSyncMoves(e,e)})),this.hot.addHook("beforeColumnUnfreeze",((t,e)=>{this.columnAxisSyncer.storeMovesInformation([t],this.hot.getSettings().fixedColumnsStart-1,e)})),this.hot.addHook("afterColumnUnfreeze",((t,e)=>{this.columnAxisSyncer.calculateAndSyncMoves(e,e)})),this.addHook("afterCellMetaReset",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,HO).call(e,...n)})),this.addHook("beforeUndo",(()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()})),this.addHook("beforeRedo",(()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()})),this.addHook("afterUndo",(()=>{this.indexSyncer.setPerformUndo(!1)})),this.addHook("afterUndo",(()=>{this.indexSyncer.setPerformRedo(!1)})),this.addHook("afterDetachChild",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,GO).call(e,...n)})),this.addHook("beforeAutofill",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return vO(LO,e,AO).call(e,...n)})),wO(kO,this).forEach((t=>{let[e,n]=t;return this.engine.on(e,n)})),super.enablePlugin()}else ci("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.")}disablePlugin(){wO(kO,this).forEach((t=>{let[e,n]=t;return this.engine.off(e,n)})),vI(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(t){const e=fI(this.hot.getSettings());mI(this.engine.getConfig(),e)&&this.engine.updateConfig(e);const n=this.hot.getSettings()[bO];if(F(n)&&F(n.sheetName)&&n.sheetName!==this.sheetName&&this.switchSheet(n.sheetName),!t.data&&null===this.sheetName){const t=this.hot.getSettings()[bO].sheetName;t&&this.engine.doesSheetExist(t)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(null!==t&&void 0!==t?t:void 0,this.hot.getSourceDataArray())}super.updatePlugin(t)}destroy(){wO(kO,this).forEach((t=>{var e;let[n,i]=t;return null===(e=this.engine)||void 0===e?void 0:e.off(n,i)})),yO(kO,this,null),vI(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(t,e){if(F(e)&&!qc(e))return ci("The provided data should be an array of arrays."),!1;if(void 0!==t&&null!==t&&this.engine.doesSheetExist(t))return ci("Sheet with the provided name already exists."),!1;try{const n=this.engine.addSheet(null!==t&&void 0!==t?t:void 0);return e&&this.engine.setSheetContent(this.engine.getSheetId(n),e),n}catch(n){return ci(n.message),!1}}switchSheet(t){if(!this.engine.doesSheetExist(t))return void di(`The sheet named \`${t}\` does not exist, switch aborted.`);this.sheetName=t;const e=this.engine.getSheetSerialized(this.sheetId);e.length>0&&this.hot.loadData(e,`${nt(bO)}.switchSheet`)}getCellType(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId;const i=this.hot.toPhysicalRow(t),s=this.hot.toPhysicalColumn(e);return null!==i&&null!==s?this.engine.getCellType({sheet:n,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e)}):"EMPTY"}isFormulaCellType(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:n,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e)})}renderDependentSheets(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=new Set;t.forEach((t=>{var e;const i=null===t||void 0===t||null===(e=t.address)||void 0===e?void 0:e.sheet;void 0!==i&&(n.has(i)||n.add(i))})),wI(this.engine).forEach(((t,i)=>{var s;(e||i!==this.sheetId)&&n.has(i)&&(t.render(),null===(s=t.view)||void 0===s||s.adjustElementsSize())}))}validateDependentCells(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t=>{var e;const{row:n,col:i,sheet:s}=null!==(e=null===t||void 0===t?void 0:t.address)&&void 0!==e?e:{};return F(s)?`${s}:${n}x${i}`:""},i=new Set(e.map((t=>n(t))));t.forEach((t=>{var e,s;const{row:r,col:o}=null!==(e=t.address)&&void 0!==e?e:{};if(!1===F(r)||!1===F(o)||r>=this.hot.countRows()||o>=this.hot.countCols())return;const a=null===t||void 0===t||null===(s=t.address)||void 0===s?void 0:s.sheet,l=n(t);if(void 0!==a&&!i.has(l)){const t=wI(this.engine).get(a);if(!t)return;t.validateCell(t.getDataAtCell(r,o),t.getCellMeta(r,o),(()=>{}))}}))}syncChangeWithEngine(t,e,n){const i={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(i))return void ci(`Not possible to set cell data at ${JSON.stringify(i)}`);const s=this.hot.getCellMeta(t,e);return EI(n,s.type)&&(RI(n,s.dateFormat)?n=AI(n,s.dateFormat):!1===LI(n)&&(n=`'${n}`)),this.engine.setCellContents(i,n)}}function RO(t,e,n){const i=this.hot.propToCol(n);if(this.isFormulaCellType(e,i)){const t={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId},n=this.hot.getCellMeta(e,i);let s=this.engine.getCellValue(t);return"date"===n.type&&Ts(s)&&(s=HI(s,n.dateFormat)),"object"===typeof s&&null!==s?s.value:s}return t}function AO(t,e,n){const{row:i,col:s}=e.getTopStartCorner(),{row:r,col:o}=e.getBottomEndCorner(),{row:a,col:l}=n.getTopStartCorner(),{row:h,col:c}=n.getBottomEndCorner(),d={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(r),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId}},u={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(h),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId}};if(!1===this.engine.isItPossibleToSetCellContents(u))return!1;const f=this.engine.getFillRangeData(d,u),{row:m,col:g}=d.start,{row:p,col:_}=d.end,y=p-m+1,w=_-g+1;for(let v=0;v<f.length;v+=1)for(let t=0;t<f[v].length;t+=1){const e=f[v][t],n=v%y,i=t%w,s=this.hot.getCellMeta(n,i);EI(e,s.type)&&(e.startsWith("'")?f[v][t]=e.slice(1):!1===this.isFormulaCellType(n,i,this.sheetId)&&(f[v][t]=DI(e,s.dateFormat)))}return f}function DO(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n.includes(nt(bO))||yO(TO,this,j(this.hot.getSettings().data))}function HO(){const t=this.hot.getSourceDataArray();let e=!1;t.forEach(((n,i)=>{n.forEach(((n,s)=>{const r=this.hot.getCellMeta(i,s),o=r.dateFormat;EI(n,r.type)&&(e=!0,RI(n,o)?t[i][s]=AI(n,o):!1===this.isFormulaCellType(i,s)&&(t[i][s]=`'${n}`))}))})),!0===e&&(yO(xO,this,!0),this.engine.setSheetContent(this.sheetId,t),yO(xO,this,!1))}function PO(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!n.includes(nt(bO)))if(this.sheetName=CI(this.engine,this.hot.getSettings()[bO].sheetName),wO(TO,this))this.switchSheet(this.sheetName);else{const t=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,t)){yO(xO,this,!0);const e=this.engine.setSheetContent(this.sheetId,t);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(e),yO(xO,this,!1)}}}function IO(t,e,n,i){if("get"!==i||wO(xO,this)||null===this.sheetName||!this.engine.doesSheetExist(this.sheetName))return;const s=this.hot.toVisualRow(t);if(null===s||null===e)return;const r=this.isFormulaCellType(s,e);if(!r){const t=this.getCellType(s,e);if("ARRAY"!==t)return void(TI(n.value)&&(n.value=kI(n.value)))}const o={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e),sheet:this.sheetId};let a=this.engine.getCellValue(o),l=this.hot.getCellsMeta().find((t=>t.visualRow===s&&t.visualCol===e));void 0===l&&(l={}),"date"===l.type&&Ts(a)&&(a=HI(a,l.dateFormat));const h="object"===typeof a&&null!==a?a.value:a;n.value=h}function OO(t,e,n,i){if("get"!==i||wO(xO,this)||null===this.sheetName||!this.engine.doesSheetExist(this.sheetName))return;const s=this.hot.toVisualRow(t),r=this.hot.propToCol(e);if(null===s||null===r)return;const o=this.isFormulaCellType(s,r);if(!o){const t=this.getCellType(s,r);if("ARRAY"!==t)return}const a=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(0===a.width&&0===a.height)return;const l={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId};n.value=this.engine.getCellSerialized(l)}function YO(t,e){if(CO(e))return;const n=[],i=[],s=this.engine.batch((()=>{t.forEach((t=>{let[e,s,,r]=t;const o=this.hot.propToCol(s),a=this.hot.toPhysicalRow(e),l=this.hot.toPhysicalColumn(o),h={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId};null!==a&&null!==l?this.syncChangeWithEngine(e,o,r):n.push([e,o,r]),i.push({address:h})}))}));n.length&&this.hot.addHookOnce("afterChange",(()=>{const t=this.engine.batch((()=>{n.forEach((t=>{let[e,n,i]=t;this.syncChangeWithEngine(e,n,i)}))}));this.renderDependentSheets(t,!0)})),this.renderDependentSheets(s),this.validateDependentCells(s,i)}function NO(t,e){if(CO(e))return;const n=[],i=[];t.forEach((t=>{let[e,s,,r]=t;const o=this.hot.propToCol(s);if(!Ts(o))return;const a={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId};this.engine.isItPossibleToSetCellContents(a)?(i.push({address:a}),n.push(...this.engine.setCellContents(a,r))):ci(`Not possible to set source cell data at ${JSON.stringify(a)}`)})),this.renderDependentSheets(n),this.validateDependentCells(n,i)}function FO(t,e){let n=this.rowAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countRows()&&(n=t),null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[n,e]))return!1}function jO(t,e){let n=this.columnAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countCols()&&(n=t),null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[n,e]))return!1}function WO(t,e,n){const i=this.rowAxisSyncer.setRemovedHfIndexes(n),s=i.every((t=>this.engine.isItPossibleToRemoveRows(this.sheetId,[t,1])));return!1!==s&&void 0}function VO(t,e,n){const i=this.columnAxisSyncer.setRemovedHfIndexes(n),s=i.every((t=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[t,1])));return!1!==s&&void 0}function BO(t,e,n){if(CO(n))return;const i=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(i)}function zO(t,e,n){if(CO(n))return;const i=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(i)}function UO(t,e,n,i){if(CO(i))return;const s=this.rowAxisSyncer.getRemovedHfIndexes().sort().reverse(),r=this.engine.batch((()=>{s.forEach((t=>{this.engine.removeRows(this.sheetId,[t,1])}))}));this.renderDependentSheets(r)}function $O(t,e,n,i){if(CO(i))return;const s=this.columnAxisSyncer.getRemovedHfIndexes().sort().reverse(),r=this.engine.batch((()=>{s.forEach((t=>{this.engine.removeColumns(this.sheetId,[t,1])}))}));this.renderDependentSheets(r)}function GO(t,e,n){var i;yO(xO,this,!0);const s=this.hot.getSourceDataArray(n,0,n+((null===(i=e.__children)||void 0===i?void 0:i.length)||0),this.hot.countSourceCols());yO(xO,this,!1),s.forEach(((t,e)=>{t.forEach(((t,i)=>{this.engine.setCellContents({col:i,row:n+e,sheet:this.sheetId},[[t]])}))}))}function KO(t){this.hot.runHooks("afterFormulasValuesUpdate",t)}function qO(t,e){this.hot.runHooks("afterNamedExpressionAdded",t,e)}function XO(t,e){this.hot.runHooks("afterNamedExpressionRemoved",t,e)}function JO(t){this.hot.runHooks("afterSheetAdded",t)}function ZO(t,e){this.sheetName=e,this.hot.runHooks("afterSheetRenamed",t,e)}function QO(t,e){this.hot.runHooks("afterSheetRemoved",t,e)}function tY(t){return{key:"hidden_columns_hide",name(){const t=this.getSelectedLast();let e=0;if(Array.isArray(t)){const[,n,,i]=t;n-i!==0&&(e=1)}return this.getTranslatedPhrase(tf,e)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),i=Math.max(Math.min(e.col,n.col),0),s=Math.max(e.col,n.col),r=[];for(let t=i;t<=s;t+=1)r.push(t);t.hideColumns(r);const o=r[r.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(o,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}function eY(t){const e=[];return{key:"hidden_columns_show",name(){const t=e.length>1?1:0;return this.getTranslatedPhrase(ef,t)},callback(){var n,i;if(0===e.length)return;let s=e[0],r=e[e.length-1];s=null!==(n=this.columnIndexMapper.getNearestNotHiddenIndex(s-1,-1))&&void 0!==n?n:0,r=null!==(i=this.columnIndexMapper.getNearestNotHiddenIndex(r+1,1))&&void 0!==i?i:this.countCols()-1,t.showColumns(e),this.render(),this.view.adjustElementsSize(!0);const o=r-s+1===this.countCols();o||this.selectColumns(s,r)},disabled:!1,hidden(){const n=x(t.getHiddenColumns(),(t=>this.toPhysicalColumn(t)));if(!this.selection.isSelectedByColumnHeader()&&!this.selection.isSelectedByCorner()||n.length<1)return!0;e.length=0;const i=this.getSelectedRangeLast(),s=i.getTopStartCorner().col,r=i.getBottomEndCorner().col,o=this.columnIndexMapper,a=o.getRenderableFromVisualIndex(s),l=o.getRenderableFromVisualIndex(r),h=o.getNotTrimmedIndexes(),c=[];if(s!==r){const t=r-s+1,e=l-a+1;if(t>e){const t=h.slice(s,r+1);c.push(...t.filter((t=>n.includes(t))))}}else if(0===a&&a<s)c.push(...h.slice(0,s));else if(null===a)c.push(...h.slice(0,this.countCols()));else{const t=this.countCols()-1,e=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(t,-1));l===e&&t>r&&c.push(...h.slice(r+1))}return T(c,(t=>{e.push(this.toVisualColumn(t))})),0===e.length}}}function nY(t,e){sY(t,e),e.add(t)}function iY(t,e,n){sY(t,e),e.set(t,n)}function sY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rY(t,e){return t.get(aY(t,e))}function oY(t,e,n){return t.set(aY(t,e),n),n}function aY(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Mi.getSingleton().register("beforeHideColumns"),Mi.getSingleton().register("afterHideColumns"),Mi.getSingleton().register("beforeUnhideColumns"),Mi.getSingleton().register("afterUnhideColumns");const lY="hiddenColumns",hY=310;var cY=new WeakMap,dY=new WeakMap,uY=new WeakSet;class fY extends Eb{constructor(){super(...arguments),nY(this,uY),iY(this,cY,{}),iY(this,dY,null)}static get PLUGIN_KEY(){return lY}static get PLUGIN_PRIORITY(){return hY}isEnabled(){return!!this.hot.getSettings()[lY]}enablePlugin(){var t=this;if(this.enabled)return;const e=this.hot.getSettings()[lY];vn(e)&&(oY(cY,this,e),j(e.copyPasteEnabled)&&(e.copyPasteEnabled=!0)),oY(dY,this,new _d),rY(dY,this).addLocalHook("init",(()=>aY(uY,this,wY).call(this))),this.hot.columnIndexMapper.registerMap(this.pluginName,rY(dY,this)),this.addHook("afterContextMenuDefaultOptions",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return aY(uY,t,yY).call(t,...n)})),this.addHook("afterGetCellMeta",((t,e,n)=>aY(uY,this,gY).call(this,t,e,n))),this.addHook("modifyColWidth",((t,e)=>aY(uY,this,mY).call(this,t,e))),this.addHook("afterGetColHeader",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return aY(uY,t,_Y).call(t,...n)})),this.addHook("modifyCopyableRange",(t=>aY(uY,this,pY).call(this,t))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),oY(cY,this,{}),super.disablePlugin(),this.resetCellsMeta()}showColumns(t){const e=this.getHiddenColumns(),n=this.isValidConfig(t);let i=e;const s=rY(dY,this).getValues().slice(),r=t.length>0;if(n&&r){const e=t.map((t=>this.hot.toPhysicalColumn(t)));T(e,(t=>{s[t]=!1})),i=S(s,((t,e,n)=>(e&&t.push(this.hot.toVisualColumn(n)),t)),[])}const o=this.hot.runHooks("beforeUnhideColumns",e,i,n&&r);!1!==o&&(n&&r&&rY(dY,this).setValues(s),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",e,i,n&&r,n&&i.length<e.length))}showColumn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.showColumns(e)}hideColumns(t){const e=this.getHiddenColumns(),n=this.isValidConfig(t);let i=e;n&&(i=Array.from(new Set(e.concat(t))));const s=this.hot.runHooks("beforeHideColumns",e,i,n);!1!==s&&(n&&this.hot.batchExecution((()=>{T(t,(t=>{rY(dY,this).setValueAtIndex(this.hot.toPhysicalColumn(t),!0)}))}),!0),this.hot.runHooks("afterHideColumns",e,i,n,n&&i.length>e.length))}hideColumn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.hideColumns(e)}getHiddenColumns(){return x(rY(dY,this).getHiddenIndexes(),(t=>this.hot.toVisualColumn(t)))}isHidden(t){return rY(dY,this).getValueAtIndex(this.hot.toPhysicalColumn(t))||!1}isValidConfig(t){const e=this.hot.countCols();return!!(Array.isArray(t)&&t.length>0)&&t.every((t=>Number.isInteger(t)&&t>=0&&t<e))}resetCellsMeta(){T(this.hot.getCellsMeta(),(t=>{t&&(t.skipColumnOnPaste=!1)}))}destroy(){oY(cY,this,null),oY(dY,this,null),super.destroy()}}function mY(t,e){return this.isHidden(e)?0:rY(cY,this).indicators&&(this.isHidden(e+1)||this.isHidden(e-1))&&"number"===typeof t&&this.hot.hasColHeaders()?t+15:void 0}function gY(t,e,n){if(!1===rY(cY,this).copyPasteEnabled&&this.isHidden(e)&&(n.skipColumnOnPaste=!0),this.isHidden(e-1))n.className=n.className||"",-1===n.className.indexOf("afterHiddenColumn")&&(n.className+=" afterHiddenColumn");else if(n.className){const t=n.className.split(" ");if(t.length>0){const e=t.indexOf("afterHiddenColumn");e>-1&&t.splice(e,1),n.className=t.join(" ")}}}function pY(t){if(rY(cY,this).copyPasteEnabled)return t;const e=[],n=(t,n,i,s)=>{e.push({startRow:t,endRow:n,startCol:i,endCol:s})};return T(t,(t=>{let e=!0,i=0;Ls(t.startCol,t.endCol,(s=>{this.isHidden(s)?(e||n(t.startRow,t.endRow,i,s-1),e=!0):(e&&(i=s),s===t.endCol&&n(t.startRow,t.endRow,i,s),e=!1)}))})),e}function _Y(t,e){if(!rY(cY,this).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenColumn"),t<this.hot.countCols()-1&&this.isHidden(t+1)&&n.push("beforeHiddenColumn"),ae(e,n)}function yY(t){t.items.push({name:wx},tY(this),eY(this))}function wY(){Array.isArray(rY(cY,this).columns)&&this.hideColumns(rY(cY,this).columns)}function vY(t){return{key:"hidden_rows_hide",name(){const t=this.getSelectedLast();let e=0;if(Array.isArray(t)){const[n,,i]=t;n-i!==0&&(e=1)}return this.getTranslatedPhrase(nf,e)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),i=Math.max(Math.min(e.row,n.row),0),s=Math.max(e.row,n.row),r=[];for(let t=i;t<=s;t+=1)r.push(t);t.hideRows(r);const o=r[r.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(o,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}function bY(t){const e=[];return{key:"hidden_rows_show",name(){const t=e.length>1?1:0;return this.getTranslatedPhrase(sf,t)},callback(){var n,i;if(0===e.length)return;let s=e[0],r=e[e.length-1];s=null!==(n=this.rowIndexMapper.getNearestNotHiddenIndex(s-1,-1))&&void 0!==n?n:0,r=null!==(i=this.rowIndexMapper.getNearestNotHiddenIndex(r+1,1))&&void 0!==i?i:this.countRows()-1,t.showRows(e),this.render(),this.view.adjustElementsSize(!0);const o=r-s+1===this.countRows();o||this.selectRows(s,r)},disabled:!1,hidden(){const n=x(t.getHiddenRows(),(t=>this.toPhysicalRow(t)));if(!this.selection.isSelectedByRowHeader()&&!this.selection.isSelectedByCorner()||n.length<1)return!0;e.length=0;const i=this.getSelectedRangeLast(),s=i.getTopStartCorner().row,r=i.getBottomEndCorner().row,o=this.rowIndexMapper,a=o.getRenderableFromVisualIndex(s),l=o.getRenderableFromVisualIndex(r),h=o.getNotTrimmedIndexes(),c=[];if(s!==r){const t=r-s+1,e=l-a+1;if(t>e){const t=h.slice(s,r+1);c.push(...t.filter((t=>n.includes(t))))}}else if(0===a&&a<s)c.push(...h.slice(0,s));else if(null===a)c.push(...h.slice(0,this.countRows()));else{const t=this.countRows()-1,e=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(t,-1));l===e&&t>r&&c.push(...h.slice(r+1))}return T(c,(t=>{e.push(this.toVisualRow(t))})),0===e.length}}}function MY(t,e){CY(t,e),e.add(t)}function SY(t,e,n){CY(t,e),e.set(t,n)}function CY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xY(t,e){return t.get(kY(t,e))}function TY(t,e,n){return t.set(kY(t,e),n),n}function kY(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Mi.getSingleton().register("beforeHideRows"),Mi.getSingleton().register("afterHideRows"),Mi.getSingleton().register("beforeUnhideRows"),Mi.getSingleton().register("afterUnhideRows");const LY="hiddenRows",EY=320;var RY=new WeakMap,AY=new WeakMap,DY=new WeakSet;class HY extends Eb{constructor(){super(...arguments),MY(this,DY),SY(this,RY,{}),SY(this,AY,null)}static get PLUGIN_KEY(){return LY}static get PLUGIN_PRIORITY(){return EY}isEnabled(){return!!this.hot.getSettings()[LY]}enablePlugin(){var t=this;if(this.enabled)return;const e=this.hot.getSettings()[LY];vn(e)&&(TY(RY,this,e),j(e.copyPasteEnabled)&&(e.copyPasteEnabled=!0)),TY(AY,this,new _d),xY(AY,this).addLocalHook("init",(()=>kY(DY,this,FY).call(this))),this.hot.rowIndexMapper.registerMap(this.pluginName,xY(AY,this)),this.addHook("afterContextMenuDefaultOptions",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return kY(DY,t,NY).call(t,...n)})),this.addHook("afterGetCellMeta",((t,e,n)=>kY(DY,this,IY).call(this,t,e,n))),this.addHook("modifyRowHeight",((t,e)=>kY(DY,this,PY).call(this,t,e))),this.addHook("afterGetRowHeader",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return kY(DY,t,YY).call(t,...n)})),this.addHook("modifyCopyableRange",(t=>kY(DY,this,OY).call(this,t))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),TY(RY,this,{}),super.disablePlugin(),this.resetCellsMeta()}showRows(t){const e=this.getHiddenRows(),n=this.isValidConfig(t);let i=e;const s=xY(AY,this).getValues().slice(),r=t.length>0;if(n&&r){const e=t.map((t=>this.hot.toPhysicalRow(t)));T(e,(t=>{s[t]=!1})),i=S(s,((t,e,n)=>(e&&t.push(this.hot.toVisualRow(n)),t)),[])}const o=this.hot.runHooks("beforeUnhideRows",e,i,n&&r);!1!==o&&(n&&r&&xY(AY,this).setValues(s),this.hot.runHooks("afterUnhideRows",e,i,n&&r,n&&i.length<e.length))}showRow(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.showRows(e)}hideRows(t){const e=this.getHiddenRows(),n=this.isValidConfig(t);let i=e;n&&(i=Array.from(new Set(e.concat(t))));const s=this.hot.runHooks("beforeHideRows",e,i,n);!1!==s&&(n&&this.hot.batchExecution((()=>{T(t,(t=>{xY(AY,this).setValueAtIndex(this.hot.toPhysicalRow(t),!0)}))}),!0),this.hot.runHooks("afterHideRows",e,i,n,n&&i.length>e.length))}hideRow(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.hideRows(e)}getHiddenRows(){return x(xY(AY,this).getHiddenIndexes(),(t=>this.hot.toVisualRow(t)))}isHidden(t){return xY(AY,this).getValueAtIndex(this.hot.toPhysicalRow(t))||!1}isValidConfig(t){const e=this.hot.countRows();return!!(Array.isArray(t)&&t.length>0)&&t.every((t=>Number.isInteger(t)&&t>=0&&t<e))}resetCellsMeta(){T(this.hot.getCellsMeta(),(t=>{t&&(t.skipRowOnPaste=!1)}))}destroy(){TY(RY,this,null),TY(AY,this,null),super.destroy()}}function PY(t,e){return this.isHidden(e)?0:t}function IY(t,e,n){if(!1===xY(RY,this).copyPasteEnabled&&this.isHidden(t)&&(n.skipRowOnPaste=!0),this.isHidden(t-1))n.className=n.className||"",-1===n.className.indexOf("afterHiddenRow")&&(n.className+=" afterHiddenRow");else if(n.className){const t=n.className.split(" ");if(t.length>0){const e=t.indexOf("afterHiddenRow");e>-1&&t.splice(e,1),n.className=t.join(" ")}}}function OY(t){if(xY(RY,this).copyPasteEnabled)return t;const e=[],n=(t,n,i,s)=>{e.push({startRow:t,endRow:n,startCol:i,endCol:s})};return T(t,(t=>{let e=!0,i=0;Ls(t.startRow,t.endRow,(s=>{this.isHidden(s)?(e||n(i,s-1,t.startCol,t.endCol),e=!0):(e&&(i=s),s===t.endRow&&n(i,s,t.startCol,t.endCol),e=!1)}))})),e}function YY(t,e){if(!xY(RY,this).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenRow"),t<this.hot.countRows()-1&&this.isHidden(t+1)&&n.push("beforeHiddenRow"),ae(e,n)}function NY(t){t.items.push({name:wx},vY(this),bY(this))}function FY(){Array.isArray(xY(RY,this).rows)&&this.hideRows(xY(RY,this).rows)}function jY(t){return{key:"freeze_column",name(){return this.getTranslatedPhrase(Ru)},callback(e,n){const[{start:{col:i}}]=n;t.freezeColumn(i),this.render(),this.view.adjustElementsSize(!0)},hidden(){const t=this.getSelectedRange();let e=!1;return(void 0===t||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(e=!0),e}}}function WY(t){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(Au)},callback(e,n){const[{start:{col:i}}]=n;t.unfreezeColumn(i),this.render(),this.view.adjustElementsSize(!0)},hidden(){const t=this.getSelectedRange();let e=!1;return(void 0===t||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col>=this.getSettings().fixedColumnsStart)&&(e=!0),e}}}function VY(t,e){zY(t,e),e.add(t)}function BY(t,e,n){zY(t,e),e.set(t,n)}function zY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function UY(t,e){return t.get(GY(t,e))}function $Y(t,e,n){return t.set(GY(t,e),n),n}function GY(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Mi.getSingleton().register("beforeColumnFreeze"),Mi.getSingleton().register("afterColumnFreeze"),Mi.getSingleton().register("beforeColumnUnfreeze"),Mi.getSingleton().register("afterColumnUnfreeze");const KY="manualColumnFreeze",qY=110;var XY=new WeakMap,JY=new WeakSet;class ZY extends Eb{constructor(){super(...arguments),VY(this,JY),BY(this,XY,!1)}static get PLUGIN_KEY(){return KY}static get PLUGIN_PRIORITY(){return qY}isEnabled(){return!!this.hot.getSettings()[KY]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",(t=>GY(JY,this,QY).call(this,t))),this.addHook("beforeColumnMove",((t,e)=>GY(JY,this,tN).call(this,t,e))),super.enablePlugin())}disablePlugin(){$Y(XY,this,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(t){const e=this.hot.getSettings(),n=e.fixedColumnsStart<this.hot.countCols()&&t>e.fixedColumnsStart-1;UY(XY,this)||$Y(XY,this,!0);const i=this.hot.runHooks("beforeColumnFreeze",t,n);!1!==i&&(n&&(this.hot.columnIndexMapper.moveIndexes(t,e.fixedColumnsStart),e._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",t,n))}unfreezeColumn(t){const e=this.hot.getSettings(),n=e.fixedColumnsStart>0&&t<=e.fixedColumnsStart-1;UY(XY,this)||$Y(XY,this,!0);const i=this.hot.runHooks("beforeColumnUnfreeze",t,n);!1!==i&&(n&&(e._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(t,e.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",t,n))}}function QY(t){t.items.push({name:"---------"},jY(this),WY(this))}function tN(t,e){if(UY(XY,this)){const n=this.hot.getSettings().fixedColumnsStart;if(e<n)return!1;if(t.some((t=>t<n)))return!1}}function eN(t,e,n){return e=nN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nN(t){var e=iN(t,"string");return"symbol"==typeof e?e:e+""}function iN(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}const sN=0,rN=1,oN=2,aN="px";class lN{constructor(t){eN(this,"hot",void 0),eN(this,"_element",null),eN(this,"state",sN),eN(this,"inlineProperty",void 0),this.hot=t,this.inlineProperty=t.isRtl()?"right":"left"}appendTo(t){t.appendChild(this._element),this.state=oN}build(){this.state===sN&&(this._element=this.hot.rootDocument.createElement("div"),this.state=rN)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=sN}isAppended(){return this.state===oN}isBuilt(){return this.state>=rN}setPosition(t,e){Ts(t)&&(this._element.style.top=t+aN),Ts(e)&&(this._element.style[this.inlineProperty]=e+aN)}getPosition(){const t=this._element.style;return{top:t.top?parseInt(t.top,10):0,start:t[this.inlineProperty]?parseInt(t[this.inlineProperty],10):0}}setSize(t,e){Ts(t)&&(this._element.style.width=t+aN),Ts(e)&&(this._element.style.height=e+aN)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(t,e){Ts(t)&&(this._element.style.marginTop=t+aN),Ts(e)&&(this._element.style[`margin${nt(this.inlineProperty)}`]=e+aN)}getOffset(){const t=this._element.style,e=`margin${nt(this.inlineProperty)}`;return{top:t.marginTop?parseInt(t.marginTop,10):0,start:t[e]?parseInt(t[e],10):0}}}var hN=lN;const cN="ht__manualColumnMove--backlight";class dN extends hN{build(){super.build(),ae(this._element,cN)}}var uN=dN;const fN="ht__manualColumnMove--guideline";class mN extends hN{build(){super.build(),ae(this._element,fN)}}var gN=mN;function pN(t,e){yN(t,e),e.add(t)}function _N(t,e,n){yN(t,e),e.set(t,n)}function yN(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wN(t,e,n){return t.set(bN(t,e),n),n}function vN(t,e){return t.get(bN(t,e))}function bN(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Mi.getSingleton().register("beforeColumnMove"),Mi.getSingleton().register("afterColumnMove");const MN="manualColumnMove",SN=120,CN="ht__manualColumnMove",xN="show-ui",TN="on-moving--columns",kN="after-selection--columns";var LN=new WeakMap,EN=new WeakMap,RN=new WeakMap,AN=new WeakMap,DN=new WeakMap,HN=new WeakMap,PN=new WeakMap,IN=new WeakMap,ON=new WeakMap,YN=new WeakMap,NN=new WeakMap,FN=new WeakSet;class jN extends Eb{constructor(){super(...arguments),pN(this,FN),_N(this,LN,new uN(this.hot)),_N(this,EN,new gN(this.hot)),_N(this,RN,[]),_N(this,AN,0),_N(this,DN,!1),_N(this,HN,{}),_N(this,PN,void 0),_N(this,IN,void 0),_N(this,ON,void 0),_N(this,YN,void 0),_N(this,NN,void 0)}static get PLUGIN_KEY(){return MN}static get PLUGIN_PRIORITY(){return SN}isEnabled(){return!!this.hot.getSettings()[MN]}enablePlugin(){var t=this;this.enabled||(this.addHook("beforeOnCellMouseDown",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return bN(FN,t,WN).call(t,...n)})),this.addHook("beforeOnCellMouseOver",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return bN(FN,t,BN).call(t,...n)})),this.addHook("afterScrollVertically",(()=>bN(FN,this,UN).call(this))),this.addHook("afterLoadData",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return bN(FN,t,$N).call(t,...n)})),this.buildPluginUI(),this.registerEvents(),ae(this.hot.rootElement,CN),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){le(this.hot.rootElement,CN),this.unregisterEvents(),vN(LN,this).destroy(),vN(EN,this).destroy(),super.disablePlugin()}moveColumn(t,e){return this.moveColumns([t],e)}moveColumns(t,e){const n=vN(PN,this),i=this.isMovePossible(t,e),s=this.hot.runHooks("beforeColumnMove",t,e,n,i);if(wN(PN,this,void 0),!1===s)return;i&&this.hot.columnIndexMapper.moveIndexes(t,e);const r=i&&this.isColumnOrderChanged(t,e);return this.hot.runHooks("afterColumnMove",t,e,n,i,r),r}dragColumn(t,e){return this.dragColumns([t],e)}dragColumns(t,e){const n=this.countFinalIndex(t,e);return wN(PN,this,e),this.moveColumns(t,n)}isMovePossible(t,e){const n=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),i=t.length+e>n,s=e<0,r=t.some((t=>t<0)),o=t.some((t=>t>=n));return!(i||s||r||o)}isColumnOrderChanged(t,e){return t.some(((t,n)=>t-n!==e))}countFinalIndex(t,e){const n=S(t,((t,n)=>(n<e&&(t+=1),t)),0);return e-n}getColumnsWidth(t,e){const n=this.hot.columnIndexMapper;let i=0;for(let s=t;s<=e;s+=1){const t=n.getRenderableFromVisualIndex(s);s<0?i+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:null!==t&&(i+=this.hot.view._wt.wtTable.getStretchedColumnWidth(t)||0)}return i}moveBySettingsOrLoad(){const t=this.hot.getSettings()[MN];if(Array.isArray(t))this.moveColumns(t,0);else if(void 0!==t){const t=this.persistentStateLoad();t.length&&this.moveColumns(t,0)}}isFixedColumnsStart(t){return t<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){const t={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",t),t.value?t.value:[]}prepareColumnsToMoving(t,e){const n=[];return Ls(t,e,(t=>{n.push(t)})),n}refreshPositions(){const t=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(vN(IN,this))&&t>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(t-1,-1)});const e=this.hot.view._wt.wtTable,n=this.hot.view._wt.wtOverlays.scrollableElement,i="number"===typeof n.scrollX?n.scrollX:n.scrollLeft;let s=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,vN(IN,this)-1);const r=e.hider.offsetWidth,o=e.TBODY.offsetLeft,a=vN(LN,this).getOffset().start,l=vN(LN,this).getSize().width;let h=0,c=0;if(this.hot.isRtl()){const t=this.hot.rootWindow,e=Ee(this.hot.rootElement),s=t.innerWidth-vN(ON,this)-e;c=t.innerWidth-vN(HN,this).eventPageX-s-(void 0===n.scrollX?i:0)}else c=vN(HN,this).eventPageX-(vN(ON,this)-(void 0===n.scrollX?i:0));if(vN(YN,this)&&(h=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(vN(IN,this))&&(s+=i),s+=h,vN(IN,this)<0)vN(NN,this)>0?vN(HN,this).col=0:vN(HN,this).col=t>0?t-1:t;else if(vN(HN,this).TD.offsetWidth/2+s<=c){const t=vN(IN,this)>=vN(AN,this)?vN(AN,this)-1:vN(IN,this);vN(HN,this).col=t+1,s+=vN(HN,this).TD.offsetWidth}else vN(HN,this).col=vN(IN,this);let d=c,u=s;c+l+a>=r?d=r-l-a:c+a<o+h&&(d=o+h+Math.abs(a)),s>=r-1?u=r-1:0===u?u=1:void 0!==n.scrollX&&vN(IN,this)<vN(NN,this)&&(u-=vN(ON,this)<=n.scrollX?vN(ON,this):0),vN(LN,this).setPosition(null,d),vN(EN,this).setPosition(null,u)}registerEvents(){const{documentElement:t}=this.hot.rootDocument;this.eventManager.addEventListener(t,"mousemove",(t=>bN(FN,this,VN).call(this,t))),this.eventManager.addEventListener(t,"mouseup",(()=>bN(FN,this,zN).call(this)))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){vN(LN,this).build(),vN(EN,this).build()}destroy(){vN(LN,this).destroy(),vN(EN,this).destroy(),super.destroy()}}function WN(t,e,n,i){const s=this.hot.view._wt.wtTable,r=this.hot.selection.isSelectedByColumnHeader(),o=this.hot.getSelectedRangeLast(),a=oe(t.target,"sortAction");if(!o||!r||vN(DN,this)||0!==t.button||a)return wN(DN,this,!1),vN(RN,this).length=0,void le(this.hot.rootElement,[TN,xN]);const l=vN(EN,this).isBuilt()&&!vN(EN,this).isAppended(),h=vN(LN,this).isBuilt()&&!vN(LN,this).isAppended();l&&h&&(vN(EN,this).appendTo(s.hider),vN(LN,this).appendTo(s.hider));const{from:c,to:d}=o,u=Math.min(c.col,d.col),f=Math.max(c.col,d.col);if(e.row<0&&e.col>=u&&e.col<=f){i.column=!0,wN(DN,this,!0);const r=n.firstChild?hi(t,n.firstChild).x:t.offsetX;vN(HN,this).eventPageX=t.pageX,wN(IN,this,e.col),vN(HN,this).TD=n,vN(HN,this).col=e.col,wN(RN,this,this.prepareColumnsToMoving(u,f)),wN(YN,this,!!this.hot.getSettings().rowHeaders),wN(AN,this,this.hot.countCols()),wN(NN,this,this.hot.getSettings().fixedColumnsStart),wN(ON,this,_e(this.hot.rootElement).left);const o=vN(YN,this)?-1:0,a=s.holder.scrollTop+s.getColumnHeaderHeight(0)+1,l=e.col<vN(NN,this),h=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),c=Math.abs(r-(this.hot.isRtl()?n.offsetWidth:0)),d=this.getColumnsWidth(u,e.col-1)+c,m=this.getColumnsWidth(o,u-1)+(l?h:0)+d;vN(LN,this).setPosition(a,m),vN(LN,this).setSize(this.getColumnsWidth(u,f),s.hider.offsetHeight-a),vN(LN,this).setOffset(null,-d),ae(this.hot.rootElement,TN)}else le(this.hot.rootElement,kN),wN(DN,this,!1),vN(RN,this).length=0}function VN(t){vN(DN,this)&&(vN(HN,this).eventPageX=t.pageX,this.refreshPositions())}function BN(t,e,n,i){const s=this.hot.getSelectedRangeLast();s&&vN(DN,this)&&(vN(RN,this).indexOf(e.col)>-1?le(this.hot.rootElement,xN):ae(this.hot.rootElement,xN),i.row=!0,i.column=!0,i.cell=!0,wN(IN,this,e.col),vN(HN,this).TD=n)}function zN(){const t=vN(HN,this).col,e=vN(RN,this).length;if(wN(IN,this,void 0),wN(DN,this,!1),le(this.hot.rootElement,[TN,xN,kN]),this.hot.selection.isSelectedByColumnHeader()&&ae(this.hot.rootElement,kN),e<1||void 0===t)return;const n=vN(RN,this)[0],i=this.hot.toPhysicalColumn(n),s=this.dragColumns(vN(RN,this),t);if(vN(RN,this).length=0,!0===s){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);const t=this.hot.toVisualColumn(i),n=t+e-1;this.hot.selectColumns(t,n)}}function UN(){const t=this.hot.view._wt.wtTable,e=t.getColumnHeaderHeight(0)+1,n=t.holder.scrollTop,i=e+n;vN(LN,this).setPosition(i),vN(LN,this).setSize(null,t.hider.offsetHeight-i)}function $N(){this.moveBySettingsOrLoad()}function GN(t,e){qN(t,e),e.add(t)}function KN(t,e,n){qN(t,e),e.set(t,n)}function qN(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XN(t,e,n){return t.set(ZN(t,e),n),n}function JN(t,e){return t.get(ZN(t,e))}function ZN(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const QN="manualColumnResize",tF=130,eF="manualColumnWidths";var nF=new WeakMap,iF=new WeakMap,sF=new WeakMap,rF=new WeakMap,oF=new WeakMap,aF=new WeakMap,lF=new WeakMap,hF=new WeakMap,cF=new WeakMap,dF=new WeakMap,uF=new WeakMap,fF=new WeakMap,mF=new WeakMap,gF=new WeakMap,pF=new WeakMap,_F=new WeakMap,yF=new WeakSet;class wF extends Eb{static get PLUGIN_KEY(){return QN}static get PLUGIN_PRIORITY(){return tF}constructor(t){super(t),GN(this,yF),KN(this,nF,null),KN(this,iF,null),KN(this,sF,[]),KN(this,rF,null),KN(this,oF,null),KN(this,aF,null),KN(this,lF,null),KN(this,hF,null),KN(this,cF,this.hot.rootDocument.createElement("DIV")),KN(this,dF,this.hot.rootDocument.createElement("DIV")),KN(this,uF,null),KN(this,fF,!1),KN(this,mF,0),KN(this,gF,null),KN(this,pF,void 0),KN(this,_F,void 0),ae(JN(cF,this),"manualColumnResizer"),ae(JN(dF,this),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[QN]}enablePlugin(){this.enabled||(XN(pF,this,new pd),JN(pF,this).addLocalHook("init",(()=>ZN(yF,this,vF).call(this))),this.hot.columnIndexMapper.registerMap(this.pluginName,JN(pF,this)),this.addHook("modifyColWidth",((t,e)=>ZN(yF,this,TF).call(this,t,e))),this.addHook("beforeStretchingColumnWidth",((t,e)=>ZN(yF,this,kF).call(this,t,e))),this.addHook("beforeColumnResize",((t,e,n)=>ZN(yF,this,LF).call(this,t,e,n))),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){XN(_F,this,JN(pF,this).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",eF,JN(pF,this).getValues())}loadManualColumnWidths(){const t={};return this.hot.runHooks("persistentStateLoad",eF,t),t.value}setManualSize(t,e){const n=Math.max(e,20),i=this.hot.toPhysicalColumn(t);return JN(pF,this).setValueAtIndex(i,n),n}clearManualSize(t){const e=this.hot.toPhysicalColumn(t);JN(pF,this).setValueAtIndex(e,null)}setupHandlePosition(t){if(!t.parentNode)return;XN(nF,this,t);const{_wt:e}=this.hot.view,n=e.wtTable.getCoords(JN(nF,this)),i=n.col;if(i<0)return;const s=Re(JN(nF,this)),r=JN(nF,this).getBoundingClientRect(),o=i<e.getSetting("fixedColumnsStart");let a;o&&(a=e.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(JN(nF,this),n.row,n.col)),a||(a=e.wtOverlays.topOverlay.getRelativeCellPosition(JN(nF,this),n.row,n.col)),XN(iF,this,this.hot.columnIndexMapper.getVisualFromRenderableIndex(i)),XN(sF,this,[]);const l=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&l){const t=this.hot.getSelectedRange();T(t,(t=>{const e=t.getTopStartCorner().col,n=t.getBottomEndCorner().col;Ls(e,n,(t=>{JN(sF,this).includes(t)||JN(sF,this).push(t)}))}))}JN(sF,this).includes(JN(iF,this))||XN(sF,this,[JN(iF,this)]),XN(hF,this,a.start-6),XN(lF,this,parseInt(r.width,10)),JN(cF,this).style.top=`${a.top}px`,JN(cF,this).style[this.inlineDir]=`${JN(hF,this)+JN(lF,this)}px`,JN(cF,this).style.height=`${s}px`,this.hot.rootElement.appendChild(JN(cF,this))}refreshHandlePosition(){JN(cF,this).style[this.inlineDir]=`${JN(hF,this)+JN(rF,this)}px`}setupGuidePosition(){const t=parseInt(Re(JN(cF,this)),10),e=parseInt(JN(cF,this).style.top,10)+t,n=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);ae(JN(cF,this),"active"),ae(JN(dF,this),"active"),JN(dF,this).style.top=`${e}px`,this.refreshGuidePosition(),JN(dF,this).style.height=n-t+"px",this.hot.rootElement.appendChild(JN(dF,this))}refreshGuidePosition(){JN(dF,this).style[this.inlineDir]=JN(cF,this).style[this.inlineDir]}hideHandleAndGuide(){le(JN(cF,this),"active"),le(JN(dF,this),"active")}checkIfColumnHeader(t){const e=Qt(t,["THEAD"],this.hot.rootElement),{topOverlay:n,topInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;return[n.clone.wtTable.THEAD,i.clone.wtTable.THEAD].includes(e)}getClosestTHParent(t){return"TABLE"!==t.tagName?"TH"===t.tagName?t:this.getClosestTHParent(t.parentNode):null}afterMouseDownTimeout(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},e=(e,n)=>{const i=this.hot.runHooks("beforeColumnResize",JN(oF,this),e,!0);void 0!==i&&XN(oF,this,i),"all"===this.hot.getSettings().stretchH?this.clearManualSize(e):this.setManualSize(e,JN(oF,this)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",JN(oF,this),e,!0),n&&t()};if(JN(mF,this)>=2){const n=JN(sF,this).length;n>1?(T(JN(sF,this),(t=>{e(t)})),t()):T(JN(sF,this),(t=>{e(t,!0)}))}XN(mF,this,0),XN(gF,this,null)}bindEvents(){const{rootWindow:t,rootElement:e}=this.hot;this.eventManager.addEventListener(e,"mouseover",(t=>ZN(yF,this,bF).call(this,t))),this.eventManager.addEventListener(e,"mousedown",(t=>ZN(yF,this,MF).call(this,t))),this.eventManager.addEventListener(t,"mousemove",(t=>ZN(yF,this,SF).call(this,t))),this.eventManager.addEventListener(t,"mouseup",(()=>ZN(yF,this,CF).call(this))),this.eventManager.addEventListener(JN(cF,this),"contextmenu",(()=>ZN(yF,this,xF).call(this)))}destroy(){super.destroy()}}function vF(){const t=this.hot.getSettings()[QN],e=this.loadManualColumnWidths();"undefined"!==typeof e?this.hot.batchExecution((()=>{e.forEach(((t,e)=>{JN(pF,this).setValueAtIndex(e,t)}))}),!0):Array.isArray(t)?(this.hot.batchExecution((()=>{t.forEach(((t,e)=>{JN(pF,this).setValueAtIndex(e,t)}))}),!0),XN(_F,this,t)):!0===t&&Array.isArray(JN(_F,this))&&this.hot.batchExecution((()=>{JN(_F,this).forEach(((t,e)=>{JN(pF,this).setValueAtIndex(e,t)}))}),!0)}function bF(t){if(!Je(t.target)&&!0!==JN(fF,this)&&this.checkIfColumnHeader(t.target)){const e=this.getClosestTHParent(t.target);if(!e)return;const n=e.getAttribute("colspan");!e||null!==n&&"1"!==n||JN(uF,this)||this.setupHandlePosition(e)}}function MF(t){t.target.parentNode===this.hot.rootElement&&oe(t.target,"manualColumnResizer")&&(this.setupHandlePosition(JN(nF,this)),this.setupGuidePosition(),XN(uF,this,!0),null===JN(gF,this)&&(XN(gF,this,setTimeout((()=>this.afterMouseDownTimeout()),500)),this.hot._registerTimeout(JN(gF,this))),XN(mF,this,JN(mF,this)+1),this.startX=t.pageX,XN(oF,this,JN(lF,this)))}function SF(t){if(JN(uF,this)){const e=(t.pageX-this.startX)*this.hot.getDirectionFactor();XN(rF,this,JN(lF,this)+e),T(JN(sF,this),(t=>{XN(oF,this,this.setManualSize(t,JN(rF,this)))})),this.refreshHandlePosition(),this.refreshGuidePosition()}}function CF(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},e=(e,n)=>{this.hot.runHooks("beforeColumnResize",JN(oF,this),e,!1),n&&t(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",JN(oF,this),e,!1)};if(JN(uF,this)){if(this.hideHandleAndGuide(),XN(uF,this,!1),JN(oF,this)!==JN(lF,this)){const n=JN(sF,this).length;n>1?(T(JN(sF,this),(t=>{e(t)})),t()):T(JN(sF,this),(t=>{e(t,!0)}))}this.setupHandlePosition(JN(nF,this))}}function xF(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(JN(cF,this)),this.hot.rootElement.removeChild(JN(dF,this)),XN(uF,this,!1),XN(fF,this,!0),this.hot._registerImmediate((()=>{XN(fF,this,!1)}))}function TF(t,e){let n=t;if(this.enabled){const t=this.hot.toPhysicalColumn(e),i=JN(pF,this).getValueAtIndex(t);this.hot.getSettings()[QN]&&i&&(n=i)}return n}function kF(t,e){let n=JN(pF,this).getValueAtIndex(e);return null===n&&(n=t),n}function LF(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}function EF(t,e,n){return e=RF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RF(t){var e=AF(t,"string");return"symbol"==typeof e?e:e+""}function AF(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}const DF=0,HF=1,PF=2,IF="px";class OF{constructor(t){EF(this,"hot",void 0),EF(this,"_element",null),EF(this,"state",DF),this.hot=t}appendTo(t){t.appendChild(this._element),this.state=PF}build(){this.state===DF&&(this._element=this.hot.rootDocument.createElement("div"),this.state=HF)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=DF}isAppended(){return this.state===PF}isBuilt(){return this.state>=HF}setPosition(t,e){void 0!==t&&(this._element.style.top=t+IF),void 0!==e&&(this._element.style.left=e+IF)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(t,e){t&&(this._element.style.width=t+IF),e&&(this._element.style.height=e+IF)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(t,e){t&&(this._element.style.marginTop=t+IF),e&&(this._element.style.marginLeft=e+IF)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}var YF=OF;const NF="ht__manualRowMove--backlight";class FF extends YF{build(){super.build(),ae(this._element,NF)}}var jF=FF;const WF="ht__manualRowMove--guideline";class VF extends YF{build(){super.build(),ae(this._element,WF)}}var BF=VF;function zF(t,e){$F(t,e),e.add(t)}function UF(t,e,n){$F(t,e),e.set(t,n)}function $F(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function GF(t,e,n){return t.set(qF(t,e),n),n}function KF(t,e){return t.get(qF(t,e))}function qF(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Mi.getSingleton().register("beforeRowMove"),Mi.getSingleton().register("afterRowMove");const XF="manualRowMove",JF=140,ZF="ht__manualRowMove",QF="show-ui",tj="on-moving--rows",ej="after-selection--rows";var nj=new WeakMap,ij=new WeakMap,sj=new WeakMap,rj=new WeakMap,oj=new WeakMap,aj=new WeakMap,lj=new WeakSet;class hj extends Eb{constructor(){super(...arguments),zF(this,lj),UF(this,nj,new jF(this.hot)),UF(this,ij,new BF(this.hot)),UF(this,sj,[]),UF(this,rj,void 0),UF(this,oj,{}),UF(this,aj,void 0)}static get PLUGIN_KEY(){return XF}static get PLUGIN_PRIORITY(){return JF}isEnabled(){return!!this.hot.getSettings()[XF]}enablePlugin(){var t=this;this.enabled||(this.addHook("beforeOnCellMouseDown",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return qF(lj,t,cj).call(t,...n)})),this.addHook("beforeOnCellMouseOver",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return qF(lj,t,uj).call(t,...n)})),this.addHook("afterScrollHorizontally",(()=>qF(lj,this,mj).call(this))),this.addHook("afterLoadData",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return qF(lj,t,gj).call(t,...n)})),this.buildPluginUI(),this.registerEvents(),ae(this.hot.rootElement,ZF),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){le(this.hot.rootElement,ZF),this.unregisterEvents(),KF(nj,this).destroy(),KF(ij,this).destroy(),super.disablePlugin()}moveRow(t,e){return this.moveRows([t],e)}moveRows(t,e){const n=KF(aj,this),i=this.isMovePossible(t,e),s=this.hot.runHooks("beforeRowMove",t,e,n,i);if(GF(aj,this,void 0),!1===s)return;i&&this.hot.rowIndexMapper.moveIndexes(t,e);const r=i&&this.isRowOrderChanged(t,e);return this.hot.runHooks("afterRowMove",t,e,n,i,r),r}dragRow(t,e){return this.dragRows([t],e)}dragRows(t,e){const n=this.countFinalIndex(t,e);return GF(aj,this,e),this.moveRows(t,n)}isMovePossible(t,e){const n=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),i=t.length+e>n,s=e<0,r=t.some((t=>t<0)),o=t.some((t=>t>=n));return!(i||s||r||o)}isRowOrderChanged(t,e){return t.some(((t,n)=>t-n!==e))}countFinalIndex(t,e){const n=S(t,((t,n)=>(n<e&&(t+=1),t)),0);return e-n}getRowsHeight(t,e){const n=this.hot.rowIndexMapper;let i=0;for(let s=t;s<=e;s++){const t=n.getRenderableFromVisualIndex(s);null!==t&&(i+=this.hot.view._wt.wtTable.getRowHeight(t)||23)}return i}moveBySettingsOrLoad(){const t=this.hot.getSettings()[XF];if(Array.isArray(t))this.moveRows(t,0);else if(void 0!==t){const t=this.persistentStateLoad();t.length&&this.moveRows(t,0)}}isFixedRowTop(t){return t<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(t){return t>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){const t={};return this.hot.runHooks("persistentStateLoad","manualRowMove",t),t.value?t.value:[]}prepareRowsToMoving(){const t=this.hot.getSelectedRangeLast(),e=[];if(!t)return e;const{from:n,to:i}=t,s=Math.min(n.row,i.row),r=Math.max(n.row,i.row);return Ls(s,r,(t=>{e.push(t)})),e}refreshPositions(){const t=KF(oj,this).coords,e=this.hot.view.getFirstFullyVisibleRow(),n=this.hot.view.getLastFullyVisibleRow(),i=this.hot.countRows();this.isFixedRowTop(t.row)&&e>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(e-1,-1)),this.isFixedRowBottom(t.row)&&n<i&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(n+1,1),void 0,!0);const s=this.hot.view._wt.wtTable,r=KF(oj,this).TD,o=this.hot.rootElement,a=_e(o),l=xe(o),h=s.holder.scrollTop,c=this.hot.rootWindow!==l?l.scrollTop:0,d=a.top-c,u=KF(oj,this).eventPageY-d+h,f=s.hider.offsetHeight,m=s.TBODY.offsetTop,g=KF(nj,this).getOffset().top,p=KF(nj,this).getSize().height,_=r.offsetHeight/2,y=r.offsetHeight;let w=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,t.row-1);const v=u>=w+_;this.isFixedRowTop(t.row)&&(w+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),t.row<0?KF(oj,this).row=e>0?e-1:e:v?(KF(oj,this).row=t.row+1,w+=0===t.row?y-1:y):KF(oj,this).row=t.row;let b=u,M=w;u+p+g>=f?b=f-p-g:u+g<m&&(b=m+Math.abs(g)),w>=f-1&&(M=f-1),KF(nj,this).setPosition(b),KF(ij,this).setPosition(M)}registerEvents(){const{documentElement:t}=this.hot.rootDocument;this.eventManager.addEventListener(t,"mousemove",(t=>qF(lj,this,dj).call(this,t))),this.eventManager.addEventListener(t,"mouseup",(()=>qF(lj,this,fj).call(this)))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){KF(nj,this).build(),KF(ij,this).build()}destroy(){KF(nj,this).destroy(),KF(ij,this).destroy(),super.destroy()}}function cj(t,e,n,i){const{wtTable:s,wtViewport:r}=this.hot.view._wt,o=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast();if(!a||!o||KF(rj,this)||0!==t.button)return GF(rj,this,!1),KF(sj,this).length=0,void le(this.hot.rootElement,[tj,QF]);const l=KF(ij,this).isBuilt()&&!KF(ij,this).isAppended(),h=KF(nj,this).isBuilt()&&!KF(nj,this).isAppended();l&&h&&(KF(ij,this).appendTo(s.hider),KF(nj,this).appendTo(s.hider));const{from:c,to:d}=a,u=Math.min(c.row,d.row),f=Math.max(c.row,d.row);if(e.col<0&&e.row>=u&&e.row<=f){i.row=!0,GF(rj,this,!0),KF(oj,this).eventPageY=t.pageY,KF(oj,this).coords=e,KF(oj,this).TD=n,GF(sj,this,this.prepareRowsToMoving());const o=s.holder.scrollLeft+r.getRowHeaderWidth(),a=this.getRowsHeight(u,e.row-1)+t.offsetY;KF(nj,this).setPosition(null,o),KF(nj,this).setSize(s.hider.offsetWidth-o,this.getRowsHeight(u,f)),KF(nj,this).setOffset(-a,null),ae(this.hot.rootElement,tj),this.refreshPositions()}else le(this.hot.rootElement,ej),GF(rj,this,!1),KF(sj,this).length=0}function dj(t){KF(rj,this)&&(KF(oj,this).eventPageY=t.pageY,this.refreshPositions())}function uj(t,e,n,i){const s=this.hot.getSelectedRangeLast();s&&KF(rj,this)&&(KF(sj,this).indexOf(e.row)>-1?le(this.hot.rootElement,QF):ae(this.hot.rootElement,QF),i.row=!0,i.column=!0,i.cell=!0,KF(oj,this).coords=e,KF(oj,this).TD=n)}function fj(){const t=KF(oj,this).row,e=KF(sj,this).length;if(GF(rj,this,!1),le(this.hot.rootElement,[tj,QF,ej]),this.hot.selection.isSelectedByRowHeader()&&ae(this.hot.rootElement,ej),e<1||void 0===t)return;const n=KF(sj,this)[0],i=this.hot.toPhysicalRow(n),s=this.dragRows(KF(sj,this),t);if(KF(sj,this).length=0,!0===s){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);const t=this.hot.toVisualRow(i),n=t+e-1;this.hot.selectRows(t,n)}}function mj(){const t=this.hot.view._wt.wtTable,e=this.hot.view._wt.wtViewport.getRowHeaderWidth(),n=t.holder.scrollLeft,i=e+n;KF(nj,this).setPosition(null,i),KF(nj,this).setSize(t.hider.offsetWidth-i)}function gj(){this.moveBySettingsOrLoad()}function pj(t,e){yj(t,e),e.add(t)}function _j(t,e,n){yj(t,e),e.set(t,n)}function yj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wj(t,e,n){return t.set(bj(t,e),n),n}function vj(t,e){return t.get(bj(t,e))}function bj(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Mj="manualRowResize",Sj=30,Cj="manualRowHeights";var xj=new WeakMap,Tj=new WeakMap,kj=new WeakMap,Lj=new WeakMap,Ej=new WeakMap,Rj=new WeakMap,Aj=new WeakMap,Dj=new WeakMap,Hj=new WeakMap,Pj=new WeakMap,Ij=new WeakMap,Oj=new WeakMap,Yj=new WeakMap,Nj=new WeakMap,Fj=new WeakMap,jj=new WeakMap,Wj=new WeakSet;class Vj extends Eb{static get PLUGIN_KEY(){return Mj}static get PLUGIN_PRIORITY(){return Sj}constructor(t){super(t),pj(this,Wj),_j(this,xj,null),_j(this,Tj,null),_j(this,kj,[]),_j(this,Lj,null),_j(this,Ej,null),_j(this,Rj,null),_j(this,Aj,null),_j(this,Dj,null),_j(this,Hj,this.hot.rootDocument.createElement("DIV")),_j(this,Pj,this.hot.rootDocument.createElement("DIV")),_j(this,Ij,!1),_j(this,Oj,!1),_j(this,Yj,0),_j(this,Nj,null),_j(this,Fj,void 0),_j(this,jj,void 0),ae(vj(Hj,this),"manualRowResizer"),ae(vj(Pj,this),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[Mj]}enablePlugin(){this.enabled||(wj(Fj,this,new pd),vj(Fj,this).addLocalHook("init",(()=>bj(Wj,this,qj).call(this))),this.hot.rowIndexMapper.registerMap(this.pluginName,vj(Fj,this)),this.addHook("modifyRowHeight",((t,e)=>bj(Wj,this,Kj).call(this,t,e))),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){wj(jj,this,vj(Fj,this).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",Cj,vj(Fj,this).getValues())}loadManualRowHeights(){const t={};return this.hot.runHooks("persistentStateLoad",Cj,t),t.value}setManualSize(t,e){const n=this.hot.toPhysicalRow(t),i=Math.max(e,_h.DEFAULT_HEIGHT);return vj(Fj,this).setValueAtIndex(n,i),i}setupHandlePosition(t){wj(xj,this,t);const{view:e}=this.hot,{_wt:n}=e,i=n.wtTable.getCoords(vj(xj,this)),s=i.row;if(s<0)return;const r=Ee(vj(xj,this)),o=vj(xj,this).getBoundingClientRect(),a=s<n.getSetting("fixedRowsTop"),l=s>=e.countNotHiddenRowIndexes(0,1)-n.getSetting("fixedRowsBottom");let h;a?h=n.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(vj(xj,this),i.row,i.col):l&&(h=n.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(vj(xj,this),i.row,i.col)),h||(h=n.wtOverlays.inlineStartOverlay.getRelativeCellPosition(vj(xj,this),i.row,i.col)),wj(Tj,this,this.hot.rowIndexMapper.getVisualFromRenderableIndex(s)),wj(kj,this,[]);const c=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&c){const t=this.hot.getSelectedRange();T(t,(t=>{const e=t.getTopStartCorner().row,n=t.getBottomStartCorner().row;Ls(e,n,(t=>{vj(kj,this).includes(t)||vj(kj,this).push(t)}))}))}vj(kj,this).includes(vj(Tj,this))||wj(kj,this,[vj(Tj,this)]),wj(Dj,this,h.top-6),wj(Aj,this,parseInt(o.height,10)),vj(Hj,this).style.top=`${vj(Dj,this)+vj(Aj,this)}px`,vj(Hj,this).style[this.inlineDir]=`${h.start}px`,vj(Hj,this).style.width=`${r}px`,this.hot.rootElement.appendChild(vj(Hj,this))}refreshHandlePosition(){vj(Hj,this).style.top=`${vj(Dj,this)+vj(Lj,this)}px`}setupGuidePosition(){const t=parseInt(Ee(vj(Hj,this)),10),e=parseInt(vj(Hj,this).style[this.inlineDir],10)+t,n=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);ae(vj(Hj,this),"active"),ae(vj(Pj,this),"active"),vj(Pj,this).style.top=vj(Hj,this).style.top,vj(Pj,this).style[this.inlineDir]=`${e}px`,vj(Pj,this).style.width=n-t+"px",this.hot.rootElement.appendChild(vj(Pj,this))}refreshGuidePosition(){vj(Pj,this).style.top=vj(Hj,this).style.top}hideHandleAndGuide(){le(vj(Hj,this),"active"),le(vj(Pj,this),"active")}checkIfRowHeader(t){const e=Qt(t,["TBODY"],this.hot.rootElement),{inlineStartOverlay:n,topInlineStartCornerOverlay:i,bottomInlineStartCornerOverlay:s}=this.hot.view._wt.wtOverlays;return[n.clone.wtTable.TBODY,i.clone.wtTable.TBODY,s.clone.wtTable.TBODY].includes(e)}getClosestTHParent(t){return"TABLE"!==t.tagName?"TH"===t.tagName?t:this.getClosestTHParent(t.parentNode):null}getActualRowHeight(t){const e=this.hot.view._wt.wtTable.getRowHeight(t);return void 0!==e&&vj(Ej,this)<e?e:vj(Ej,this)}afterMouseDownTimeout(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},e=(e,n)=>{const i=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(e),e,!0);void 0!==i&&wj(Ej,this,i),this.setManualSize(e,vj(Ej,this)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(e),e,!0),n&&t()};if(vj(Yj,this)>=2){const n=vj(kj,this).length;n>1?(T(vj(kj,this),(t=>{e(t)})),t()):T(vj(kj,this),(t=>{e(t,!0)}))}wj(Yj,this,0),wj(Nj,this,null)}bindEvents(){const{rootElement:t,rootWindow:e}=this.hot;this.eventManager.addEventListener(t,"mouseover",(t=>bj(Wj,this,Bj).call(this,t))),this.eventManager.addEventListener(t,"mousedown",(t=>bj(Wj,this,zj).call(this,t))),this.eventManager.addEventListener(e,"mousemove",(t=>bj(Wj,this,Uj).call(this,t))),this.eventManager.addEventListener(e,"mouseup",(()=>bj(Wj,this,$j).call(this))),this.eventManager.addEventListener(vj(Hj,this),"contextmenu",(()=>bj(Wj,this,Gj).call(this)))}destroy(){super.destroy()}}function Bj(t){if(!Je(t.target)&&!0!==vj(Oj,this)&&this.checkIfRowHeader(t.target)){const e=this.getClosestTHParent(t.target);e&&(vj(Ij,this)||this.setupHandlePosition(e))}}function zj(t){oe(t.target,"manualRowResizer")&&(this.setupHandlePosition(vj(xj,this)),this.setupGuidePosition(),wj(Ij,this,!0),null===vj(Nj,this)&&(wj(Nj,this,setTimeout((()=>this.afterMouseDownTimeout()),500)),this.hot._registerTimeout(vj(Nj,this))),wj(Yj,this,vj(Yj,this)+1),wj(Rj,this,t.pageY),wj(Ej,this,vj(Aj,this)))}function Uj(t){vj(Ij,this)&&(wj(Lj,this,vj(Aj,this)+(t.pageY-vj(Rj,this))),T(vj(kj,this),(t=>{wj(Ej,this,this.setManualSize(t,vj(Lj,this)))})),this.refreshHandlePosition(),this.refreshGuidePosition())}function $j(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize(!0)},e=(e,n)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(e),e,!1),n&&t(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(e),e,!1)};if(vj(Ij,this)){if(this.hideHandleAndGuide(),wj(Ij,this,!1),vj(Ej,this)!==vj(Aj,this)){const n=vj(kj,this).length;n>1?(T(vj(kj,this),(t=>{e(t)})),t()):T(vj(kj,this),(t=>{e(t,!0)}))}this.setupHandlePosition(vj(xj,this))}}function Gj(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(vj(Hj,this)),this.hot.rootElement.removeChild(vj(Pj,this)),wj(Ij,this,!1),wj(Oj,this,!0),this.hot._registerImmediate((()=>{wj(Oj,this,!1)}))}function Kj(t,e){let n=t;if(this.enabled){const t=this.hot.toPhysicalRow(e),i=vj(Fj,this).getValueAtIndex(t);this.hot.getSettings()[Mj]&&i&&(n=i)}return n}function qj(){const t=this.hot.getSettings()[Mj],e=this.loadManualRowHeights();this.hot.batchExecution((()=>{"undefined"!==typeof e?e.forEach(((t,e)=>{vj(Fj,this).setValueAtIndex(e,t)})):Array.isArray(t)?(t.forEach(((t,e)=>{vj(Fj,this).setValueAtIndex(e,t)})),wj(jj,this,t)):!0===t&&Array.isArray(vj(jj,this))&&vj(jj,this).forEach(((t,e)=>{vj(Fj,this).setValueAtIndex(e,t)}))}),!0)}n(237);function Xj(t,e,n){return e=Jj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jj(t){var e=Zj(t,"string");return"symbol"==typeof e?e:e+""}function Zj(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Qj{constructor(t,e,n,i,s,r){Xj(this,"row",void 0),Xj(this,"col",void 0),Xj(this,"rowspan",void 0),Xj(this,"colspan",void 0),Xj(this,"removed",!1),Xj(this,"cellCoordsFactory",void 0),Xj(this,"cellRangeFactory",void 0),this.row=t,this.col=e,this.rowspan=n,this.colspan=i,this.cellCoordsFactory=s,this.cellRangeFactory=r}static NEGATIVE_VALUES_WARNING(t){return Y`The merged cell declared with {row: ${t.row}, col: ${t.col},\x20
      rowspan: ${t.rowspan}, colspan: ${t.colspan}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(t){return Y`The merged cell declared at [${t.row}, ${t.col}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(t){return Y`The merged cell declared at [${t.row}, ${t.col}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(t){return Y`The merged cell declared at [${t.row}, ${t.col}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(t){return t.row<0||t.col<0||t.rowspan<0||t.colspan<0}static isSingleCell(t){return 1===t.colspan&&1===t.rowspan}static containsZeroSpan(t){return 0===t.colspan||0===t.rowspan}static isOutOfBounds(t,e,n){return t.row<0||t.col<0||t.row>=e||t.row+t.rowspan-1>=e||t.col>=n||t.col+t.colspan-1>=n}normalize(t){const e=t.countRows(),n=t.countCols();this.row<0?this.row=0:this.row>e-1&&(this.row=e-1),this.col<0?this.col=0:this.col>n-1&&(this.col=n-1),this.row+this.rowspan>e-1&&(this.rowspan=e-this.row),this.col+this.colspan>n-1&&(this.colspan=n-this.col)}includes(t,e){return this.row<=t&&this.col<=e&&this.row+this.rowspan-1>=t&&this.col+this.colspan-1>=e}includesHorizontally(t){return this.col<=t&&this.col+this.colspan-1>=t}includesVertically(t){return this.row<=t&&this.row+this.rowspan-1>=t}shift(t,e){const n=t[0]||t[1],i=e+Math.abs(t[0]||t[1])-1,s=t[0]?"colspan":"rowspan",r=t[0]?"col":"row",o=Math.min(e,i),a=Math.max(e,i),l=this[r],h=this[r]+this[s]-1;if(l>=e&&(this[r]+=n),n>0)e<=h&&e>l&&(this[s]+=n);else if(n<0){if(o<=l&&a>=h)return this.removed=!0,!1;if(l>=o&&l<=a){const t=a-l+1,e=Math.abs(n)-t;this[r]-=e+n,this[s]-=t}else if(l<=o&&h>=a)this[s]+=n;else if(l<=o&&h>=o&&h<a){const t=h-o+1;this[s]-=t}}return!0}isFarther(t,e){return!t||("down"===e?t.row+t.rowspan-1<this.row+this.rowspan-1:"up"===e?t.row>this.row:"right"===e?t.col+t.colspan-1<this.col+this.colspan-1:"left"===e?t.col>this.col:null)}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))}}var tW=Qj;function eW(t,e,n,i){e?e.row===n&&e.col===i?(t.setAttribute("rowspan",e.rowspan.toString()),t.setAttribute("colspan",e.colspan.toString())):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="")}function nW(t,e){iW(t,e),e.add(t)}function iW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sW(t,e,n){return e=rW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rW(t){var e=oW(t,"string");return"symbol"==typeof e?e:e+""}function oW(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function aW(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var lW=new WeakSet;class hW{constructor(t){nW(this,lW),sW(this,"plugin",void 0),sW(this,"mergedCells",[]),sW(this,"hot",void 0),this.plugin=t,this.hot=t.hot}static IS_OVERLAPPING_WARNING(t){return Y`The merged cell declared at [${t.row}, ${t.col}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(t,e){const n=this.mergedCells;let i=!1;return T(n,(n=>!(n.row<=t&&n.row+n.rowspan-1>=t&&n.col<=e&&n.col+n.colspan-1>=e)||(i=n,!1))),i}getByRange(t){const e=this.mergedCells;let n=!1;return T(e,(e=>!(e.row<=t.from.row&&e.row+e.rowspan-1>=t.to.row&&e.col<=t.from.col&&e.col+e.colspan-1>=t.to.col)||(n=e,n))),n}getWithinRange(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.mergedCells,i=[];let s=t;if(!s.includesRange){const t=this.hot._createCellCoords(s.from.row,s.from.col),e=this.hot._createCellCoords(s.to.row,s.to.col);s=this.hot._createCellRange(t,t,e)}return T(n,(t=>{const n=this.hot._createCellCoords(t.row,t.col),r=this.hot._createCellCoords(t.row+t.rowspan-1,t.col+t.colspan-1),o=this.hot._createCellRange(n,n,r);e?s.overlaps(o)&&i.push(t):s.includesRange(o)&&i.push(t)})),!!i.length&&i}add(t){const e=this.mergedCells,n=t.row,i=t.col,s=t.rowspan,r=t.colspan,o=new tW(n,i,s,r,this.hot._createCellCoords,this.hot._createCellRange),a=this.get(n,i),l=this.isOverlapping(o);return a||l?(ci(hW.IS_OVERLAPPING_WARNING(o)),!1):(this.hot&&o.normalize(this.hot),e.push(o),o)}remove(t,e){const n=this.mergedCells,i=this.get(t,e),s=i?this.mergedCells.indexOf(i):-1;return!(!i||-1===s)&&(n.splice(s,1),i)}clear(){const t=this.mergedCells,e=[],n=[];T(t,(t=>{const n=this.hot.getCell(t.row,t.col);n&&e.push([n,this.get(t.row,t.col),t.row,t.col])})),this.mergedCells.length=0,T(e,((t,i)=>{Ls(0,t.rowspan-1,(e=>{Ls(0,t.colspan-1,(i=>{if(0!==i||0!==e){const s=this.hot.getCell(t.row+e,t.col+i);s&&n.push([s,null,null,null])}}))})),e[i][1]=null})),T(e,(t=>{eW(...t)})),T(n,(t=>{eW(...t)}))}isOverlapping(t){const e=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(t.row,t.col),this.hot._createCellCoords(t.row+t.rowspan-1,t.col+t.colspan-1));let n=!1;return T(this.mergedCells,(t=>{const i=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(t.row,t.col),this.hot._createCellCoords(t.row+t.rowspan-1,t.col+t.colspan-1));return!i.overlaps(e)||(n=!0,!1)})),n}isFirstRenderableMergedCell(t,e){const n=this.get(t,e);return n&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(n.row,1)===t&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(n.col,1)===e}getFirstRenderableCoords(t,e){const n=this.get(t,e);if(!n||this.isFirstRenderableMergedCell(t,e))return this.hot._createCellCoords(t,e);const i=this.hot.rowIndexMapper.getNearestNotHiddenIndex(n.row,1),s=this.hot.columnIndexMapper.getNearestNotHiddenIndex(n.col,1);return this.hot._createCellCoords(i,s)}getStartMostColumnIndex(t,e){const n=aW(lW,this,cW).call(this,t,"col",-1);let i=e;for(let s=0;s<n.length;s++)if(n[s]<=e){i=n[s];break}return i}getEndMostColumnIndex(t,e){const n=aW(lW,this,cW).call(this,t,"col",1);let i=e;for(let s=0;s<n.length;s++)if(n[s]>=e){i=n[s];break}return i}getTopMostRowIndex(t,e){const n=aW(lW,this,cW).call(this,t,"row",-1);let i=e;for(let s=0;s<n.length;s++)if(n[s]<=e){i=n[s];break}return i}getBottomMostRowIndex(t,e){const n=aW(lW,this,cW).call(this,t,"row",1);let i=e;for(let s=0;s<n.length;s++)if(n[s]>=e){i=n[s];break}return i}shiftCollections(t,e,n){const i=[0,0];switch(t){case"right":i[0]+=n;break;case"left":i[0]-=n;break;case"down":i[1]+=n;break;case"up":i[1]-=n;break;default:}T(this.mergedCells,(t=>{t.shift(i,e)})),Es(this.mergedCells.length-1,0,(t=>{const e=this.mergedCells[t];e&&e.removed&&this.mergedCells.splice(this.mergedCells.indexOf(e),1)}))}}function cW(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const i=new Map,s=1===n?t.getTopStartCorner():t.getBottomEndCorner(),r=1===n?t.getBottomEndCorner():t.getTopStartCorner();for(let o=s.row;1===n?o<=r.row:o>=r.row;o+=n)for(let t=s.col;1===n?t<=r.col:t>=r.col;t+=n){const s="row"===e?o:t,r=this.get(o,t);let a=s;r&&(a=1===n?r[e]+r[`${e}span`]-1:r[e]),i.has(s)||i.set(s,new Set),i.get(s).add(a)}return Array.from(new Set(Array.from(i.entries()).filter((t=>{let[,e]=t;return 1===e.size})).flatMap((t=>{let[,e]=t;return Array.from(e)}))))}var dW=hW;function uW(t,e,n){return e=fW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fW(t){var e=mW(t,"string");return"symbol"==typeof e?e:e+""}function mW(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class gW{constructor(t){uW(this,"plugin",void 0),uW(this,"mergedCellsCollection",void 0),uW(this,"currentFillData",null),this.plugin=t,this.mergedCellsCollection=this.plugin.mergedCellsCollection}correctSelectionAreaSize(t){if(t[0]===t[2]&&t[1]===t[3]){const e=this.mergedCellsCollection.get(t[0],t[1]);e&&(t[2]=t[0]+e.rowspan-1,t[3]=t[1]+e.colspan-1)}}getDirection(t,e){let n=null;return n=e[0]===t[0]&&e[1]===t[1]&&e[3]===t[3]?"down":e[2]===t[2]&&e[1]===t[1]&&e[3]===t[3]?"up":e[1]===t[1]&&e[2]===t[2]?"right":"left",n}snapDragArea(t,e,n,i){const s=e.slice(0),r=this.getAutofillSize(t,e,n),[o,a,l,h]=t,c=["up","down"].indexOf(n)>-1,d=c?l-o+1:h-a+1,u=Math.floor(r/d)*d,f=r-u,m=this.getFarthestCollection(t,e,n,i);if(m)if("down"===n){const t=m.row+m.rowspan-o-f,e=s[2]+t;e>=this.plugin.hot.countRows()?s[2]-=f:s[2]+=f?t:0}else if("right"===n){const t=m.col+m.colspan-a-f,e=s[3]+t;e>=this.plugin.hot.countCols()?s[3]-=f:s[3]+=f?t:0}else if("up"===n){const t=l-f-m.row+1,e=s[0]+t;e<0?s[0]+=f:s[0]-=f?t:0}else if("left"===n){const t=h-f-m.col+1,e=s[1]+t;e<0?s[1]+=f:s[1]-=f?t:0}return this.updateCurrentFillCache({baseArea:t,dragDirection:n,foundMergedCells:i,fillSize:r,dragArea:s,cycleLength:d}),s}updateCurrentFillCache(t){this.currentFillData||(this.currentFillData={}),mn(this.currentFillData,t)}getAutofillSize(t,e,n){const[i,s,r,o]=t,[a,l,h,c]=e;switch(n){case"up":return i-a;case"down":return h-r;case"left":return s-l;case"right":return c-o;default:return null}}getDragArea(t,e,n){const[i,s,r,o]=t,[a,l,h,c]=e;switch(n){case"up":return[a,l,i-1,o];case"down":return[r+1,s,h,o];case"left":return[a,l,r,s-1];case"right":return[i,o+1,h,c];default:return null}}getFarthestCollection(t,e,n,i){const[s,r,o,a]=t,l=["up","down"].indexOf(n)>-1,h=l?o:a,c=l?s:r,d=this.getAutofillSize(t,e,n),u=l?o-s+1:a-r+1,f=Math.floor(d/u)*u,m=d-f;let g=null,p=null,_=null;switch(n){case"up":g="includesVertically",_=h-m+1;break;case"left":g="includesHorizontally",_=h-m+1;break;case"down":g="includesVertically",_=c+m-1;break;case"right":g="includesHorizontally",_=c+m-1;break;default:}return T(i,(t=>{t[g](_)&&t.isFarther(p,n)&&(p=t)})),p}recreateAfterDataPopulation(t){if(!this.currentFillData)return;const e=this.getRangeFromChanges(t),n=this.currentFillData.foundMergedCells,i=this.currentFillData.dragDirection,s=(t,n)=>{switch(i){case"up":return t.row-n>=e.from.row;case"down":return t.row+t.rowspan-1+n<=e.to.row;case"left":return t.col-n>=e.from.column;case"right":return t.col+t.colspan-1+n<=e.to.column;default:return null}};let r=0,o=null,a=1;do{for(let t=0;t<n.length;t+=1){if(o=n[t],r=a*this.currentFillData.cycleLength,s(o,r))switch(i){case"up":this.plugin.mergedCellsCollection.add({row:o.row-r,rowspan:o.rowspan,col:o.col,colspan:o.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:o.row+r,rowspan:o.rowspan,col:o.col,colspan:o.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:o.row,rowspan:o.rowspan,col:o.col-r,colspan:o.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:o.row,rowspan:o.rowspan,col:o.col+r,colspan:o.colspan});break;default:}t===n.length-1&&(a+=1)}}while(s(o,r));this.currentFillData=null,this.plugin.hot.render(),n.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(t){const e={min:null,max:null},n={min:null,max:null};return T(t,(t=>{const i=t[0],s=this.plugin.hot.propToCol(t[1]);(null===e.min||i<e.min)&&(e.min=i),(null===e.max||i>e.max)&&(e.max=i),(null===n.min||s<n.min)&&(n.min=s),(null===n.max||s>n.max)&&(n.max=s)})),{from:{row:e.min,column:n.min},to:{row:e.max,column:n.max}}}dragAreaOverlapsCollections(t,e,n){const i=this.getDragArea(t,e,n),[s,r,o,a]=i,l=this.plugin.hot._createCellCoords(s,r),h=this.plugin.hot._createCellCoords(o,a),c=this.plugin.hot._createCellRange(l,l,h);return!!this.mergedCellsCollection.getWithinRange(c,!0)}}var pW=gW;function _W(t,e,n){return e=yW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yW(t){var e=wW(t,"string");return"symbol"==typeof e?e:e+""}function wW(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class vW{constructor(t){_W(this,"plugin",void 0),_W(this,"hot",void 0),_W(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=t,this.hot=t.hot}getSelectedMergedCellClassName(t,e,n,i){const s=Math.min(n[0],n[2]),r=Math.min(n[1],n[3]),o=Math.max(n[0],n[2]),a=Math.max(n[1],n[3]);if(void 0===i)return;const l=this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(t,e);if(!l)return;const h=this.plugin.mergedCellsCollection.get(t,e);if(!h)return;const c=h.getLastRow(),d=h.getLastColumn(),u=s<=h.row&&r<=h.col&&o>=c&&a>=d;return u?`${this.fullySelectedMergedCellClassName}-${i}`:this.isMergeCellFullySelected(h,this.plugin.hot.getSelectedRange())?`${this.fullySelectedMergedCellClassName}-multiple`:void 0}isMergeCellFullySelected(t,e){const n=[];if(!e||!t)return!1;for(let i=0;i<t.rowspan;i+=1)for(let e=0;e<t.colspan;e+=1)n.push(this.hot._createCellCoords(t.row+i,t.col+e));for(let i=0;i<n.length;i+=1){const t=[];for(let s=0;s<e.length;s+=1)t[s]=e[s].includes(n[i]);if(!t.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){const t=[];for(let e=0;e<=7;e+=1)t.push(`${this.fullySelectedMergedCellClassName}-${e}`);return t.push(`${this.fullySelectedMergedCellClassName}-multiple`),t}}var bW=vW;function MW(t){return{key:"mergeCells",name(){const e=this.getSelectedLast();if(e){const n=t.mergedCellsCollection.get(e[0],e[1]);if(n.row===e[0]&&n.col===e[1]&&n.row+n.rowspan-1===e[2]&&n.col+n.colspan-1===e[3])return this.getTranslatedPhrase(Hu)}return this.getTranslatedPhrase(Du)},callback(){const e=this.getSelectedRangeLast();if(!e)return;e.setDirection(this.isRtl()?"NE-SW":"NW-SE");const{from:n,to:i}=e;t.toggleMerge(e),this.selectCell(n.row,n.col,i.row,i.col,!1)},disabled(){const t=this.getSelectedLast();if(!t)return!0;const e=tW.isSingleCell({row:t[0],col:t[1],rowspan:t[2]-t[0]+1,colspan:t[3]-t[1]+1});return e||this.selection.isSelectedByCorner()},hidden:!1}}function SW(t,e,n){return e=CW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CW(t){var e=xW(t,"string");return"symbol"==typeof e?e:e+""}function xW(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class TW{constructor(t){SW(this,"data",void 0),SW(this,"next",null),SW(this,"prev",null),this.data=t}}class kW{constructor(){SW(this,"first",null),SW(this,"last",null)}push(t){const e=new TW(t);if(null===this.first)this.first=e,this.last=e;else{const t=this.last;this.last=e,e.prev=t,t.next=e}return e}unshift(t){const e=new TW(t);if(null===this.first)this.first=e,this.last=e;else{const t=this.first;this.first=e,e.next=t,t.prev=e}}inorder(t){let e=this.first;while(e){const n=t(e);if(e===this.last||!0===n)break;e=e.next}}remove(t){if(null===this.first)return!1;let e,n,i=this.first;while(i){if(i.data===t)return e=i.next,n=i.prev,e&&(e.prev=n),n&&(n.next=e),i===this.first&&(this.first=e),i===this.last&&(this.last=n),!0;i=i.next}return!1}hasCycle(){let t=this.first,e=this.first;while(1){if(null===t)return!1;if(t=t.next,null===t)return!1;if(t=t.next,e=e.next,t===e)return!0}}pop(){if(null===this.last)return null;const t=this.last;return this.last=this.last.prev,t}shift(){if(null===this.first)return null;const t=this.first;return this.first=this.first.next,t}recursiveReverse(){function t(e,n){n&&(t(n,n.next),n.next=e)}if(!this.first)return;t(this.first,this.first.next),this.first.next=null;const e=this.first;this.first=this.last,this.last=e}reverse(){if(!this.first||!this.first.next)return;let t,e=this.first.next,n=this.first;while(e)t=e.next,e.next=n,n.prev=e,n=e,e=t;this.first.next=null,this.last.prev=null,t=this.first,this.first=n,this.last=t}}var LW=kW;function EW(t,e){AW(t,e),e.add(t)}function RW(t,e,n){AW(t,e),e.set(t,n)}function AW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function DW(t,e){return t.get(PW(t,e))}function HW(t,e,n){return t.set(PW(t,e),n),n}function PW(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var IW=new WeakMap,OW=new WeakMap,YW=new WeakMap,NW=new WeakMap,FW=new WeakMap,jW=new WeakMap,WW=new WeakMap,VW=new WeakSet;class BW{constructor(t){let{mergedCellsGetter:e,rowIndexMapper:n,columnIndexMapper:i}=t;EW(this,VW),RW(this,IW,new LW),RW(this,OW,new LW),RW(this,YW,null),RW(this,NW,null),RW(this,FW,null),RW(this,jW,null),RW(this,WW,null),HW(FW,this,e),HW(jW,this,n),HW(WW,this,i)}getCurrentVerticalNode(){return DW(NW,this).data}getFirstVerticalNode(){return DW(OW,this).first.data}getNextVerticalNode(){return DW(NW,this).next.data}getPrevVerticalNode(){return DW(NW,this).prev.data}getCurrentHorizontalNode(){return DW(YW,this).data}getFirstHorizontalNode(){return DW(IW,this).first.data}getNextHorizontalNode(){return DW(YW,this).next.data}getPrevHorizontalNode(){return DW(YW,this).prev.data}setPrevNodeAsActive(){HW(NW,this,DW(NW,this).prev),HW(YW,this,DW(YW,this).prev)}setNextNodeAsActive(){HW(NW,this,DW(NW,this).next),HW(YW,this,DW(YW,this).next)}buildFocusOrder(t){const e=t.getTopStartCorner(),n=t.getBottomEndCorner(),i=new WeakSet;HW(IW,this,new LW);for(let r=e.row;r<=n.row;r++)if(!DW(jW,this).isHidden(r))for(let s=e.col;s<=n.col;s++){if(DW(WW,this).isHidden(s))continue;const e=PW(VW,this,zW).call(this,t,DW(IW,this),i,r,s);e&&HW(YW,this,e)}DW(IW,this).first&&(DW(IW,this).first.prev=DW(IW,this).last,DW(IW,this).last.next=DW(IW,this).first);const s=new WeakSet;HW(OW,this,new LW);for(let r=e.col;r<=n.col;r++)if(!DW(WW,this).isHidden(r))for(let i=e.row;i<=n.row;i++){if(DW(jW,this).isHidden(i))continue;const e=PW(VW,this,zW).call(this,t,DW(OW,this),s,i,r);e&&HW(NW,this,e)}DW(OW,this).first&&(DW(OW,this).first.prev=DW(OW,this).last,DW(OW,this).last.next=DW(OW,this).first)}setActiveNode(t,e){return DW(IW,this).inorder((n=>{const{rowStart:i,rowEnd:s,colStart:r,colEnd:o}=n.data;if(t>=i&&t<=s&&e>=r&&e<=o)return HW(YW,this,n),!1})),DW(OW,this).inorder((n=>{const{rowStart:i,rowEnd:s,colStart:r,colEnd:o}=n.data;if(t>=i&&t<=s&&e>=r&&e<=o)return HW(NW,this,n),!1})),this}}function zW(t,e,n,i,s){const r=t.getTopStartCorner(),o=t.getBottomEndCorner(),a=t.highlight.clone().normalize(),l=DW(FW,this).call(this,i,s);if(l&&n.has(l))return null;const h={colStart:s,colEnd:s,rowStart:i,rowEnd:i};if(l){if(n.add(l),l.row<r.row||l.row+l.rowspan-1>o.row||l.col<r.col||l.col+l.colspan-1>o.col)return null;h.colStart=l.col,h.colEnd=l.col+l.colspan-1,h.rowStart=l.row,h.rowEnd=l.row+l.rowspan-1}const c=e.push(h);return i===a.row&&s===a.col||l&&a.row>=l.row&&a.row<=l.row+l.rowspan-1&&a.col>=l.col&&a.col<=l.col+l.colspan-1?c:null}function UW(t,e){GW(t,e),e.add(t)}function $W(t,e,n){GW(t,e),e.set(t,n)}function GW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function KW(t,e,n){return e=qW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qW(t){var e=XW(t,"string");return"symbol"==typeof e?e:e+""}function XW(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function JW(t,e,n){return t.set(QW(t,e),n),n}function ZW(t,e){return t.get(QW(t,e))}function QW(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Mi.getSingleton().register("beforeMergeCells"),Mi.getSingleton().register("afterMergeCells"),Mi.getSingleton().register("beforeUnmergeCells"),Mi.getSingleton().register("afterUnmergeCells");const tV="mergeCells",eV=150,nV=tV;var iV=new WeakMap,sV=new WeakMap,rV=new WeakMap,oV=new WeakSet;class aV extends Eb{constructor(){super(...arguments),UW(this,oV),KW(this,"mergedCellsCollection",null),KW(this,"autofillCalculations",null),KW(this,"selectionCalculations",null),$W(this,iV,null),$W(this,sV,{row:0,col:0}),$W(this,rV,new BW({mergedCellsGetter:(t,e)=>this.mergedCellsCollection.get(t,e),rowIndexMapper:this.hot.rowIndexMapper,columnIndexMapper:this.hot.columnIndexMapper}))}static get PLUGIN_KEY(){return tV}static get PLUGIN_PRIORITY(){return eV}isEnabled(){return!!this.hot.getSettings()[tV]}enablePlugin(){var t=this;this.enabled||(this.mergedCellsCollection=new dW(this),this.autofillCalculations=new pW(this),this.selectionCalculations=new bW(this),this.addHook("afterInit",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,lV).call(t,...n)})),this.addHook("modifyTransformFocus",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,cV).call(t,...n)})),this.addHook("modifyTransformStart",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,dV).call(t,...n)})),this.addHook("modifyTransformEnd",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,uV).call(t,...n)})),this.addHook("beforeSelectionHighlightSet",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,fV).call(t,...n)})),this.addHook("beforeSetRangeStart",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,_V).call(t,...n)})),this.addHook("beforeSetRangeStartOnly",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,_V).call(t,...n)})),this.addHook("beforeSelectionFocusSet",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,yV).call(t,...n)})),this.addHook("afterSelectionFocusSet",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,wV).call(t,...n)})),this.addHook("afterSelectionEnd",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,vV).call(t,...n)})),this.addHook("modifyGetCellCoords",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,mV).call(t,...n)})),this.addHook("afterIsMultipleSelection",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,hV).call(t,...n)})),this.addHook("afterRenderer",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,pV).call(t,...n)})),this.addHook("afterContextMenuDefaultOptions",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,gV).call(t,...n)})),this.addHook("afterGetCellMeta",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,bV).call(t,...n)})),this.addHook("afterViewportRowCalculatorOverride",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,MV).call(t,...n)})),this.addHook("afterViewportColumnCalculatorOverride",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,SV).call(t,...n)})),this.addHook("modifyAutofillRange",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,CV).call(t,...n)})),this.addHook("afterCreateCol",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,xV).call(t,...n)})),this.addHook("afterRemoveCol",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,TV).call(t,...n)})),this.addHook("afterCreateRow",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,kV).call(t,...n)})),this.addHook("afterRemoveRow",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,LV).call(t,...n)})),this.addHook("afterChange",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,EV).call(t,...n)})),this.addHook("beforeDrawBorders",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,RV).call(t,...n)})),this.addHook("afterDrawSelection",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,AV).call(t,...n)})),this.addHook("beforeRemoveCellClassNames",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,DV).call(t,...n)})),this.addHook("beforeBeginEditing",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return QW(oV,t,HV).call(t,...n)})),this.addHook("beforeUndoStackChange",((t,e)=>{if("MergeCells"===e)return!1})),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){const t=this.hot.getSettings()[tV];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(t),super.updatePlugin()}ifChromeForceRepaint(){if(!Fn())return;const t=[];let e=[];this.mergedCellsCollection.mergedCells.forEach((t=>{const{row:n,rowspan:i}=t;for(let s=n+1;s<n+i;s++)e.push(s)})),e=[...new Set(e)],e.forEach((e=>{const n=this.hot.rowIndexMapper.getRenderableFromVisualIndex(e);this.hot.view._wt.wtOverlays.getOverlays(!0).map((t=>"master"===(null===t||void 0===t?void 0:t.name)?t:t.clone.wtTable)).forEach((e=>{const i=e.getRow(n);i&&(i.style.background=Te(i,"backgroundColor").replace(")",", 0.99)"),t.push(i))}))})),this.hot._registerTimeout((()=>{t.forEach((t=>{t.style.background=Te(t,"backgroundColor").replace(", 0.99)",")")}))}),1)}validateSetting(t){let e=!0;return!!t&&(tW.containsNegativeValues(t)?(ci(tW.NEGATIVE_VALUES_WARNING(t)),e=!1):tW.isOutOfBounds(t,this.hot.countRows(),this.hot.countCols())?(ci(tW.IS_OUT_OF_BOUNDS_WARNING(t)),e=!1):tW.isSingleCell(t)?(ci(tW.IS_SINGLE_CELL(t)),e=!1):tW.containsZeroSpan(t)&&(ci(tW.ZERO_SPAN_WARNING(t)),e=!1),e)}generateFromSettings(t){if(Array.isArray(t)){const e=[];if(T(t,(t=>{if(!this.validateSetting(t))return;const n=this.hot._createCellCoords(t.row,t.col),i=this.hot._createCellCoords(t.row+t.rowspan-1,t.col+t.colspan-1),s=this.hot._createCellRange(n,n,i);this.mergeRange(s,!0,!0),Ls(t.row,t.row+t.rowspan-1,(n=>{Ls(t.col,t.col+t.colspan-1,(i=>{!1===(n===t.row&&i===t.col)&&e.push([n,i,null])}))}))})),0===e.length)return;this.hot.setDataAtCell(e,void 0,void 0,this.pluginName)}}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!e||this.validateSetting(t)}mergeSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(!t)return;t.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");const{from:e,to:n}=t;this.unmergeRange(t,!0),this.mergeRange(t),this.hot.selectCell(e.row,e.col,n.row,n.col,!1)}unmergeSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(!t)return;const{from:e,to:n}=t;this.unmergeRange(t,!0),this.hot.selectCell(e.row,e.col,n.row,n.col,!1)}mergeRange(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=t.getTopStartCorner(),s=t.getBottomEndCorner(),r={row:i.row,col:i.col,rowspan:s.row-i.row+1,colspan:s.col-i.col+1},o=[];let a=null;if(!this.canMergeRange(r,e))return!1;this.hot.runHooks("beforeMergeCells",t,e),Ls(0,r.rowspan-1,(t=>{Ls(0,r.colspan-1,(e=>{let n=null;o[t]||(o[t]=[]),0===t&&0===e?n=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(r.row),this.hot.toPhysicalColumn(r.col)):this.hot.setCellMeta(r.row+t,r.col+e,"hidden",!0),o[t][e]=n}))})),this.hot.setCellMeta(r.row,r.col,"spanned",!0);const l=this.mergedCellsCollection.add(r);return!l||(n?a=[r.row,r.col,o]:this.hot.populateFromArray(r.row,r.col,o,void 0,void 0,this.pluginName),e||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",t,r,e),a)}unmergeRange(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.mergedCellsCollection.getWithinRange(t);n&&(this.hot.runHooks("beforeUnmergeCells",t,e),T(n,(t=>{this.mergedCellsCollection.remove(t.row,t.col),Ls(0,t.rowspan-1,(e=>{Ls(0,t.colspan-1,(n=>{this.hot.removeCellMeta(t.row+e,t.col+n,"hidden"),this.hot.removeCellMeta(t.row+e,t.col+n,"copyable")}))})),this.hot.removeCellMeta(t.row,t.col,"spanned")})),this.hot.runHooks("afterUnmergeCells",t,e),this.hot.render())}toggleMerge(t){const e=this.mergedCellsCollection.get(t.from.row,t.from.col),n=e.row===t.from.row&&e.col===t.from.col&&e.row+e.rowspan-1===t.to.row&&e.col+e.colspan-1===t.to.col;n?this.unmergeRange(t):this.mergeSelection(t)}merge(t,e,n,i){const s=this.hot._createCellCoords(t,e),r=this.hot._createCellCoords(n,i);this.mergeRange(this.hot._createCellRange(s,s,r))}unmerge(t,e,n,i){const s=this.hot._createCellCoords(t,e),r=this.hot._createCellCoords(n,i);this.unmergeRange(this.hot._createCellRange(s,s,r))}registerShortcuts(){const t=this.hot.getShortcutManager(),e=t.getContext("grid");e.addShortcut({keys:[["Control","m"]],callback:()=>{const t=this.hot.getSelectedRangeLast();t&&!t.isSingleHeader()&&(this.toggleMerge(t),this.hot.render())},runOnlyIf:t=>!t.altKey,group:nV})}unregisterShortcuts(){const t=this.hot.getShortcutManager(),e=t.getContext("grid");e.removeShortcutsByGroup(nV)}modifyViewportRowStart(t,e){const n=this.hot.rowIndexMapper,i=n.getVisualFromRenderableIndex(t.startRow);for(let s=0;s<e;s+=1){const r=this.mergedCellsCollection.get(i,s);if(vn(r)){const i=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(r.row,1));if(i<t.startRow)return t.startRow=i,void this.modifyViewportRowStart(t,e)}}}modifyViewportRowEnd(t,e){const n=this.hot.rowIndexMapper,i=n.getVisualFromRenderableIndex(t.endRow);for(let s=0;s<e;s+=1){const r=this.mergedCellsCollection.get(i,s);if(vn(r)){const i=r.row+r.rowspan-1,s=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(i,-1));if(s>t.endRow)return t.endRow=s,void this.modifyViewportRowEnd(t,e)}}}modifyViewportColumnStart(t,e){const n=this.hot.columnIndexMapper,i=n.getVisualFromRenderableIndex(t.startColumn);for(let s=0;s<e;s+=1){const r=this.mergedCellsCollection.get(s,i);if(vn(r)){const i=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(r.col,1));if(i<t.startColumn)return t.startColumn=i,void this.modifyViewportColumnStart(t,e)}}}modifyViewportColumnEnd(t,e){const n=this.hot.columnIndexMapper,i=n.getVisualFromRenderableIndex(t.endColumn);for(let s=0;s<e;s+=1){const r=this.mergedCellsCollection.get(s,i);if(vn(r)){const i=r.col+r.colspan-1,s=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(i,-1));if(s>t.endColumn)return t.endColumn=s,void this.modifyViewportColumnEnd(t,e)}}}translateMergedCellToRenderable(t,e,n,i){const{rowIndexMapper:s,columnIndexMapper:r}=this.hot;let o,a;o=0===e?s.getNearestNotHiddenIndex(t,1):s.getNearestNotHiddenIndex(t+e-1,-1),a=0===i?r.getNearestNotHiddenIndex(n,1):r.getNearestNotHiddenIndex(n+i-1,-1);const l=t>=0?s.getRenderableFromVisualIndex(o):t,h=n>=0?r.getRenderableFromVisualIndex(a):n;return[l,h]}}function lV(){this.generateFromSettings(this.hot.getSettings()[tV]),this.hot.render()}function hV(t){if(t){const t=this.mergedCellsCollection.mergedCells,e=this.hot.getSelectedRangeLast(),n=e.getTopStartCorner(),i=e.getBottomEndCorner();for(let s=0;s<t.length;s+=1)if(n.row===t[s].row&&n.col===t[s].col&&i.row===t[s].row+t[s].rowspan-1&&i.col===t[s].col+t[s].colspan-1)return!1}return t}function cV(t){ZW(sV,this).row=t.row,ZW(sV,this).col=t.col}function dV(t){const e=this.hot.getSelectedRangeLast(),{highlight:n}=e,{columnIndexMapper:i,rowIndexMapper:s}=this.hot;ZW(iV,this)&&(null!==s.getRenderableFromVisualIndex(ZW(iV,this).row)&&(n.row=ZW(iV,this).row),null!==i.getRenderableFromVisualIndex(ZW(iV,this).col)&&(n.col=ZW(iV,this).col),JW(iV,this,null));const r=this.mergedCellsCollection.get(n.row,n.col);if(!r)return;const o=r.col,a=r.col+r.colspan-1;if(t.col<0){const e=n.col>=o&&n.col<=a?o-1:a,s=i.getNearestNotHiddenIndex(e,-1);t.col=null===s?-this.hot.view.countRenderableColumnsInRange(0,n.col):-Math.max(this.hot.view.countRenderableColumnsInRange(s,n.col)-1,1)}else if(t.col>0){const e=n.col>=o&&n.col<=a?a+1:o,s=i.getNearestNotHiddenIndex(e,1);t.col=null===s?this.hot.view.countRenderableColumnsInRange(n.col,this.hot.countCols()):Math.max(this.hot.view.countRenderableColumnsInRange(n.col,s)-1,1)}const l=r.row,h=r.row+r.rowspan-1;if(t.row<0){const e=n.row>=l&&n.row<=h?l-1:h,i=s.getNearestNotHiddenIndex(e,-1);t.row=null===i?-this.hot.view.countRenderableRowsInRange(0,n.row):-Math.max(this.hot.view.countRenderableRowsInRange(i,n.row)-1,1)}else if(t.row>0){const e=n.row>=l&&n.row<=h?h+1:l,i=s.getNearestNotHiddenIndex(e,1);t.row=null===i?this.hot.view.countRenderableRowsInRange(n.row,this.hot.countRows()):Math.max(this.hot.view.countRenderableRowsInRange(n.row,i)-1,1)}}function uV(t){const e=this.hot.getSelectedRangeLast(),n=e.clone(),{to:i}=e,{columnIndexMapper:s,rowIndexMapper:r}=this.hot,o=(t,e)=>{n.expand(this.hot._createCellCoords(t,e));for(let i=0;i<this.mergedCellsCollection.mergedCells.length;i+=1)n.expandByRange(this.mergedCellsCollection.mergedCells[i].getRange())};if(t.col<0){let r=this.mergedCellsCollection.getStartMostColumnIndex(e,i.col)+t.col;o(i.row,r),"E-W"===e.getHorizontalDirection()&&"E-W"===n.getHorizontalDirection()&&(r=n.getTopStartCorner().col);const a=s.getNearestNotHiddenIndex(r,1);null!==a&&(t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(a,i.col)-1,1))}else if(t.col>0){let r=this.mergedCellsCollection.getEndMostColumnIndex(e,i.col)+t.col;o(i.row,r),"W-E"===e.getHorizontalDirection()&&"W-E"===n.getHorizontalDirection()&&(r=n.getBottomEndCorner().col);const a=s.getNearestNotHiddenIndex(r,-1);null!==a&&(t.col=Math.max(this.hot.view.countRenderableColumnsInRange(i.col,a)-1,1))}if(t.row<0){let s=this.mergedCellsCollection.getTopMostRowIndex(e,i.row)+t.row;o(s,i.col),"S-N"===e.getVerticalDirection()&&"S-N"===n.getVerticalDirection()&&(s=n.getTopStartCorner().row);const a=r.getNearestNotHiddenIndex(s,1);null!==a&&(t.row=-Math.max(this.hot.view.countRenderableRowsInRange(a,i.row)-1,1))}else if(t.row>0){let s=this.mergedCellsCollection.getBottomMostRowIndex(e,i.row)+t.row;o(s,i.col),"N-S"===e.getVerticalDirection()&&"N-S"===n.getVerticalDirection()&&(s=n.getBottomStartCorner().row);const a=r.getNearestNotHiddenIndex(s,-1);null!==a&&(t.row=Math.max(this.hot.view.countRenderableRowsInRange(i.row,a)-1,1))}}function fV(){const t=this.hot.getSelectedRangeLast(),{highlight:e}=t;if(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader())return void JW(iV,this,e.clone());for(let i=0;i<this.mergedCellsCollection.mergedCells.length;i+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[i].getRange(),!1);for(let i=0;i<this.mergedCellsCollection.mergedCells.length;i+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[i].getRange(),!1);const n=this.mergedCellsCollection.get(e.row,e.col);JW(iV,this,e.clone()),n&&e.assign(n)}function mV(t,e){if(t<0||e<0)return;const n=this.mergedCellsCollection.get(t,e);if(!n)return;const{row:i,col:s,colspan:r,rowspan:o}=n;return[i,s,i+o-1,s+r-1]}function gV(t){t.items.push({name:"---------"},MW(this))}function pV(t,e,n){const i=this.mergedCellsCollection.get(e,n),s=vn(i)?_n(i):void 0;if(vn(s)){const{rowIndexMapper:t,columnIndexMapper:i}=this.hot,{row:r,col:o,colspan:a,rowspan:l}=s,[h,c]=this.translateMergedCellToRenderable(r,l,o,a),d=t.getRenderableFromVisualIndex(e),u=i.getRenderableFromVisualIndex(n),f=h-d+1,m=c-u+1;s.row=t.getNearestNotHiddenIndex(s.row,1),s.col=i.getNearestNotHiddenIndex(s.col,1),s.rowspan=Math.min(s.rowspan,f),s.colspan=Math.min(s.colspan,m)}eW(t,s,e,n)}function _V(){JW(iV,this,null)}function yV(){if(ZW(iV,this).isCell())return;const t=this.hot.getSelectedRangeLast(),e=t.getVerticalDirection(),n=t.getHorizontalDirection(),i=ZW(iV,this).clone().normalize();ZW(rV,this).setActiveNode(i.row,i.col),ZW(sV,this).row>0||ZW(sV,this).col>0?ZW(rV,this).setPrevNodeAsActive():("E-W"===n&&ZW(sV,this).col<0||"S-N"===e&&ZW(sV,this).row<0)&&ZW(rV,this).setNextNodeAsActive()}function wV(t,e){const n=this.hot.getSelectedRangeLast(),{columnIndexMapper:i,rowIndexMapper:s}=this.hot;let r=null,o=null;if(ZW(sV,this).col<0){const{rowEnd:t,colEnd:e}=ZW(rV,this).getPrevHorizontalNode();o=i.getNearestNotHiddenIndex(e,-1),r=s.getNearestNotHiddenIndex(t,-1)}else if(ZW(sV,this).col>0){const{rowStart:t,colStart:e}=ZW(rV,this).getNextHorizontalNode();o=i.getNearestNotHiddenIndex(e,1),r=s.getNearestNotHiddenIndex(t,1)}else if(ZW(sV,this).row<0){const{rowEnd:t,colEnd:e}=ZW(rV,this).getPrevVerticalNode();o=i.getNearestNotHiddenIndex(e,-1),r=s.getNearestNotHiddenIndex(t,-1)}else if(ZW(sV,this).row>0){const{rowStart:t,colStart:e}=ZW(rV,this).getNextVerticalNode();o=i.getNearestNotHiddenIndex(e,1),r=s.getNearestNotHiddenIndex(t,1)}if(null!==r||null!==o){const i=this.hot._createCellCoords(r,o),s=this.mergedCellsCollection.get(i.row,i.col),a=this.hot.selection.highlight.getFocus();t=i.row,e=i.col,s?n.highlight.assign({row:this.hot.rowIndexMapper.getNearestNotHiddenIndex(s.row,1),col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(s.col,1)}):n.highlight.assign(i),a.clear(),a.add(i).commit()}ZW(rV,this).setActiveNode(t,e),JW(sV,this,{row:0,col:0})}function vV(){const t=this.hot.getSelectedRangeLast();t.isHeader()||ZW(rV,this).buildFocusOrder(this.hot.getSelectedRangeLast())}function bV(t,e,n){const i=this.mergedCellsCollection.get(t,e);i&&(i.row!==t||i.col!==e?n.copyable=!1:(n.rowspan=i.rowspan,n.colspan=i.colspan))}function MV(t){const e=this.hot.countCols();this.modifyViewportRowStart(t,e),this.modifyViewportRowEnd(t,e)}function SV(t){const e=this.hot.countRows();this.modifyViewportColumnStart(t,e),this.modifyViewportColumnEnd(t,e)}function CV(t,e){this.autofillCalculations.correctSelectionAreaSize(e);const n=this.autofillCalculations.getDirection(e,t);let i=t;if(this.autofillCalculations.dragAreaOverlapsCollections(e,i,n))return i=e,i;const s=this.mergedCellsCollection.getWithinRange({from:{row:e[0],col:e[1]},to:{row:e[2],col:e[3]}});return s?(i=this.autofillCalculations.snapDragArea(e,i,n,s),i):i}function xV(t,e){this.mergedCellsCollection.shiftCollections("right",t,e)}function TV(t,e){this.mergedCellsCollection.shiftCollections("left",t,e)}function kV(t,e,n){"auto"!==n&&this.mergedCellsCollection.shiftCollections("down",t,e)}function LV(t,e){this.mergedCellsCollection.shiftCollections("up",t,e)}function EV(t,e){"Autofill.fill"===e&&this.autofillCalculations.recreateAfterDataPopulation(t)}function RV(t,e){if(e&&"area"===e){const e=this.hot.getSelectedRangeLast(),n=this.mergedCellsCollection.getWithinRange(e);T(n,(n=>{e.getBottomEndCorner().row===n.getLastRow()&&e.getBottomEndCorner().col===n.getLastColumn()&&(t[2]=n.row,t[3]=n.col)}))}}function AV(t,e,n,i){if(n)return this.selectionCalculations.getSelectedMergedCellClassName(t,e,n,i)}function DV(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function HV(t,e,n,i){if(!(i instanceof MouseEvent))return;const s=this.hot.getSelectedRangeLast(),r=this.mergedCellsCollection.getByRange(s);if(!r)return;const o=this.hot._createCellCoords(r.row,r.col),a=this.hot._createCellCoords(r.row+r.rowspan-1,r.col+r.colspan-1);return 0===this.hot.selection.getLayerLevel()&&s.isEqual(this.hot._createCellRange(o,o,a))}function PV(t,e){return function(n,i){const[,...s]=n,[,...r]=i;return function n(i){const o=t[i],a=e[i],l=s[i],h=r[i],c=a.multiColumnSorting,d=c.compareFunctionFactory?c.compareFunctionFactory:SC(a.type),u=d(o,a,c)(l,h);if(u===oC){const t=i+1;if("undefined"!==typeof e[t])return n(t)}return u}(0)}}function IV(){ci(Y`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously. 
    Only \`multiColumnSorting\` will work.`)}const OV="sort";function YV(t,e,n){const i=[];return!1===n||t.isColumnSorted(e)&&t.getNumberOfSortedColumns()>1&&i.push(`${OV}-${t.getIndexOfColumnInSortQueue(e)+1}`),i}function NV(t){const e=t.className.split(" "),n=new RegExp(`^${OV}-[0-9]{1,2}$`);return e.filter((t=>n.test(t)))}function FV(t,e,n){return e=jV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jV(t){var e=WV(t,"string");return"symbol"==typeof e?e:e+""}function WV(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}const VV="multiColumnSorting",BV=170,zV="columnSorting",UV=VV;bC(VV,PV);class $V extends YC{constructor(){super(...arguments),FV(this,"pluginKey",VV)}static get PLUGIN_KEY(){return VV}static get PLUGIN_PRIORITY(){return BV}isEnabled(){return super.isEnabled()}enablePlugin(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[zV]&&IV(),super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{const{highlight:t}=this.hot.getSelectedRangeLast();return-1===t.row&&t.col>=0&&this.sort(this.getNextSortConfig(t.col,HC)),!1},runOnlyIf:()=>{var t,e;const n=null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight;return n&&(null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.isSingle())&&this.hot.selection.isCellVisible(n)&&n.isHeader()},relativeToGroup:Gp,position:"before",group:UV})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(UV)}sort(t){super.sort(t)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(t){return super.getSortConfig(t)}setSortConfig(t){super.setSortConfig(t)}getNormalizedSortConfigs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?t:[t]}updateHeaderClasses(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];super.updateHeaderClasses(t,...n),le(t,NV(t)),!1!==this.enabled&&ae(t,YV(...n))}onUpdateSettings(t){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[zV]&&IV(),super.onUpdateSettings(t)}onAfterOnCellMouseDown(t,e){!1!==JS(e.row,e.col,t)&&this.wasClickableHeaderClicked(t,e.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(e.col),this.sort(this.getNextSortConfig(e.col,HC))):this.sort(this.getColumnNextConfig(e.col)))}}function GV(t,e,n){return e=KV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KV(t){var e=qV(t,"string");return"symbol"==typeof e?e:e+""}function qV(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}const XV="multipleSelectionHandles",JV=160;class ZV extends Eb{constructor(){super(...arguments),GV(this,"dragged",[]),GV(this,"lastSetCell",null)}static get PLUGIN_KEY(){return XV}static get PLUGIN_PRIORITY(){return JV}isEnabled(){return $n()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){const t=this,{rootElement:e}=this.hot;function n(e){if(1===t.dragged.length)return t.dragged.splice(0,t.dragged.length),!0;const n=t.dragged.indexOf(e);if(-1===n)return!1;0===n?t.dragged=t.dragged.slice(0,1):1===n&&(t.dragged=t.dragged.slice(-1))}this.eventManager.addEventListener(e,"touchstart",(e=>{let n;return oe(e.target,"topSelectionHandle-HitArea")?(n=t.hot.getSelectedRangeLast(),t.dragged.push("top"),t.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},e.preventDefault(),!1):oe(e.target,"bottomSelectionHandle-HitArea")?(n=t.hot.getSelectedRangeLast(),t.dragged.push("bottom"),t.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},e.preventDefault(),!1):void 0})),this.eventManager.addEventListener(e,"touchend",(e=>oe(e.target,"topSelectionHandle-HitArea")?(n.call(t,"top"),t.touchStartRange=void 0,e.preventDefault(),!1):oe(e.target,"bottomSelectionHandle-HitArea")?(n.call(t,"bottom"),t.touchStartRange=void 0,e.preventDefault(),!1):void 0)),this.eventManager.addEventListener(e,"touchmove",(e=>{const{rootDocument:n}=this.hot;let i,s,r,o,a,l;if(0===t.dragged.length)return;const h=n.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY);h&&h!==t.lastSetCell&&("TD"!==h.nodeName&&"TH"!==h.nodeName||(i=t.hot.getCoords(h),-1===i.col&&(i.col=0),s=t.hot.getSelectedRangeLast(),r=s.getWidth(),o=s.getHeight(),a=s.getDirection(),1===r&&1===o&&t.hot.selection.setRangeEnd(i),l=t.getCurrentRangeCoords(s,i,t.touchStartRange.direction,a,t.dragged[0]),null!==l.start&&t.hot.selection.setRangeStart(l.start),t.hot.selection.setRangeEnd(l.end),t.lastSetCell=h),e.preventDefault())}))}getCurrentRangeCoords(t,e,n,i,s){const r=t.getTopStartCorner(),o=t.getBottomEndCorner(),a=t.getBottomStartCorner(),l=t.getTopEndCorner();let h={start:null,end:null};switch(n){case"NE-SW":switch(i){case"NE-SW":case"NW-SE":h="top"===s?{start:this.hot._createCellCoords(e.row,t.highlight.col),end:this.hot._createCellCoords(a.row,e.col)}:{start:this.hot._createCellCoords(t.highlight.row,e.col),end:this.hot._createCellCoords(e.row,r.col)};break;case"SE-NW":"bottom"===s&&(h={start:this.hot._createCellCoords(o.row,e.col),end:this.hot._createCellCoords(e.row,r.col)});break;default:break}break;case"NW-SE":switch(i){case"NE-SW":"top"===s?h={start:e,end:a}:h.end=e;break;case"NW-SE":"top"===s?h={start:e,end:o}:h.end=e;break;case"SE-NW":"top"===s?h={start:e,end:r}:h.end=e;break;case"SW-NE":"top"===s?h={start:e,end:l}:h.end=e;break;default:break}break;case"SW-NE":switch(i){case"NW-SE":h="bottom"===s?{start:this.hot._createCellCoords(e.row,r.col),end:this.hot._createCellCoords(a.row,e.col)}:{start:this.hot._createCellCoords(r.row,e.col),end:this.hot._createCellCoords(e.row,o.col)};break;case"SW-NE":h="top"===s?{start:this.hot._createCellCoords(t.highlight.row,e.col),end:this.hot._createCellCoords(e.row,o.col)}:{start:this.hot._createCellCoords(e.row,r.col),end:this.hot._createCellCoords(r.row,e.col)};break;case"SE-NW":"bottom"===s?h={start:this.hot._createCellCoords(e.row,l.col),end:this.hot._createCellCoords(r.row,e.col)}:"top"===s&&(h={start:a,end:e});break;default:break}break;case"SE-NW":switch(i){case"NW-SE":case"NE-SW":case"SW-NE":"top"===s&&(h.end=e);break;case"SE-NW":"top"===s?h.end=e:h={start:e,end:r};break;default:break}break;default:break}return h}isDragged(){return this.dragged.length>0}}function QV(){let{label:t="",colspan:e=1,origColspan:n=1,collapsible:i=!1,crossHiddenColumns:s=[],isCollapsed:r=!1,isHidden:o=!1,isRoot:a=!1,isPlaceholder:l=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{label:t,colspan:e,origColspan:n,collapsible:i,isCollapsed:r,crossHiddenColumns:s,isHidden:o,isRoot:a,isPlaceholder:l}}function tB(){return{label:"",isPlaceholder:!0}}function eB(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=[];if(0===e)return n;T(t,(t=>{const i=[];let s=0;n.push(i),T(t,(t=>{const n=QV();if(vn(t)){const{label:e,colspan:i}=t;n.label=N(e),"number"===typeof i&&i>1&&(n.colspan=i,n.origColspan=i)}else n.label=N(t);s+=n.origColspan;let r=!1;if(s>=e&&(n.colspan=n.origColspan-(s-e),n.origColspan=n.colspan,r=!0),i.push(n),n.colspan>1)for(let e=0;e<n.colspan-1;e++)i.push(tB());return!r}))}));const i=Math.max(...x(n,(t=>t.length)));return T(n,(t=>{if(t.length<i){const e=x(new Array(i-t.length),(()=>QV()));t.splice(t.length,0,...e)}})),n}function nB(t,e,n){iB(t,e),e.set(t,n)}function iB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sB(t,e){return t.get(oB(t,e))}function rB(t,e,n){return t.set(oB(t,e),n),n}function oB(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const aB=["label","collapsible"];var lB=new WeakMap,hB=new WeakMap,cB=new WeakMap;class dB{constructor(){nB(this,lB,[]),nB(this,hB,0),nB(this,cB,1/0)}setColumnsLimit(t){rB(cB,this,t)}setData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];rB(lB,this,eB(t,sB(cB,this))),rB(hB,this,sB(lB,this).length)}getData(){return sB(lB,this)}mergeWith(t){T(t,(t=>{let{row:e,col:n,...i}=t;const s=this.getHeaderSettings(e,n);null!==s&&mn(s,i,aB)}))}map(t){T(sB(lB,this),(e=>{T(e,(e=>{const n=t({...e});vn(n)&&mn(e,n,aB)}))}))}getHeaderSettings(t,e){var n;if(t>=sB(hB,this)||t<0)return null;const i=sB(lB,this)[t];return!1===Array.isArray(i)||e>=i.length?null:null!==(n=i[e])&&void 0!==n?n:null}getHeadersSettings(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const i=[];if(t>=sB(hB,this)||t<0)return i;const s=sB(lB,this)[t];let r=0;for(let o=e;o<s.length;o++){const t=s[o];if(t.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(r+=t.colspan,i.push(t),t.colspan>1&&(o+=t.colspan-1),r===n)break;if(r>n)throw new Error("The last column settings cannot overlap the other header layers")}return i}getLayersCount(){return sB(hB,this)}getColumnsCount(){return sB(hB,this)>0?sB(lB,this)[0].length:0}clear(){rB(lB,this,[]),rB(hB,this,0)}}function uB(t,e,n){return e=fB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fB(t){var e=mB(t,"string");return"symbol"==typeof e?e:e+""}function mB(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}const gB="DF-pre-order";function pB(t,e){let n=t.call(e,this);for(let i=0;i<this.childs.length;i++){if(!1===n)return!1;n=pB.call(this.childs[i],t,e)}return n}const _B="DF-post-order";function yB(t,e){for(let n=0;n<this.childs.length;n++){const i=yB.call(this.childs[n],t,e);if(!1===i)return!1}return t.call(e,this)}const wB="BF";function vB(t,e){const n=[this];function i(){if(0===n.length)return;const s=n.shift();n.push(...s.childs),!1!==t.call(e,s)&&i()}i()}const bB=wB,MB=new Map([[gB,pB],[_B,yB],[wB,vB]]);class SB{constructor(t){uB(this,"data",{}),uB(this,"parent",null),uB(this,"childs",[]),this.data=t}addChild(t){t.parent=this,this.childs.push(t)}cloneTree(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;const e=new SB({...t.data});for(let n=0;n<t.childs.length;n++)e.addChild(this.cloneTree(t.childs[n]));return e}replaceTreeWith(t){this.data={...t.data},this.childs=[];for(let e=0;e<t.childs.length;e++)this.addChild(t.childs[e])}walkDown(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bB;if(!MB.has(e))throw new Error(`Traversal strategy "${e}" does not exist`);MB.get(e).call(this,t,this)}walkUp(t){const e=this,n=i=>{const s=t.call(e,i);!1!==s&&null!==i.parent&&n(i.parent)};n(this)}}function CB(t,e,n){xB(t,e),e.set(t,n)}function xB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function TB(t,e){return t.get(LB(t,e))}function kB(t,e,n){return t.set(LB(t,e),n),n}function LB(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var EB=new WeakMap,RB=new WeakMap,AB=new WeakMap;class DB{constructor(t){CB(this,EB,new Map),CB(this,RB,new Map),CB(this,AB,null),kB(AB,this,t)}getRoots(){return Array.from(TB(EB,this).values())}getRootByColumn(t){let e;return TB(RB,this).has(t)&&(e=TB(EB,this).get(TB(RB,this).get(t))),e}getNode(t,e){const n=this.getRootByColumn(e);if(!n)return;const i=e-TB(RB,this).get(e);let s,r=0;return n.walkDown((n=>{const{data:{origColspan:o,headerLevel:a}}=n;if(t===a){if(i>=r&&i<=r+o-1)return s=n,s.data.isRoot=e===s.data.columnIndex,!1;r+=o}})),s}rebuildTreeIndex(){let t=0;TB(RB,this).clear(),T(TB(EB,this),(e=>{let[,{data:{colspan:n}}]=e;for(let i=t;i<t+n;i++)TB(RB,this).set(i,t);t+=n}))}buildTree(){this.clear();const t=TB(AB,this).getColumnsCount();let e=0;while(e<t){const t=TB(AB,this).getHeaderSettings(0,e),n=new SB;TB(EB,this).set(e,n),this.buildLeaves(n,e,0,t.origColspan),e+=t.origColspan}this.rebuildTreeIndex()}buildLeaves(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=TB(AB,this).getHeadersSettings(n,e,i);n+=1,T(s,(i=>{const s={...i,headerLevel:n-1,columnIndex:e};let r;1===n?(t.data=s,r=t):(r=new SB(s),t.addChild(r)),n<TB(AB,this).getLayersCount()&&this.buildLeaves(r,e,n,i.origColspan),e+=i.origColspan}))}clear(){TB(EB,this).clear(),TB(RB,this).clear()}}function HB(t,e){t.walkDown((t=>{let{data:n,childs:i}=t;if(!n.isHidden&&(e(n.columnIndex),0===i.length))for(let s=1;s<n.colspan;s++)e(n.columnIndex+s)}))}function PB(t,e){let{childs:n}=t;if(0!==n.length)return n[0].data[e]}function IB(t){return PB(t,"origColspan")===t.data.origColspan}function OB(t){const{data:e,childs:n}=t;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};const i=IB(t);if(i)return OB(n[0]);e.isCollapsed=!1;const s=n.slice(1),r=new Set;let o=0;if(s.length>0)T(s,(t=>{t.replaceTreeWith(t.data.clonedTree),t.data.clonedTree=null;const e=t.data;o+=e.colspan,HB(t,(t=>{r.add(t)}))}));else{const{colspan:t,origColspan:n,columnIndex:i}=e;o=n-t;for(let e=1;e<n;e++)r.add(i+e)}return t.walkUp((t=>{const{data:e}=t;e.colspan+=o,e.colspan>=e.origColspan?(e.colspan=e.origColspan,e.isCollapsed=!1):IB(t)&&(e.isCollapsed=PB(t,"isCollapsed"))})),{rollbackModification:()=>YB(t),affectedColumns:Array.from(r),colspanCompensation:o}}function YB(t){var e;const{data:n,childs:i}=t;if(n.isCollapsed||n.isHidden||n.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};const s=IB(t);if(s)return YB(i[0]);n.isCollapsed=!0;const r=i.slice(1),o=new Set;if(r.length>0)T(r,(t=>{HB(t,(t=>{o.add(t)})),t.data.clonedTree=t.cloneTree(),t.walkDown((t=>{let{data:e}=t;e.isHidden=!0}))}));else{const{origColspan:t,columnIndex:e}=n;for(let n=1;n<t;n++){const t=e+n;o.add(t)}}const a=n.colspan-(null!==(e=PB(t,"colspan"))&&void 0!==e?e:1);return t.walkUp((t=>{const{data:e}=t;e.colspan-=a,e.colspan<=1?(e.colspan=1,e.isCollapsed=!0):IB(t)&&(e.isCollapsed=PB(t,"isCollapsed"))})),{rollbackModification:()=>OB(t),affectedColumns:Array.from(o),colspanCompensation:a}}function NB(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(Y`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(n.includes(e))return;let i=!1;t.walkUp((t=>{const{data:{collapsible:e}}=t;if(e)return i=!0,!1})),i||t.walkUp((t=>{const{data:n}=t;n.crossHiddenColumns.push(e),n.colspan>1?n.colspan-=1:n.isHidden=!0}))}function FB(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(Y`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(!n.includes(e))return;let i=!1;t.walkUp((t=>{const{data:{collapsible:e}}=t;if(e)return i=!0,!1})),i||t.walkUp((t=>{const{data:n}=t;n.crossHiddenColumns.splice(n.crossHiddenColumns.indexOf(e),1),!n.isHidden&&n.colspan<n.origColspan&&(n.colspan+=1),n.isHidden=!1}))}const jB=new Map([["collapse",YB],["expand",OB],["hide-column",NB],["show-column",FB]]);function WB(t,e,n){if(!jB.has(t))throw new Error(`The node modifier action ("${t}") does not exist.`);return jB.get(t)(e,n)}function VB(t){const e=[];return T(t,(t=>{t.walkDown((t=>{const n=t.data,{origColspan:i,columnIndex:s,headerLevel:r,crossHiddenColumns:o}=n,a=zB(e,r);let l=!1;for(let e=s;e<s+i;e++){const t=o.includes(e);if(t||l)a.push(tB(n));else{const t=BB(n);t.isRoot=!0,a.push(t),l=!0}}}))})),e}function BB(t){const{crossHiddenColumns:e,...n}=QV(t);return n}function zB(t,e){let n;return Array.isArray(t[e])?n=t[e]:(n=[],t[e]=n),n}function UB(t,e,n){$B(t,e),e.set(t,n)}function $B(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function GB(t,e,n){return t.set(qB(t,e),n),n}function KB(t,e){return t.get(qB(t,e))}function qB(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var XB=new WeakMap,JB=new WeakMap,ZB=new WeakMap;class QB{constructor(){UB(this,XB,new dB),UB(this,JB,new DB(KB(XB,this))),UB(this,ZB,[[]])}setState(t){KB(XB,this).setData(t);let e=!1;try{KB(JB,this).buildTree()}catch(n){KB(JB,this).clear(),KB(XB,this).clear(),e=!0}return GB(ZB,this,VB(KB(JB,this).getRoots())),e}setColumnsLimit(t){KB(XB,this).setColumnsLimit(t)}mergeStateWith(t){const e=x(t,(t=>{let{row:e,...n}=t;return{row:e<0?this.rowCoordsToLevel(e):e,...n}}));KB(XB,this).mergeWith(e),KB(JB,this).buildTree(),GB(ZB,this,VB(KB(JB,this).getRoots()))}mapState(t){KB(XB,this).map(t),KB(JB,this).buildTree(),GB(ZB,this,VB(KB(JB,this).getRoots()))}mapNodes(t){return S(KB(JB,this).getRoots(),((e,n)=>(n.walkDown((n=>{const i=t(n.data);void 0!==i&&e.push(i)})),e)),[])}triggerNodeModification(t,e,n){e<0&&(e=this.rowCoordsToLevel(e));const i=KB(JB,this).getNode(e,n);let s;return i&&(s=WB(t,i,n),GB(ZB,this,VB(KB(JB,this).getRoots()))),s}triggerColumnModification(t,e){return this.triggerNodeModification(t,-1,e)}rowCoordsToLevel(t){if(t>=0)return null;const e=t+Math.max(this.getLayersCount(),1);return e<0?null:e}levelToRowCoords(t){if(t<0)return null;const e=t-Math.max(this.getLayersCount(),1);return e>=0?null:e}getHeaderSettings(t,e){var n,i;return t<0&&(t=this.rowCoordsToLevel(t)),null===t||t>=this.getLayersCount()?null:null!==(n=null===(i=KB(ZB,this)[t])||void 0===i?void 0:i[e])&&void 0!==n?n:null}getHeaderTreeNodeData(t,e){const n=this.getHeaderTreeNode(t,e);return n?{...n.data}:null}getHeaderTreeNode(t,e){if(t<0&&(t=this.rowCoordsToLevel(t)),null===t||t>=this.getLayersCount())return null;const n=KB(JB,this).getNode(t,e);return n||null}findTopMostEntireHeaderLevel(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const i=n-t+1;let s=!1,r=null;for(let o=t;o<=n;o++){const e=KB(JB,this).getRootByColumn(o);if(!e)break;s=!0,e.walkDown((e=>{const{columnIndex:s,headerLevel:o,origColspan:a,isHidden:l}=e.data;l||a<=i&&s>=t&&s+a-1<=n&&(null===r||o<r)&&(r=o)}),gB)}return s&&null===r?-1:this.levelToRowCoords(null!==(e=r)&&void 0!==e?e:0)}findLeftMostColumnIndex(t,e){var n;const{isRoot:i}=null!==(n=this.getHeaderSettings(t,e))&&void 0!==n?n:{isRoot:!0};if(i)return e;let s=e-1;while(s>=0){var r;const{isRoot:e}=null!==(r=this.getHeaderSettings(t,s))&&void 0!==r?r:{isRoot:!0};if(e)break;s-=1}return s}findRightMostColumnIndex(t,e){var n;const{isRoot:i,origColspan:s}=null!==(n=this.getHeaderSettings(t,e))&&void 0!==n?n:{isRoot:!0,origColspan:1};if(i)return e+s-1;let r=e+1;while(r<this.getColumnsCount()){var o;const{isRoot:e}=null!==(o=this.getHeaderSettings(t,r))&&void 0!==o?o:{isRoot:!0};if(e)break;r+=1}return r-1}getLayersCount(){return KB(XB,this).getLayersCount()}getColumnsCount(){return KB(XB,this).getColumnsCount()}clear(){GB(ZB,this,[]),KB(XB,this).clear(),KB(JB,this).clear()}}function tz(t,e,n){return e=ez(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ez(t){var e=nz(t,"string");return"symbol"==typeof e?e:e+""}function nz(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class iz{constructor(t,e){tz(this,"hot",void 0),tz(this,"nestedHeaderSettingsGetter",void 0),tz(this,"layersCount",0),tz(this,"container",void 0),tz(this,"widthsMap",void 0),this.hot=t,this.nestedHeaderSettingsGetter=e,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(t){return this.layersCount=t,this}getWidth(t){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(t))}buildWidthsMap(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);const t=this.container.querySelectorAll("tr:last-of-type th"),e=t.length;this.widthsMap.clear();for(let n=0;n<e;n++){const e=this.hot.columnIndexMapper.getVisualFromRenderableIndex(n),i=this.hot.toPhysicalColumn(e);this.widthsMap.setValueAtIndex(i,t[n].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(t){const{rootDocument:e,columnIndexMapper:n}=this.hot,i=e.createDocumentFragment(),s=e.createElement("table"),r=!!this.hot.getSettings().dropdownMenu,o=n.getRenderableIndexesLength();for(let a=0;a<this.layersCount;a++){const t=e.createElement("tr");for(let i=0;i<o;i++){let s=n.getVisualFromRenderableIndex(i);null===s&&(s=i);const o=e.createElement("th"),l=this.nestedHeaderSettingsGetter(a,s);if(l&&(!l.isPlaceholder||l.isHidden)){let e=l.label;r&&(e+='<button class="changeType"></button>'),me(o,e),o.colSpan=l.colspan,t.appendChild(o)}}s.appendChild(t)}i.appendChild(s),t.appendChild(i)}clear(){this.widthsMap.clear(),this.container=null}}var sz=iz;function rz(t,e){cz(t,e),e.add(t)}function oz(t,e,n){return e=az(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function az(t){var e=lz(t,"string");return"symbol"==typeof e?e:e+""}function lz(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function hz(t,e,n){cz(t,e),e.set(t,n)}function cz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dz(t,e,n){return t.set(fz(t,e),n),n}function uz(t,e){return t.get(fz(t,e))}function fz(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const mz="nestedHeaders",gz=280;var pz=new WeakMap,_z=new WeakMap,yz=new WeakMap,wz=new WeakMap,vz=new WeakSet;class bz extends Eb{constructor(){super(...arguments),rz(this,vz),hz(this,pz,new QB),hz(this,_z,null),hz(this,yz,null),hz(this,wz,!1),oz(this,"ghostTable",new sz(this.hot,((t,e)=>this.getHeaderSettings(t,e)))),oz(this,"detectedOverlappedHeaders",!1)}static get PLUGIN_KEY(){return mz}static get PLUGIN_PRIORITY(){return gz}isEnabled(){return!!this.hot.getSettings()[mz]}enablePlugin(){var t=this;if(this.enabled)return;const{nestedHeaders:e}=this.hot.getSettings();Array.isArray(e)&&Array.isArray(e[0])||ci(Y`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",(()=>fz(vz,this,Nz).call(this))),this.addHook("afterLoadData",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Fz).call(t,...n)})),this.addHook("beforeOnCellMouseDown",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Tz).call(t,...n)})),this.addHook("afterOnCellMouseDown",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,kz).call(t,...n)})),this.addHook("beforeOnCellMouseOver",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Lz).call(t,...n)})),this.addHook("beforeOnCellMouseUp",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Ez).call(t,...n)})),this.addHook("beforeSelectionHighlightSet",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Rz).call(t,...n)})),this.addHook("modifyTransformStart",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Az).call(t,...n)})),this.addHook("afterSelection",(()=>fz(vz,this,Mz).call(this))),this.addHook("afterSelectionFocusSet",(()=>fz(vz,this,Mz).call(this))),this.addHook("beforeViewportScrollHorizontally",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Sz).call(t,...n)})),this.addHook("afterGetColumnHeaderRenderers",(t=>fz(vz,this,Hz).call(this,t))),this.addHook("modifyColWidth",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Iz).call(t,...n)})),this.addHook("modifyColumnHeaderValue",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Oz).call(t,...n)})),this.addHook("beforeHighlightingColumnHeader",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Cz).call(t,...n)})),this.addHook("beforeCopy",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,xz).call(t,...n)})),this.addHook("beforeSelectColumns",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Dz).call(t,...n)})),this.addHook("afterViewportColumnCalculatorOverride",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Pz).call(t,...n)})),this.addHook("modifyFocusedElement",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return fz(vz,t,Yz).call(t,...n)})),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",(()=>fz(vz,this,Mz).call(this))),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",(()=>fz(vz,this,Mz).call(this))),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;const{nestedHeaders:t}=this.hot.getSettings();uz(pz,this).setColumnsLimit(this.hot.countCols()),Array.isArray(t)&&(this.detectedOverlappedHeaders=uz(pz,this).setState(t)),this.detectedOverlappedHeaders&&ci(Y`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach(((t,e)=>{const n=!0===t?"hide-column":"show-column";uz(pz,this).triggerColumnModification(n,e)})),!uz(_z,this)&&this.enabled&&dz(_z,this,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe((t=>{t.forEach((t=>{let{op:e,index:n,newValue:i}=t;if("replace"===e){const t=!0===i?"hide-column":"show-column";uz(pz,this).triggerColumnModification(t,n)}})),this.ghostTable.buildWidthsMap()}))),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.clearColspans(),uz(pz,this).clear(),uz(_z,this).unsubscribe(),dz(_z,this,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return uz(pz,this)}getLayersCount(){return uz(pz,this).getLayersCount()}getHeaderSettings(t,e){return uz(pz,this).getHeaderSettings(t,e)}clearColspans(){if(!this.hot.view)return;const{_wt:t}=this.hot.view,e=t.getSetting("columnHeaders").length,n=t.wtTable.THEAD,i=t.wtOverlays.topOverlay.clone.wtTable.THEAD,s=t.wtOverlays.topInlineStartCornerOverlay?t.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let r=0;r<e;r++){const t=n.childNodes[r];if(!t)break;const e=i.childNodes[r],o=s?s.childNodes[r]:null;for(let n=0,i=t.childNodes.length;n<i;n++)t.childNodes[n].removeAttribute("colspan"),le(t.childNodes[n],"hiddenHeader"),e&&e.childNodes[n]&&(e.childNodes[n].removeAttribute("colspan"),le(e.childNodes[n],"hiddenHeader")),s&&o&&o.childNodes[n]&&(o.childNodes[n].removeAttribute("colspan"),le(o.childNodes[n],"hiddenHeader"))}}headerRendererFactory(t){var e=this;const n=this.hot.view._wt.getSetting("fixedColumnsStart");return(i,s)=>{var r;const{columnIndexMapper:o,view:a}=this.hot;let l=o.getVisualFromRenderableIndex(i);null===l&&(l=i),s.removeAttribute("colspan"),le(s,"hiddenHeader");const{colspan:h,isHidden:c,isPlaceholder:d}=null!==(r=uz(pz,this).getHeaderSettings(t,l))&&void 0!==r?r:{label:""};if(d||c)ae(s,"hiddenHeader");else if(h>1){var u,f;const{wtOverlays:t}=a._wt,e=null===(u=t.topInlineStartCornerOverlay)||void 0===u?void 0:u.clone.wtTable.THEAD.contains(s),r=null===(f=t.inlineStartOverlay)||void 0===f?void 0:f.clone.wtTable.THEAD.contains(s),o=e||r?Math.min(h,n-i):h;o>1&&s.setAttribute("colspan",o)}this.hot.view.appendColHeader(l,s,(function(){return e.getColumnHeaderValue(...arguments)}),t)}}getColumnHeaderValue(t,e){var n;const{isHidden:i,isPlaceholder:s}=null!==(n=uz(pz,this).getHeaderSettings(e,t))&&void 0!==n?n:{};return s||i?"":this.hot.getColHeader(t,e)}destroy(){dz(pz,this,null),null!==uz(_z,this)&&(uz(_z,this).unsubscribe(),dz(_z,this,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(t){if(!(t.row>=0||t.col<0))return uz(pz,this).getHeaderTreeNodeData(t.row,t.col)}}function Mz(){var t;const e=null===(t=this.hot)||void 0===t?void 0:t.getSelectedRangeLast();if(!e)return;const{highlight:n}=e,i=n.isHeader()&&n.col>=0;if(i){const t=uz(pz,this).findLeftMostColumnIndex(n.row,n.col),e=this.hot.selection.highlight.getFocus();e.visualCellRange.highlight.col=t,e.visualCellRange.from.col=t,e.visualCellRange.to.col=t,e.commit()}}function Sz(t){const e=this.hot.getSelectedRangeLast();if(!e)return t;const{highlight:n}=e,i=n.isHeader()&&n.col>=0;if(!i)return t;const s=this.hot.view.getFirstFullyVisibleColumn(),r=this.hot.view.getLastFullyVisibleColumn(),o=uz(pz,this).findLeftMostColumnIndex(n.row,n.col),a=uz(pz,this).findRightMostColumnIndex(n.row,n.col);return o<s&&a>r?t:o<s?o:a}function Cz(t,e,n){const i=uz(pz,this).getHeaderTreeNodeData(e,t);if(!i)return t;const{columnCursor:s,selectionType:r,selectionWidth:o}=n,{isRoot:a,colspan:l}=uz(pz,this).getHeaderSettings(e,t);if(r===om){if(!a)return i.columnIndex}else if(r===rm&&(l>o-s||!a))return null;return t}function xz(t,e,n){let{columnHeadersCount:i}=n;if(0!==i)for(let r=0;r<e.length;r++){const{startRow:n,startCol:i,endRow:o,endCol:a}=e[r],l=o-n+1,h=i-a+1;if(n>=0||1===h)break;for(let e=i;e<=a;e++)for(let r=n;r<=o;r++){var s;const n=l+r,o=e-i;if(0===o)continue;const a=null===(s=uz(pz,this).getHeaderTreeNodeData(r,e))||void 0===s?void 0:s.isRoot;!1===a&&(t[n][o]="")}}}function Tz(t,e,n,i){const s=this._getHeaderTreeNodeDataByCoords(e);s&&(i.column=!0)}function kz(t,e){const n=this._getHeaderTreeNodeDataByCoords(e);if(!n)return;dz(yz,this,e.clone()),dz(wz,this,!0);const{selection:i}=this.hot,s=i.isSelected()?i.getSelectedRange().current():null,r=[],{columnIndex:o,origColspan:a}=n,l=!i.inInSelection(e);t.shiftKey&&s?e.col<s.from.col?r.push(s.getTopEndCorner().col,o,e.row):e.col>s.from.col?r.push(s.getTopStartCorner().col,o+a-1,e.row):r.push(o,o+a-1,e.row):(li(t)||ai(t)&&l)&&r.push(o,o+a-1,e.row),i.selectColumns(...r)}function Lz(t,e,n,i){if(!this.hot.view.isMouseDown())return;const s=this._getHeaderTreeNodeDataByCoords(e);if(!s)return;const{columnIndex:r,origColspan:o}=s,a=this.hot.getSelectedRangeLast(),l=a.getTopStartCorner(),h=a.getBottomEndCorner(),{from:c}=a;i.column=!0,i.cell=!0;const d=[],u=As(e.row,-1/0,-1);e.col<c.col?d.push(h.col,r,u):e.col>c.col?d.push(l.col,r+o-1,u):d.push(r,r+o-1,u),this.hot.selection.selectColumns(...d)}function Ez(){dz(wz,this,!1)}function Rz(){const{navigableHeaders:t}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!uz(wz,this)||!t)return;const e=this.hot.getSelectedRangeLast(),n=e.getTopStartCorner().col,i=e.getBottomEndCorner().col,{columnIndex:s,origColspan:r}=uz(pz,this).getHeaderTreeNodeData(uz(yz,this).row,uz(yz,this).col);if(e.setHighlight(uz(yz,this)),r>e.getWidth()||s<n||s+r-1>i){const t=uz(pz,this).findTopMostEntireHeaderLevel(As(n,s,s+r-1),As(i,s,s+r-1));e.highlight.row=t,e.highlight.col=e.from.col}}function Az(t){const{highlight:e}=this.hot.getSelectedRangeLast(),n=this.hot._createCellCoords(e.row+t.row,e.col+t.col),i=n.isHeader()&&n.col>=0;if(!i)return;const s=uz(pz,this).findLeftMostColumnIndex(n.row,n.col),r=uz(pz,this).findRightMostColumnIndex(n.row,n.col);if(t.col<0){const n=e.col>=s&&e.col<=r?s-1:r,i=this.hot.columnIndexMapper.getNearestNotHiddenIndex(n,-1);t.col=null===i?-this.hot.view.countRenderableColumnsInRange(0,e.col):-Math.max(this.hot.view.countRenderableColumnsInRange(i,e.col)-1,1)}else if(t.col>0){const n=e.col>=s&&e.col<=r?r+1:s,i=this.hot.columnIndexMapper.getNearestNotHiddenIndex(n,1);t.col=null===i?this.hot.view.countRenderableColumnsInRange(e.col,this.hot.countCols()):Math.max(this.hot.view.countRenderableColumnsInRange(e.col,i)-1,1)}}function Dz(t,e){const n=t.row,i=this._getHeaderTreeNodeDataByCoords({row:n,col:t.col}),s=this._getHeaderTreeNodeDataByCoords({row:n,col:e.col});e.col<t.col?(i&&(t.col=i.columnIndex+i.origColspan-1),s&&(e.col=s.columnIndex)):e.col>=t.col&&(i&&(t.col=i.columnIndex),s&&(e.col=s.columnIndex+s.origColspan-1))}function Hz(t){t.length=0;for(let e=0;e<uz(pz,this).getLayersCount();e++)t.push(this.headerRendererFactory(e))}function Pz(t){const e=uz(pz,this).getLayersCount();let n=t.startColumn,i=!!e;for(let s=0;s<e;s++){const e=uz(pz,this).findLeftMostColumnIndex(s,t.startColumn),r=this.hot.columnIndexMapper.getRenderableFromVisualIndex(e);if(e>=0&&(i=!1),Ts(r)&&r<t.startColumn){n=r;break}}t.startColumn=i?uz(pz,this).getHeaderTreeNodeData(0,n).columnIndex:n}function Iz(t,e){const n=this.ghostTable.getWidth(e);return t>n?t:n}function Oz(t,e,n){var i;const{label:s}=null!==(i=uz(pz,this).getHeaderTreeNodeData(n,e))&&void 0!==i?i:{label:""};return s}function Yz(t,e){if(t<0)return this.hot.getCell(t,uz(pz,this).findLeftMostColumnIndex(t,e),!0)}function Nz(){this.updatePlugin()}function Fz(t,e){e||this.updatePlugin()}function jz(t,e,n){return e=Wz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wz(t){var e=Vz(t,"string");return"symbol"==typeof e?e:e+""}function Vz(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Bz{constructor(t,e){jz(this,"hot",void 0),jz(this,"data",null),jz(this,"plugin",void 0),jz(this,"parentReference",new WeakMap),jz(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=e,this.plugin=t}setData(t){this.data=t}getData(){return this.data}getRawSourceData(){let t=null;return this.plugin.disableCoreAPIModifiers(),t=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),t}updateWithData(t){this.setData(t),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Ls(0,this.data.length-1,(t=>{this.cacheNode(this.data[t],0,null)}))}cacheNode(t,e,n){this.cache.levels[e]||(this.cache.levels[e]=[],this.cache.levelCount+=1),this.cache.levels[e].push(t),this.cache.rows.push(t),this.cache.nodeInfo.set(t,{parent:n,row:this.cache.rows.length-1,level:e}),this.hasChildren(t)&&T(t.__children,(n=>{this.cacheNode(n,e+1,t)}))}getDataObject(t){return null===t||void 0===t?null:this.cache.rows[t]}readTreeNodes(t,e,n,i){let s=!1,r=e;if(isNaN(r)&&r.end)return r;let o=t;return o||(o={__children:this.data},s=!0,r-=1),null!==n&&void 0!==n&&r===n?{result:o,end:!0}:null!==i&&void 0!==i&&o===i?{result:r,end:!0}:(r+=1,o.__children&&T(o.__children,(t=>{if(this.parentReference.set(t,s?null:o),r=this.readTreeNodes(t,r,n,i),isNaN(r)&&r.end)return!1})),r)}mockParent(){const t=this.mockNode();return t.__children=this.data,t}mockNode(){const t={};return Mn(this.data[0],((e,n)=>{t[n]=null})),t}getRowIndex(t){return null===t||void 0===t?null:this.cache.nodeInfo.get(t).row}getRowIndexWithinParent(t){let e=null;e=isNaN(t)?t:this.getDataObject(t);const n=this.getRowParent(t);return null===n||void 0===n?this.data.indexOf(e):n.__children.indexOf(e)}countAllRows(){const t={__children:this.data};return this.countChildren(t)}countChildren(t){let e=0,n=t;return isNaN(n)||(n=this.getDataObject(n)),n&&n.__children?(T(n.__children,(t=>{e+=1,t.__children&&(e+=this.countChildren(t))})),e):0}getRowParent(t){let e;return e=isNaN(t)?t:this.getDataObject(t),this.getRowObjectParent(e)}getRowObjectParent(t){return t&&"object"===typeof t?this.cache.nodeInfo.get(t).parent:null}getRowLevel(t){let e=null;return e=isNaN(t)?t:this.getDataObject(t),e?this.getRowObjectLevel(e):null}getRowObjectLevel(t){return null===t||void 0===t?null:this.cache.nodeInfo.get(t).level}hasChildren(t){let e=t;return isNaN(e)||(e=this.getDataObject(e)),!(!e.__children||!e.__children.length)}isChild(t){return null!==this.getRowParent(t)}getChild(t,e){var n;return(null===(n=t.__children)||void 0===n?void 0:n[e])||null}isRowHighestLevel(t){return!this.isChild(t)}isParent(t){var e;let n=t;return isNaN(n)||(n=this.getDataObject(n)),n&&!!n.__children&&0!==(null===(e=n.__children)||void 0===e?void 0:e.length)}addChild(t,e){let n=e;this.hot.runHooks("beforeAddChild",t,n);let i=null;t&&(i=this.getRowIndex(t)),this.hot.runHooks("beforeCreateRow",i+this.countChildren(t)+1,1);let s=t;t||(s=this.mockParent()),s.__children||(s.__children=[]),n||(n=this.mockNode()),s.__children.push(n),this.rewriteCache();const r=this.getRowIndex(n);this.hot.rowIndexMapper.insertIndexes(r,1),this.hot.runHooks("afterCreateRow",r,1),this.hot.runHooks("afterAddChild",t,n)}addChildAtIndex(t,e,n){let i,s=n;if(s||(s=this.mockNode()),this.hot.runHooks("beforeAddChild",t,s,e),t){const n=this.getRowIndex(t),r=n+e+1;this.hot.runHooks("beforeCreateRow",r,1),t.__children.splice(e,null,s),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(t),"__children",t.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(r,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",r,1),i=r}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",e,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),i=this.getRowIndex(this.data[e]);s=this.getDataObject(i),this.hot.runHooks("afterAddChild",t,s,e)}addSibling(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"below";const n=this.translateTrimmedRow(t),i=this.getRowParent(n),s=this.getRowIndexWithinParent(n);switch(e){case"below":this.addChildAtIndex(i,s+1,null);break;case"above":this.addChildAtIndex(i,s,null);break;default:break}}detachFromParent(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=null;const i=[];Array.isArray(t)?(Ls(t[0],t[2],(t=>{const e=this.translateTrimmedRow(t);i.push(this.getDataObject(e))})),Ls(0,i.length-2,(t=>{this.detachFromParent(i[t],!1)})),n=i[i.length-1]):n=t;const s=this.getRowIndex(n),r=this.countChildren(n),o=this.getRowIndexWithinParent(n),a=this.getRowParent(n),l=this.getRowParent(a),h=this.getRowIndex(l);let c=null;if(this.hot.runHooks("beforeDetachChild",a,n),null!==o&&void 0!==o){const t=Array.from(new Array(s+r+1).keys()).splice(-1*(r+1));if(this.hot.runHooks("beforeRemoveRow",s,r+1,t,this.plugin.pluginName),a.__children.splice(o,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",s,r+1,t,this.plugin.pluginName),l){c=h+this.countChildren(l);const t=this.getChild(l,this.countChildren(l)-1),e=this.getRowIndex(t);this.hot.runHooks("beforeCreateRow",e+1,r+1,this.plugin.pluginName),l.__children.push(n)}else c=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",c-2,r+1,this.plugin.pluginName),this.data.push(n)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",c-2,r+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",a,n,this.getRowIndex(n)),e&&this.hot.render()}filterData(t,e,n){const i=[];T(n,(t=>{i.push(this.getDataObject(t))})),T(i,(t=>{const e=this.getRowIndexWithinParent(t),n=this.getRowParent(t);null===n?this.data.splice(e,1):n.__children.splice(e,1)})),this.rewriteCache()}spliceData(t,e,n){const i=this.getDataObject(t-1);let s=null,r=t;i&&i.__children&&0===i.__children.length?(s=i,r=0):t<this.countAllRows()&&(s=this.getRowParent(t),r=this.getRowIndexWithinParent(t)),s?n?s.__children.splice(r,e,...n):s.__children.splice(r,e):n?this.data.splice(r,e,...n):this.data.splice(r,e),this.rewriteCache()}syncRowWithRawSource(t){let e=t,n=null;do{n=this.getRowParent(n),null!==n&&(e=n)}while(null!==n);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(e),"__children",e.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(t,e,n,i){const s=e===this.hot.countRows(),r=this.getRowParent(t),o=this.getRowIndexWithinParent(t),a=r.__children.slice(o,o+1),l=t>e;let h=s?this.getRowParent(e-1):this.getRowParent(e);null!==h&&void 0!==h||(h=this.getRowParent(e-1)),null!==h&&void 0!==h||(h=this.getDataObject(e-1)),h?h.__children||(h.__children=[]):(h=this.getDataObject(e),h.__children=[]);const c=s||n||i?h.__children.length:this.getRowIndexWithinParent(e),d=r===h;h.__children.splice(c,0,a[0]),r.__children.splice(o+(l&&d?1:0),1),this.syncRowWithRawSource(r),d||this.syncRowWithRawSource(h)}translateTrimmedRow(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(t):t}untranslateTrimmedRow(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(t):t}}var zz=Bz;function Uz(t,e,n){return e=$z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $z(t){var e=Gz(t,"string");return"symbol"==typeof e?e:e+""}function Gz(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class Kz{constructor(t,e){Uz(this,"hot",void 0),Uz(this,"plugin",void 0),this.hot=e,this.plugin=t}}var qz=Kz;class Xz extends qz{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(t,e){super(t,e),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(t,e){const n=this.hot.toPhysicalRow(t),i=this.dataManager.getRowLevel(n),s=this.dataManager.getDataObject(n),r=e.getElementsByTagName("DIV")[0],o=r.querySelector("span.rowHeader"),a=r.querySelectorAll('[class^="ht_nesting"]'),l=this.hot.getSettings().ariaTags;if(T(a,(t=>{t&&r.removeChild(t)})),ae(e,Xz.CSS_CLASSES.indicatorContainer),i){const{rootDocument:t}=this.hot,e=o.cloneNode(!0);r.innerHTML="",Ls(0,i-1,(()=>{const e=t.createElement("SPAN");ae(e,Xz.CSS_CLASSES.emptyIndicator),r.appendChild(e)})),r.appendChild(e)}if(this.dataManager.hasChildren(s)){const t=this.hot.rootDocument.createElement("DIV");l&&he(t,[kt()]),ae(e,Xz.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(n)?(ae(t,`${Xz.CSS_CLASSES.button} ${Xz.CSS_CLASSES.expandButton}`),l&&he(e,[It(!1)])):(ae(t,`${Xz.CSS_CLASSES.button} ${Xz.CSS_CLASSES.collapseButton}`),l&&he(e,[It(!0)])),r.appendChild(t)}}updateRowHeaderWidth(t){let e=t;e||(e=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*e+25),this.hot.render()}}var Jz=Xz;class Zz extends qz{constructor(t,e){var n;super(t,e),n=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.lastCollapsedRows=n.collapsedRows.slice(0),n.expandMultipleChildren(n.lastCollapsedRows,t)},shiftStash:function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null!==e&&void 0!==e||(e=1/0),T(n.lastCollapsedRows,((s,r)=>{s>=t&&s<e&&(n.lastCollapsedRows[r]=s+i)}))},applyStash:function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.collapseMultipleChildren(n.lastCollapsedRows,t),n.lastCollapsedRows=void 0},trimStash:(t,e)=>{Ls(t,t+e-1,(t=>{const e=this.lastCollapsedRows.indexOf(t);e>-1&&this.lastCollapsedRows.splice(e,1)}))}}}collapseChildren(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=[];let s=null,r=null,o=null;return isNaN(t)?(s=t,r=this.dataManager.getRowIndex(s)):(s=this.dataManager.getDataObject(t),r=t),this.dataManager.hasChildren(s)&&T(s.__children,(t=>{i.push(this.dataManager.getRowIndex(t))})),o=this.collapseRows(i,!0,!1),n&&this.trimRows(o),e&&this.renderAndAdjust(),-1===this.collapsedRows.indexOf(r)&&this.collapsedRows.push(r),o}collapseMultipleChildren(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=[];T(t,(t=>{i.push(...this.collapseChildren(t,!1,!1))})),n&&this.trimRows(i),e&&this.renderAndAdjust()}collapseRow(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.collapseRows([t],e)}collapseRows(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=[];return T(t,(t=>{i.push(t),e&&this.collapseChildRows(t,i)})),n&&this.trimRows(i),i}collapseChildRows(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(t)){const n=this.dataManager.getDataObject(t);T(n.__children,(t=>{const n=this.dataManager.getRowIndex(t);e.push(n),this.collapseChildRows(n,e)}))}n&&this.trimRows(e)}expandRow(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.expandRows([t],e)}expandRows(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=[];return T(t,(t=>{i.push(t),e&&this.expandChildRows(t,i)})),n&&this.untrimRows(i),i}expandChildRows(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(t)){const n=this.dataManager.getDataObject(t);T(n.__children,(t=>{if(!this.isAnyParentCollapsed(t)){const n=this.dataManager.getRowIndex(t);e.push(n),this.expandChildRows(n,e)}}))}n&&this.untrimRows(e)}expandChildren(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=[];let s=null,r=null,o=null;return isNaN(t)?(s=t,r=this.dataManager.getRowIndex(t)):(s=this.dataManager.getDataObject(t),r=t),this.collapsedRows.splice(this.collapsedRows.indexOf(r),1),this.dataManager.hasChildren(s)&&T(s.__children,(t=>{const e=this.dataManager.getRowIndex(t);i.push(e)})),o=this.expandRows(i,!0,!1),n&&this.untrimRows(o),e&&this.renderAndAdjust(),o}expandMultipleChildren(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=[];T(t,(t=>{i.push(...this.expandChildren(t,!1,!1))})),n&&this.untrimRows(i),e&&this.renderAndAdjust()}collapseAll(){const t=this.dataManager.getData(),e=[];T(t,(t=>{this.dataManager.hasChildren(t)&&e.push(t)})),this.collapseMultipleChildren(e),this.renderAndAdjust()}expandAll(){const t=this.dataManager.getData(),e=[];T(t,(t=>{this.dataManager.hasChildren(t)&&e.push(t)})),this.expandMultipleChildren(e),this.renderAndAdjust()}trimRows(t){this.hot.batchExecution((()=>{T(t,(t=>{this.plugin.collapsedRowsMap.setValueAtIndex(t,!0)}))}),!0)}untrimRows(t){this.hot.batchExecution((()=>{T(t,(t=>{this.plugin.collapsedRowsMap.setValueAtIndex(t,!1)}))}),!0)}areChildrenCollapsed(t){let e=isNaN(t)?t:this.dataManager.getDataObject(t),n=!0;return null===e&&(e={__children:this.dataManager.data}),this.dataManager.hasChildren(e)&&T(e.__children,(t=>{const e=this.dataManager.getRowIndex(t);if(!this.plugin.collapsedRowsMap.getValueAtIndex(e))return n=!1,!1})),n}isAnyParentCollapsed(t){let e=t;while(null!==e){e=this.dataManager.getRowParent(e);const t=this.dataManager.getRowIndex(e);if(this.collapsedRows.indexOf(t)>-1)return!0}return!1}toggleState(t,e){if(e.col>=0)return;const n=this.translateTrimmedRow(e.row);oe(t.target,Jz.CSS_CLASSES.button)&&(this.areChildrenCollapsed(n)?this.expandChildren(n):this.collapseChildren(n),ri(t))}translateTrimmedRow(t){return this.hot.toPhysicalRow(t)}untranslateTrimmedRow(t){return this.hot.toVisualRow(t)}renderAndAdjust(){this.hot.render(),this.hot.view.adjustElementsSize()}}var Qz=Zz;function tU(t,e,n){eU(t,e),e.set(t,n)}function eU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nU(t,e,n){return e=iU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iU(t){var e=sU(t,"string");return"symbol"==typeof e?e:e+""}function sU(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function rU(t,e){return t.get(oU(t,e))}function oU(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var aU=new WeakMap;class lU extends qz{constructor(){super(...arguments),nU(this,"dataManager",this.plugin.dataManager),tU(this,aU,{row_above:(t,e)=>{const n=e[e.length-1];this.dataManager.addSibling(n.start.row,"above")},row_below:(t,e)=>{const n=e[e.length-1];this.dataManager.addSibling(n.start.row,"below")}})}appendOptions(t){const e=[{key:"add_child",name(){return this.getTranslatedPhrase(Zu)},callback:()=>{const t=this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]),e=this.dataManager.getDataObject(t);this.dataManager.addChild(e)},disabled:()=>{const t=this.hot.getSelectedLast();return!t||t[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(Qu)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedLast())},disabled:()=>{const t=this.hot.getSelectedLast(),e=this.dataManager.translateTrimmedRow(t[0]),n=this.dataManager.getRowParent(e);return!n||!t||t[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Ls(0,t.items.length-1,(n=>{if(0===n)return T(e,((e,i)=>{t.items.splice(n+i,0,e)})),!1})),this.modifyRowInsertingOptions(t)}modifyRowInsertingOptions(t){return Ls(0,t.items.length-1,(e=>{const n=rU(aU,this)[t.items[e].key];null!==n&&void 0!==n&&(t.items[e].callback=n)})),t}}var hU=lU;function cU(t,e,n){return e=dU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dU(t){var e=uU(t,"string");return"symbol"==typeof e?e:e+""}function uU(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class fU{constructor(t){cU(this,"plugin",void 0),cU(this,"hot",void 0),cU(this,"dataManager",void 0),cU(this,"collapsingUI",void 0),this.plugin=t,this.hot=t.hot,this.dataManager=t.dataManager,this.collapsingUI=t.collapsingUI}onBeforeRowMove(t,e,n,i){const s=this.displayAPICompatibilityWarning({rows:t,finalIndex:e,dropIndex:n,movePossible:i});if(s)return!1;this.movedToCollapsed=!1;const r=n===this.hot.countRows(),o=r?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(n);let a=!0;const l=t.map((t=>{if(!a)return!1;const e=this.dataManager.translateTrimmedRow(t);return a=this.shouldAllowMoving(e,o),e})),h=-1===l.indexOf(o);if(!a||!h)return!1;const c=this.getBaseParent(l),d=this.getTargetParent(r,o),u=c===d;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(d),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(l,o,u),this.moveRows(l,o,d),this.dataManager.rewriteCache(),this.moveCellsMeta(l,o),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",t,e,n,i,i&&this.isRowOrderChanged(t,e)),this.hot.render(),this.selectCells(t,n),!1}displayAPICompatibilityWarning(t){const{rows:e,finalIndex:n,dropIndex:i,movePossible:s}=t;let r=!1;return j(i)&&(ci(Y`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",e,n,i,s,!1),r=!0),r}shouldAllowMoving(t,e){return!(this.dataManager.isParent(t)||this.dataManager.isRowHighestLevel(t)||t===e||0===e)}getBaseParent(t){return this.dataManager.getRowParent(t[0])}getTargetParent(t,e){let n=this.dataManager.getRowParent(t?e-1:e);return null!==n&&void 0!==n||(n=this.dataManager.getRowParent(e-1)),n}shiftCollapsibleParentsLocations(t,e,n){n||(Math.max(...t)<=e?this.collapsingUI.collapsedRowsStash.shiftStash(t[0],e,-1*t.length):this.collapsingUI.collapsedRowsStash.shiftStash(e,t[0],t.length))}moveRows(t,e,n){const i=e===this.dataManager.getRowIndex(n)+this.dataManager.countChildren(n)+1;this.hot.batchRender((()=>{t.forEach((t=>{this.dataManager.moveRow(t,e,this.movedToCollapsed,i)}))}))}moveCellsMeta(t,e){const n=[],i=Math.max(...t)<e;t.forEach((t=>{n.push(this.hot.getCellMetaAtRow(t))})),this.hot.spliceCellsMeta(t[0],t.length),this.hot.spliceCellsMeta(e-(i?n.length:0),0,...n)}selectCells(t,e){const n=t.length;let i=0,s=0,r=null,o=null;if(this.movedToCollapsed){let r=null;r=t[n-1]<e?this.dataManager.translateTrimmedRow(e-n):this.dataManager.translateTrimmedRow(e);const o=this.dataManager.getRowParent(null===r?this.hot.countSourceRows()-1:r-1),a=this.dataManager.getRowIndex(o);i=this.dataManager.untranslateTrimmedRow(a),s=i}else t[n-1]<e?(s=e-1,i=s-n+1):(i=e,s=i+n-1);r=this.hot.selection,o=this.hot.countCols()-1,r.setRangeStart(this.hot._createCellCoords(i,0)),r.setRangeEnd(this.hot._createCellCoords(s,o),!0)}isRowOrderChanged(t,e){return t.some(((t,n)=>t-n!==e))}}function mU(t,e){pU(t,e),e.add(t)}function gU(t,e,n){pU(t,e),e.set(t,n)}function pU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _U(t,e,n){return e=yU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yU(t){var e=wU(t,"string");return"symbol"==typeof e?e:e+""}function wU(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function vU(t,e){return t.get(MU(t,e))}function bU(t,e,n){return t.set(MU(t,e),n),n}function MU(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const SU="nestedRows",CU=300,xU=SU,TU="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.";var kU=new WeakMap,LU=new WeakMap,EU=new WeakSet;class RU extends Eb{constructor(){super(...arguments),mU(this,EU),_U(this,"dataManager",null),_U(this,"headersUI",null),_U(this,"collapsedRowsMap",null),gU(this,kU,!1),gU(this,LU,!1)}static get PLUGIN_KEY(){return SU}static get PLUGIN_PRIORITY(){return CU}isEnabled(){return!!this.hot.getSettings()[SU]}enablePlugin(){var t=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new Md),this.dataManager=new zz(this,this.hot),this.collapsingUI=new Qz(this,this.hot),this.headersUI=new Jz(this,this.hot),this.contextMenuUI=new hU(this,this.hot),this.rowMoveController=new fU(this),this.addHook("afterInit",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,zU).call(t,...n)})),this.addHook("beforeViewRender",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,UU).call(t,...n)})),this.addHook("modifyRowData",(function(){return t.onModifyRowData(...arguments)})),this.addHook("modifySourceLength",(function(){return t.onModifySourceLength(...arguments)})),this.addHook("beforeDataSplice",(function(){return t.onBeforeDataSplice(...arguments)})),this.addHook("filterData",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,HU).call(t,...n)})),this.addHook("afterContextMenuDefaultOptions",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,PU).call(t,...n)})),this.addHook("afterGetRowHeader",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,IU).call(t,...n)})),this.addHook("beforeOnCellMouseDown",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,DU).call(t,...n)})),this.addHook("beforeRemoveRow",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,NU).call(t,...n)})),this.addHook("afterRemoveRow",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,YU).call(t,...n)})),this.addHook("beforeAddChild",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,FU).call(t,...n)})),this.addHook("afterAddChild",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,jU).call(t,...n)})),this.addHook("beforeDetachChild",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,WU).call(t,...n)})),this.addHook("afterDetachChild",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,VU).call(t,...n)})),this.addHook("modifyRowHeaderWidth",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,OU).call(t,...n)})),this.addHook("afterCreateRow",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,BU).call(t,...n)})),this.addHook("beforeRowMove",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return MU(EU,t,AU).call(t,...n)})),this.addHook("beforeLoadData",(t=>MU(EU,this,$U).call(this,t))),this.addHook("beforeUpdateData",(t=>MU(EU,this,$U).call(this,t))),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();const t=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(t),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:t}=this.hot.getSelectedRangeLast(),e=this.collapsingUI.translateTrimmedRow(t.row);return this.collapsingUI.areChildrenCollapsed(e)?this.collapsingUI.expandChildren(e):this.collapsingUI.collapseChildren(e),!1},runOnlyIf:()=>{var t,e;const n=null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight;return n&&(null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.isSingle())&&this.hot.selection.isCellVisible(n)&&-1===n.col&&n.row>=0},group:xU,relativeToGroup:Gp,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(xU)}disableCoreAPIModifiers(){bU(LU,this,!0)}enableCoreAPIModifiers(){bU(LU,this,!1)}onModifyRowData(t){if(!vU(LU,this))return this.dataManager.getDataObject(t)}onModifySourceLength(){if(!vU(LU,this))return this.dataManager.countAllRows()}onBeforeDataSplice(t,e,n){return!(!vU(LU,this)&&!this.dataManager.isRowHighestLevel(t))||(this.dataManager.spliceData(t,e,n),!1)}destroy(){super.destroy()}}function AU(t,e,n,i){return this.rowMoveController.onBeforeRowMove(t,e,n,i)}function DU(t,e,n){this.collapsingUI.toggleState(t,e,n)}function HU(t,e,n){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(n[0],e),this.collapsingUI.collapsedRowsStash.shiftStash(n[0],null,-1*e),this.dataManager.filterData(t,e,n),bU(kU,this,!0),this.dataManager.getData().slice()}function PU(t){return this.contextMenuUI.appendOptions(t)}function IU(t,e){this.headersUI.appendLevelIndicators(t,e)}function OU(t){return Math.max(this.headersUI.rowHeaderWidthCache,t)}function YU(t,e,n,i){i!==this.pluginName&&this.hot._registerTimeout((()=>{bU(kU,this,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()}))}function NU(t,e,n){const i=Array.from(n.reduce(((t,e)=>{if(this.dataManager.isParent(e)){const n=this.dataManager.getDataObject(e).__children;return t.add(e),Array.isArray(n)&&n.forEach((e=>t.add(this.dataManager.getRowIndex(e)))),t}return t.add(e)}),new Set));n.length=0,n.push(...i)}function FU(){this.collapsingUI.collapsedRowsStash.stash()}function jU(t,e){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(e)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function WU(){this.collapsingUI.collapsedRowsStash.stash()}function VU(t,e,n){this.collapsingUI.collapsedRowsStash.shiftStash(n,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function BU(){this.dataManager.rewriteCache()}function zU(){this.headersUI.updateRowHeaderWidth()}function UU(t,e){vU(kU,this)&&(e.skipRender=!0)}function $U(t){if(!Xc(t))return di(TU),this.hot.getSettings()[SU]=!1,void this.disablePlugin();this.dataManager.setData(t),this.dataManager.rewriteCache()}function GU(t,e,n){return e=KU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KU(t){var e=qU(t,"string");return"symbol"==typeof e?e:e+""}function qU(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}class XU{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;GU(this,"rootWindow",void 0),GU(this,"prefix",void 0),GU(this,"savedKeys",[]),this.rootWindow=e,this.prefix=t,this.loadSavedKeys()}saveValue(t,e){this.rootWindow.localStorage.setItem(`${this.prefix}_${t}`,JSON.stringify(e)),-1===this.savedKeys.indexOf(t)&&(this.savedKeys.push(t),this.saveSavedKeys())}loadValue(t,e){const n="undefined"===typeof t?e:t,i=this.rootWindow.localStorage.getItem(`${this.prefix}_${n}`);return null===i?void 0:JSON.parse(i)}reset(t){this.rootWindow.localStorage.removeItem(`${this.prefix}_${t}`)}resetAll(){T(this.savedKeys,((t,e)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[e]}`)})),this.clearSavedKeys()}loadSavedKeys(){const t=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),e="string"===typeof t?JSON.parse(t):void 0;this.savedKeys=e||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}}var JU=XU;function ZU(t,e,n){return e=QU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QU(t){var e=t$(t,"string");return"symbol"==typeof e?e:e+""}function t$(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}Mi.getSingleton().register("persistentStateSave"),Mi.getSingleton().register("persistentStateLoad"),Mi.getSingleton().register("persistentStateReset");const e$="persistentState",n$=0;class i$ extends Eb{constructor(){super(...arguments),ZU(this,"storage",void 0)}static get PLUGIN_KEY(){return e$}static get PLUGIN_PRIORITY(){return n$}isEnabled(){return!!this.hot.getSettings()[e$]}enablePlugin(){this.enabled||(this.storage||(this.storage=new JU(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",((t,e)=>this.saveValue(t,e))),this.addHook("persistentStateLoad",((t,e)=>this.loadValue(t,e))),this.addHook("persistentStateReset",(()=>this.resetValue())),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(t,e){e.value=this.storage.loadValue(t)}saveValue(t,e){this.storage.saveValue(t,e)}resetValue(t){"undefined"===typeof t?this.storage.resetAll():this.storage.reset(t)}destroy(){super.destroy()}}function s$(t,e){r$(t,e),e.add(t)}function r$(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o$(t,e,n){return e=a$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a$(t){var e=l$(t,"string");return"symbol"==typeof e?e:e+""}function l$(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function h$(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const c$="search",d$=190,u$="htSearchResult",f$=function(t,e,n,i,s){t.getCellMeta(e,n).isSearchResult=s},m$=function(t,e,n){return!(j(t)||null===t||!t.toLocaleLowerCase||0===t.length)&&(!j(e)&&null!==e&&-1!==e.toString().toLocaleLowerCase(n.locale).indexOf(t.toLocaleLowerCase(n.locale)))};var g$=new WeakSet;class p$ extends Eb{constructor(){super(...arguments),s$(this,g$),o$(this,"callback",f$),o$(this,"queryMethod",m$),o$(this,"searchResultClass",u$)}static get PLUGIN_KEY(){return c$}static get PLUGIN_PRIORITY(){return d$}isEnabled(){return this.hot.getSettings()[c$]}enablePlugin(){var t=this;if(this.enabled)return;const e=this.hot.getSettings()[c$];this.updatePluginSettings(e),this.addHook("beforeRenderer",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return h$(g$,t,_$).call(t,...n)})),super.enablePlugin()}disablePlugin(){var t=this;const e=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return h$(g$,t,_$).call(t,...n)};this.hot.addHook("beforeRenderer",e),this.hot.addHookOnce("afterViewRender",(()=>{this.hot.removeHook("beforeRenderer",e)})),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCallback(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getQueryMethod();const i=this.hot.countRows(),s=this.hot.countCols(),r=[],o=this.hot;return Ls(0,i-1,(i=>{Ls(0,s-1,(s=>{const a=this.hot.getDataAtCell(i,s),l=this.hot.getCellMeta(i,s),h=l.search.callback||e,c=l.search.queryMethod||n,d=c(t,a,l);if(d){const t={row:i,col:s,data:a};r.push(t)}h&&h(o,i,s,a,d)}))})),r}getCallback(){return this.callback}setCallback(t){this.callback=t}getQueryMethod(){return this.queryMethod}setQueryMethod(t){this.queryMethod=t}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(t){this.searchResultClass=t}updatePluginSettings(t){vn(t)&&(t.searchResultClass&&this.setSearchResultClass(t.searchResultClass),t.queryMethod&&this.setQueryMethod(t.queryMethod),t.callback&&this.setCallback(t.callback))}destroy(){super.destroy()}}function _$(t,e,n,i,s,r){const o=r.className||[];let a=[];"string"===typeof o?a=o.split(" "):a.push(...o),this.isEnabled()&&r.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),r.className=a.join(" ")}function y$(t,e){w$(t,e),e.add(t)}function w$(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v$(t,e,n){return e=b$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t){var e=M$(t,"string");return"symbol"==typeof e?e:e+""}function M$(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function S$(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const C$="touchScroll",x$=200;var T$=new WeakSet;class k$ extends Eb{constructor(){super(...arguments),y$(this,T$),v$(this,"scrollbars",[]),v$(this,"clones",[]),v$(this,"lockedCollection",!1),v$(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return C$}static get PLUGIN_PRIORITY(){return x$}static get SETTING_KEYS(){return!0}isEnabled(){return Rn()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",(()=>S$(T$,this,L$).call(this))),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",(()=>S$(T$,this,E$).call(this))),this.addHook("afterMomentumScroll",(()=>S$(T$,this,R$).call(this)))}}function L$(){if(this.lockedCollection)return;const{topOverlay:t,bottomOverlay:e,inlineStartOverlay:n,topInlineStartCornerOverlay:i,bottomInlineStartCornerOverlay:s}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),e.clone&&this.scrollbars.push(e),this.scrollbars.push(n),i&&this.scrollbars.push(i),s&&s.clone&&this.scrollbars.push(s),this.clones=[],t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),i&&this.clones.push(i.clone.wtTable.holder.parentNode),s&&s.clone&&this.clones.push(s.clone.wtTable.holder.parentNode)}function E$(){this.freezeOverlays=!0,T(this.clones,(t=>{ae(t,"hide-tween")}))}function R$(){this.freezeOverlays=!1,T(this.clones,(t=>{le(t,"hide-tween"),ae(t,"show-tween")})),this.hot._registerTimeout((()=>{T(this.clones,(t=>{le(t,"show-tween")}))}),400),T(this.scrollbars,(t=>{t.refresh(),t.resetFixedPosition()})),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}function A$(t,e){D$(t,e),e.add(t)}function D$(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function H$(t,e,n){return e=P$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=I$(t,"string");return"symbol"==typeof e?e:e+""}function I$(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function O$(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Y$="trimRows",N$=330;var F$=new WeakSet;class j$ extends Eb{constructor(){super(...arguments),A$(this,F$),H$(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return Y$}static get PLUGIN_PRIORITY(){return N$}isEnabled(){return!!this.hot.getSettings()[Y$]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new Md),this.trimmedRowsMap.addLocalHook("init",(()=>O$(F$,this,W$).call(this))),super.enablePlugin())}updatePlugin(){const t=this.hot.getSettings()[Y$];Array.isArray(t)&&this.hot.batchExecution((()=>{this.trimmedRowsMap.clear(),T(t,(t=>{this.trimmedRowsMap.setValueAtIndex(t,!0)}))}),!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(t){const e=this.getTrimmedRows(),n=this.isValidConfig(t);let i=e;n&&(i=Array.from(new Set(e.concat(t))));const s=this.hot.runHooks("beforeTrimRow",e,i,n);!1!==s&&(n&&this.hot.batchExecution((()=>{T(t,(t=>{this.trimmedRowsMap.setValueAtIndex(t,!0)}))}),!0),this.hot.runHooks("afterTrimRow",e,i,n,n&&i.length>e.length))}trimRow(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.trimRows(e)}untrimRows(t){const e=this.getTrimmedRows(),n=this.isValidConfig(t);let i=e;const s=this.trimmedRowsMap.getValues().slice(),r=t.length>0;n&&r&&(T(t,(t=>{s[t]=!1})),i=S(s,((t,e,n)=>(e&&t.push(n),t)),[]));const o=this.hot.runHooks("beforeUntrimRow",e,i,n&&r);!1!==o&&(n&&r&&this.trimmedRowsMap.setValues(s),this.hot.runHooks("afterUntrimRow",e,i,n&&r,n&&i.length<e.length))}untrimRow(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.untrimRows(e)}isTrimmed(t){return this.trimmedRowsMap.getValueAtIndex(t)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(t){const e=this.hot.countSourceRows();return t.every((t=>Number.isInteger(t)&&t>=0&&t<e))}destroy(){super.destroy()}}function W$(){const t=this.hot.getSettings()[Y$];Array.isArray(t)&&this.hot.batchExecution((()=>{T(t,(t=>{this.trimmedRowsMap.setValueAtIndex(t,!0)}))}),!0)}n(3921);const V$="undoRedo",B$="undoRedo";function z$(t){const e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,t.addHook("afterChange",(function(n,i){const s=n&&n.length;if(!s)return;const r=n.find((t=>{const[,,e,n]=t;return e!==n}));if(!r)return;const o=()=>{const e=n.reduce(((t,e)=>(t.push([...e]),t)),[]);T(e,(e=>{e[1]=t.propToCol(e[1])}));const i=s>1?this.getSelected():[[e[0][0],e[0][1]]];return new z$.ChangeAction(e,i)};e.done(o,i)})),t.addHook("afterCreateRow",((t,n,i)=>{e.done((()=>new z$.CreateRowAction(t,n)),i)}));const n=(e,n,i,s)=>{const r=["visualRow","visualCol","row","col","prop"],o=r.length,a=[];return Ls(i,s,(i=>{Ls(e,n,(e=>{const n=t.getCellMeta(e,i);if(Object.keys(n).length!==o){const t=Object.fromEntries(Object.entries(n).filter((t=>{let[e]=t;return!1===r.includes(e)})));a.push([n.visualRow,n.visualCol,t])}}))})),a};t.addHook("beforeRemoveRow",((i,s,r,o)=>{const a=()=>{const r=t.toPhysicalRow(i),o=r+s-1,a=pn(e.instance.getSourceData(r,0,r+s-1,e.instance.countSourceCols()-1));return new z$.RemoveRowAction(r,a,t.getSettings().fixedRowsBottom,t.getSettings().fixedRowsTop,t.rowIndexMapper.getIndexesSequence(),n(r,o,0,t.countCols()-1))};e.done(a,o)})),t.addHook("afterCreateCol",((t,n,i)=>{e.done((()=>new z$.CreateColumnAction(t,n)),i)})),t.addHook("beforeRemoveCol",((i,s,r,o)=>{const a=()=>{const r=e.instance.getSourceDataArray(),o=(e.instance.countCols()+i)%e.instance.countCols(),a=o+s-1,l=[],h=[],c=[];Ls(r.length-1,(e=>{const n=[],i=r[e];Ls(o,a,(e=>{n.push(i[t.toPhysicalColumn(e)])})),l.push(n)})),Ls(s-1,(e=>{c.push(t.toPhysicalColumn(o+e))})),Array.isArray(t.getSettings().colHeaders)&&Ls(s-1,(e=>{h.push(t.getSettings().colHeaders[t.toPhysicalColumn(o+e)]||null)}));const d=t.columnIndexMapper.getIndexesSequence(),u=t.rowIndexMapper.getIndexesSequence();return new z$.RemoveColumnAction(o,c,l,h,d,u,t.getSettings().fixedColumnsStart,n(0,t.countRows(),o,a))};e.done(a,o)})),t.addHook("beforeCellAlignment",((t,n,i,s)=>{e.done((()=>new z$.CellAlignmentAction(t,n,i,s)))})),t.addHook("beforeFilter",(t=>{e.done((()=>new z$.FiltersAction(t)))})),t.addHook("beforeRowMove",((t,n)=>{!1!==t&&e.done((()=>new z$.RowMoveAction(t,n)))})),t.addHook("beforeColumnMove",((t,n)=>{!1!==t&&e.done((()=>new z$.ColumnMoveAction(t,n)))})),t.addHook("beforeMergeCells",((n,i)=>{i||e.done((()=>new z$.MergeCellsAction(t,n)))})),t.addHook("afterUnmergeCells",((n,i)=>{i||e.done((()=>new z$.UnmergeCellsAction(t,n)))})),t.addHook("afterInit",(()=>{e.init()}))}z$.prototype.done=function(t,e){if(this.ignoreNewActions)return;const n="UndoRedo.undo"===e||"UndoRedo.redo"===e||"auto"===e;if(n)return;const i=this.doneActions.slice(),s=this.instance.runHooks("beforeUndoStackChange",i,e);if(!1===s)return;const r=t(),o=this.undoneActions.slice();this.doneActions.push(r),this.instance.runHooks("afterUndoStackChange",i,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",o),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice())},z$.prototype.undo=function(){if(this.isUndoAvailable()){const t=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",t);const e=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",t,this.doneActions.slice());const n=pn(e),i=this.instance.runHooks("beforeUndo",n);if(!1===i)return;this.ignoreNewActions=!0;const s=this,r=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",r),e.undo(this.instance,(()=>{s.ignoreNewActions=!1,s.undoneActions.push(e)})),this.instance.runHooks("afterRedoStackChange",r,this.undoneActions.slice()),this.instance.runHooks("afterUndo",n)}},z$.prototype.redo=function(){if(this.isRedoAvailable()){const t=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",t);const e=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",t,this.undoneActions.slice());const n=pn(e),i=this.instance.runHooks("beforeRedo",n);if(!1===i)return;this.ignoreNewActions=!0;const s=this,r=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",r),e.redo(this.instance,(()=>{s.ignoreNewActions=!1,s.doneActions.push(e)})),this.instance.runHooks("afterUndoStackChange",r,this.doneActions.slice()),this.instance.runHooks("afterRedo",n)}},z$.prototype.isUndoAvailable=function(){return this.doneActions.length>0},z$.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},z$.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},z$.prototype.isEnabled=function(){return this.enabled},z$.prototype.enable=function(){if(this.isEnabled())return;const t=this.instance;this.enabled=!0,K$(t),this.registerShortcuts(),t.addHook("afterChange",G$)},z$.prototype.disable=function(){if(!this.isEnabled())return;const t=this.instance;this.enabled=!1,q$(t),this.unregisterShortcuts(),t.removeHook("afterChange",G$)},z$.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null},z$.Action=function(){},z$.Action.prototype.undo=function(){},z$.Action.prototype.redo=function(){},z$.ChangeAction=function(t,e){this.changes=t,this.selected=e,this.actionType="change"},fn(z$.ChangeAction,z$.Action),z$.ChangeAction.prototype.undo=function(t,e){const n=pn(this.changes),i=t.countEmptyRows(!0),s=t.countEmptyCols(!0);for(let o=0,a=n.length;o<a;o++)n[o].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.undo");for(let o=0,a=n.length;o<a;o++){const[e,r]=n[o];t.getSettings().minSpareRows&&e+1+t.getSettings().minSpareRows===t.countRows()&&i===t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(e+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&r+1+t.getSettings().minSpareCols===t.countCols()&&s===t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(r+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())}const r=t.getSelectedLast();if(void 0!==r){const[e,i]=n[0],[s,o]=r,a=t.view.getFirstFullyVisibleRow(),l=t.view.getFirstFullyVisibleColumn(),h=e>=a,c=i>=l,d=h&&c,u=s!==e||o!==i;if(!1===d&&!0===u){const n={row:e,col:i};!1===h&&(n.verticalSnap="top"),!1===c&&(n.horizontalSnap="start"),t.scrollViewportTo(n)}}t.selectCells(this.selected,!1,!1)},z$.ChangeAction.prototype.redo=function(t,e){const n=pn(this.changes);for(let i=0,s=n.length;i<s;i++)n[i].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.redo"),this.selected&&t.selectCells(this.selected,!1,!1)},z$.CreateRowAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_row"},fn(z$.CreateRowAction,z$.Action),z$.CreateRowAction.prototype.undo=function(t,e){const n=t.countRows(),i=t.getSettings().minSpareRows;this.index>=n&&this.index-i<n&&(this.index-=i),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},z$.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")},z$.RemoveRowAction=function(t,e,n,i,s,r){this.index=t,this.data=e,this.actionType="remove_row",this.fixedRowsBottom=n,this.fixedRowsTop=i,this.rowIndexesSequence=s,this.removedCellMetas=r},fn(z$.RemoveRowAction,z$.Action),z$.RemoveRowAction.prototype.undo=function(t,e){const n=t.getSettings(),i=[];n.fixedRowsBottom=this.fixedRowsBottom,n.fixedRowsTop=this.fixedRowsTop,this.data.forEach(((t,e)=>{Object.keys(t).forEach((n=>{const s=parseInt(n,10);i.push([this.index+e,isNaN(s)?n:s,t[n]])}))})),t.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),this.removedCellMetas.forEach((e=>{let[n,i,s]=e;t.setCellMetaObject(n,i,s)})),t.addHookOnce("afterViewRender",e),t.setSourceDataAtCell(i,null,null,"UndoRedo.undo"),t.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence)},z$.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},z$.CreateColumnAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_col"},fn(z$.CreateColumnAction,z$.Action),z$.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},z$.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")},z$.RemoveColumnAction=function(t,e,n,i,s,r,o,a){this.index=t,this.indexes=e,this.data=n,this.amount=this.data[0].length,this.headers=i,this.columnPositions=s.slice(0),this.rowPositions=r.slice(0),this.actionType="remove_col",this.fixedColumnsStart=o,this.removedCellMetas=a},fn(z$.RemoveColumnAction,z$.Action),z$.RemoveColumnAction.prototype.undo=function(t,e){const n=t.getSettings();n.fixedColumnsStart=this.fixedColumnsStart;const i=this.indexes.slice(0).sort(),s=(t,e,n)=>n[this.indexes.indexOf(i[e])],r=this.data.length,o=[];for(let h=0;h<r;h++)o.push(x(this.data[h],s));const a=x(this.headers,s),l=[];t.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),T(t.getSourceDataArray(),((t,e)=>{T(i,((n,i)=>{t[n]=o[e][i],l.push([e,n,t[n]])}))})),t.setSourceDataAtCell(l,void 0,void 0,"UndoRedo.undo"),"undefined"!==typeof this.headers&&T(a,((e,n)=>{t.getSettings().colHeaders[i[n]]=e})),this.removedCellMetas.forEach((e=>{let[n,i,s]=e;t.setCellMetaObject(n,i,s)})),t.batchExecution((()=>{t.rowIndexMapper.setIndexesSequence(this.rowPositions),t.columnIndexMapper.setIndexesSequence(this.columnPositions)}),!0),t.addHookOnce("afterViewRender",e),t.render()},z$.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},z$.CellAlignmentAction=function(t,e,n,i){this.stateBefore=t,this.range=e,this.type=n,this.alignment=i},z$.CellAlignmentAction.prototype.undo=function(t,e){T(this.range,(e=>{e.forAll(((e,n)=>{e>=0&&n>=0&&t.setCellMeta(e,n,"className",this.stateBefore[e][n]||" htLeft")}))})),t.addHookOnce("afterViewRender",e),t.render()},z$.CellAlignmentAction.prototype.redo=function(t,e){Tx(this.range,this.type,this.alignment,((e,n)=>t.getCellMeta(e,n)),((e,n,i,s)=>t.setCellMeta(e,n,i,s))),t.addHookOnce("afterViewRender",e),t.render()},z$.FiltersAction=function(t){this.conditionsStack=t,this.actionType="filter"},fn(z$.FiltersAction,z$.Action),z$.FiltersAction.prototype.undo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),n.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),n.filter()},z$.FiltersAction.prototype.redo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),n.conditionCollection.importAllConditions(this.conditionsStack),n.filter()};class U$ extends z$.Action{constructor(t,e){super(),this.cellRange=e;const n=this.cellRange.getTopStartCorner(),i=this.cellRange.getBottomEndCorner();this.rangeData=t.getData(n.row,n.col,i.row,i.col)}undo(t,e){const n=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",e),n.unmergeRange(this.cellRange,!0);const i=this.cellRange.getTopStartCorner();t.populateFromArray(i.row,i.col,this.rangeData,void 0,void 0,"MergeCells")}redo(t,e){const n=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",e),n.mergeRange(this.cellRange)}}z$.MergeCellsAction=U$;class $$ extends z$.Action{constructor(t,e){super(),this.cellRange=e}undo(t,e){const n=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",e),n.mergeRange(this.cellRange,!0)}redo(t,e){const n=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",e),n.unmergeRange(this.cellRange,!0),t.render()}}function G$(t,e){const n=this;if("loadData"===e)return n.undoRedo.clear()}function K$(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function q$(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}z$.UnmergeCellsAction=$$,z$.RowMoveAction=function(t,e){this.rows=t.slice(),this.finalRowIndex=e,this.actionType="row_move"},fn(z$.RowMoveAction,z$.Action),z$.RowMoveAction.prototype.undo=function(t,e){const n=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e);const i=YI(this.rows,this.finalRowIndex,t.rowIndexMapper.getNumberOfIndexes());i.reverse().forEach((t=>{let{from:e,to:i}=t;e<i&&(i-=1),n.moveRow(i,e)})),t.render(),t.deselectCell(),t.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)},z$.RowMoveAction.prototype.redo=function(t,e){const n=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e),n.moveRows(this.rows.slice(),this.finalRowIndex),t.render(),t.deselectCell(),t.selectRows(this.finalRowIndex,this.finalRowIndex+this.rows.length-1)},z$.ColumnMoveAction=function(t,e){this.columns=t.slice(),this.finalColumnIndex=e,this.actionType="col_move"},fn(z$.ColumnMoveAction,z$.Action),z$.ColumnMoveAction.prototype.undo=function(t,e){const n=t.getPlugin("manualColumnMove");t.addHookOnce("afterViewRender",e);const i=YI(this.columns,this.finalColumnIndex,t.columnIndexMapper.getNumberOfIndexes());i.reverse().forEach((t=>{let{from:e,to:i}=t;e<i&&(i-=1),n.moveColumn(i,e)})),t.render(),t.deselectCell(),t.selectColumns(this.columns[0],this.columns[0]+this.columns.length-1)},z$.ColumnMoveAction.prototype.redo=function(t,e){const n=t.getPlugin("manualColumnMove");t.addHookOnce("afterViewRender",e),n.moveColumns(this.columns.slice(),this.finalColumnIndex),t.render(),t.deselectCell(),t.selectColumns(this.finalColumnIndex,this.finalColumnIndex+this.columns.length-1)},z$.prototype.init=function(){const t=this.instance.getSettings().undo,e="undefined"===typeof t||t;this.instance.undoRedo||(this.instance.undoRedo=this),e?this.instance.undoRedo.enable():this.instance.undoRedo.disable()},z$.prototype.registerShortcuts=function(){const t=this.instance.getShortcutManager(),e=t.getContext("grid"),n=t=>!t.altKey,i={runOnlyIf:n,group:V$};e.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],i)},z$.prototype.unregisterShortcuts=function(){const t=this.instance.getShortcutManager(),e=t.getContext("grid");e.removeShortcutsByGroup(V$)};const X$=Mi.getSingleton();X$.add("afterUpdateSettings",(function(){var t;null===(t=this.getPlugin("undoRedo"))||void 0===t||t.init()})),X$.register("beforeUndo"),X$.register("afterUndo"),X$.register("beforeRedo"),X$.register("afterRedo"),z$.PLUGIN_KEY=B$,z$.SETTING_KEYS=!0;var J$,Z$,Q$,tG,eG,nG=z$;function iG(){Js(eM),Js(SM),Js(FM),Js(dS),Js(RS),Js(YC),Js(ix),Js(iT),Js(eL),Js(ZL),Js(YE),Js(qE),Js(uR),Js(VR),Js(ZP),Js(EO),Js(fY),Js(HY),Js(ZY),Js(jN),Js(wF),Js(hj),Js(Vj),Js(aV),Js($V),Js(ZV),Js(bz),Js(RU),Js(i$),Js(p$),Js(k$),Js(j$),Js(nG)}function sG(){Zw(),Dv(),Gv(),mb(),iG()}function rG(t){const e="undefined"!==typeof window&&window.jQuery;e&&(e.fn.handsontable=function(e){const n=this.first();let i,s=n.data("handsontable");if("string"!==typeof e){const i=e||{};return s?s.updateSettings(i):(s=new t.Core(n[0],i),n.data("handsontable",s),s.init()),n}if(s){if("undefined"===typeof s[e])throw new Error(`Handsontable do not provide action: ${e}`);for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];i=s[e].call(s,...o),"destroy"===e&&n.removeData()}return i})}sG(),rG(Vy),Vy.__GhostTable=Ib,Vy._getListenersCounter=Vi,Vy._getRegisteredMapsCounter=Rd,Vy.EventManager=Wi;const oG=[i,c,g,_,h,a,s,m,l,r,d,f],aG=[o,u];Vy.helper={},Vy.dom={},T(oG,(t=>{T(Object.getOwnPropertyNames(t),(e=>{"_"!==e.charAt(0)&&(Vy.helper[e]=t[e])}))})),T(aG,(t=>{T(Object.getOwnPropertyNames(t),(e=>{"_"!==e.charAt(0)&&(Vy.dom[e]=t[e])}))})),Vy.cellTypes=null!==(J$=Vy.cellTypes)&&void 0!==J$?J$:{},T(Fg(),(t=>{Vy.cellTypes[t]=Wg(t)})),Vy.cellTypes.registerCellType=Vg,Vy.cellTypes.getCellType=Wg,Vy.editors=null!==(Z$=Vy.editors)&&void 0!==Z$?Z$:{},T(Ei(),(t=>{Vy.editors[`${nt(t)}Editor`]=Hi(t)})),Vy.editors.registerEditor=Pi,Vy.editors.getEditor=Hi,Vy.renderers=null!==(Q$=Vy.renderers)&&void 0!==Q$?Q$:{},T(ir(),(t=>{const e=rr(t);"base"===t&&(Vy.renderers.cellDecorator=e),Vy.renderers[`${nt(t)}Renderer`]=e})),Vy.renderers.registerRenderer=or,Vy.renderers.getRenderer=rr,Vy.validators=null!==(tG=Vy.validators)&&void 0!==tG?tG:{},T(cr(),(t=>{Vy.validators[`${nt(t)}Validator`]=ur(t)})),Vy.validators.registerValidator=fr,Vy.validators.getValidator=ur,Vy.plugins=null!==(eG=Vy.plugins)&&void 0!==eG?eG:{},T(Ks(),(t=>{Vy.plugins[t]=qs(t)})),Vy.plugins[`${nt(Eb.PLUGIN_KEY)}Plugin`]=Eb,Vy.plugins.registerPlugin=Js,Vy.plugins.getPlugin=qs;var lG=Vy},9455:function(t,e,n){"use strict";n.d(e,{YE:function(){return rs}});
/**
 * @licstart The following is the entire license notice for the
 * JavaScript code in this page
 *
 * Copyright 2023 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * JavaScript code in this page
 */var i={};(()=>{i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}})(),(()=>{i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})();var s=globalThis.pdfjsLib={};i.d(s,{AbortException:()=>W,AnnotationEditorLayer:()=>ns,AnnotationEditorParamsType:()=>m,AnnotationEditorType:()=>f,AnnotationEditorUIManager:()=>zt,AnnotationLayer:()=>zi,AnnotationMode:()=>d,CMapCompressionType:()=>b,ColorPicker:()=>Zi,DOMSVGFactory:()=>pt,DrawLayer:()=>is,FeatureTest:()=>K,GlobalWorkerOptions:()=>ze,ImageKind:()=>_,InvalidPDFException:()=>Y,MissingPDFException:()=>N,OPS:()=>M,Outliner:()=>Gi,PDFDataRangeTransport:()=>Xn,PDFDateString:()=>Lt,PDFWorker:()=>ei,PasswordResponses:()=>S,PermissionFlag:()=>g,PixelsPerInch:()=>ct,RenderingCancelledException:()=>yt,TextLayer:()=>Pn,UnexpectedResponseException:()=>F,Util:()=>X,VerbosityLevel:()=>v,XfaLayer:()=>ui,build:()=>li,createValidAbsoluteUrl:()=>D,fetchData:()=>ft,getDocument:()=>Un,getFilenameFromUrl:()=>bt,getPdfFilenameFromUrl:()=>Mt,getXfaPageViewport:()=>Et,isDataScheme:()=>wt,isPdfFile:()=>vt,noContextMenu:()=>xt,normalizeUnicode:()=>tt,renderTextLayer:()=>In,setLayerDimensions:()=>Pt,shadow:()=>H,updateTextLayer:()=>On,version:()=>ai});const r="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),o=[1,0,0,1,0,0],a=[.001,0,0,.001,0,0],l=1e7,h=1.35,c={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},d={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},u="pdfjs_internal_editor_",f={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},m={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},g={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},p={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},_={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},y={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},w={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},v={ERRORS:0,WARNINGS:1,INFOS:5},b={NONE:0,BINARY:1},M={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},S={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let C=v.WARNINGS;function x(t){Number.isInteger(t)&&(C=t)}function T(){return C}function k(t){C>=v.INFOS&&console.log(`Info: ${t}`)}function L(t){C>=v.WARNINGS&&console.log(`Warning: ${t}`)}function E(t){throw new Error(t)}function R(t,e){t||E(e)}function A(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function D(t,e=null,n=null){if(!t)return null;try{if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);e?.length>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=J(t)}catch{}}const i=e?new URL(t,e):new URL(t);if(A(i))return i}catch{}return null}function H(t,e,n,i=!1){return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const P=function(){function t(e,n){this.constructor===t&&E("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class I extends P{constructor(t,e){super(t,"PasswordException"),this.code=e}}class O extends P{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Y extends P{constructor(t){super(t,"InvalidPDFException")}}class N extends P{constructor(t){super(t,"MissingPDFException")}}class F extends P{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class j extends P{constructor(t){super(t,"FormatError")}}class W extends P{constructor(t){super(t,"AbortException")}}function V(t){"object"===typeof t&&void 0!==t?.length||E("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let s=0;s<e;s+=n){const r=Math.min(s+n,e),o=t.subarray(s,r);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function B(t){"string"!==typeof t&&E("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}function z(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function U(t){const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e}function $(){const t=new Uint8Array(4);t[0]=1;const e=new Uint32Array(t.buffer,0,1);return 1===e[0]}function G(){try{return new Function(""),!0}catch{return!1}}class K{static get isLittleEndian(){return H(this,"isLittleEndian",$())}static get isEvalSupported(){return H(this,"isEvalSupported",G())}static get isOffscreenCanvasSupported(){return H(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"!==typeof navigator&&"string"===typeof navigator?.platform?H(this,"platform",{isMac:navigator.platform.includes("Mac")}):H(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return H(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const q=Array.from(Array(256).keys(),(t=>t.toString(16).padStart(2,"0")));class X{static makeHexColor(t,e,n){return`#${q[t]}${q[e]}${q[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],i=t[0]*e[1]+t[1]*e[3]+e[5];return[n,i]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],i=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,s=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[i,s]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),i=this.applyTransform(t.slice(2,4),e),s=this.applyTransform([t[0],t[3]],e),r=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],i[0],s[0],r[0]),Math.min(n[1],i[1],s[1],r[1]),Math.max(n[0],i[0],s[0],r[0]),Math.max(n[1],i[1],s[1],r[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],i=t[0]*e[1]+t[1]*e[3],s=t[2]*e[0]+t[3]*e[2],r=t[2]*e[1]+t[3]*e[3],o=(n+r)/2,a=Math.sqrt((n+r)**2-4*(n*r-s*i))/2,l=o+a||1,h=o-a||1;return[Math.sqrt(l),Math.sqrt(h)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),r=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>r?null:[n,s,i,r]}static#t(t,e,n,i,s,r,o,a,l,h){if(l<=0||l>=1)return;const c=1-l,d=l*l,u=d*l,f=c*(c*(c*t+3*l*e)+3*d*n)+u*i,m=c*(c*(c*s+3*l*r)+3*d*o)+u*a;h[0]=Math.min(h[0],f),h[1]=Math.min(h[1],m),h[2]=Math.max(h[2],f),h[3]=Math.max(h[3],m)}static#e(t,e,n,i,s,r,o,a,l,h,c,d){if(Math.abs(l)<1e-12)return void(Math.abs(h)>=1e-12&&this.#t(t,e,n,i,s,r,o,a,-c/h,d));const u=h**2-4*c*l;if(u<0)return;const f=Math.sqrt(u),m=2*l;this.#t(t,e,n,i,s,r,o,a,(-h+f)/m,d),this.#t(t,e,n,i,s,r,o,a,(-h-f)/m,d)}static bezierBoundingBox(t,e,n,i,s,r,o,a,l){return l?(l[0]=Math.min(l[0],t,o),l[1]=Math.min(l[1],e,a),l[2]=Math.max(l[2],t,o),l[3]=Math.max(l[3],e,a)):l=[Math.min(t,o),Math.min(e,a),Math.max(t,o),Math.max(e,a)],this.#e(t,n,s,o,e,i,r,a,3*(3*(n-s)-t+o),6*(t-2*n+s),3*(n-t),l),this.#e(t,n,s,o,e,i,r,a,3*(3*(i-r)-e+a),6*(e-2*i+r),3*(i-e),l),l}}function J(t){return decodeURIComponent(escape(t))}let Z=null,Q=null;function tt(t){return Z||(Z=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Q=new Map([["","t"]])),t.replaceAll(Z,((t,e,n)=>e?e.normalize("NFKC"):Q.get(n)))}function et(){if("undefined"!==typeof crypto&&"function"===typeof crypto?.randomUUID)return crypto.randomUUID();const t=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof crypto?.getRandomValues)crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(255*Math.random());return V(t)}const nt="pdfjs_internal_id_",it={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class st{constructor(){this.constructor===st&&E("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,s){return"none"}destroy(t=!1){}}class rt{constructor(){this.constructor===rt&&E("Cannot initialize BaseCanvasFactory.")}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){E("Abstract method `_createCanvas` called.")}}class ot{constructor({baseUrl:t=null,isCompressed:e=!0}){this.constructor===ot&&E("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),n=this.isCompressed?b.BINARY:b.NONE;return this._fetchData(e,n).catch((t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)}))}_fetchData(t,e){E("Abstract method `_fetchData` called.")}}class at{constructor({baseUrl:t=null}){this.constructor===at&&E("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetchData(e).catch((t=>{throw new Error(`Unable to load font data at: ${e}`)}))}_fetchData(t){E("Abstract method `_fetchData` called.")}}class lt{constructor(){this.constructor===lt&&E("Cannot initialize BaseSVGFactory.")}create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){E("Abstract method `_createSVG` called.")}}const ht="http://www.w3.org/2000/svg";class ct{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}class dt extends st{#n;#i;#s;#r;#o;#a=0;constructor({docId:t,ownerDocument:e=globalThis.document}={}){super(),this.#s=t,this.#r=e}get#l(){return this.#n||=new Map}get#h(){return this.#o||=new Map}get#c(){if(!this.#i){const t=this.#r.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#r.createElementNS(ht,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#r.createElementNS(ht,"defs"),t.append(n),n.append(this.#i),this.#r.body.append(t)}return this.#i}#d(t){if(1===t.length){const e=t[0],n=new Array(256);for(let t=0;t<256;t++)n[t]=e[t]/255;const i=n.join(",");return[i,i,i]}const[e,n,i]=t,s=new Array(256),r=new Array(256),o=new Array(256);for(let a=0;a<256;a++)s[a]=e[a]/255,r[a]=n[a]/255,o[a]=i[a]/255;return[s.join(","),r.join(","),o.join(",")]}addFilter(t){if(!t)return"none";let e=this.#l.get(t);if(e)return e;const[n,i,s]=this.#d(t),r=1===t.length?n:`${n}${i}${s}`;if(e=this.#l.get(r),e)return this.#l.set(t,e),e;const o=`g_${this.#s}_transfer_map_${this.#a++}`,a=`url(#${o})`;this.#l.set(t,a),this.#l.set(r,a);const l=this.#u(o);return this.#f(n,i,s,l),a}addHCMFilter(t,e){const n=`${t}-${e}`,i="base";let s=this.#h.get(i);if(s?.key===n)return s.url;if(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#h.set(i,s)),!t||!e)return s.url;const r=this.#m(t);t=X.makeHexColor(...r);const o=this.#m(e);if(e=X.makeHexColor(...o),this.#c.style.color="","#000000"===t&&"#ffffff"===e||t===e)return s.url;const a=new Array(256);for(let u=0;u<=255;u++){const t=u/255;a[u]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const l=a.join(","),h=`g_${this.#s}_hcm_filter`,c=s.filter=this.#u(h);this.#f(l,l,l,c),this.#g(c);const d=(t,e)=>{const n=r[t]/255,i=o[t]/255,s=new Array(e+1);for(let r=0;r<=e;r++)s[r]=n+r/e*(i-n);return s.join(",")};return this.#f(d(0,5),d(1,5),d(2,5),c),s.url=`url(#${h})`,s.url}addAlphaFilter(t){let e=this.#l.get(t);if(e)return e;const[n]=this.#d([t]),i=`alpha_${n}`;if(e=this.#l.get(i),e)return this.#l.set(t,e),e;const s=`g_${this.#s}_alpha_map_${this.#a++}`,r=`url(#${s})`;this.#l.set(t,r),this.#l.set(i,r);const o=this.#u(s);return this.#p(n,o),r}addLuminosityFilter(t){let e,n,i=this.#l.get(t||"luminosity");if(i)return i;if(t?([e]=this.#d([t]),n=`luminosity_${e}`):n="luminosity",i=this.#l.get(n),i)return this.#l.set(t,i),i;const s=`g_${this.#s}_luminosity_map_${this.#a++}`,r=`url(#${s})`;this.#l.set(t,r),this.#l.set(n,r);const o=this.#u(s);return this.#_(o),t&&this.#p(e,o),r}addHighlightHCMFilter(t,e,n,i,s){const r=`${e}-${n}-${i}-${s}`;let o=this.#h.get(t);if(o?.key===r)return o.url;if(o?(o.filter?.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},this.#h.set(t,o)),!e||!n)return o.url;const[a,l]=[e,n].map(this.#m.bind(this));let h=Math.round(.2126*a[0]+.7152*a[1]+.0722*a[2]),c=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[d,u]=[i,s].map(this.#m.bind(this));c<h&&([h,c,d,u]=[c,h,u,d]),this.#c.style.color="";const f=(t,e,n)=>{const i=new Array(256),s=(c-h)/n,r=t/255,o=(e-t)/(255*n);let a=0;for(let l=0;l<=n;l++){const t=Math.round(h+l*s),e=r+l*o;for(let n=a;n<=t;n++)i[n]=e;a=t+1}for(let l=a;l<256;l++)i[l]=i[a-1];return i.join(",")},m=`g_${this.#s}_hcm_${t}_filter`,g=o.filter=this.#u(m);return this.#g(g),this.#f(f(d[0],u[0],5),f(d[1],u[1],5),f(d[2],u[2],5),g),o.url=`url(#${m})`,o.url}destroy(t=!1){t&&0!==this.#h.size||(this.#i&&(this.#i.parentNode.parentNode.remove(),this.#i=null),this.#n&&(this.#n.clear(),this.#n=null),this.#a=0)}#_(t){const e=this.#r.createElementNS(ht,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#r.createElementNS(ht,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#u(t){const e=this.#r.createElementNS(ht,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#y(t,e,n){const i=this.#r.createElementNS(ht,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),t.append(i)}#f(t,e,n,i){const s=this.#r.createElementNS(ht,"feComponentTransfer");i.append(s),this.#y(s,"feFuncR",t),this.#y(s,"feFuncG",e),this.#y(s,"feFuncB",n)}#p(t,e){const n=this.#r.createElementNS(ht,"feComponentTransfer");e.append(n),this.#y(n,"feFuncA",t)}#m(t){return this.#c.style.color=t,Rt(getComputedStyle(this.#c).getPropertyValue("color"))}}class ut extends rt{constructor({ownerDocument:t=globalThis.document}={}){super(),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}async function ft(t,e="text"){if(Ct(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE)if(200!==s.status&&0!==s.status)i(new Error(s.statusText));else{switch(e){case"arraybuffer":case"blob":case"json":return void n(s.response)}n(s.responseText)}},s.send(null)}))}class mt extends ot{_fetchData(t,e){return ft(t,this.isCompressed?"arraybuffer":"text").then((t=>({cMapData:t instanceof ArrayBuffer?new Uint8Array(t):B(t),compressionType:e})))}}class gt extends at{_fetchData(t){return ft(t,"arraybuffer").then((t=>new Uint8Array(t)))}}class pt extends lt{_createSVG(t){return document.createElementNS(ht,t)}}class _t{constructor({viewBox:t,scale:e,rotation:n,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=i,this.offsetY=s;const o=(t[2]+t[0])/2,a=(t[3]+t[1])/2;let l,h,c,d,u,f,m,g;switch(n%=360,n<0&&(n+=360),n){case 180:l=-1,h=0,c=0,d=1;break;case 90:l=0,h=1,c=1,d=0;break;case 270:l=0,h=-1,c=-1,d=0;break;case 0:l=1,h=0,c=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}r&&(c=-c,d=-d),0===l?(u=Math.abs(a-t[1])*e+i,f=Math.abs(o-t[0])*e+s,m=(t[3]-t[1])*e,g=(t[2]-t[0])*e):(u=Math.abs(o-t[0])*e+i,f=Math.abs(a-t[1])*e+s,m=(t[2]-t[0])*e,g=(t[3]-t[1])*e),this.transform=[l*e,h*e,c*e,d*e,u-l*e*o-c*e*a,f-h*e*o-d*e*a],this.width=m,this.height=g}get rawDims(){const{viewBox:t}=this;return H(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new _t({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(t,e){return X.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=X.applyTransform([t[0],t[1]],this.transform),n=X.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return X.applyInverseTransform([t,e],this.transform)}}class yt extends P{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function wt(t){const e=t.length;let n=0;while(n<e&&""===t[n].trim())n++;return"data:"===t.substring(n,n+5).toLowerCase()}function vt(t){return"string"===typeof t&&/\.pdf$/i.test(t)}function bt(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Mt(t,e="document.pdf"){if("string"!==typeof t)return e;if(wt(t))return L('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=n.exec(t);let r=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=i.exec(decodeURIComponent(r))[0]}catch{}return r||e}class St{started=Object.create(null);times=[];time(t){t in this.started&&L(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||L(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:s}of this.times)t.push(`${n.padEnd(e)} ${s-i}ms\n`);return t.join("")}}function Ct(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return"http:"===n||"https:"===n}catch{return!1}}function xt(t){t.preventDefault()}function Tt(t){console.log("Deprecated API usage: "+t)}let kt;class Lt{static toDateObject(t){if(!t||"string"!==typeof t)return null;kt||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=kt.exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let r=parseInt(e[4],10);r=r>=0&&r<=23?r:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let a=parseInt(e[6],10);a=a>=0&&a<=59?a:0;const l=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let c=parseInt(e[9],10)||0;return c=c>=0&&c<=59?c:0,"-"===l?(r+=h,o+=c):"+"===l&&(r-=h,o-=c),new Date(Date.UTC(n,i,s,r,o,a))}}function Et(t,{scale:e=1,rotation:n=0}){const{width:i,height:s}=t.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new _t({viewBox:r,scale:e,rotation:n})}function Rt(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((t=>parseInt(t))):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((t=>parseInt(t))).slice(0,3):(L(`Not a valid color format: "${t}"`),[0,0,0])}function At(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,Rt(i))}e.remove()}function Dt(t){const{a:e,b:n,c:i,d:s,e:r,f:o}=t.getTransform();return[e,n,i,s,r,o]}function Ht(t){const{a:e,b:n,c:i,d:s,e:r,f:o}=t.getTransform().invertSelf();return[e,n,i,s,r,o]}function Pt(t,e,n=!1,i=!0){if(e instanceof _t){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:r}=t,o=K.isCSSRoundSupported,a=`var(--scale-factor) * ${i}px`,l=`var(--scale-factor) * ${s}px`,h=o?`round(${a}, 1px)`:`calc(${a})`,c=o?`round(${l}, 1px)`:`calc(${l})`;n&&e.rotation%180!==0?(r.width=c,r.height=h):(r.width=h,r.height=c)}i&&t.setAttribute("data-main-rotation",e.rotation)}class It{#w=null;#v=null;#b;#M=null;constructor(t){this.#b=t}render(){const t=this.#w=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",xt),t.addEventListener("pointerdown",It.#S);const e=this.#M=document.createElement("div");e.className="buttons",t.append(e);const n=this.#b.toolbarPosition;if(n){const{style:e}=t,i="ltr"===this.#b._uiManager.direction?1-n[0]:n[0];e.insetInlineEnd=100*i+"%",e.top=`calc(${100*n[1]}% + var(--editor-toolbar-vert-offset))`}return this.#C(),t}static#S(t){t.stopPropagation()}#x(t){this.#b._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}#T(t){this.#b._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}#k(t){t.addEventListener("focusin",this.#x.bind(this),{capture:!0}),t.addEventListener("focusout",this.#T.bind(this),{capture:!0}),t.addEventListener("contextmenu",xt)}hide(){this.#w.classList.add("hidden"),this.#v?.hideDropdown()}show(){this.#w.classList.remove("hidden")}#C(){const t=document.createElement("button");t.className="delete",t.tabIndex=0,t.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#b.editorType}-button`),this.#k(t),t.addEventListener("click",(t=>{this.#b._uiManager.delete()})),this.#M.append(t)}get#L(){const t=document.createElement("div");return t.className="divider",t}addAltTextButton(t){this.#k(t),this.#M.prepend(t,this.#L)}addColorPicker(t){this.#v=t;const e=t.renderButton();this.#k(e),this.#M.prepend(e,this.#L)}remove(){this.#w.remove(),this.#v?.destroy(),this.#v=null}}class Ot{#M=null;#w=null;#E;constructor(t){this.#E=t}#R(){const t=this.#w=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",xt);const e=this.#M=document.createElement("div");return e.className="buttons",t.append(e),this.#A(),t}#D(t,e){let n=0,i=0;for(const s of t){const t=s.y+s.height;if(t<n)continue;const r=s.x+(e?s.width:0);t>n?(i=r,n=t):e?r>i&&(i=r):r<i&&(i=r)}return[e?1-i:i,n]}show(t,e,n){const[i,s]=this.#D(e,n),{style:r}=this.#w||=this.#R();t.append(this.#w),r.insetInlineEnd=100*i+"%",r.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#w.remove()}#A(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),t.addEventListener("contextmenu",xt),t.addEventListener("click",(()=>{this.#E.highlightSelection("floating_button")})),this.#M.append(t)}}function Yt(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}function Nt(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}class Ft{#a=0;get id(){return`${u}${this.#a++}`}}class jt{#H=et();#a=0;#l=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',e=new OffscreenCanvas(1,3),n=e.getContext("2d"),i=new Image;i.src=t;const s=i.decode().then((()=>(n.drawImage(i,0,0,1,1,0,0,1,3),0===new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0])));return H(this,"_isSVGFittingCanvas",s)}async#P(t,e){this.#l||=new Map;let n=this.#l.get(t);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let t;if(n||={bitmap:null,id:`image_${this.#H}_${this.#a++}`,refCounter:0,isSvg:!1},"string"===typeof e?(n.url=e,t=await ft(e,"blob")):t=n.file=e,"image/svg+xml"===t.type){const e=jt._isSVGFittingCanvas,i=new FileReader,s=new Image,r=new Promise(((t,r)=>{s.onload=()=>{n.bitmap=s,n.isSvg=!0,t()},i.onload=async()=>{const t=n.svgUrl=i.result;s.src=await e?`${t}#svgView(preserveAspectRatio(none))`:t},s.onerror=i.onerror=r}));i.readAsDataURL(t),await r}else n.bitmap=await createImageBitmap(t);n.refCounter=1}catch(i){console.error(i),n=null}return this.#l.set(t,n),n&&this.#l.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:i,type:s}=t;return this.#P(`${e}_${n}_${i}_${s}`,t)}async getFromUrl(t){return this.#P(t,t)}async getFromId(t){this.#l||=new Map;const e=this.#l.get(t);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(t){const e=this.#l.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#l||=new Map;const e=this.#l.get(t);e&&(e.refCounter-=1,0===e.refCounter&&(e.bitmap=null))}isValidId(t){return t.startsWith(`image_${this.#H}_`)}}class Wt{#I=[];#O=!1;#Y;#N=-1;constructor(t=128){this.#Y=t}add({cmd:t,undo:e,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:r=!1,keepUndo:o=!1}){if(i&&t(),this.#O)return;const a={cmd:t,undo:e,post:n,type:s};if(-1===this.#N)return this.#I.length>0&&(this.#I.length=0),this.#N=0,void this.#I.push(a);if(r&&this.#I[this.#N].type===s)return o&&(a.undo=this.#I[this.#N].undo),void(this.#I[this.#N]=a);const l=this.#N+1;l===this.#Y?this.#I.splice(0,1):(this.#N=l,l<this.#I.length&&this.#I.splice(l)),this.#I.push(a)}undo(){if(-1===this.#N)return;this.#O=!0;const{undo:t,post:e}=this.#I[this.#N];t(),e?.(),this.#O=!1,this.#N-=1}redo(){if(this.#N<this.#I.length-1){this.#N+=1,this.#O=!0;const{cmd:t,post:e}=this.#I[this.#N];t(),e?.(),this.#O=!1}}hasSomethingToUndo(){return-1!==this.#N}hasSomethingToRedo(){return this.#N<this.#I.length-1}destroy(){this.#I=null}}class Vt{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=K.platform;for(const[n,i,s={}]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),{callback:i,options:s}),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,{callback:i,options:s}),this.allKeys.add(t.split("+").at(-1)))}}#F(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#F(e));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:r=[],checker:o=null}}=n;o&&!o(t,e)||(i.bind(t,...r,e)(),s||(e.stopPropagation(),e.preventDefault()))}}class Bt{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return At(t),H(this,"_colors",t)}convert(t){const e=Rt(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every(((t,n)=>t===e[n])))return Bt._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?X.makeHexColor(...e):t}}class zt{#j=null;#W=new Map;#V=new Map;#B=null;#z=null;#U=null;#$=new Wt;#G=0;#K=new Set;#q=null;#X=null;#J=new Set;#Z=!1;#Q=null;#tt=null;#et=null;#nt=!1;#it=null;#st=new Ft;#rt=!1;#ot=!1;#at=null;#lt=null;#ht=null;#ct=f.NONE;#dt=new Set;#ut=null;#ft=null;#mt=null;#gt=this.blur.bind(this);#pt=this.focus.bind(this);#_t=this.copy.bind(this);#yt=this.cut.bind(this);#wt=this.paste.bind(this);#vt=this.keydown.bind(this);#bt=this.keyup.bind(this);#Mt=this.onEditingAction.bind(this);#St=this.onPageChanging.bind(this);#Ct=this.onScaleChanging.bind(this);#xt=this.#Tt.bind(this);#kt=this.onRotationChanging.bind(this);#Lt={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#Et=[0,0];#Rt=null;#At=null;#Dt=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=zt.prototype,e=t=>t.#At.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl(),n=(t,{target:e})=>{if(e instanceof HTMLInputElement){const{type:t}=e;return"text"!==t&&"number"!==t}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return H(this,"_keyboardManager",new Vt([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(t,{target:e})=>!(e instanceof HTMLButtonElement)&&t.#At.contains(e)&&!t.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(t,{target:e})=>!(e instanceof HTMLButtonElement)&&t.#At.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}constructor(t,e,n,i,s,r,o,a,l){this.#At=t,this.#Dt=e,this.#B=n,this._eventBus=i,this._eventBus._on("editingaction",this.#Mt),this._eventBus._on("pagechanging",this.#St),this._eventBus._on("scalechanging",this.#Ct),this._eventBus._on("rotationchanging",this.#kt),this.#Ht(),this.#Pt(),this.#z=s.annotationStorage,this.#Q=s.filterFactory,this.#ft=r,this.#et=o||null,this.#Z=a,this.#ht=l||null,this.viewParameters={realScale:ct.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#It(),this.#Ot(),this._eventBus._off("editingaction",this.#Mt),this._eventBus._off("pagechanging",this.#St),this._eventBus._off("scalechanging",this.#Ct),this._eventBus._off("rotationchanging",this.#kt);for(const t of this.#V.values())t.destroy();this.#V.clear(),this.#W.clear(),this.#J.clear(),this.#j=null,this.#dt.clear(),this.#$.destroy(),this.#B?.destroy(),this.#it?.hide(),this.#it=null,this.#tt&&(clearTimeout(this.#tt),this.#tt=null),this.#Rt&&(clearTimeout(this.#Rt),this.#Rt=null),this.#Yt()}async mlGuess(t){return this.#ht?.guess(t)||null}get hasMLManager(){return!!this.#ht}get hcmFilter(){return H(this,"hcmFilter",this.#ft?this.#Q.addHCMFilter(this.#ft.foreground,this.#ft.background):"none")}get direction(){return H(this,"direction",getComputedStyle(this.#At).direction)}get highlightColors(){return H(this,"highlightColors",this.#et?new Map(this.#et.split(",").map((t=>t.split("=").map((t=>t.trim()))))):null)}get highlightColorNames(){return H(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(t=>t.reverse()))):null)}setMainHighlightColorPicker(t){this.#lt=t}editAltText(t){this.#B?.editAltText(this,t)}onPageChanging({pageNumber:t}){this.#G=t-1}focusMainContainer(){this.#At.focus()}findParent(t,e){for(const n of this.#V.values()){const{x:i,y:s,width:r,height:o}=n.div.getBoundingClientRect();if(t>=i&&t<=i+r&&e>=s&&e<=s+o)return n}return null}disableUserSelect(t=!1){this.#Dt.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#J.add(t)}removeShouldRescale(t){this.#J.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ct.PDF_TO_CSS_UNITS;for(const e of this.#J)e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Nt({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:r}=e,o=e.toString(),a=this.#Nt(e),l=a.closest(".textLayer"),h=this.getSelectionBoxes(l);if(h){e.empty(),this.#ct===f.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:f.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const e of this.#V.values())if(e.hasTextLayer(l)){e.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:h,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:r,text:o});break}}}#Ft(){const t=document.getSelection();if(!t||t.isCollapsed)return;const e=this.#Nt(t),n=e.closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(this.#it||=new Ot(this),this.#it.show(n,i,"ltr"===this.direction))}addToAnnotationStorage(t){t.isEmpty()||!this.#z||this.#z.has(t.id)||this.#z.setValue(t.id,t)}#Tt(){const t=document.getSelection();if(!t||t.isCollapsed)return void(this.#ut&&(this.#it?.hide(),this.#ut=null,this.#jt({hasSelectedText:!1})));const{anchorNode:e}=t;if(e===this.#ut)return;const n=this.#Nt(t),i=n.closest(".textLayer");if(i){if(this.#it?.hide(),this.#ut=e,this.#jt({hasSelectedText:!0}),(this.#ct===f.HIGHLIGHT||this.#ct===f.NONE)&&(this.#ct===f.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#nt=this.isShiftKeyDown,!this.isShiftKeyDown)){const t=e=>{"pointerup"===e.type&&0!==e.button||(window.removeEventListener("pointerup",t),window.removeEventListener("blur",t),"pointerup"===e.type&&this.#Wt("main_toolbar"))};window.addEventListener("pointerup",t),window.addEventListener("blur",t)}}else this.#ut&&(this.#it?.hide(),this.#ut=null,this.#jt({hasSelectedText:!1}))}#Wt(t=""){this.#ct===f.HIGHLIGHT?this.highlightSelection(t):this.#Z&&this.#Ft()}#Ht(){document.addEventListener("selectionchange",this.#xt)}#Yt(){document.removeEventListener("selectionchange",this.#xt)}#Vt(){window.addEventListener("focus",this.#pt),window.addEventListener("blur",this.#gt)}#Ot(){window.removeEventListener("focus",this.#pt),window.removeEventListener("blur",this.#gt)}blur(){if(this.isShiftKeyDown=!1,this.#nt&&(this.#nt=!1,this.#Wt("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#dt)if(e.div.contains(t)){this.#at=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#at)return;const[t,e]=this.#at;this.#at=null,e.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0}),e.focus()}#Pt(){window.addEventListener("keydown",this.#vt),window.addEventListener("keyup",this.#bt)}#It(){window.removeEventListener("keydown",this.#vt),window.removeEventListener("keyup",this.#bt)}#Bt(){document.addEventListener("copy",this.#_t),document.addEventListener("cut",this.#yt),document.addEventListener("paste",this.#wt)}#zt(){document.removeEventListener("copy",this.#_t),document.removeEventListener("cut",this.#yt),document.removeEventListener("paste",this.#wt)}addEditListeners(){this.#Pt(),this.#Bt()}removeEditListeners(){this.#It(),this.#zt()}copy(t){if(t.preventDefault(),this.#j?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#dt){const t=n.serialize(!0);t&&e.push(t)}0!==e.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const t of this.#X)if(t.isHandlingMimeForPasting(r.type))return void t.paste(r,this.currentLayer);let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){return void L(`paste: "${s.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const t=[];for(const r of n){const e=i.deserialize(r);if(!e)return;t.push(e)}const e=()=>{for(const e of t)this.#Ut(e);this.#$t(t)},s=()=>{for(const e of t)e.remove()};this.addCommands({cmd:e,undo:s,mustExec:!0})}catch(s){L(`paste: "${s.message}".`)}}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),this.#ct===f.NONE||this.isEditorHandlingKeyboard||zt._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,this.#nt&&(this.#nt=!1,this.#Wt("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#jt(t){const e=Object.entries(t).some((([t,e])=>this.#Lt[t]!==e));e&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Lt,t)}),this.#ct===f.HIGHLIGHT&&!1===t.hasSelectedEditor&&this.#Gt([[m.HIGHLIGHT_FREE,!0]]))}#Gt(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#Vt(),this.#Bt(),this.#jt({isEditing:this.#ct!==f.NONE,isEmpty:this.#Kt(),hasSomethingToUndo:this.#$.hasSomethingToUndo(),hasSomethingToRedo:this.#$.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Ot(),this.#zt(),this.#jt({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#X){this.#X=t;for(const t of this.#X)this.#Gt(t.defaultPropertiesToUpdate)}}getId(){return this.#st.id}get currentLayer(){return this.#V.get(this.#G)}getLayer(t){return this.#V.get(t)}get currentPageIndex(){return this.#G}addLayer(t){this.#V.set(t.pageIndex,t),this.#rt?t.enable():t.disable()}removeLayer(t){this.#V.delete(t.pageIndex)}updateMode(t,e=null,n=!1){if(this.#ct!==t){if(this.#ct=t,t===f.NONE)return this.setEditingState(!1),void this.#qt();this.setEditingState(!0),this.#Xt(),this.unselectAll();for(const e of this.#V.values())e.updateMode(t);if(e||!n){if(e)for(const t of this.#W.values())if(t.annotationElementId===e){this.setSelected(t),t.enterInEditMode();break}}else this.addNewEditorFromKeyboard()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#ct&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){if(this.#X){switch(t){case m.CREATE:return void this.currentLayer.addNewEditor();case m.HIGHLIGHT_DEFAULT_COLOR:this.#lt?.updateColor(e);break;case m.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#mt||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const n of this.#dt)n.updateParams(t,e);for(const n of this.#X)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const s of this.#W.values())s.editorType===t&&s.show(e);const i=this.#mt?.get(m.HIGHLIGHT_SHOW_ALL)??!0;i!==e&&this.#Gt([[m.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#ot!==t){this.#ot=t;for(const e of this.#V.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}#Xt(){if(!this.#rt){this.#rt=!0;for(const t of this.#V.values())t.enable();for(const t of this.#W.values())t.enable()}}#qt(){if(this.unselectAll(),this.#rt){this.#rt=!1;for(const t of this.#V.values())t.disable();for(const t of this.#W.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#W.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#W.get(t)}addEditor(t){this.#W.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#tt&&clearTimeout(this.#tt),this.#tt=setTimeout((()=>{this.focusMainContainer(),this.#tt=null}),0)),this.#W.delete(t.id),this.unselect(t),t.annotationElementId&&this.#K.has(t.annotationElementId)||this.#z?.remove(t.id)}addDeletedAnnotationElement(t){this.#K.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#K.has(t)}removeDeletedAnnotationElement(t){this.#K.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#Ut(t){const e=this.#V.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#j!==t&&(this.#j=t,t&&this.#Gt(t.propertiesToUpdate))}get#Jt(){let t=null;for(t of this.#dt);return t}updateUI(t){this.#Jt===t&&this.#Gt(t.propertiesToUpdate)}toggleSelected(t){if(this.#dt.has(t))return this.#dt.delete(t),t.unselect(),void this.#jt({hasSelectedEditor:this.hasSelection});this.#dt.add(t),t.select(),this.#Gt(t.propertiesToUpdate),this.#jt({hasSelectedEditor:!0})}setSelected(t){for(const e of this.#dt)e!==t&&e.unselect();this.#dt.clear(),this.#dt.add(t),t.select(),this.#Gt(t.propertiesToUpdate),this.#jt({hasSelectedEditor:!0})}isSelected(t){return this.#dt.has(t)}get firstSelectedEditor(){return this.#dt.values().next().value}unselect(t){t.unselect(),this.#dt.delete(t),this.#jt({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#dt.size}get isEnterHandled(){return 1===this.#dt.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#$.undo(),this.#jt({hasSomethingToUndo:this.#$.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Kt()})}redo(){this.#$.redo(),this.#jt({hasSomethingToUndo:!0,hasSomethingToRedo:this.#$.hasSomethingToRedo(),isEmpty:this.#Kt()})}addCommands(t){this.#$.add(t),this.#jt({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Kt()})}#Kt(){if(0===this.#W.size)return!0;if(1===this.#W.size)for(const t of this.#W.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...this.#dt],e=()=>{for(const e of t)e.remove()},n=()=>{for(const e of t)this.#Ut(e)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){this.#j?.commitOrRemove()}hasSomethingToControl(){return this.#j||this.hasSelection}#$t(t){for(const e of this.#dt)e.unselect();this.#dt.clear();for(const e of t)e.isEmpty()||(this.#dt.add(e),e.select());this.#jt({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#dt)t.commit();this.#$t(this.#W.values())}unselectAll(){if((!this.#j||(this.#j.commitOrRemove(),this.#ct===f.NONE))&&this.hasSelection){for(const t of this.#dt)t.unselect();this.#dt.clear(),this.#jt({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#Et[0]+=t,this.#Et[1]+=e;const[i,s]=this.#Et,r=[...this.#dt],o=1e3;this.#Rt&&clearTimeout(this.#Rt),this.#Rt=setTimeout((()=>{this.#Rt=null,this.#Et[0]=this.#Et[1]=0,this.addCommands({cmd:()=>{for(const t of r)this.#W.has(t.id)&&t.translateInPage(i,s)},undo:()=>{for(const t of r)this.#W.has(t.id)&&t.translateInPage(-i,-s)},mustExec:!1})}),o);for(const a of r)a.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#q=new Map;for(const t of this.#dt)this.#q.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#q)return!1;this.disableUserSelect(!1);const t=this.#q;this.#q=null;let e=!1;for(const[{x:i,y:s,pageIndex:r},o]of t)o.newX=i,o.newY=s,o.newPageIndex=r,e||=i!==o.savedX||s!==o.savedY||r!==o.savedPageIndex;if(!e)return!1;const n=(t,e,n,i)=>{if(this.#W.has(t.id)){const s=this.#V.get(i);s?t._setParentAndPosition(s,e,n):(t.pageIndex=i,t.x=e,t.y=n)}};return this.addCommands({cmd:()=>{for(const[e,{newX:i,newY:s,newPageIndex:r}]of t)n(e,i,s,r)},undo:()=>{for(const[e,{savedX:i,savedY:s,savedPageIndex:r}]of t)n(e,i,s,r)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#q)for(const n of this.#q.keys())n.drag(t,e)}rebuild(t){if(null===t.parent){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#dt.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#j===t}getActive(){return this.#j}getMode(){return this.#ct}get imageManager(){return H(this,"imageManager",new jt)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,h=e.rangeCount;l<h;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:r}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(t,e,o,a)=>({x:(e-i)/r,y:1-(t+o-n)/s,width:a/r,height:o/s});break;case"180":o=(t,e,o,a)=>({x:1-(t+o-n)/s,y:1-(e+a-i)/r,width:o/s,height:a/r});break;case"270":o=(t,e,o,a)=>({x:1-(e+a-i)/r,y:(t-n)/s,width:a/r,height:o/s});break;default:o=(t,e,o,a)=>({x:(t-n)/s,y:(e-i)/r,width:o/s,height:a/r});break}const a=[];for(let l=0,h=e.rangeCount;l<h;l++){const t=e.getRangeAt(l);if(!t.collapsed)for(const{x:e,y:n,width:i,height:s}of t.getClientRects())0!==i&&0!==s&&a.push(o(e,n,i,s))}return 0===a.length?null:a}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#U||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#U?.delete(t)}renderAnnotationElement(t){const e=this.#U?.get(t.data.id);if(!e)return;const n=this.#z.getRawValue(e);n&&(this.#ct!==f.NONE||n.hasBeenModified)&&n.renderAnnotationElement(t)}}class Ut{#Zt="";#Qt=!1;#te=null;#ee=null;#ne=null;#ie=!1;#b=null;static _l10nPromise=null;constructor(t){this.#b=t}static initialize(t){Ut._l10nPromise||=t}async render(){const t=this.#te=document.createElement("button");t.className="altText";const e=await Ut._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0",t.addEventListener("contextmenu",xt),t.addEventListener("pointerdown",(t=>t.stopPropagation()));const n=t=>{t.preventDefault(),this.#b._uiManager.editAltText(this.#b)};return t.addEventListener("click",n,{capture:!0}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(this.#ie=!0,n(e))})),await this.#se(),t}finish(){this.#te&&(this.#te.focus({focusVisible:this.#ie}),this.#ie=!1)}isEmpty(){return!this.#Zt&&!this.#Qt}get data(){return{altText:this.#Zt,decorative:this.#Qt}}set data({altText:t,decorative:e}){this.#Zt===t&&this.#Qt===e||(this.#Zt=t,this.#Qt=e,this.#se())}toggle(t=!1){this.#te&&(!t&&this.#ne&&(clearTimeout(this.#ne),this.#ne=null),this.#te.disabled=!t)}destroy(){this.#te?.remove(),this.#te=null,this.#ee=null}async#se(){const t=this.#te;if(!t)return;if(!this.#Zt&&!this.#Qt)return t.classList.remove("done"),void this.#ee?.remove();t.classList.add("done"),Ut._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((e=>{t.setAttribute("aria-label",e)}));let e=this.#ee;if(!e){this.#ee=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip");const n=e.id=`alt-text-tooltip-${this.#b.id}`;t.setAttribute("aria-describedby",n);const i=100;t.addEventListener("mouseenter",(()=>{this.#ne=setTimeout((()=>{this.#ne=null,this.#ee.classList.add("show"),this.#b._reportTelemetry({action:"alt_text_tooltip"})}),i)})),t.addEventListener("mouseleave",(()=>{this.#ne&&(clearTimeout(this.#ne),this.#ne=null),this.#ee?.classList.remove("show")}))}e.innerText=this.#Qt?await Ut._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#Zt,e.parentNode||t.append(e);const n=this.#b.getImageForAltText();n?.setAttribute("aria-describedby",e.id)}}class $t{#re=null;#Zt=null;#oe=!1;#ae=!1;#le=null;#he=null;#ce=this.focusin.bind(this);#de=this.focusout.bind(this);#ue=null;#fe="";#me=!1;#ge=null;#pe=!1;#_e=!1;#ye=!1;#we=null;#ve=0;#be=0;#Me=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#Se=!1;#Ce=$t._zIndex++;static _borderLineWidth=-1;static _colorManager=new Bt;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=$t.prototype._resizeWithKeyboard,e=zt.TRANSLATE_SMALL,n=zt.TRANSLATE_BIG;return H(this,"_resizerKeyboardManager",new Vt([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],$t.prototype._stopResizingWithKeyboard]]))}constructor(t){this.constructor===$t&&E("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:r}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,r];const[o,a]=this.parentDimensions;this.x=t.x/o,this.y=t.y/a,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return H(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Gt({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e,n){if($t._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((e=>[e,t.get(e.replaceAll(/([A-Z])/g,(t=>`-${t.toLowerCase()}`)))]))),n?.strings)for(const s of n.strings)$t._l10nPromise.set(s,t.get(s));if(-1!==$t._borderLineWidth)return;const i=getComputedStyle(document.documentElement);$t._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){E("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#Se}set _isDraggable(t){this.#Se=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#Ce}setParent(t){null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#xe(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#me?this.#me=!1:this.parent.setSelected(this))}focusout(t){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const e=t.relatedTarget;e?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[s,r]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/s,this.y=(e+i)/r,this.fixAndSetPosition()}#Te([t,e],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/t,this.y+=i/e,this.fixAndSetPosition()}translate(t,e){this.#Te(this.parentDimensions,t,e)}translateInPage(t,e){this.#ge||=[this.x,this.y],this.#Te(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){this.#ge||=[this.x,this.y];const[n,i]=this.parentDimensions;if(this.x+=t/n,this.y+=e/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:t,y:e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,t,e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:r}=this;const[o,a]=this.getBaseTranslation();s+=o,r+=a,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*r).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#ge&&(this.#ge[0]!==this.x||this.#ge[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=$t,i=n/t,s=n/e;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:i,y:s,width:r,height:o}=this;if(r*=e,o*=n,i*=e,s*=n,this._mustFixPosition)switch(t){case 0:i=Math.max(0,Math.min(e-r,i)),s=Math.max(0,Math.min(n-o,s));break;case 90:i=Math.max(0,Math.min(e-o,i)),s=Math.min(n,Math.max(r,s));break;case 180:i=Math.min(e,Math.max(r,i)),s=Math.min(n,Math.max(o,s));break;case 270:i=Math.min(e,Math.max(o,i)),s=Math.max(0,Math.min(n-r,s));break}this.x=i/=e,this.y=s/=n;const[a,l]=this.getBaseTranslation();i+=a,s+=l;const{style:h}=this.div;h.left=`${(100*i).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#ke(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return $t.#ke(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return $t.#ke(t,e,360-this.parentRotation)}#Le(t){switch(t){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this,i=e*t,s=n*t;return K.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(t,e){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,this.#ae||(this.div.style.height=`${(100*e/i).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,i=n.endsWith("%"),s=!this.#ae&&e.endsWith("%");if(i&&s)return;const[r,o]=this.parentDimensions;i||(t.width=`${(100*parseFloat(n)/r).toFixed(2)}%`),this.#ae||s||(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#Ee(){if(this.#le)return;this.#le=document.createElement("div"),this.#le.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const e of t){const t=document.createElement("div");this.#le.append(t),t.classList.add("resizer",e),t.setAttribute("data-resizer-name",e),t.addEventListener("pointerdown",this.#Re.bind(this,e)),t.addEventListener("contextmenu",xt),t.tabIndex=-1}this.div.prepend(this.#le)}#Re(t,e){e.preventDefault();const{isMac:n}=K.platform;if(0!==e.button||e.ctrlKey&&n)return;this.#Zt?.toggle(!1);const i=this.#Ae.bind(this,t),s=this._isDraggable;this._isDraggable=!1;const r={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,r),window.addEventListener("contextmenu",xt);const o=this.x,a=this.y,l=this.width,h=this.height,c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const u=()=>{this.parent.togglePointerEvents(!0),this.#Zt?.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),window.removeEventListener("pointermove",i,r),window.removeEventListener("contextmenu",xt),this.parent.div.style.cursor=c,this.div.style.cursor=d,this.#De(o,a,l,h)};window.addEventListener("pointerup",u),window.addEventListener("blur",u)}#De(t,e,n,i){const s=this.x,r=this.y,o=this.width,a=this.height;s===t&&r===e&&o===n&&a===i||this.addCommands({cmd:()=>{this.width=o,this.height=a,this.x=s,this.y=r;const[t,e]=this.parentDimensions;this.setDims(t*o,e*a),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=t,this.y=e;const[s,r]=this.parentDimensions;this.setDims(s*n,r*i),this.fixAndSetPosition()},mustExec:!0})}#Ae(t,e){const[n,i]=this.parentDimensions,s=this.x,r=this.y,o=this.width,a=this.height,l=$t.MIN_SIZE/n,h=$t.MIN_SIZE/i,c=t=>Math.round(1e4*t)/1e4,d=this.#Le(this.rotation),u=(t,e)=>[d[0]*t+d[2]*e,d[1]*t+d[3]*e],f=this.#Le(360-this.rotation),m=(t,e)=>[f[0]*t+f[2]*e,f[1]*t+f[3]*e];let g,p,_=!1,y=!1;switch(t){case"topLeft":_=!0,g=(t,e)=>[0,0],p=(t,e)=>[t,e];break;case"topMiddle":g=(t,e)=>[t/2,0],p=(t,e)=>[t/2,e];break;case"topRight":_=!0,g=(t,e)=>[t,0],p=(t,e)=>[0,e];break;case"middleRight":y=!0,g=(t,e)=>[t,e/2],p=(t,e)=>[0,e/2];break;case"bottomRight":_=!0,g=(t,e)=>[t,e],p=(t,e)=>[0,0];break;case"bottomMiddle":g=(t,e)=>[t/2,e],p=(t,e)=>[t/2,0];break;case"bottomLeft":_=!0,g=(t,e)=>[0,e],p=(t,e)=>[t,0];break;case"middleLeft":y=!0,g=(t,e)=>[0,e/2],p=(t,e)=>[t,e/2];break}const w=g(o,a),v=p(o,a);let b=u(...v);const M=c(s+b[0]),S=c(r+b[1]);let C=1,x=1,[T,k]=this.screenToPageTranslation(e.movementX,e.movementY);if([T,k]=m(T/n,k/i),_){const t=Math.hypot(o,a);C=x=Math.max(Math.min(Math.hypot(v[0]-w[0]-T,v[1]-w[1]-k)/t,1/o,1/a),l/o,h/a)}else y?C=Math.max(l,Math.min(1,Math.abs(v[0]-w[0]-T)))/o:x=Math.max(h,Math.min(1,Math.abs(v[1]-w[1]-k)))/a;const L=c(o*C),E=c(a*x);b=u(...p(L,E));const R=M-b[0],A=S-b[1];this.width=L,this.height=E,this.x=R,this.y=A,this.setDims(n*L,i*E),this.fixAndSetPosition()}altTextFinish(){this.#Zt?.finish()}async addEditToolbar(){return this.#ue||this.#_e||(this.#ue=new It(this),this.div.append(this.#ue.render()),this.#Zt&&this.#ue.addAltTextButton(await this.#Zt.render())),this.#ue}removeEditToolbar(){this.#ue&&(this.#ue.remove(),this.#ue=null,this.#Zt?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#Zt||(Ut.initialize($t._l10nPromise),this.#Zt=new Ut(this),await this.addEditToolbar())}get altTextData(){return this.#Zt?.data}set altTextData(t){this.#Zt&&(this.#Zt.data=t)}hasAltText(){return!this.#Zt?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#oe?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",this.#ce),this.div.addEventListener("focusout",this.#de);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),Yt(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=K.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():(this.#me=!0,this._isDraggable?this.#He(t):this.#Pe(t))}#Pe(t){const{isMac:e}=K.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#He(t){const e=this._uiManager.isSelected(this);let n,i;this._uiManager.setUpDragSession(),e&&(this.div.classList.add("moving"),n={passive:!0,capture:!0},this.#ve=t.clientX,this.#be=t.clientY,i=t=>{const{clientX:e,clientY:n}=t,[i,s]=this.screenToPageTranslation(e-this.#ve,n-this.#be);this.#ve=e,this.#be=n,this._uiManager.dragSelectedEditors(i,s)},window.addEventListener("pointermove",i,n));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,n)),this.#me=!1,this._uiManager.endDragSession()||this.#Pe(t)};window.addEventListener("pointerup",s),window.addEventListener("blur",s)}moveInDOM(){this.#we&&clearTimeout(this.#we),this.#we=setTimeout((()=>{this.#we=null,this.parent?.moveEditorInDOM(this)}),0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const i=this.parentScale,[s,r]=this.pageDimensions,[o,a]=this.pageTranslation,l=t/i,h=e/i,c=this.x*s,d=this.y*r,u=this.width*s,f=this.height*r;switch(n){case 0:return[c+l+o,r-d-h-f+a,c+l+u+o,r-d-h+a];case 90:return[c+h+o,r-d+l+a,c+h+f+o,r-d+l+u+a];case 180:return[c-l-u+o,r-d+h+a,c-l+o,r-d+h+f+a];case 270:return[c-h-f+o,r-d-l-u+a,c-h+o,r-d-l+a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,s,r]=t,o=s-n,a=r-i;switch(this.rotation){case 0:return[n,e-r,o,a];case 90:return[n,e-i,a,o];case 180:return[s,e-i,o,a];case 270:return[s,e-r,a,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#_e=!0}disableEditMode(){this.#_e=!1}isInEditMode(){return this.#_e}shouldGetKeyboardEvents(){return this.#ye}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#ce),this.div?.addEventListener("focusout",this.#de)}rotate(t){}serialize(t=!1,e=null){E("An editor must be serializable")}static deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});i.rotation=t.rotation;const[s,r]=i.pageDimensions,[o,a,l,h]=i.getRectInCurrentCoords(t.rect,r);return i.x=o/s,i.y=a/r,i.width=l/s,i.height=h/r,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",this.#ce),this.div.removeEventListener("focusout",this.#de),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#we&&(clearTimeout(this.#we),this.#we=null),this.#xe(),this.removeEditToolbar(),this.#Me){for(const t of this.#Me.values())clearTimeout(t);this.#Me=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#Ee(),this.#le.classList.remove("hidden"),Yt(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),this.#he={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#le.children;if(!this.#re){this.#re=Array.from(e);const t=this.#Ie.bind(this),n=this.#Oe.bind(this);for(const e of this.#re){const i=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",t),e.addEventListener("blur",n),e.addEventListener("focus",this.#Ye.bind(this,i)),$t._l10nPromise.get(`pdfjs-editor-resizer-label-${i}`).then((t=>e.setAttribute("aria-label",t)))}}const n=this.#re[0];let i=0;for(const r of e){if(r===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#re.length/4);if(s!==i){if(s<i)for(let e=0;e<i-s;e++)this.#le.append(this.#le.firstChild);else if(s>i)for(let e=0;e<s-i;e++)this.#le.firstChild.before(this.#le.lastChild);let t=0;for(const n of e){const e=this.#re[t++],i=e.getAttribute("data-resizer-name");$t._l10nPromise.get(`pdfjs-editor-resizer-label-${i}`).then((t=>n.setAttribute("aria-label",t)))}}this.#Ne(0),this.#ye=!0,this.#le.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#Ie(t){$t._resizerKeyboardManager.exec(this,t)}#Oe(t){this.#ye&&t.relatedTarget?.parentNode!==this.#le&&this.#xe()}#Ye(t){this.#fe=this.#ye?t:""}#Ne(t){if(this.#re)for(const e of this.#re)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#ye&&this.#Ae(this.#fe,{movementX:t,movementY:e})}#xe(){if(this.#ye=!1,this.#Ne(-1),this.#he){const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=this.#he;this.#De(t,e,n,i),this.#he=null}}_stopResizingWithKeyboard(){this.#xe(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.#ue?this.#ue?.show():this.addEditToolbar().then((()=>{this.div?.classList.contains("selectedEditor")&&this.#ue?.show()}))}unselect(){this.#le?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#ue?.hide()}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#pe}set isEditing(t){this.#pe=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#ae=!0;const n=t/e,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#Me||=new Map;const{action:e}=t;let n=this.#Me.get(e);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(t),this.#Me.delete(e),0===this.#Me.size&&(this.#Me=null)}),$t._telemetryTimeout),void this.#Me.set(e,n)}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#oe=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#oe=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const t=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}resetAnnotationElement(t){const{firstChild:e}=t.container;"DIV"===e.nodeName&&e.classList.contains("annotationContent")&&e.remove()}}class Gt extends $t{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Kt=3285377520,qt=4294901760,Xt=65535;class Jt{constructor(t){this.h1=t?4294967295&t:Kt,this.h2=t?4294967295&t:Kt}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let i=0,s=t.length;i<s;i++){const s=t.charCodeAt(i);s<=255?e[n++]=s:(e[n++]=s>>>8,e[n++]=255&s)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");e=t.slice(),n=e.byteLength}const i=n>>2,s=n-4*i,r=new Uint32Array(e.buffer,0,i);let o=0,a=0,l=this.h1,h=this.h2;const c=3432918353,d=461845907,u=c&Xt,f=d&Xt;for(let m=0;m<i;m++)1&m?(o=r[m],o=o*c&qt|o*u&Xt,o=o<<15|o>>>17,o=o*d&qt|o*f&Xt,l^=o,l=l<<13|l>>>19,l=5*l+3864292196):(a=r[m],a=a*c&qt|a*u&Xt,a=a<<15|a>>>17,a=a*d&qt|a*f&Xt,h^=a,h=h<<13|h>>>19,h=5*h+3864292196);switch(o=0,s){case 3:o^=e[4*i+2]<<16;case 2:o^=e[4*i+1]<<8;case 1:o^=e[4*i],o=o*c&qt|o*u&Xt,o=o<<15|o>>>17,o=o*d&qt|o*f&Xt,1&i?l^=o:h^=o}this.h1=l,this.h2=h}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&qt|36045*t&Xt,e=4283543511*e&qt|(2950163797*(e<<16|t>>>16)&qt)>>>16,t^=e>>>1,t=444984403*t&qt|60499*t&Xt,e=3301882366*e&qt|(3120437893*(e<<16|t>>>16)&qt)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Zt=Object.freeze({map:null,hash:"",transfer:void 0});class Qt{#Fe=!1;#je=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#je.get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return this.#je.get(t)}remove(t){if(this.#je.delete(t),0===this.#je.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const t of this.#je.values())if(t instanceof $t)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#je.get(t);let i=!1;if(void 0!==n)for(const[s,r]of Object.entries(e))n[s]!==r&&(i=!0,n[s]=r);else i=!0,this.#je.set(t,e);i&&this.#We(),e instanceof $t&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#je.has(t)}getAll(){return this.#je.size>0?U(this.#je):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return this.#je.size}#We(){this.#Fe||(this.#Fe=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#Fe&&(this.#Fe=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new te(this)}get serializable(){if(0===this.#je.size)return Zt;const t=new Map,e=new Jt,n=[],i=Object.create(null);let s=!1;for(const[r,o]of this.#je){const n=o instanceof $t?o.serialize(!1,i):o;n&&(t.set(r,n),e.update(`${r}:${JSON.stringify(n)}`),s||=!!n.bitmap)}if(s)for(const r of t.values())r.bitmap&&n.push(r.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Zt}get editorStats(){let t=null;const e=new Map;for(const n of this.#je.values()){if(!(n instanceof $t))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;e.has(s)||e.set(s,Object.getPrototypeOf(n).constructor),t||=Object.create(null);const r=t[s]||=new Map;for(const[t,e]of Object.entries(i)){if("type"===t)continue;let n=r.get(t);n||(n=new Map,r.set(t,n));const i=n.get(e)??0;n.set(e,i+1)}}for(const[n,i]of e)t[n]=i.computeTelemetryFinalData(t[n]);return t}}class te extends Qt{#Ve;constructor(t){super();const{map:e,hash:n,transfer:i}=t.serializable,s=structuredClone(e,i?{transfer:i}:null);this.#Ve={map:s,hash:n,transfer:i}}get print(){E("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#Ve}}class ee{#Be=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#Be.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(t&&!this.#Be.has(t.loadedName))if(R(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:s}=t,r=new FontFace(n,i,s);this.addNativeFontFace(r);try{await r.load(),this.#Be.add(n),e?.(t)}catch{L(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(r)}}else E("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void await this.loadSystemFont(t);if(this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw L(`Failed to load font '${e.family}': '${n}'.`),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((e=>{const n=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,n)}))}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return H(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(r||"undefined"!==typeof navigator&&"string"===typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),H(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){R(!i.done,"completeRequest() cannot be called twice."),i.done=!0;while(n.length>0&&n[0].done){const t=n.shift();setTimeout(t.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:e,callback:t};return n.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return H(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,i){const s=t.substring(0,e),r=t.substring(e+n);return s+i+r}let s,r;const o=this._document.createElement("canvas");o.width=1,o.height=1;const a=o.getContext("2d");let l=0;function h(t,e){if(++l>30)return L("Load test font never loaded."),void e();a.font="30px "+t,a.fillText(".",0,20);const n=a.getImageData(0,0,1,1);n.data[3]>0?e():setTimeout(h.bind(null,t,e))}const c=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;const u=976;d=i(d,u,c.length,c);const f=16,m=1482184792;let g=n(d,f);for(s=0,r=c.length-3;s<r;s+=4)g=g-m+n(c,s)|0;s<c.length&&(g=g-m+n(c+"XXX",s)|0),d=i(d,f,4,z(g));const p=`url(data:font/opentype;base64,${btoa(d)});`,_=`@font-face {font-family:"${c}";src:${p}}`;this.insertRule(_);const y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(const w of[t.loadedName,c]){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=w,y.append(t)}this._document.body.append(y),h(c,(()=>{y.remove(),e.complete()}))}}class ne{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this.disableFontFace=!0===e,this._inspectFont=n}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=V(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let n;if(this.cssFontInfo){let t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${t}src:${e}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this._inspectFont?.(this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(s){L(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[e]=function(t,e){};const i=[];for(let r=0,o=n.length;r<o;)switch(n[r++]){case it.BEZIER_CURVE_TO:{const[t,e,s,o,a,l]=n.slice(r,r+6);i.push((n=>n.bezierCurveTo(t,e,s,o,a,l))),r+=6}break;case it.MOVE_TO:{const[t,e]=n.slice(r,r+2);i.push((n=>n.moveTo(t,e))),r+=2}break;case it.LINE_TO:{const[t,e]=n.slice(r,r+2);i.push((n=>n.lineTo(t,e))),r+=2}break;case it.QUADRATIC_CURVE_TO:{const[t,e,s,o]=n.slice(r,r+4);i.push((n=>n.quadraticCurveTo(t,e,s,o))),r+=4}break;case it.RESTORE:i.push((t=>t.restore()));break;case it.SAVE:i.push((t=>t.save()));break;case it.SCALE:R(2===i.length,"Scale command is only valid at the third position.");break;case it.TRANSFORM:{const[t,e,s,o,a,l]=n.slice(r,r+6);i.push((n=>n.transform(t,e,s,o,a,l))),r+=6}break;case it.TRANSLATE:{const[t,e]=n.slice(r,r+2);i.push((n=>n.translate(t,e))),r+=2}break}return this.compiledGlyphs[e]=function(t,e){i[0](t),i[1](t),t.scale(e,-e);for(let n=2,s=i.length;n<s;n++)i[n](t)}}}if(r){var ie=Promise.withResolvers(),se=null;const t=async()=>{const t=await import("fs"),e=await import("http"),n=await import("https"),i=await import("url");let s,r;return new Map(Object.entries({fs:t,http:e,https:n,url:i,canvas:s,path2d:r}))};t().then((t=>{se=t,ie.resolve()}),(t=>{L(`loadPackages: ${t}`),se=new Map,ie.resolve()}))}class re{static get promise(){return ie.promise}static get(t){return se?.get(t)}}const oe=function(t){const e=re.get("fs");return e.promises.readFile(t).then((t=>new Uint8Array(t)))};class ae extends st{}class le extends rt{_createCanvas(t,e){const n=re.get("canvas");return n.createCanvas(t,e)}}class he extends ot{_fetchData(t,e){return oe(t).then((t=>({cMapData:t,compressionType:e})))}}class ce extends at{_fetchData(t){return oe(t)}}const de={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ue(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],n,i),t.clip(s)}class fe{constructor(){this.constructor===fe&&E("Cannot initialize BaseShadingPattern.")}getPattern(){E("Abstract method `getPattern` called.")}}class me extends fe{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let s;if(i===de.STROKE||i===de.FILL){const r=e.current.getClippedPathBoundingBox(i,Dt(t))||[0,0,0,0],o=Math.ceil(r[2]-r[0])||1,a=Math.ceil(r[3]-r[1])||1,l=e.cachedCanvases.getCanvas("pattern",o,a,!0),h=l.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-r[0],-r[1]),n=X.transform(n,[1,0,0,1,r[0],r[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),ue(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=t.createPattern(l.canvas,"no-repeat");const c=new DOMMatrix(n);s.setTransform(c)}else ue(t,this._bbox),s=this._createGradient(t);return s}}function ge(t,e,n,i,s,r,o,a){const l=e.coords,h=e.colors,c=t.data,d=4*t.width;let u;l[n+1]>l[i+1]&&(u=n,n=i,i=u,u=r,r=o,o=u),l[i+1]>l[s+1]&&(u=i,i=s,s=u,u=o,o=a,a=u),l[n+1]>l[i+1]&&(u=n,n=i,i=u,u=r,r=o,o=u);const f=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,p=(l[i+1]+e.offsetY)*e.scaleY,_=(l[s]+e.offsetX)*e.scaleX,y=(l[s+1]+e.offsetY)*e.scaleY;if(m>=y)return;const w=h[r],v=h[r+1],b=h[r+2],M=h[o],S=h[o+1],C=h[o+2],x=h[a],T=h[a+1],k=h[a+2],L=Math.round(m),E=Math.round(y);let R,A,D,H,P,I,O,Y;for(let N=L;N<=E;N++){if(N<p){const t=N<m?0:(m-N)/(m-p);R=f-(f-g)*t,A=w-(w-M)*t,D=v-(v-S)*t,H=b-(b-C)*t}else{let t;t=N>y?1:p===y?0:(p-N)/(p-y),R=g-(g-_)*t,A=M-(M-x)*t,D=S-(S-T)*t,H=C-(C-k)*t}let t;t=N<m?0:N>y?1:(m-N)/(m-y),P=f-(f-_)*t,I=w-(w-x)*t,O=v-(v-T)*t,Y=b-(b-k)*t;const e=Math.round(Math.min(R,P)),n=Math.round(Math.max(R,P));let i=d*N+4*e;for(let s=e;s<=n;s++)t=(R-s)/(R-P),t<0?t=0:t>1&&(t=1),c[i++]=A-(A-I)*t|0,c[i++]=D-(D-O)*t|0,c[i++]=H-(H-Y)*t|0,c[i++]=255}}function pe(t,e,n){const i=e.coords,s=e.colors;let r,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,h=a-1;for(r=0;r<l;r++){let e=r*a;for(let r=0;r<h;r++,e++)ge(t,n,i[e],i[e+1],i[e+a],s[e],s[e+1],s[e+a]),ge(t,n,i[e+a+1],i[e+1],i[e+a],s[e+a+1],s[e+1],s[e+a])}break;case"triangles":for(r=0,o=i.length;r<o;r+=3)ge(t,n,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class _e extends fe{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const i=1.1,s=3e3,r=2,o=Math.floor(this._bounds[0]),a=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-a,c=Math.min(Math.ceil(Math.abs(l*t[0]*i)),s),d=Math.min(Math.ceil(Math.abs(h*t[1]*i)),s),u=l/c,f=h/d,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-a,scaleX:1/u,scaleY:1/f},g=c+2*r,p=d+2*r,_=n.getCanvas("mesh",g,p,!1),y=_.context,w=y.createImageData(c,d);if(e){const t=w.data;for(let n=0,i=t.length;n<i;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const b of this._figures)pe(w,b,m);y.putImageData(w,r,r);const v=_.canvas;return{canvas:v,offsetX:o-r*u,offsetY:a-r*f,scaleX:u,scaleY:f}}getPattern(t,e,n,i){let s;if(ue(t,this._bbox),i===de.SHADING)s=X.singularValueDecompose2dScale(Dt(t));else if(s=X.singularValueDecompose2dScale(e.baseTransform),this.matrix){const t=X.singularValueDecompose2dScale(this.matrix);s=[s[0]*t[0],s[1]*t[1]]}const r=this._createMeshCanvas(s,i===de.SHADING?null:this._background,e.cachedCanvases);return i!==de.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(r.offsetX,r.offsetY),t.scale(r.scaleX,r.scaleY),t.createPattern(r.canvas,"no-repeat")}}class ye extends fe{getPattern(){return"hotpink"}}function we(t){switch(t[0]){case"RadialAxial":return new me(t);case"Mesh":return new _e(t);case"Dummy":return new ye}throw new Error(`Unknown IR type: ${t[0]}`)}const ve={COLORED:1,UNCOLORED:2};class be{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,i,s){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,i=this.xstep,s=this.ystep,r=this.paintType,o=this.tilingType,a=this.color,l=this.canvasGraphicsFactory;k("TilingType: "+o);const h=n[0],c=n[1],d=n[2],u=n[3],f=X.singularValueDecompose2dScale(this.matrix),m=X.singularValueDecompose2dScale(this.baseTransform),g=[f[0]*m[0],f[1]*m[1]],p=this.getSizeAndScale(i,this.ctx.canvas.width,g[0]),_=this.getSizeAndScale(s,this.ctx.canvas.height,g[1]),y=t.cachedCanvases.getCanvas("pattern",p.size,_.size,!0),w=y.context,v=l.createCanvasGraphics(w);v.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(v,r,a);let b=h,M=c,S=d,C=u;return h<0&&(b=0,S+=Math.abs(h)),c<0&&(M=0,C+=Math.abs(c)),w.translate(-p.scale*b,-_.scale*M),v.transform(p.scale,0,0,_.scale,0,0),w.save(),this.clipBbox(v,b,M,S,C),v.baseTransform=Dt(v.ctx),v.executeOperatorList(e),v.endDrawing(),{canvas:y.canvas,scaleX:p.scale,scaleY:_.scale,offsetX:b,offsetY:M}}getSizeAndScale(t,e,n){t=Math.abs(t);const i=Math.max(be.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*n);return s>=i?s=i:n=s/t,{scale:n,size:s}}clipBbox(t,e,n,i,s){const r=i-e,o=s-n;t.ctx.rect(e,n,r,o),t.current.updateRectMinMax(Dt(t.ctx),[e,n,i,s]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,s=t.current;switch(e){case ve.COLORED:const t=this.ctx;i.fillStyle=t.fillStyle,i.strokeStyle=t.strokeStyle,s.fillColor=t.fillStyle,s.strokeColor=t.strokeStyle;break;case ve.UNCOLORED:const r=X.makeHexColor(n[0],n[1],n[2]);i.fillStyle=r,i.strokeStyle=r,s.fillColor=r,s.strokeColor=r;break;default:throw new j(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,i){let s=n;i!==de.SHADING&&(s=X.transform(s,e.baseTransform),this.matrix&&(s=X.transform(s,this.matrix)));const r=this.createPatternCanvas(e);let o=new DOMMatrix(s);o=o.translate(r.offsetX,r.offsetY),o=o.scale(1/r.scaleX,1/r.scaleY);const a=t.createPattern(r.canvas,"repeat");return a.setTransform(o),a}}function Me({src:t,srcPos:e=0,dest:n,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const a=K.isLittleEndian?4278190080:255,[l,h]=o?[r,a]:[a,r],c=i>>3,d=7&i,u=t.length;n=new Uint32Array(n.buffer);let f=0;for(let m=0;m<s;m++){for(const s=e+c;e<s;e++){const i=e<u?t[e]:255;n[f++]=128&i?h:l,n[f++]=64&i?h:l,n[f++]=32&i?h:l,n[f++]=16&i?h:l,n[f++]=8&i?h:l,n[f++]=4&i?h:l,n[f++]=2&i?h:l,n[f++]=1&i?h:l}if(0===d)continue;const i=e<u?t[e++]:255;for(let t=0;t<d;t++)n[f++]=i&1<<7-t?h:l}return{srcPos:e,destPos:f}}const Se=16,Ce=100,xe=15,Te=10,ke=1e3,Le=16;function Ee(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,i,s,r,o){e.transform(t,n,i,s,r,o),this.__originalTransform(t,n,i,s,r,o)},t.setTransform=function(t,n,i,s,r,o){e.setTransform(t,n,i,s,r,o),this.__originalSetTransform(t,n,i,s,r,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,i,s,r,o){e.bezierCurveTo(t,n,i,s,r,o),this.__originalBezierCurveTo(t,n,i,s,r,o)},t.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Re{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ae(t,e,n,i,s,r,o,a,l,h){const[c,d,u,f,m,g]=Dt(t);if(0===d&&0===u){const p=o*c+m,_=Math.round(p),y=a*f+g,w=Math.round(y),v=(o+l)*c+m,b=Math.abs(Math.round(v)-_)||1,M=(a+h)*f+g,S=Math.abs(Math.round(M)-w)||1;return t.setTransform(Math.sign(c),0,0,Math.sign(f),_,w),t.drawImage(e,n,i,s,r,0,0,b,S),t.setTransform(c,d,u,f,m,g),[b,S]}if(0===c&&0===f){const p=a*u+m,_=Math.round(p),y=o*d+g,w=Math.round(y),v=(a+h)*u+m,b=Math.abs(Math.round(v)-_)||1,M=(o+l)*d+g,S=Math.abs(Math.round(M)-w)||1;return t.setTransform(0,Math.sign(d),Math.sign(u),0,_,w),t.drawImage(e,n,i,s,r,0,0,S,b),t.setTransform(c,d,u,f,m,g),[S,b]}t.drawImage(e,n,i,s,r,o,a,l,h);const p=Math.hypot(c,d),_=Math.hypot(u,f);return[p*l,_*h]}function De(t){const{width:e,height:n}=t;if(e>ke||n>ke)return null;const i=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let o,a,l,h=new Uint8Array(r*(n+1));const c=e+7&-8;let d=new Uint8Array(c*n),u=0;for(const _ of t.data){let t=128;while(t>0)d[u++]=_&t?0:255,t>>=1}let f=0;for(u=0,0!==d[u]&&(h[0]=1,++f),a=1;a<e;a++)d[u]!==d[u+1]&&(h[a]=d[u]?2:1,++f),u++;for(0!==d[u]&&(h[a]=2,++f),o=1;o<n;o++){u=o*c,l=o*r,d[u-c]!==d[u]&&(h[l]=d[u]?1:8,++f);let t=(d[u]?4:0)+(d[u-c]?8:0);for(a=1;a<e;a++)t=(t>>2)+(d[u+1]?4:0)+(d[u-c+1]?8:0),s[t]&&(h[l+a]=s[t],++f),u++;if(d[u-c]!==d[u]&&(h[l+a]=d[u]?2:4,++f),f>i)return null}for(u=c*(n-1),l=o*r,0!==d[u]&&(h[l]=8,++f),a=1;a<e;a++)d[u]!==d[u+1]&&(h[l+a]=d[u]?4:8,++f),u++;if(0!==d[u]&&(h[l+a]=4,++f),f>i)return null;const m=new Int32Array([0,r,-1,0,-r,0,0,0,1]),g=new Path2D;for(o=0;f&&o<=n;o++){let t=o*r;const n=t+e;while(t<n&&!h[t])t++;if(t===n)continue;g.moveTo(t%r,o);const i=t;let s=h[t];do{const e=m[s];do{t+=e}while(!h[t]);const n=h[t];5!==n&&10!==n?(s=n,h[t]=0):(s=n&51*s>>4,h[t]&=s>>2|s<<2),g.lineTo(t%r,t/r|0),h[t]||--f}while(i!==t);--o}d=null,h=null;const p=function(t){t.save(),t.scale(1/e,-1/n),t.translate(0,-n),t.fill(g),t.beginPath(),t.restore()};return p}class He{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o,this.textMatrixScale=1,this.fontMatrix=a,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=p.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=X.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=X.applyTransform(e,t),i=X.applyTransform(e.slice(2),t),s=X.applyTransform([e[0],e[3]],t),r=X.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],i[0],s[0],r[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],r[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],r[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],r[1])}updateScalingPathMinMax(t,e){X.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,i,s,r,o,a,l,h){const c=X.bezierBoundingBox(e,n,i,s,r,o,a,l,h);h||this.updateRectMinMax(t,c)}getPathBoundingBox(t=de.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===de.STROKE){e||E("Stroke bounding box must include transform.");const t=X.singularValueDecompose2dScale(e),i=t[0]*this.lineWidth/2,s=t[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const t=X.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=de.FILL,e=null){return X.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Pe(t,e){if("undefined"!==typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);const n=e.height,i=e.width,s=n%Le,r=(n-s)/Le,o=0===s?r:r+1,a=t.createImageData(i,Le);let l,h=0;const c=e.data,d=a.data;let u,f,m,g;if(e.kind===_.GRAYSCALE_1BPP){const e=c.byteLength,n=new Uint32Array(d.buffer,0,d.byteLength>>2),g=n.length,p=i+7>>3,_=4294967295,y=K.isLittleEndian?4278190080:255;for(u=0;u<o;u++){for(m=u<r?Le:s,l=0,f=0;f<m;f++){const t=e-h;let s=0;const r=t>p?i:8*t-7,o=-8&r;let a=0,d=0;for(;s<o;s+=8)d=c[h++],n[l++]=128&d?_:y,n[l++]=64&d?_:y,n[l++]=32&d?_:y,n[l++]=16&d?_:y,n[l++]=8&d?_:y,n[l++]=4&d?_:y,n[l++]=2&d?_:y,n[l++]=1&d?_:y;for(;s<r;s++)0===a&&(d=c[h++],a=128),n[l++]=d&a?_:y,a>>=1}while(l<g)n[l++]=0;t.putImageData(a,0,u*Le)}}else if(e.kind===_.RGBA_32BPP){for(f=0,g=i*Le*4,u=0;u<r;u++)d.set(c.subarray(h,h+g)),h+=g,t.putImageData(a,0,f),f+=Le;u<o&&(g=i*s*4,d.set(c.subarray(h,h+g)),t.putImageData(a,0,f))}else{if(e.kind!==_.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);for(m=Le,g=i*m,u=0;u<o;u++){for(u>=r&&(m=s,g=i*m),l=0,f=g;f--;)d[l++]=c[h++],d[l++]=c[h++],d[l++]=c[h++],d[l++]=255;t.putImageData(a,0,u*Le)}}}function Ie(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,i=e.width,s=n%Le,r=(n-s)/Le,o=0===s?r:r+1,a=t.createImageData(i,Le);let l=0;const h=e.data,c=a.data;for(let d=0;d<o;d++){const e=d<r?Le:s;({srcPos:l}=Me({src:h,srcPos:l,dest:c,width:i,height:e,nonBlackColor:0})),t.putImageData(a,0,d*Le)}}function Oe(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==t[i]&&(e[i]=t[i]);void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Ye(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0),!r){const{filter:e}=t;"none"!==e&&""!==e&&(t.filter="none")}}function Ne(t,e){if(e)return!0;const n=X.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*ct.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const Fe=["butt","round","square"],je=["miter","round","bevel"],We={},Ve={};class Be{constructor(t,e,n,i,s,{optionalContentConfig:r,markedContentStack:o=null},a,l){this.ctx=t,this.current=new He(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=r,this.cachedCanvases=new Re(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return"string"===typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,r=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,r),this.ctx.fillStyle=o,n){const t=this.cachedCanvases.getCanvas("transparent",s,r);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...Dt(this.compositeCtx))}this.ctx.save(),Ye(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Dt(this.ctx)}executeOperatorList(t,e,n,i){const s=t.argsArray,r=t.fnArray;let o=e||0;const a=s.length;if(a===o)return o;const l=a-o>Te&&"function"===typeof n,h=l?Date.now()+xe:0;let c=0;const d=this.commonObjs,u=this.objs;let f;while(1){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(f=r[o],f!==M.dependency)this[f].apply(this,s[o]);else for(const t of s[o]){const e=t.startsWith("g_")?d:u;if(!e.has(t))return e.get(t,n),o}if(o++,o===a)return o;if(l&&++c>Te){if(Date.now()>h)return n(),o;c=0}}}#ze(){while(this.stateStack.length||this.inSMaskMode)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#ze(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#Ue()}#Ue(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width,i=t.height;let s,r,o=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),l=n,h=i,c="prescale1";while(o>2&&l>1||a>2&&h>1){let e=l,n=h;o>2&&l>1&&(e=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),o/=l/e),a>2&&h>1&&(n=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,a/=h/n),s=this.cachedCanvases.getCanvas(c,e,n),r=s.context,r.clearRect(0,0,e,n),r.drawImage(t,0,0,l,h,0,0,e,n),t=s.canvas,l=e,h=n,c="prescale1"===c?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:i}=t,s=this.current.fillColor,r=this.current.patternFill,o=Dt(e);let a,l,h,c;if((t.bitmap||t.data)&&t.count>1){const e=t.bitmap||t.data.buffer;l=JSON.stringify(r?o:[o.slice(0,4),s]),a=this._cachedBitmapsMap.get(e),a||(a=new Map,this._cachedBitmapsMap.set(e,a));const n=a.get(l);if(n&&!r){const t=Math.round(Math.min(o[0],o[2])+o[4]),e=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:n,offsetX:t,offsetY:e}}h=n}h||(c=this.cachedCanvases.getCanvas("maskCanvas",n,i),Ie(c.context,t));let d=X.transform(o,[1/n,0,0,-1/i,0,0]);d=X.transform(d,[1,0,0,1,0,-i]);const[u,f,m,g]=X.getAxialAlignedBoundingBox([0,0,n,i],d),p=Math.round(m-u)||1,_=Math.round(g-f)||1,y=this.cachedCanvases.getCanvas("fillCanvas",p,_),w=y.context,v=u,b=f;w.translate(-v,-b),w.transform(...d),h||(h=this._scaleImage(c.canvas,Ht(w)),h=h.img,a&&r&&a.set(l,h)),w.imageSmoothingEnabled=Ne(Dt(w),t.interpolate),Ae(w,h,0,0,h.width,h.height,0,0,n,i),w.globalCompositeOperation="source-in";const M=X.transform(Ht(w),[1,0,0,1,-v,-b]);return w.fillStyle=r?s.getPattern(e,this,M,de.FILL):s,w.fillRect(0,0,n,i),a&&!r&&(this.cachedCanvases.delete("fillCanvas"),a.set(l,y.canvas)),{canvas:y.canvas,offsetX:Math.round(v),offsetY:Math.round(b)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Fe[t]}setLineJoin(t){this.ctx.lineJoin=je[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Dt(this.suspendedCtx)),Oe(this.suspendedCtx,s),Ee(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Oe(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const s=i[0],r=i[1],o=i[2]-s,a=i[3]-r;0!==o&&0!==a&&(this.genericComposeSMask(e.context,n,o,a,e.subtype,e.backdrop,e.transferMap,s,r,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,s,r,o,a,l,h,c){let d=t.canvas,u=a-h,f=l-c;if(r)if(u<0||f<0||u+n>d.width||f+i>d.height){const t=this.cachedCanvases.getCanvas("maskExtension",n,i),e=t.context;e.drawImage(d,-u,-f),r.some((t=>0!==t))&&(e.globalCompositeOperation="destination-atop",e.fillStyle=X.makeHexColor(...r),e.fillRect(0,0,n,i),e.globalCompositeOperation="source-over"),d=t.canvas,u=f=0}else if(r.some((t=>0!==t))){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const e=new Path2D;e.rect(u,f,n,i),t.clip(e),t.globalCompositeOperation="destination-atop",t.fillStyle=X.makeHexColor(...r),t.fillRect(u,f,n,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===s&&o?e.filter=this.filterFactory.addAlphaFilter(o):"Luminosity"===s&&(e.filter=this.filterFactory.addLuminosityFilter(o));const m=new Path2D;m.rect(a,l,n,i),e.clip(m),e.globalCompositeOperation="destination-in",e.drawImage(d,u,f,n,i,a,l,n,i),e.restore()}save(){this.inSMaskMode?(Oe(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Oe(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,i,s,r){this.ctx.transform(t,e,n,i,s,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const i=this.ctx,s=this.current;let r,o,a=s.x,l=s.y;const h=Dt(i),c=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],d=c?n.slice(0):null;for(let u=0,f=0,m=t.length;u<m;u++)switch(0|t[u]){case M.rectangle:a=e[f++],l=e[f++];const t=e[f++],n=e[f++],u=a+t,m=l+n;i.moveTo(a,l),0===t||0===n?i.lineTo(u,m):(i.lineTo(u,l),i.lineTo(u,m),i.lineTo(a,m)),c||s.updateRectMinMax(h,[a,l,u,m]),i.closePath();break;case M.moveTo:a=e[f++],l=e[f++],i.moveTo(a,l),c||s.updatePathMinMax(h,a,l);break;case M.lineTo:a=e[f++],l=e[f++],i.lineTo(a,l),c||s.updatePathMinMax(h,a,l);break;case M.curveTo:r=a,o=l,a=e[f+4],l=e[f+5],i.bezierCurveTo(e[f],e[f+1],e[f+2],e[f+3],a,l),s.updateCurvePathMinMax(h,r,o,e[f],e[f+1],e[f+2],e[f+3],a,l,d),f+=6;break;case M.curveTo2:r=a,o=l,i.bezierCurveTo(a,l,e[f],e[f+1],e[f+2],e[f+3]),s.updateCurvePathMinMax(h,r,o,a,l,e[f],e[f+1],e[f+2],e[f+3],d),a=e[f+2],l=e[f+3],f+=4;break;case M.curveTo3:r=a,o=l,a=e[f+2],l=e[f+3],i.bezierCurveTo(e[f],e[f+1],a,l,a,l),s.updateCurvePathMinMax(h,r,o,e[f],e[f+1],a,l,a,l,d),f+=4;break;case M.closePath:i.closePath();break}c&&s.updateScalingPathMinMax(h,d),s.setCurrentPoint(a,l)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,Ht(e),de.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(e.save(),e.fillStyle=n.getPattern(e,this,Ht(e),de.FILL),s=!0);const r=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==r&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),s&&e.restore(),t&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=We}eoClip(){this.pendingClip=Ve}beginText(){this.current.textMatrix=o,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),i=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=n.fontMatrix||a,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||L("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const s=n.loadedName||"sans-serif",r=n.systemFontInfo?.css||`"${s}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let h=e;e<Se?h=Se:e>Ce&&(h=Ce),this.current.fontSizeScale=e/h,this.ctx.font=`${l} ${o} ${h}px ${r}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,i,s,r){this.current.textMatrix=[t,e,n,i,s,r],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,i){const s=this.ctx,r=this.current,o=r.font,a=r.textRenderingMode,l=r.fontSize/r.fontSizeScale,h=a&p.FILL_STROKE_MASK,c=!!(a&p.ADD_TO_PATH_FLAG),d=r.patternFill&&!o.missingFile;let u;if((o.disableFontFace||c||d)&&(u=o.getPathGenerator(this.commonObjs,t)),o.disableFontFace||d?(s.save(),s.translate(e,n),s.beginPath(),u(s,l),i&&s.setTransform(...i),h!==p.FILL&&h!==p.FILL_STROKE||s.fill(),h!==p.STROKE&&h!==p.FILL_STROKE||s.stroke(),s.restore()):(h!==p.FILL&&h!==p.FILL_STROKE||s.fillText(t,e,n),h!==p.STROKE&&h!==p.FILL_STROKE||s.strokeText(t,e,n)),c){const t=this.pendingTextPaths||=[];t.push({transform:Dt(s),x:e,y:n,fontSize:l,addToPath:u})}}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return H(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const i=e.fontSize;if(0===i)return;const s=this.ctx,r=e.fontSizeScale,o=e.charSpacing,a=e.wordSpacing,l=e.fontDirection,h=e.textHScale*l,c=t.length,d=n.vertical,u=d?1:-1,f=n.defaultVMetrics,m=i*e.fontMatrix[0],g=e.textRenderingMode===p.FILL&&!n.disableFontFace&&!e.patternFill;let _;if(s.save(),s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),l>0?s.scale(h,-1):s.scale(h,1),e.patternFill){s.save();const t=e.fillColor.getPattern(s,this,Ht(s),de.FILL);_=Dt(s),s.restore(),s.fillStyle=t}let y=e.lineWidth;const w=e.textMatrixScale;if(0===w||0===y){const t=e.textRenderingMode&p.FILL_STROKE_MASK;t!==p.STROKE&&t!==p.FILL_STROKE||(y=this.getSinglePixelWidth())}else y/=w;if(1!==r&&(s.scale(r,r),y/=r),s.lineWidth=y,n.isInvalidPDFjsFont){const n=[];let i=0;for(const e of t)n.push(e.unicode),i+=e.width;return s.fillText(n.join(""),0,0),e.x+=i*m*h,s.restore(),void this.compose()}let v,b=0;for(v=0;v<c;++v){const e=t[v];if("number"===typeof e){b+=u*e*i/1e3;continue}let h=!1;const c=(e.isSpace?a:0)+o,p=e.fontChar,y=e.accent;let w,M,S=e.width;if(d){const t=e.vmetric||f,n=-(e.vmetric?t[1]:.5*S)*m,i=t[2]*m;S=t?-t[0]:S,w=n/r,M=(b+i)/r}else w=b/r,M=0;if(n.remeasure&&S>0){const t=1e3*s.measureText(p).width/i*r;if(S<t&&this.isFontSubpixelAAEnabled){const e=S/t;h=!0,s.save(),s.scale(e,1),w/=e}else S!==t&&(w+=(S-t)/2e3*i/r)}if(this.contentVisible&&(e.isInFont||n.missingFile))if(g&&!y)s.fillText(p,w,M);else if(this.paintChar(p,w,M,_),y){const t=w+i*y.offset.x/r,e=M-i*y.offset.y/r;this.paintChar(y.fontChar,t,e,_)}const C=d?S*m-c*l:S*m+c*l;b+=C,h&&s.restore()}d?e.y-=b:e.x+=b*h,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,i=n.font,s=n.fontSize,r=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,h=n.wordSpacing,c=n.textHScale*r,d=n.fontMatrix||a,u=t.length,f=n.textRenderingMode===p.INVISIBLE;let m,g,_,y;if(!f&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(c,r),m=0;m<u;++m){if(g=t[m],"number"===typeof g){y=o*g*s/1e3,this.ctx.translate(y,0),n.x+=y*c;continue}const r=(g.isSpace?h:0)+l,a=i.charProcOperatorList[g.operatorListId];if(!a){L(`Type3 character "${g.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=g,this.save(),e.scale(s,s),e.transform(...d),this.executeOperatorList(a),this.restore());const u=X.applyTransform([g.width,0],d);_=u[0]*s+r,e.translate(_,0),n.x+=_*c}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,i,s,r){this.ctx.rect(n,i,s-n,r-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if("TilingPattern"===t[0]){const n=t[1],i=this.baseTransform||Dt(this.ctx),s={createCanvasGraphics:t=>new Be(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new be(t,n,this.ctx,s,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){const i=X.makeHexColor(t,e,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(t,e,n){const i=X.makeHexColor(t,e,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=we(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Ht(e),de.SHADING);const i=Ht(e);if(i){const{width:t,height:n}=e.canvas,[s,r,o,a]=X.getAxialAlignedBoundingBox([0,0,t,n],i);this.ctx.fillRect(s,r,o-s,a-r)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){E("Should not call beginInlineImage")}beginImageData(){E("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Dt(this.ctx),e)){const t=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],t,n),this.current.updateRectMinMax(Dt(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||k("TODO: Support non-isolated groups."),t.knockout&&L("Knockout groups not supported.");const n=Dt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=X.getAxialAlignedBoundingBox(t.bbox,Dt(e));const s=[0,0,e.canvas.width,e.canvas.height];i=X.intersect(i,s)||[0,0,0,0];const r=Math.floor(i[0]),o=Math.floor(i[1]),a=Math.max(Math.ceil(i[2])-r,1),l=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,a,l]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const c=this.cachedCanvases.getCanvas(h,a,l),d=c.context;d.translate(-r,-o),d.transform(...n),t.smask?this.smaskStack.push({canvas:c.canvas,context:d,offsetX:r,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(r,o),e.save()),Oe(e,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const t=Dt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...t);const n=X.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],t);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,i,s){if(this.#ze(),Ye(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const i=e[2]-e[0],r=e[3]-e[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=i,e[3]=r;const[s,o]=X.singularValueDecompose2dScale(Dt(this.ctx)),{viewportScale:a}=this,l=Math.ceil(i*this.outputScaleX*a),h=Math.ceil(r*this.outputScaleY*a);this.annotationCanvas=this.canvasFactory.create(l,h);const{canvas:c,context:d}=this.annotationCanvas;this.annotationCanvasMap.set(t,c),this.annotationCanvas.savedCtx=this.ctx,this.ctx=d,this.ctx.save(),this.ctx.setTransform(s,0,0,-o,0,r*o),Ye(this.ctx)}else Ye(this.ctx),this.ctx.rect(e[0],e[1],i,r),this.ctx.clip(),this.endPath()}this.current=new He(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#Ue(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,i=this.processingType3;if(i&&(void 0===i.compiled&&(i.compiled=De(t)),i.compiled))return void i.compiled(n);const s=this._createMaskCanvas(t),r=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(r,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,i=0,s,r){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const a=Dt(o);o.transform(e,n,i,s,0,0);const l=this._createMaskCanvas(t);o.setTransform(1,0,0,1,l.offsetX-a[4],l.offsetY-a[5]);for(let h=0,c=r.length;h<c;h+=2){const t=X.transform(a,[e,n,i,s,r[h],r[h+1]]),[c,d]=X.applyTransform([0,0],t);o.drawImage(l.canvas,c,d)}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of t){const{data:t,width:r,height:o,transform:a}=s,l=this.cachedCanvases.getCanvas("maskCanvas",r,o),h=l.context;h.save();const c=this.getObject(t,s);Ie(h,c),h.globalCompositeOperation="source-in",h.fillStyle=i?n.getPattern(h,this,Ht(e),de.FILL):n,h.fillRect(0,0,r,o),h.restore(),e.save(),e.transform(...a),e.scale(1,-1),Ae(e,l.canvas,0,0,r,o,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);e?this.paintInlineImageXObject(e):L("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,i){if(!this.contentVisible)return;const s=this.getObject(t);if(!s)return void L("Dependent image isn't ready yet");const r=s.width,o=s.height,a=[];for(let l=0,h=i.length;l<h;l+=2)a.push({transform:[e,0,0,n,i[l],i[l+1]],x:0,y:0,w:r,h:o});this.paintInlineImageXObjectGroup(s,a)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:n,height:i}=t,s=this.cachedCanvases.getCanvas("inlineImage",n,i),r=s.context;return r.filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,i=this.ctx;if(this.save(),!r){const{filter:t}=i;"none"!==t&&""!==t&&(i.filter="none")}let s;if(i.scale(1/e,-1/n),t.bitmap)s=this.applyTransferMapsToBitmap(t);else if("function"===typeof HTMLElement&&t instanceof HTMLElement||!t.data)s=t;else{const i=this.cachedCanvases.getCanvas("inlineImage",e,n),r=i.context;Pe(r,t),s=this.applyTransferMapsToCanvas(r)}const o=this._scaleImage(s,Ht(i));i.imageSmoothingEnabled=Ne(Dt(i),t.interpolate),Ae(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const e=t.width,n=t.height,s=this.cachedCanvases.getCanvas("inlineImage",e,n),r=s.context;Pe(r,t),i=this.applyTransferMapsToCanvas(r)}for(const s of e)n.save(),n.transform(...s.transform),n.scale(1,-1),Ae(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===Ve?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Dt(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:s}=this.ctx.getTransform();let r,o;if(0===n&&0===i){const n=Math.abs(e),i=Math.abs(s);if(n===i)if(0===t)r=o=1/n;else{const e=n*t;r=o=e<1?1/e:1}else if(0===t)r=1/n,o=1/i;else{const e=n*t,s=i*t;r=e<1?1/e:1,o=s<1?1/s:1}}else{const a=Math.abs(e*s-n*i),l=Math.hypot(e,n),h=Math.hypot(i,s);if(0===t)r=h/a,o=l/a;else{const e=t*a;r=h>e?h/e:1,o=l>e?l/e:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(e.lineWidth=n||1,1===i&&1===s)return void e.stroke();const r=e.getLineDash();if(t&&e.save(),e.scale(i,s),r.length>0){const t=Math.max(i,s);e.setLineDash(r.map((e=>e/t))),e.lineDashOffset/=t}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const os in M)void 0!==Be.prototype[os]&&(Be.prototype[M[os]]=Be.prototype[os]);class ze{static#$e=null;static#Ge="";static get workerPort(){return this.#$e}static set workerPort(t){if(!("undefined"!==typeof Worker&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");this.#$e=t}static get workerSrc(){return this.#Ge}static set workerSrc(t){if("string"!==typeof t)throw new Error("Invalid `workerSrc` type.");this.#Ge=t}}const Ue={UNKNOWN:0,DATA:1,ERROR:2},$e={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ge(t){switch(t instanceof Error||"object"===typeof t&&null!==t||E('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new W(t.message);case"MissingPDFException":return new N(t.message);case"PasswordException":return new I(t.message,t.code);case"UnexpectedResponseException":return new F(t.message,t.status);case"UnknownErrorException":return new O(t.message,t.details);default:return new O(t.message,t.toString())}}class Ke{constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void this.#Ke(e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],e.callback===Ue.DATA)n.resolve(e.data);else{if(e.callback!==Ue.ERROR)throw new Error("Unexpected callback case");n.reject(Ge(e.reason))}return}const i=this.actionHandler[e.action];if(!i)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const t=this.sourceName,s=e.sourceName;new Promise((function(t){t(i(e.data))})).then((function(i){n.postMessage({sourceName:t,targetName:s,callback:Ue.DATA,callbackId:e.callbackId,data:i})}),(function(i){n.postMessage({sourceName:t,targetName:s,callback:Ue.ERROR,callbackId:e.callbackId,reason:Ge(i)})}))}else e.streamId?this.#qe(e):i(e.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(r){s.reject(r)}return s.promise}sendWithStream(t,e,n,i){const s=this.streamId++,r=this.sourceName,o=this.targetName,a=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[s]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},a.postMessage({sourceName:r,targetName:o,action:t,streamId:s,data:e,desiredSize:n.desiredSize},i),l.promise},pull:t=>{const e=Promise.withResolvers();return this.streamControllers[s].pullCall=e,a.postMessage({sourceName:r,targetName:o,stream:$e.PULL,streamId:s,desiredSize:t.desiredSize}),e.promise},cancel:t=>{R(t instanceof Error,"cancel must have a valid reason");const e=Promise.withResolvers();return this.streamControllers[s].cancelCall=e,this.streamControllers[s].isClosed=!0,a.postMessage({sourceName:r,targetName:o,stream:$e.CANCEL,streamId:s,reason:Ge(t)}),e.promise}},n)}#qe(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,s=this.comObj,r=this,o=this.actionHandler[t.action],a={enqueue(t,r=1,o){if(this.isCancelled)return;const a=this.desiredSize;this.desiredSize-=r,a>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:$e.ENQUEUE,streamId:e,chunk:t},o)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:$e.CLOSE,streamId:e}),delete r.streamSinks[e])},error(t){R(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:$e.ERROR,streamId:e,reason:Ge(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[e]=a,new Promise((function(e){e(o(t.data,a))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:$e.START_COMPLETE,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:i,stream:$e.START_COMPLETE,streamId:e,reason:Ge(t)})}))}#Ke(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,s=this.comObj,r=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case $e.START_COMPLETE:t.success?r.startCall.resolve():r.startCall.reject(Ge(t.reason));break;case $e.PULL_COMPLETE:t.success?r.pullCall.resolve():r.pullCall.reject(Ge(t.reason));break;case $e.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:$e.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,new Promise((function(t){t(o.onPull?.())})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:$e.PULL_COMPLETE,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:i,stream:$e.PULL_COMPLETE,streamId:e,reason:Ge(t)})}));break;case $e.ENQUEUE:if(R(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(t.chunk);break;case $e.CLOSE:if(R(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),this.#Xe(r,e);break;case $e.ERROR:R(r,"error should have stream controller"),r.controller.error(Ge(t.reason)),this.#Xe(r,e);break;case $e.CANCEL_COMPLETE:t.success?r.cancelCall.resolve():r.cancelCall.reject(Ge(t.reason)),this.#Xe(r,e);break;case $e.CANCEL:if(!o)break;new Promise((function(e){e(o.onCancel?.(Ge(t.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:$e.CANCEL_COMPLETE,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:i,stream:$e.CANCEL_COMPLETE,streamId:e,reason:Ge(t)})})),o.sinkCapability.reject(Ge(t.reason)),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#Xe(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class qe{#Je;#Ze;constructor({parsedData:t,rawData:e}){this.#Je=t,this.#Ze=e}getRaw(){return this.#Ze}get(t){return this.#Je.get(t)??null}getAll(){return U(this.#Je)}has(t){return this.#Je.has(t)}}const Xe=Symbol("INTERNAL");class Je{#Qe=!1;#tn=!1;#en=!1;#nn=!0;constructor(t,{name:e,intent:n,usage:i}){this.#Qe=!!(t&c.DISPLAY),this.#tn=!!(t&c.PRINT),this.name=e,this.intent=n,this.usage=i}get visible(){if(this.#en)return this.#nn;if(!this.#nn)return!1;const{print:t,view:e}=this.usage;return this.#Qe?"OFF"!==e?.viewState:!this.#tn||"OFF"!==t?.printState}_setVisible(t,e,n=!1){t!==Xe&&E("Internal method `_setVisible` called."),this.#en=n,this.#nn=e}}class Ze{#in=null;#sn=new Map;#rn=null;#on=null;constructor(t,e=c.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,this.#on=t.order;for(const n of t.groups)this.#sn.set(n.id,new Je(e,n));if("OFF"===t.baseState)for(const t of this.#sn.values())t._setVisible(Xe,!1);for(const e of t.on)this.#sn.get(e)._setVisible(Xe,!0);for(const e of t.off)this.#sn.get(e)._setVisible(Xe,!1);this.#rn=this.getHash()}}#an(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const e=t[i];let s;if(Array.isArray(e))s=this.#an(e);else{if(!this.#sn.has(e))return L(`Optional content group not found: ${e}`),!0;s=this.#sn.get(e).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}isVisible(t){if(0===this.#sn.size)return!0;if(!t)return k("Optional content group not defined."),!0;if("OCG"===t.type)return this.#sn.has(t.id)?this.#sn.get(t.id).visible:(L(`Optional content group not found: ${t.id}`),!0);if("OCMD"===t.type){if(t.expression)return this.#an(t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!this.#sn.has(e))return L(`Optional content group not found: ${e}`),!0;if(this.#sn.get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!this.#sn.has(e))return L(`Optional content group not found: ${e}`),!0;if(!this.#sn.get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!this.#sn.has(e))return L(`Optional content group not found: ${e}`),!0;if(!this.#sn.get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!this.#sn.has(e))return L(`Optional content group not found: ${e}`),!0;if(this.#sn.get(e).visible)return!1}return!0}return L(`Unknown optional content policy ${t.policy}.`),!0}return L(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0){const n=this.#sn.get(t);n?(n._setVisible(Xe,!!e,!0),this.#in=null):L(`Optional content group not found: ${t}`)}setOCGState({state:t,preserveRB:e}){let n;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const t=this.#sn.get(i);if(t)switch(n){case"ON":t._setVisible(Xe,!0);break;case"OFF":t._setVisible(Xe,!1);break;case"Toggle":t._setVisible(Xe,!t.visible);break}}this.#in=null}get hasInitialVisibility(){return null===this.#rn||this.getHash()===this.#rn}getOrder(){return this.#sn.size?this.#on?this.#on.slice():[...this.#sn.keys()]:null}getGroups(){return this.#sn.size>0?U(this.#sn):null}getGroup(t){return this.#sn.get(t)||null}getHash(){if(null!==this.#in)return this.#in;const t=new Jt;for(const[e,n]of this.#sn)t.update(`${e}:${n.visible}`);return this.#in=t.hexdigest()}}class Qe{constructor(t,{disableRange:e=!1,disableStream:n=!1}){R(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:r,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=o,s?.length>0){const t=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),t.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),t.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),t.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const e=this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(n),!0)}));R(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){void 0===t.total?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){R(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new tn(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new en(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class tn{constructor(t,e,n=!1,i=null){this._stream=t,this._done=n||!1,this._filename=vt(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length>0){const e=this._requests.shift();e.resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){const t=this._queuedChunks.shift();return{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class en{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{const e=this._requests.shift();e.resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function nn(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=a(n);return t=unescape(t),t=l(t),t=h(t),r(t)}if(n=o(t),n){const t=h(n);return r(t)}if(n=i("filename","i").exec(t),n){n=n[1];let t=a(n);return t=h(t),r(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function s(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),s=B(n);n=i.decode(s),e=!1}catch{}}return n}function r(t){return e&&/[\x80-\xff]/.test(t)&&(t=s("utf-8",t),e&&(t=s("iso-8859-1",t))),t}function o(t){const e=[];let n;const s=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");while(null!==(n=s.exec(t))){let[,t,i,s]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[i,s]}const r=[];for(let i=0;i<e.length;++i){if(!(i in e))break;let[t,n]=e[i];n=a(n),t&&(n=unescape(n),0===i&&(n=l(n))),r.push(n)}return r.join("")}function a(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function l(t){const e=t.indexOf("'");if(-1===e)return t;const n=t.slice(0,e),i=t.slice(e+1),r=i.replace(/^[^']*'/,"");return s(n,r)}function h(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,i){if("q"===n||"Q"===n)return i=i.replaceAll("_"," "),i=i.replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})),s(e,i);try{i=atob(i)}catch{}return s(e,i)}))}return""}function sn({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(t("Content-Length"),10);if(!Number.isInteger(r))return s;if(s.suggestedLength=r,r<=2*n)return s;if(i||!e)return s;if("bytes"!==t("Accept-Ranges"))return s;const o=t("Content-Encoding")||"identity";return"identity"!==o||(s.allowRangeRequests=!0),s}function rn(t){const e=t("Content-Disposition");if(e){let t=nn(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(vt(t))return t}return null}function on(t,e){return 404===t||0===t&&e.startsWith("file:")?new N('Missing PDF "'+e+'".'):new F(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function an(t){return 200===t||206===t}function ln(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function hn(t){const e=new Headers;for(const n in t){const i=t[n];void 0!==i&&e.append(n,i)}return e}function cn(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(L(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class dn{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return R(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new un(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new fn(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class un{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=hn(this._stream.httpHeaders);const n=e.url;fetch(n,ln(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!an(t.status))throw on(t.status,n);this._reader=t.body.getReader(),this._headersCapability.resolve();const e=e=>t.headers.get(e),{allowRangeRequests:i,suggestedLength:s}=sn({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=rn(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new W("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:cn(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class fn{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=hn(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${n-1}`);const s=i.url;fetch(s,ln(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!an(t.status))throw on(t.status,s);this._readCapability.resolve(),this._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:cn(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const mn=200,gn=206;function pn(t){const e=t.response;return"string"!==typeof e?e:B(e).buffer}class _n{constructor(t,e={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const i={begin:t,end:e};for(const s in n)i[s]=n[s];return this.request(i)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const t=this.httpHeaders[s];void 0!==t&&e.setRequestHeader(s,t)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=gn):i.expectedStatus=mn,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void n.onError?.(i.status);const s=i.status||mn,r=s===mn&&n.expectedStatus===gn;if(!r&&s!==n.expectedStatus)return void n.onError?.(i.status);const o=pn(i);if(s===gn){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);n.onDone({begin:parseInt(e[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):n.onError?.(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class yn{constructor(t){this._source=t,this._manager=new _n(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return R(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new wn(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new vn(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class wn{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=t=>e.getResponseHeader(t),{allowRangeRequests:i,suggestedLength:s}=sn({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=rn(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t)if(this._requests.length>0){const e=this._requests.shift();e.resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=on(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){const t=this._cachedChunks.shift();return{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class vn{constructor(t,e,n){this._manager=t;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;if(this._requests.length>0){const t=this._requests.shift();t.resolve({value:e,done:!1})}else this._queuedChunk=e;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=on(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const bn=/^file:\/\/\/[a-zA-Z]:\//;function Mn(t){const e=re.get("url"),n=e.parse(t);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(t)?e.parse(`file:///${t}`):(n.host||(n.protocol="file:"),n)}class Sn{constructor(t){this.source=t,this.url=Mn(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return R(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new En(this):new kn(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new Rn(this,t,e):new Ln(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class Cn{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});const e=new Uint8Array(t).buffer;return{value:e,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new W("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class xn{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,this.onProgress?.({loaded:this._loaded});const e=new Uint8Array(t).buffer;return{value:e,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function Tn(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class kn extends Cn{constructor(t){super(t);const e=e=>{if(404===e.statusCode){const t=new N(`Missing PDF "${this._url}".`);return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const n=t=>this._readableStream.headers[t.toLowerCase()],{allowRangeRequests:i,suggestedLength:s}=sn({getResponseHeader:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=rn(n)};if(this._request=null,"http:"===this._url.protocol){const n=re.get("http");this._request=n.request(Tn(this._url,t.httpHeaders),e)}else{const n=re.get("https");this._request=n.request(Tn(this._url,t.httpHeaders),e)}this._request.on("error",(t=>{this._storedError=t,this._headersCapability.reject(t)})),this._request.end()}}class Ln extends xn{constructor(t,e,n){super(t),this._httpHeaders={};for(const s in t.httpHeaders){const e=t.httpHeaders[s];void 0!==e&&(this._httpHeaders[s]=e)}this._httpHeaders.Range=`bytes=${e}-${n-1}`;const i=t=>{if(404!==t.statusCode)this._setReadableStream(t);else{const t=new N(`Missing PDF "${this._url}".`);this._storedError=t}};if(this._request=null,"http:"===this._url.protocol){const t=re.get("http");this._request=t.request(Tn(this._url,this._httpHeaders),i)}else{const t=re.get("https");this._request=t.request(Tn(this._url,this._httpHeaders),i)}this._request.on("error",(t=>{this._storedError=t})),this._request.end()}}class En extends Cn{constructor(t){super(t);let e=decodeURIComponent(this._url.path);bn.test(this._url.href)&&(e=e.replace(/^\//,""));const n=re.get("fs");n.promises.lstat(e).then((t=>{this._contentLength=t.size,this._setReadableStream(n.createReadStream(e)),this._headersCapability.resolve()}),(t=>{"ENOENT"===t.code&&(t=new N(`Missing PDF "${e}".`)),this._storedError=t,this._headersCapability.reject(t)}))}}class Rn extends xn{constructor(t,e,n){super(t);let i=decodeURIComponent(this._url.path);bn.test(this._url.href)&&(i=i.replace(/^\//,""));const s=re.get("fs");this._setReadableStream(s.createReadStream(i,{start:e,end:n-1}))}}const An=1e5,Dn=30,Hn=.8;class Pn{#ln=Promise.withResolvers();#At=null;#hn=!1;#cn=!!globalThis.FontInspector?.enabled;#dn=null;#un=null;#fn=0;#mn=0;#gn=null;#pn=null;#_n=0;#yn=0;#wn=Object.create(null);#vn=[];#bn=null;#Mn=[];#Sn=new WeakMap;#Cn=null;static#xn=new Map;static#Tn=new Map;static#kn=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#bn=t;else{if("object"!==typeof t)throw new Error('No "textContentSource" parameter specified.');this.#bn=new ReadableStream({start(e){e.enqueue(t),e.close()}})}this.#At=this.#pn=e,this.#yn=n.scale*(globalThis.devicePixelRatio||1),this.#_n=n.rotation,this.#un={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:s,pageX:r,pageY:o}=n.rawDims;this.#Cn=[1,0,0,-1,-r,o+s],this.#mn=i,this.#fn=s,Pt(e,n),this.#ln.promise.catch((()=>{})).then((()=>{Pn.#kn.delete(this),this.#un=null,this.#wn=null}))}render(){const t=()=>{this.#gn.read().then((({value:e,done:n})=>{n?this.#ln.resolve():(this.#dn??=e.lang,Object.assign(this.#wn,e.styles),this.#Ln(e.items),t())}),this.#ln.reject)};return this.#gn=this.#bn.getReader(),Pn.#kn.add(this),t(),this.#ln.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*(globalThis.devicePixelRatio||1),i=t.rotation;if(i!==this.#_n&&(e?.(),this.#_n=i,Pt(this.#pn,{rotation:i})),n!==this.#yn){e?.(),this.#yn=n;const t={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Pn.#En(this.#dn)};for(const e of this.#Mn)t.properties=this.#Sn.get(e),t.div=e,this.#Rn(t)}}cancel(){const t=new W("TextLayer task cancelled.");this.#gn?.cancel(t).catch((()=>{})),this.#gn=null,this.#ln.reject(t)}get textDivs(){return this.#Mn}get textContentItemsStr(){return this.#vn}#Ln(t){if(this.#hn)return;this.#un.ctx||=Pn.#En(this.#dn);const e=this.#Mn,n=this.#vn;for(const i of t){if(e.length>An)return L("Ignoring additional textDivs for performance reasons."),void(this.#hn=!0);if(void 0!==i.str)n.push(i.str),this.#An(i);else if("beginMarkedContentProps"===i.type||"beginMarkedContent"===i.type){const t=this.#At;this.#At=document.createElement("span"),this.#At.classList.add("markedContent"),null!==i.id&&this.#At.setAttribute("id",`${i.id}`),t.append(this.#At)}else"endMarkedContent"===i.type&&(this.#At=this.#At.parentNode)}}#An(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};this.#Mn.push(e);const i=X.transform(this.#Cn,t.transform);let s=Math.atan2(i[1],i[0]);const r=this.#wn[t.fontName];r.vertical&&(s+=Math.PI/2);const o=this.#cn&&r.fontSubstitution||r.fontFamily,a=Math.hypot(i[2],i[3]),l=a*Pn.#Dn(o,this.#dn);let h,c;0===s?(h=i[4],c=i[5]-l):(h=i[4]+l*Math.sin(s),c=i[5]-l*Math.cos(s));const d="calc(var(--scale-factor)*",u=e.style;this.#At===this.#pn?(u.left=`${(100*h/this.#mn).toFixed(2)}%`,u.top=`${(100*c/this.#fn).toFixed(2)}%`):(u.left=`${d}${h.toFixed(2)}px)`,u.top=`${d}${c.toFixed(2)}px)`),u.fontSize=`${d}${a.toFixed(2)}px)`,u.fontFamily=o,n.fontSize=a,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#cn&&(e.dataset.fontName=r.fontSubstitutionLoadedName||t.fontName),0!==s&&(n.angle=s*(180/Math.PI));let f=!1;if(t.str.length>1)f=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(f=!0)}if(f&&(n.canvasWidth=r.vertical?t.height:t.width),this.#Sn.set(e,n),this.#un.div=e,this.#un.properties=n,this.#Rn(this.#un),n.hasText&&this.#At.append(e),n.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this.#At.append(t)}}#Rn(t){const{div:e,properties:n,ctx:i,prevFontSize:s,prevFontFamily:r}=t,{style:o}=e;let a="";if(0!==n.canvasWidth&&n.hasText){const{fontFamily:l}=o,{canvasWidth:h,fontSize:c}=n;s===c&&r===l||(i.font=`${c*this.#yn}px ${l}`,t.prevFontSize=c,t.prevFontFamily=l);const{width:d}=i.measureText(e.textContent);d>0&&(a=`scaleX(${h*this.#yn/d})`)}0!==n.angle&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(o.transform=a)}static cleanup(){if(!(this.#kn.size>0)){this.#xn.clear();for(const{canvas:t}of this.#Tn.values())t.remove();this.#Tn.clear()}}static#En(t=null){let e=this.#Tn.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1}),this.#Tn.set(t,e)}return e}static#Dn(t,e){const n=this.#xn.get(t);if(n)return n;const i=this.#En(e),s=i.font;i.canvas.width=i.canvas.height=Dn,i.font=`${Dn}px ${t}`;const r=i.measureText("");let o=r.fontBoundingBoxAscent,a=Math.abs(r.fontBoundingBoxDescent);if(o){const e=o/(o+a);return this.#xn.set(t,e),i.canvas.width=i.canvas.height=0,i.font=s,e}i.strokeStyle="red",i.clearRect(0,0,Dn,Dn),i.strokeText("g",0,0);let l=i.getImageData(0,0,Dn,Dn).data;a=0;for(let c=l.length-1-3;c>=0;c-=4)if(l[c]>0){a=Math.ceil(c/4/Dn);break}i.clearRect(0,0,Dn,Dn),i.strokeText("A",0,Dn),l=i.getImageData(0,0,Dn,Dn).data,o=0;for(let c=0,d=l.length;c<d;c+=4)if(l[c]>0){o=Dn-Math.floor(c/4/Dn);break}i.canvas.width=i.canvas.height=0,i.font=s;const h=o?o/(o+a):Hn;return this.#xn.set(t,h),h}}function In(){Tt("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:t,container:e,viewport:n,...i}=arguments[0],s=Object.keys(i);s.length>0&&L("Ignoring `renderTextLayer` parameters: "+s.join(", "));const r=new Pn({textContentSource:t,container:e,viewport:n}),{textDivs:o,textContentItemsStr:a}=r,l=r.render();return{promise:l,textDivs:o,textContentItemsStr:a}}function On(){Tt("`updateTextLayer`, please use `TextLayer` instead.")}class Yn{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function i(t){if(!t)return;let n=null;const s=t.name;if("#text"===s)n=t.value;else{if(!Yn.shouldBuildText(s))return;t?.attributes?.textContent?n=t.attributes.textContent:t.value&&(n=t.value)}if(null!==n&&e.push({str:n}),t.children)for(const e of t.children)i(e)}return i(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}const Nn=65536,Fn=100,jn=5e3,Wn=r?le:ut,Vn=r?he:mt,Bn=r?ae:dt,zn=r?ce:gt;function Un(t){if("string"===typeof t||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t}),"object"!==typeof t)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new qn,{docId:n}=e,i=t.url?$n(t.url):null,s=t.data?Gn(t.data):null,o=t.httpHeaders||null,a=!0===t.withCredentials,l=t.password??null,h=t.range instanceof Xn?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:Nn;let d=t.worker instanceof ei?t.worker:null;const u=t.verbosity,f="string"!==typeof t.docBaseUrl||wt(t.docBaseUrl)?null:t.docBaseUrl,m="string"===typeof t.cMapUrl?t.cMapUrl:null,g=!1!==t.cMapPacked,p=t.CMapReaderFactory||Vn,_="string"===typeof t.standardFontDataUrl?t.standardFontDataUrl:null,y=t.StandardFontDataFactory||zn,w=!0!==t.stopAtErrors,v=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,b=!1!==t.isEvalSupported,M="boolean"===typeof t.isOffscreenCanvasSupported?t.isOffscreenCanvasSupported:!r,S=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,C="boolean"===typeof t.disableFontFace?t.disableFontFace:r,T=!0===t.fontExtraProperties,k=!0===t.enableXfa,L=t.ownerDocument||globalThis.document,E=!0===t.disableRange,R=!0===t.disableStream,A=!0===t.disableAutoFetch,D=!0===t.pdfBug,H=h?h.length:t.length??NaN,P="boolean"===typeof t.useSystemFonts?t.useSystemFonts:!r&&!C,I="boolean"===typeof t.useWorkerFetch?t.useWorkerFetch:p===mt&&y===gt&&m&&_&&Ct(m,document.baseURI)&&Ct(_,document.baseURI),O=t.canvasFactory||new Wn({ownerDocument:L}),Y=t.filterFactory||new Bn({docId:n,ownerDocument:L}),N=null;x(u);const F={canvasFactory:O,filterFactory:Y};if(I||(F.cMapReaderFactory=new p({baseUrl:m,isCompressed:g}),F.standardFontDataFactory=new y({baseUrl:_})),!d){const t={verbosity:u,port:ze.workerPort};d=t.port?ei.fromPort(t):new ei(t),e._worker=d}const j={docId:n,apiVersion:"4.3.136",data:s,password:l,disableAutoFetch:A,rangeChunkSize:c,length:H,docBaseUrl:f,enableXfa:k,evaluatorOptions:{maxImageSize:v,disableFontFace:C,ignoreErrors:w,isEvalSupported:b,isOffscreenCanvasSupported:M,canvasMaxAreaInBytes:S,fontExtraProperties:T,useSystemFonts:P,cMapUrl:I?m:null,standardFontDataUrl:I?_:null}},W={disableFontFace:C,fontExtraProperties:T,ownerDocument:L,pdfBug:D,styleElement:N,loadingParams:{disableAutoFetch:A,enableXfa:k}};return d.promise.then((function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const t=d.messageHandler.sendWithPromise("GetDocRequest",j,s?[s.buffer]:null);let l;if(h)l=new Qe(h,{disableRange:E,disableStream:R});else if(!s){const t=t=>{if(r){const e=function(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype};return e()&&Ct(t.url)?new dn(t):new Sn(t)}return Ct(t.url)?new dn(t):new yn(t)};l=t({url:i,length:H,httpHeaders:o,withCredentials:a,rangeChunkSize:c,disableRange:E,disableStream:R})}return t.then((t=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const i=new Ke(n,t,d.port),s=new ni(i,e,l,W,F);e._transport=s,i.send("Ready",null)}))})).catch(e._capability.reject),e}function $n(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(r&&"string"===typeof t)return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Gn(t){if(r&&"undefined"!==typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"===typeof t)return B(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"===typeof t&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Kn(t){return"object"===typeof t&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0}class qn{static#s=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+qn.#s++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class Xn{constructor(t,e,n=!1,i=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(t,e)}))}onDataProgressiveRead(t){this._readyCapability.promise.then((()=>{for(const e of this._progressiveReadListeners)e(t)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const t of this._progressiveDoneListeners)t()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){E("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Jn{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return H(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Zn{#Hn=null;#Pn=!1;constructor(t,e,n,i=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new St:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new si,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new _t({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return H(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:i=d.ENABLE,transform:s=null,background:r=null,optionalContentConfigPromise:o=null,annotationCanvasMap:a=null,pageColors:l=null,printAnnotationStorage:h=null}){this._stats?.time("Overall");const u=this._transport.getRenderingIntent(n,i,h),{renderingIntent:f,cacheKey:m}=u;this.#Pn=!1,this.#In(),o||=this._transport.getOptionalContentConfig(f);let g=this._intentStates.get(m);g||(g=Object.create(null),this._intentStates.set(m,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const p=!!(f&c.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u));const _=t=>{g.renderTasks.delete(y),(this._maybeCleanupAfterRender||p)&&(this.#Pn=!0),this.#On(!p),t?(y.capability.reject(t),this._abortOperatorList({intentState:g,reason:t instanceof Error?t:new Error(t)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new oi({callback:_,params:{canvasContext:t,viewport:e,transform:s,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:a,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!p,pdfBug:this._pdfBug,pageColors:l});(g.renderTasks||=new Set).add(y);const w=y.task;return Promise.all([g.displayReadyCapability.promise,o]).then((([t,e])=>{if(this.destroyed)_();else{if(this._stats?.time("Rendering"),!(e.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:t,optionalContentConfig:e}),y.operatorListChanged()}})).catch(_),w}getOperatorList({intent:t="display",annotationMode:e=d.ENABLE,printAnnotationStorage:n=null}={}){function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(r))}const s=this._transport.getRenderingIntent(t,e,n,!0);let r,o=this._intentStates.get(s.cacheKey);return o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o)),o.opListReadCapability||(r=Object.create(null),r.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(r),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){const n=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:n,size(t){return t.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then((t=>Yn.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,n){function i(){s.read().then((function({value:e,done:n}){n?t(r):(r.lang??=e.lang,Object.assign(r.styles,e.styles),r.items.push(...e.items),i())}),n)}const s=e.getReader(),r={items:[],styles:Object.create(null),lang:null};i()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#Pn=!1,this.#In(),Promise.all(t)}cleanup(t=!1){this.#Pn=!0;const e=this.#On(!1);return t&&e&&(this._stats&&=new St),e}#On(t=!1){if(this.#In(),!this.#Pn||this.destroyed)return!1;if(t)return this.#Hn=setTimeout((()=>{this.#Hn=null,this.#On(!1)}),jn),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#Pn=!1,!0}#In(){this.#Hn&&(clearTimeout(this.#Hn),this.#Hn=null)}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#On(!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n}){const{map:i,transfer:s}=n,r=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:i},s),o=r.getReader(),a=this._intentStates.get(e);a.streamReader=o;const l=()=>{o.read().then((({value:t,done:e})=>{e?a.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,a),l())}),(t=>{if(a.streamReader=null,!this._transport.destroyed){if(a.operatorList){a.operatorList.lastChunk=!0;for(const t of a.renderTasks)t.operatorListChanged();this.#On(!0)}if(a.displayReadyCapability)a.displayReadyCapability.reject(t);else{if(!a.opListReadCapability)throw t;a.opListReadCapability.reject(t)}}}))};l()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof yt){let n=Fn;return e.extraDelay>0&&e.extraDelay<1e3&&(n+=e.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})}),n))}}if(t.streamReader.cancel(new W(e.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}class Qn{#Yn=new Set;#Nn=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#Nn.then((()=>{for(const t of this.#Yn)t.call(this,n)}))}addEventListener(t,e){this.#Yn.add(e)}removeEventListener(t,e){this.#Yn.delete(e)}terminate(){this.#Yn.clear()}}const ti={isWorkerDisabled:!1,fakeWorkerId:0};r&&(ti.isWorkerDisabled=!0,ze.workerSrc||="./pdf.worker.mjs"),ti.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||"null"===n.origin)return!1}catch{return!1}const i=new URL(e,n);return n.origin===i.origin},ti.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};class ei{static#Fn;constructor({name:t=null,port:e=null,verbosity:n=T()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if(ei.#Fn?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");return(ei.#Fn||=new WeakMap).set(e,this),void this._initializeFromPort(e)}this._initialize()}get promise(){return r?Promise.all([re.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Ke("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!ti.isWorkerDisabled&&!ei.#jn){let{workerSrc:t}=ei;try{ti.isSameOrigin(window.location.href,t)||(t=ti.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Ke("main","worker",e),i=()=>{e.removeEventListener("error",s),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};e.addEventListener("error",s),n.on("test",(t=>{e.removeEventListener("error",s),this.destroyed?i():t?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())})),n.on("ready",(t=>{if(e.removeEventListener("error",s),this.destroyed)i();else try{r()}catch{this._setupFakeWorker()}}));const r=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void r()}catch{k("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){ti.isWorkerDisabled||(L("Setting up fake worker."),ti.isWorkerDisabled=!0),ei._setupFakeWorkerGlobal.then((t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new Qn;this._port=e;const n="fake"+ti.fakeWorkerId++,i=new Ke(n+"_worker",n,e);t.setup(i,e);const s=new Ke(n,n+"_worker",e);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})})).catch((t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ei.#Fn?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const e=this.#Fn?.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ei(t)}static get workerSrc(){if(ze.workerSrc)return ze.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#jn(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const t=async()=>{if(this.#jn)return this.#jn;const t=await import(this.workerSrc);return t.WorkerMessageHandler};return H(this,"_setupFakeWorkerGlobal",t())}}class ni{#Wn=new Map;#Vn=new Map;#Bn=new Map;#zn=new Map;#Un=null;constructor(t,e,n,i,s){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new si,this.fontLoader=new ee({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#$n(t,e=null){const n=this.#Wn.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return this.#Wn.set(t,i),i}get annotationStorage(){return H(this,"annotationStorage",new Qt)}getRenderingIntent(t,e=d.ENABLE,n=null,i=!1){let s=c.DISPLAY,r=Zt;switch(t){case"any":s=c.ANY;break;case"display":break;case"print":s=c.PRINT;break;default:L(`getRenderingIntent - invalid intent: ${t}`)}switch(e){case d.DISABLE:s+=c.ANNOTATIONS_DISABLE;break;case d.ENABLE:break;case d.ENABLE_FORMS:s+=c.ANNOTATIONS_FORMS;break;case d.ENABLE_STORAGE:s+=c.ANNOTATIONS_STORAGE;const t=s&c.PRINT&&n instanceof te?n:this.annotationStorage;r=t.serializable;break;default:L(`getRenderingIntent - invalid annotationMode: ${e}`)}return i&&(s+=c.OPLIST),{renderingIntent:s,cacheKey:`${s}_${r.hash}`,annotationStorageSerializable:r}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#Un?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#Vn.values())t.push(n._destroy());this.#Vn.clear(),this.#Bn.clear(),this.#zn.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#Wn.clear(),this.filterFactory.destroy(),Pn.cleanup(),this._networkStream?.cancelAllRequests(new W("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{R(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function({value:t,done:n}){n?e.close():(R(t instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(t),1,[t]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(t=>{const n=Promise.withResolvers(),i=this._fullReader;return i.headersReady.then((()=>{i.isStreamingSupported&&i.isRangeSupported||(this._lastProgress&&e.onProgress?.(this._lastProgress),i.onProgress=t=>{e.onProgress?.({loaded:t.loaded,total:t.total})}),n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),n.reject),n.promise})),t.on("GetRangeReader",((t,e)=>{R(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function({value:t,done:n}){n?e.close():(R(t instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(t),1,[t]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{n.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(({pdfInfo:t})=>{this._numPages=t.numPages,this._htmlForXfa=t.htmlForXfa,delete t.htmlForXfa,e._capability.resolve(new Jn(t,this))})),t.on("DocException",(function(t){let n;switch(t.name){case"PasswordException":n=new I(t.message,t.code);break;case"InvalidPDFException":n=new Y(t.message);break;case"MissingPDFException":n=new N(t.message);break;case"UnexpectedResponseException":n=new F(t.message,t.status);break;case"UnknownErrorException":n=new O(t.message,t.details);break;default:E("DocException - expected a valid Error.")}e._capability.reject(n)})),t.on("PasswordRequest",(t=>{if(this.#Un=Promise.withResolvers(),e.onPassword){const i=t=>{t instanceof Error?this.#Un.reject(t):this.#Un.resolve({password:t})};try{e.onPassword(i,t.code)}catch(n){this.#Un.reject(n)}}else this.#Un.reject(new I(t.message,t.code));return this.#Un.promise})),t.on("DataLoaded",(t=>{e.onProgress?.({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{if(this.destroyed)return;const e=this.#Vn.get(t.pageIndex);e._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(([e,n,i])=>{if(this.destroyed)return null;if(this.commonObjs.has(e))return null;switch(n){case"Font":const{disableFontFace:s,fontExtraProperties:r,pdfBug:o}=this._params;if("error"in i){const t=i.error;L(`Error during font loading: ${t}`),this.commonObjs.resolve(e,t);break}const a=o&&globalThis.FontInspector?.enabled?(t,e)=>globalThis.FontInspector.fontAdded(t,e):null,l=new ne(i,{disableFontFace:s,inspectFont:a});this.fontLoader.bind(l).catch((()=>t.sendWithPromise("FontFallback",{id:e}))).finally((()=>{!r&&l.data&&(l.data=null),this.commonObjs.resolve(e,l)}));break;case"CopyLocalImage":const{imageRef:h}=i;R(h,"The imageRef must be defined.");for(const t of this.#Vn.values())for(const[,n]of t.objs)if(n?.ref===h)return n.dataLen?(this.commonObjs.resolve(e,structuredClone(n)),n.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(e,i);break;default:throw new Error(`Got unknown common object type ${n}`)}return null})),t.on("obj",(([t,e,n,i])=>{if(this.destroyed)return;const s=this.#Vn.get(e);if(!s.objs.has(t))if(0!==s._intentStates.size)switch(n){case"Image":s.objs.resolve(t,i),i?.dataLen>l&&(s._maybeCleanupAfterRender=!0);break;case"Pattern":s.objs.resolve(t,i);break;default:throw new Error(`Got unknown object type ${n}`)}else i?.bitmap?.close()})),t.on("DocProgress",(t=>{this.destroyed||e.onProgress?.({loaded:t.loaded,total:t.total})})),t.on("FetchBuiltInCMap",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),t.on("FetchStandardFontData",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&L("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally((()=>{this.annotationStorage.resetModified()}))}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#Bn.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&this.#zn.set(n.refStr,t);const i=new Zn(e,n,this,this._params.pdfBug);return this.#Vn.set(e,i),i}));return this.#Bn.set(e,i),i}getPageIndex(t){return Kn(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#$n("GetFieldObjects")}hasJSActions(){return this.#$n("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#$n("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#$n("GetOptionalContentConfig").then((e=>new Ze(e,t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#Wn.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then((t=>({info:t[0],metadata:t[1]?new qe(t[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#Wn.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#Vn.values()){const e=t.cleanup();if(!e)throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`)}this.commonObjs.clear(),t||this.fontLoader.clear(),this.#Wn.clear(),this.filterFactory.destroy(!0),Pn.cleanup()}}cachedPageNumber(t){if(!Kn(t))return null;const e=0===t.gen?`${t.num}R`:`${t.num}R${t.gen}`;return this.#zn.get(e)??null}}const ii=Symbol("INITIAL_DATA");class si{#Gn=Object.create(null);#Kn(t){return this.#Gn[t]||={...Promise.withResolvers(),data:ii}}get(t,e=null){if(e){const n=this.#Kn(t);return n.promise.then((()=>e(n.data))),null}const n=this.#Gn[t];if(!n||n.data===ii)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#Gn[t];return!!e&&e.data!==ii}resolve(t,e=null){const n=this.#Kn(t);n.data=e,n.resolve()}clear(){for(const t in this.#Gn){const{data:e}=this.#Gn[t];e?.bitmap?.close()}this.#Gn=Object.create(null)}*[Symbol.iterator](){for(const t in this.#Gn){const{data:e}=this.#Gn[t];e!==ii&&(yield[t,e])}}}class ri{#qn=null;constructor(t){this.#qn=t,this.onContinue=null}get promise(){return this.#qn.capability.promise}cancel(t=0){this.#qn.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#qn.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#qn;return t.form||t.canvas&&e?.size>0}}class oi{static#Xn=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:r,pageIndex:o,canvasFactory:a,filterFactory:l,useRequestAnimationFrame:h=!1,pdfBug:c=!1,pageColors:d=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=o,this.canvasFactory=a,this.filterFactory=l,this._pdfBug=c,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new ri(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(oi.#Xn.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");oi.#Xn.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:s,background:r}=this.params;this.gfx=new Be(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),oi.#Xn.delete(this._canvas),this.callback(t||new yt(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),oi.#Xn.delete(this._canvas),this.callback())))}}const ai="4.3.136",li="0cec64437";function hi(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function ci(t){return Math.max(0,Math.min(255,255*t))}class di{static CMYK_G([t,e,n,i]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=ci(t),[t,t,t]}static G_HTML([t]){const e=hi(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(ci)}static RGB_HTML(t){return`#${t.map(hi).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,n+i),1-Math.min(1,e+i)]}static CMYK_rgb([t,e,n,i]){return[ci(1-Math.min(1,t+i)),ci(1-Math.min(1,n+i)),ci(1-Math.min(1,e+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const i=1-t,s=1-e,r=1-n,o=Math.min(i,s,r);return["CMYK",i,s,r,o]}}class ui{static setupStorage(t,e,n,i,s){const r=i.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==r.value&&(t.textContent=r.value),"print"===s)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(r.value===n.attributes.xfaOn?t.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===s)break;t.addEventListener("change",(t=>{i.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==r.value&&t.setAttribute("value",r.value),"print"===s)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==r.value){t.setAttribute("value",r.value);for(const t of n.children)t.attributes.value===r.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}t.addEventListener("input",(t=>{const n=t.target.options,s=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(e,{value:s})}));break}}static setAttributes({html:t,element:e,storage:n=null,intent:i,linkService:s}){const{attributes:r}=e,o=t instanceof HTMLAnchorElement;"radio"===r.type&&(r.name=`${r.name}-${i}`);for(const[a,l]of Object.entries(r))if(null!==l&&void 0!==l)switch(a){case"class":l.length&&t.setAttribute(a,l.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",l);break;case"style":Object.assign(t.style,l);break;case"textContent":t.textContent=l;break;default:(!o||"href"!==a&&"newWindow"!==a)&&t.setAttribute(a,l)}o&&s.addLinkAttributes(t,r.href,r.newWindow),n&&r.dataId&&this.setupStorage(t,r.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,s=t.intent||"display",r=document.createElement(i.name);i.attributes&&this.setAttributes({html:r,element:i,intent:s,linkService:n});const o="richText"!==s,a=t.div;if(a.append(r),t.viewport){const e=`matrix(${t.viewport.transform.join(",")})`;a.style.transform=e}o&&a.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const t=document.createTextNode(i.value);r.append(t),o&&Yn.shouldBuildText(i.name)&&l.push(t)}return{textDivs:l}}const h=[[i,-1,r]];while(h.length>0){const[t,i,r]=h.at(-1);if(i+1===t.children.length){h.pop();continue}const a=t.children[++h.at(-1)[1]];if(null===a)continue;const{name:c}=a;if("#text"===c){const t=document.createTextNode(a.value);l.push(t),r.append(t);continue}const d=a?.attributes?.xmlns?document.createElementNS(a.attributes.xmlns,c):document.createElement(c);if(r.append(d),a.attributes&&this.setAttributes({html:d,element:a,storage:e,intent:s,linkService:n}),a.children?.length>0)h.push([a,-1,d]);else if(a.value){const t=document.createTextNode(a.value);o&&Yn.shouldBuildText(c)&&l.push(t),d.append(t)}}for(const c of a.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))c.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const fi=1e3,mi=9,gi=new WeakSet;function pi(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class _i{static create(t){const e=t.data.annotationType;switch(e){case y.LINK:return new wi(t);case y.TEXT:return new vi(t);case y.WIDGET:const e=t.data.fieldType;switch(e){case"Tx":return new Mi(t);case"Btn":return t.data.radioButton?new xi(t):t.data.checkBox?new Ci(t):new Ti(t);case"Ch":return new ki(t);case"Sig":return new Si(t)}return new bi(t);case y.POPUP:return new Li(t);case y.FREETEXT:return new Ri(t);case y.LINE:return new Ai(t);case y.SQUARE:return new Di(t);case y.CIRCLE:return new Hi(t);case y.POLYLINE:return new Pi(t);case y.CARET:return new Oi(t);case y.INK:return new Yi(t);case y.POLYGON:return new Ii(t);case y.HIGHLIGHT:return new Ni(t);case y.UNDERLINE:return new Fi(t);case y.SQUIGGLY:return new ji(t);case y.STRIKEOUT:return new Wi(t);case y.STAMP:return new Vi(t);case y.FILEATTACHMENT:return new Bi(t);default:return new yi(t)}}}class yi{#Jn=null;#Zn=!1;#Qn=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t?.str||e?.str||n?.str)}get hasPopupData(){return yi._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#Jn||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#ti(e),this.#Qn?.popup.updateEdited(t)}resetEdited(){this.#Jn&&(this.#ti(this.#Jn.rect),this.#Qn?.popup.resetEdited(),this.#Jn=null)}#ti(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:a}}}}=this;n?.splice(0,4,...t);const{width:l,height:h}=pi(t);e.left=100*(t[0]-o)/s+"%",e.top=100*(r-t[3]+a)/r+"%",0===i?(e.width=100*l/s+"%",e.height=100*h/r+"%"):this.setRotation(i)}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof bi||(s.tabIndex=fi);const{style:r}=s;if(r.zIndex=this.parent.zIndex++,e.popupRef&&s.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof Li){const{rotation:t}=e;return e.hasOwnCanvas||0===t||this.setRotation(t,s),s}const{width:o,height:a}=pi(e.rect);if(!t&&e.borderStyle.width>0){r.borderWidth=`${e.borderStyle.width}px`;const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e=`calc(${t}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;r.borderRadius=e}else if(this instanceof xi){const t=`calc(${o}px * var(--scale-factor)) / calc(${a}px * var(--scale-factor))`;r.borderRadius=t}switch(e.borderStyle.style){case w.SOLID:r.borderStyle="solid";break;case w.DASHED:r.borderStyle="dashed";break;case w.BEVELED:L("Unimplemented border style: beveled");break;case w.INSET:L("Unimplemented border style: inset");break;case w.UNDERLINE:r.borderBottomStyle="solid";break;default:break}const i=e.borderColor||null;i?(this.#Zn=!0,r.borderColor=X.makeHexColor(0|i[0],0|i[1],0|i[2])):r.borderWidth=0}const l=X.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:c,pageX:d,pageY:u}=i.rawDims;r.left=100*(l[0]-d)/h+"%",r.top=100*(l[1]-u)/c+"%";const{rotation:f}=e;return e.hasOwnCanvas||0===f?(r.width=100*o/h+"%",r.height=100*a/c+"%"):this.setRotation(f,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:r}=pi(this.data.rect);let o,a;t%180===0?(o=100*s/n,a=100*r/i):(o=100*r/n,a=100*s/i),e.style.width=`${o}%`,e.style.height=`${a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const i=n.detail[t],s=i[0],r=i.slice(1);n.target.style[e]=di[`${s}_HTML`](r),this.annotationStorage.setValue(this.data.id,{[e]:di[`${s}_rgb`](r)})};return H(this,"_commonActions",{display:t=>{const{display:e}=t.detail,n=e%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===e||2===e})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const s=t[i]||n[i];s?.(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,s]of Object.entries(e)){const r=n[i];if(r){const n={detail:{[i]:s},target:t};r(n),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,s]=this.data.rect;if(1===t.length){const[,{x:r,y:o},{x:a,y:l}]=t[0];if(i===r&&s===o&&e===a&&n===l)return}const{style:r}=this.container;let o;if(this.#Zn){const{borderColor:t,borderWidth:e}=r;r.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${t}" stroke-width="${e}">`],this.container.classList.add("hasBorder")}const a=i-e,l=s-n,{svgFactory:h}=this,c=h.createElement("svg");c.classList.add("quadrilateralsContainer"),c.setAttribute("width",0),c.setAttribute("height",0);const d=h.createElement("defs");c.append(d);const u=h.createElement("clipPath"),f=`clippath_${this.data.id}`;u.setAttribute("id",f),u.setAttribute("clipPathUnits","objectBoundingBox"),d.append(u);for(const[,{x:m,y:g},{x:p,y:_}]of t){const t=h.createElement("rect"),n=(p-e)/a,i=(s-g)/l,r=(m-p)/a,c=(g-_)/l;t.setAttribute("x",n),t.setAttribute("y",i),t.setAttribute("width",r),t.setAttribute("height",c),u.append(t),o?.push(`<rect vector-effect="non-scaling-stroke" x="${n}" y="${i}" width="${r}" height="${c}"/>`)}this.#Zn&&(o.push("</g></svg>')"),r.backgroundImage=o.join("")),this.container.append(c),this.container.style.clipPath=`url(#${f})`}_createPopup(){const{container:t,data:e}=this;t.setAttribute("aria-haspopup","dialog");const n=this.#Qn=new Li({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){E("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:s,exportValues:r}of i){if(-1===t)continue;if(s===e)continue;const i="string"===typeof r?r:null,o=document.querySelector(`[data-element-id="${s}"]`);!o||gi.has(o)?n.push({id:s,exportValue:i,domElement:o}):L(`_getElementsByName - element not allowed: ${s}`)}return n}for(const i of document.getElementsByName(t)){const{exportValue:t}=i,s=i.getAttribute("data-element-id");s!==e&&(gi.has(i)&&n.push({id:s,exportValue:t,domElement:i}))}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})}))}}class wi extends yi{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(n,t.action),i=!0):t.attachment?(this.#ei(n,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(this.#ni(n,t.setOCGState),i=!0):t.dest?(this._bindLink(n,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),i=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}#ii(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&this.#ii()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#ii()}#ei(t,e,n=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,n),!1),this.#ii()}#ni(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#ii()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const s=n.get(i);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1))}t.onclick||(t.onclick=()=>!1),this.#ii()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#ii(),!this._fieldObjects)return L('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{n?.();const{fields:t,refs:i,include:s}=e,r=[];if(0!==t.length||0!==i.length){const e=new Set(i);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===s&&r.push(n)}else for(const e of Object.values(this._fieldObjects))r.push(...e);const o=this.annotationStorage,a=[];for(const e of r){const{id:t}=e;switch(a.push(t),e.type){case"text":{const n=e.defaultValue||"";o.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;o.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";o.setValue(t,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${t}"]`);n&&(gi.has(n)?n.dispatchEvent(new Event("resetform")):L(`_bindResetFormAction - element not allowed: ${t}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:a,name:"ResetForm"}}),!1}}}class vi extends yi{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class bi extends yi{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&("CANVAS"===t.previousSibling?.nodeName&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return K.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,s){n.includes("mouse")?t.addEventListener(n,(t=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(n,(t=>{if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(t)}})}))}_setEventListeners(t,e,n,i){for(const[s,r]of n)("Action"===r||this.data.actions?.[r])&&("Focus"!==r&&"Blur"!==r||(e||={focused:!1}),this._setEventListener(t,e,s,r,i),"Focus"!==r||this.data.actions?.Blur?"Blur"!==r||this.data.actions?.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":X.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||mi,s=t.style;let r;const o=2,a=t=>Math.round(10*t)/10;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]-o),e=Math.round(t/(h*i))||1,n=t/e;r=Math.min(i,a(n/h))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]-o);r=Math.min(i,a(t/h))}s.fontSize=`calc(${r}px * var(--scale-factor))`,s.color=X.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Mi extends bi{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,i){const s=this.annotationStorage;for(const r of this._getElementsByName(t.name,t.id))r.domElement&&(r.domElement[e]=n),s.setValue(r.id,{[i]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=t.getValue(e,{value:this.data.fieldValue});let s=i.value||"";const r=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;r&&s.length>r&&(s=s.slice(0,r));let o=i.formattedValue||this.data.textContent?.join("\n")||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const a={userValue:s,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=o??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",o??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),gi.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=fi,this._setRequired(n,this.data.required),r&&(n.maxLength=r),n.addEventListener("input",(i=>{t.setValue(e,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),a.formattedValue=null})),n.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue??"";n.value=a.userValue=e,a.formattedValue=null}));let l=t=>{const{formattedValue:e}=a;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(t=>{if(a.focused)return;const{target:e}=t;a.userValue&&(e.value=a.userValue),a.lastCommittedValue=e.value,a.commitKey=1,this.data.actions?.Focus||(a.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){a.userValue=n.detail.value??"",t.setValue(e,{value:a.userValue.toString()}),n.target.value=a.userValue},formattedValue(n){const{formattedValue:i}=n.detail;a.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i),t.setValue(e,{formattedValue:i})},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{const{charLimit:i}=n.detail,{target:s}=n;if(0===i)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",i);let r=a.userValue;!r||r.length<=i||(r=r.slice(0,i),s.value=a.userValue=r,t.setValue(e,{value:r}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(t=>{a.commitKey=1;let n=-1;if("Escape"===t.key?n=0:"Enter"!==t.key||this.data.multiLine?"Tab"===t.key&&(a.commitKey=3):n=2,-1===n)return;const{value:i}=t.target;a.lastCommittedValue!==i&&(a.lastCommittedValue=i,a.userValue=i,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:i,willCommit:!0,commitKey:n,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const i=l;l=null,n.addEventListener("blur",(t=>{if(!a.focused||!t.relatedTarget)return;this.data.actions?.Blur||(a.focused=!1);const{value:n}=t.target;a.userValue=n,a.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:n,willCommit:!0,commitKey:a.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}),i(t)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(t=>{a.lastCommittedValue=null;const{data:n,target:i}=t,{value:s,selectionStart:r,selectionEnd:o}=i;let l=r,h=o;switch(t.inputType){case"deleteWordBackward":{const t=s.substring(0,r).match(/\w*[^\w]*$/);t&&(l-=t[0].length);break}case"deleteWordForward":{const t=s.substring(r).match(/^[^\w]*\w*/);t&&(h+=t[0].length);break}case"deleteContentBackward":r===o&&(l-=1);break;case"deleteContentForward":r===o&&(h+=1);break}t.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,change:n||"",willCommit:!1,selStart:l,selEnd:h}})})),this._setEventListeners(n,a,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(l&&n.addEventListener("blur",l),this.data.comb){const t=this.data.rect[2]-this.data.rect[0],e=t/r;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Si extends bi{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Ci extends bi{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return gi.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=fi,s.addEventListener("change",(i=>{const{name:s,checked:r}=i.target;for(const o of this._getElementsByName(s,n)){const n=r&&o.exportValue===e.exportValue;o.domElement&&(o.domElement.checked=n),t.setValue(o.id,{value:n})}t.setValue(n,{value:r})})),s.addEventListener("resetform",(t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue})),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",(e=>{const i={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class xi extends bi{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if("string"===typeof i&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const r of this._getElementsByName(e.fieldName,n))t.setValue(r.id,{value:!1});const s=document.createElement("input");if(gi.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=fi,s.addEventListener("change",(e=>{const{name:i,checked:s}=e.target;for(const r of this._getElementsByName(i,n))t.setValue(r.id,{value:!1});t.setValue(n,{value:s})})),s.addEventListener("resetform",(t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue})),this.enableScripting&&this.hasJSActions){const i=e.buttonValue;s.addEventListener("updatefromsandbox",(e=>{const s={value:e=>{const s=i===e.detail.value;for(const i of this._getElementsByName(e.target.name)){const e=s&&i.id===n;i.domElement&&(i.domElement.checked=e),t.setValue(i.id,{value:e})}}};this._dispatchEventFromSandbox(s,e)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Ti extends wi{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",(t=>{this._dispatchEventFromSandbox({},t)}))),t}}class ki extends bi{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");gi.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=fi;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===e}));for(const h of this.data.options){const t=document.createElement("option");t.textContent=h.displayValue,t.value=h.exportValue,n.value.includes(h.exportValue)&&(t.setAttribute("selected",!0),s=!1),i.append(t)}let r=null;if(s){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),i.prepend(t),r=()=>{t.remove(),i.removeEventListener("input",r),r=null},i.addEventListener("input",r)}const o=t=>{const e=t?"value":"textContent",{options:n,multiple:s}=i;return s?Array.prototype.filter.call(n,(t=>t.selected)).map((t=>t[e])):-1===n.selectedIndex?null:n[n.selectedIndex][e]};let a=o(!1);const l=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const s={value(n){r?.();const s=n.detail.value,l=new Set(Array.isArray(s)?s:[s]);for(const t of i.options)t.selected=l.has(t.value);t.setValue(e,{value:o(!0)}),a=o(!1)},multipleSelection(t){i.multiple=!0},remove(n){const s=i.options,r=n.detail.remove;if(s[r].selected=!1,i.remove(r),s.length>0){const t=Array.prototype.findIndex.call(s,(t=>t.selected));-1===t&&(s[0].selected=!0)}t.setValue(e,{value:o(!0),items:l(n)}),a=o(!1)},clear(n){while(0!==i.length)i.remove(0);t.setValue(e,{value:null,items:[]}),a=o(!1)},insert(n){const{index:s,displayValue:r,exportValue:h}=n.detail.insert,c=i.children[s],d=document.createElement("option");d.textContent=r,d.value=h,c?c.before(d):i.append(d),t.setValue(e,{value:o(!0),items:l(n)}),a=o(!1)},items(n){const{items:s}=n.detail;while(0!==i.length)i.remove(0);for(const t of s){const{displayValue:e,exportValue:n}=t,s=document.createElement("option");s.textContent=e,s.value=n,i.append(s)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:o(!0),items:l(n)}),a=o(!1)},indices(n){const i=new Set(n.detail.indices);for(const t of n.target.options)t.selected=i.has(t.index);t.setValue(e,{value:o(!0)}),a=o(!1)},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(s,n)})),i.addEventListener("input",(n=>{const i=o(!0),s=o(!1);t.setValue(e,{value:i}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:a,change:s,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(t=>t.target.value))):i.addEventListener("input",(function(n){t.setValue(e,{value:o(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Li extends yi{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:yi._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new Ei({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map((t=>`${nt}${t}`)).join(",")),this.container}}class Ei{#si=this.#ri.bind(this);#oi=this.#ai.bind(this);#li=this.#hi.bind(this);#ci=this.#di.bind(this);#ui=null;#At=null;#fi=null;#mi=null;#gi=null;#pi=null;#_i=null;#yi=!1;#wi=null;#N=null;#vi=null;#bi=null;#Mi=null;#Jn=null;#Si=!1;constructor({container:t,color:e,elements:n,titleObj:i,modificationDate:s,contentsObj:r,richText:o,parent:a,rect:l,parentRect:h,open:c}){this.#At=t,this.#Mi=i,this.#fi=r,this.#bi=o,this.#pi=a,this.#ui=e,this.#vi=l,this.#_i=h,this.#gi=n,this.#mi=Lt.toDateObject(s),this.trigger=n.flatMap((t=>t.getElementsToTriggerPopup()));for(const d of this.trigger)d.addEventListener("click",this.#ci),d.addEventListener("mouseenter",this.#li),d.addEventListener("mouseleave",this.#oi),d.classList.add("popupTriggerArea");for(const d of n)d.container?.addEventListener("keydown",this.#si);this.#At.hidden=!0,c&&this.#di()}render(){if(this.#wi)return;const t=this.#wi=document.createElement("div");if(t.className="popup",this.#ui){const e=t.style.outlineColor=X.makeHexColor(...this.#ui);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))t.style.backgroundColor=`color-mix(in srgb, ${e} 30%, white)`;else{const e=.7;t.style.backgroundColor=X.makeHexColor(...this.#ui.map((t=>Math.floor(e*(255-t)+t))))}}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),({dir:n.dir,str:n.textContent}=this.#Mi),t.append(e),this.#mi){const t=document.createElement("span");t.classList.add("popupDate"),t.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),t.setAttribute("data-l10n-args",JSON.stringify({date:this.#mi.toLocaleDateString(),time:this.#mi.toLocaleTimeString()})),e.append(t)}const i=this.#Ci;if(i)ui.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const e=this._formatContents(this.#fi);t.append(e)}this.#At.append(t)}get#Ci(){const t=this.#bi,e=this.#fi;return!t?.str||e?.str&&e.str!==t.str?null:this.#bi.html||null}get#xi(){return this.#Ci?.attributes?.style?.fontSize||0}get#Ti(){return this.#Ci?.attributes?.style?.color||null}#ki(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:this.#Ti,fontSize:this.#xi?`calc(${this.#xi}px * var(--scale-factor))`:""}};for(const s of t.split("\n"))e.push({name:"span",value:s,attributes:i});return n}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const i=t.split(/(?:\r\n?|\n)/);for(let s=0,r=i.length;s<r;++s){const t=i[s];n.append(document.createTextNode(t)),s<r-1&&n.append(document.createElement("br"))}return n}#ri(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&this.#yi)&&this.#di()}updateEdited({rect:t,popupContent:e}){this.#Jn||={contentsObj:this.#fi,richText:this.#bi},t&&(this.#N=null),e&&(this.#bi=this.#ki(e),this.#fi=null),this.#wi?.remove(),this.#wi=null}resetEdited(){this.#Jn&&(({contentsObj:this.#fi,richText:this.#bi}=this.#Jn),this.#Jn=null,this.#wi?.remove(),this.#wi=null,this.#N=null)}#Li(){if(null!==this.#N)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:s}}}=this.#pi;let r=!!this.#_i,o=r?this.#_i:this.#vi;for(const f of this.#gi)if(!o||null!==X.intersect(f.data.rect,o)){o=f.data.rect,r=!0;break}const a=X.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),l=5,h=r?o[2]-o[0]+l:0,c=a[0]+h,d=a[1];this.#N=[100*(c-i)/e,100*(d-s)/n];const{style:u}=this.#At;u.left=`${this.#N[0]}%`,u.top=`${this.#N[1]}%`}#di(){this.#yi=!this.#yi,this.#yi?(this.#hi(),this.#At.addEventListener("click",this.#ci),this.#At.addEventListener("keydown",this.#si)):(this.#ai(),this.#At.removeEventListener("click",this.#ci),this.#At.removeEventListener("keydown",this.#si))}#hi(){this.#wi||this.render(),this.isVisible?this.#yi&&this.#At.classList.add("focused"):(this.#Li(),this.#At.hidden=!1,this.#At.style.zIndex=parseInt(this.#At.style.zIndex)+1e3)}#ai(){this.#At.classList.remove("focused"),!this.#yi&&this.isVisible&&(this.#At.hidden=!0,this.#At.style.zIndex=parseInt(this.#At.style.zIndex)-1e3)}forceHide(){this.#Si=this.isVisible,this.#Si&&(this.#At.hidden=!0)}maybeShow(){this.#Si&&(this.#wi||this.#hi(),this.#Si=!1,this.#At.hidden=!1)}get isVisible(){return!1===this.#At.hidden}}class Ri extends yi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=f.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class Ai extends yi{#Ei=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:e,height:n}=pi(t.rect),i=this.svgFactory.create(e,n,!0),s=this.#Ei=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ei}addHighlightArea(){this.container.classList.add("highlightArea")}}class Di extends yi{#Ri=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:e,height:n}=pi(t.rect),i=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,r=this.#Ri=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",s/2),r.setAttribute("y",s/2),r.setAttribute("width",e-s),r.setAttribute("height",n-s),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ri}addHighlightArea(){this.container.classList.add("highlightArea")}}class Hi extends yi{#Ai=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:e,height:n}=pi(t.rect),i=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,r=this.#Ai=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",e/2),r.setAttribute("cy",n/2),r.setAttribute("rx",e/2-s/2),r.setAttribute("ry",n/2-s/2),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ai}addHighlightArea(){this.container.classList.add("highlightArea")}}class Pi extends yi{#Di=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:e,height:n}=pi(t.rect),i=this.svgFactory.create(e,n,!0);let s=[];for(const o of t.vertices){const e=o.x-t.rect[0],n=t.rect[3]-o.y;s.push(e+","+n)}s=s.join(" ");const r=this.#Di=this.svgFactory.createElement(this.svgElementName);return r.setAttribute("points",s),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Di}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ii extends Pi{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Oi extends yi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Yi extends yi{#Hi=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=f.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:e,height:n}=pi(t.rect),i=this.svgFactory.create(e,n,!0);for(const s of t.inkLists){let e=[];for(const i of s){const n=i.x-t.rect[0],s=t.rect[3]-i.y;e.push(`${n},${s}`)}e=e.join(" ");const n=this.svgFactory.createElement(this.svgElementName);this.#Hi.push(n),n.setAttribute("points",e),n.setAttribute("stroke-width",t.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),i.append(n)}return this.container.append(i),this.container}getElementsToTriggerPopup(){return this.#Hi}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ni extends yi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Fi extends yi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ji extends yi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Wi extends yi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Vi extends yi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Bi extends yi{#Pi=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||0===e.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*e.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#Ii.bind(this)),this.#Pi=n;const{isMac:i}=K.platform;return t.addEventListener("keydown",(t=>{"Enter"===t.key&&(i?t.metaKey:t.ctrlKey)&&this.#Ii()})),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#Pi}addHighlightArea(){this.container.classList.add("highlightArea")}#Ii(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class zi{#Oi=null;#Yi=null;#Ni=new Map;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:r}){this.div=t,this.#Oi=e,this.#Yi=n,this.page=s,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=i}#Fi(t,e){const n=t.firstChild||t;n.id=`${nt}${e}`,this.div.append(t),this.#Oi?.moveElementInDOM(this.div,t,n,!1)}async render(t){const{annotations:e}=t,n=this.div;Pt(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new pt,annotationStorage:t.annotationStorage||new Qt,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const r of e){if(r.noHTML)continue;const t=r.annotationType===y.POPUP;if(t){const t=i.get(r.id);if(!t)continue;s.elements=t}else{const{width:t,height:e}=pi(r.rect);if(t<=0||e<=0)continue}s.data=r;const e=_i.create(s);if(!e.isRenderable)continue;if(!t&&r.popupRef){const t=i.get(r.popupRef);t?t.push(e):i.set(r.popupRef,[e])}const n=e.render();r.hidden&&(n.style.visibility="hidden"),this.#Fi(n,r.id),e.annotationEditorType>0&&(this.#Ni.set(e.data.id,e),this._annotationEditorUIManager?.renderAnnotationElement(e))}this.#ji()}update({viewport:t}){const e=this.div;this.viewport=t,Pt(e,{rotation:t.rotation}),this.#ji(),e.hidden=!1}#ji(){if(!this.#Yi)return;const t=this.div;for(const[e,n]of this.#Yi){const i=t.querySelector(`[data-annotation-id="${e}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?"CANVAS"===s.nodeName?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}this.#Yi.clear()}getEditableAnnotations(){return Array.from(this.#Ni.values())}getEditableAnnotation(t){return this.#Ni.get(t)}}const Ui=/\r\n?|\n/g;class $i extends $t{#Wi=this.editorDivBlur.bind(this);#Vi=this.editorDivFocus.bind(this);#Bi=this.editorDivInput.bind(this);#zi=this.editorDivKeydown.bind(this);#Ui=this.editorDivPaste.bind(this);#ui;#$i="";#Gi=`${this.id}-editor`;#xi;#Ki=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=$i.prototype,e=t=>t.isEmpty(),n=zt.TRANSLATE_SMALL,i=zt.TRANSLATE_BIG;return H(this,"_keyboardManager",new Vt([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}static _type="freetext";static _editorType=f.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#ui=t.color||$i._defaultColor||$t._defaultLineColor,this.#xi=t.fontSize||$i._defaultFontSize}static initialize(t,e){$t.initialize(t,e,{strings:["pdfjs-free-text-default-content"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case m.FREETEXT_SIZE:$i._defaultFontSize=e;break;case m.FREETEXT_COLOR:$i._defaultColor=e;break}}updateParams(t,e){switch(t){case m.FREETEXT_SIZE:this.#qi(e);break;case m.FREETEXT_COLOR:this.#Xi(e);break}}static get defaultPropertiesToUpdate(){return[[m.FREETEXT_SIZE,$i._defaultFontSize],[m.FREETEXT_COLOR,$i._defaultColor||$t._defaultLineColor]]}get propertiesToUpdate(){return[[m.FREETEXT_SIZE,this.#xi],[m.FREETEXT_COLOR,this.#ui]]}#qi(t){const e=t=>{this.editorDiv.style.fontSize=`calc(${t}px * var(--scale-factor))`,this.translate(0,-(t-this.#xi)*this.parentScale),this.#xi=t,this.#Ji()},n=this.#xi;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#Xi(t){const e=t=>{this.#ui=this.editorDiv.style.color=t},n=this.#ui;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-$i._internalPadding*t,-($i._internalPadding+this.#xi)*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(f.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#zi),this.editorDiv.addEventListener("focus",this.#Vi),this.editorDiv.addEventListener("blur",this.#Wi),this.editorDiv.addEventListener("input",this.#Bi),this.editorDiv.addEventListener("paste",this.#Ui))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#Gi),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#zi),this.editorDiv.removeEventListener("focus",this.#Vi),this.editorDiv.removeEventListener("blur",this.#Wi),this.editorDiv.removeEventListener("input",this.#Bi),this.editorDiv.removeEventListener("paste",this.#Ui),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#Zi(){const t=[];this.editorDiv.normalize();for(const e of this.editorDiv.childNodes)t.push($i.#Qi(e));return t.join("\n")}#Ji(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:t,div:e}=this,i=e.style.display,s=e.classList.contains("hidden");e.classList.remove("hidden"),e.style.display="hidden",t.div.append(this.div),n=e.getBoundingClientRect(),e.remove(),e.style.display=i,e.classList.toggle("hidden",s)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#$i,e=this.#$i=this.#Zi().trimEnd();if(t===e)return;const n=t=>{this.#$i=t,t?(this.#ts(),this._uiManager.rebuild(this),this.#Ji()):this.remove()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#Ji()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){$i._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#Gi),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),$t._l10nPromise.get("pdfjs-free-text-default-content").then((t=>this.editorDiv?.setAttribute("default-content",t))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#xi}px * var(--scale-factor))`,n.color=this.#ui,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Yt(this,this.div,["dblclick","keydown"]),this.width){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this.#Ki;let[r,o]=this.getInitialTranslation();[r,o]=this.pageTranslationToScreen(r,o);const[a,l]=this.pageDimensions,[h,c]=this.pageTranslation;let d,u;switch(this.rotation){case 0:d=t+(s[0]-h)/a,u=e+this.height-(s[1]-c)/l;break;case 90:d=t+(s[0]-h)/a,u=e-(s[1]-c)/l,[r,o]=[o,-r];break;case 180:d=t-this.width+(s[0]-h)/a,u=e-(s[1]-c)/l,[r,o]=[-r,-o];break;case 270:d=t+(s[0]-h-this.height*l)/a,u=e+(s[1]-c-this.width*a)/l,[r,o]=[-o,r];break}this.setAt(d*n,u*i,r,o)}else this.setAt(t*n,e*i,this.width*n,this.height*i);this.#ts(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#Qi(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ui,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(1===n.length&&"text/plain"===n[0])return;t.preventDefault();const i=$i.#es(e.getData("text")||"").replaceAll(Ui,"\n");if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const r=s.getRangeAt(0);if(!i.includes("\n"))return r.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:o,startOffset:a}=r,l=[],h=[];if(o.nodeType===Node.TEXT_NODE){const t=o.parentElement;if(h.push(o.nodeValue.slice(a).replaceAll(Ui,"")),t!==this.editorDiv){let e=l;for(const n of this.editorDiv.childNodes)n!==t?e.push($i.#Qi(n)):e=h}l.push(o.nodeValue.slice(0,a).replaceAll(Ui,""))}else if(o===this.editorDiv){let t=l,e=0;for(const n of this.editorDiv.childNodes)e++===a&&(t=h),t.push($i.#Qi(n))}this.#$i=`${l.join("\n")}${i}${h.join("\n")}`,this.#ts();const c=new Range;let d=l.reduce(((t,e)=>t+e.length),0);for(const{firstChild:u}of this.editorDiv.childNodes)if(u.nodeType===Node.TEXT_NODE){const t=u.nodeValue.length;if(d<=t){c.setStart(u,d),c.setEnd(u,d);break}d-=t}s.removeAllRanges(),s.addRange(c)}#ts(){if(this.editorDiv.replaceChildren(),this.#$i)for(const t of this.#$i.split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#ns(){return this.#$i.replaceAll(""," ")}static#es(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static deserialize(t,e,n){let i=null;if(t instanceof Ri){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:s,rotation:r,id:o},textContent:a,textPosition:l,parent:{page:{pageNumber:h}}}=t;if(!a||0===a.length)return null;i=t={annotationType:f.FREETEXT,color:Array.from(n),fontSize:e,value:a.join("\n"),position:l,pageIndex:h-1,rect:s.slice(0),rotation:r,id:o,deleted:!1}}const s=super.deserialize(t,e,n);return s.#xi=t.fontSize,s.#ui=X.makeHexColor(...t.color),s.#$i=$i.#es(t.value),s.annotationElementId=t.id||null,s.#Ki=i,s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const e=$i._internalPadding*this.parentScale,n=this.getRect(e,e),i=$t._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#ui),s={annotationType:f.FREETEXT,color:i,fontSize:this.#xi,value:this.#ns(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?s:this.annotationElementId&&!this.#is(s)?null:(s.id=this.annotationElementId,s)}#is(t){const{value:e,fontSize:n,color:i,pageIndex:s}=this.#Ki;return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some(((t,e)=>t!==i[e]))||t.pageIndex!==s}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize=`calc(${this.#xi}px * var(--scale-factor))`,n.color=this.#ui,e.replaceChildren();for(const s of this.#$i.split("\n")){const t=document.createElement("div");t.append(s?document.createTextNode(s):document.createElement("br")),e.append(t)}const i=$i._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:this.#$i}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class Gi{#ss;#rs=[];#os=[];constructor(t,e=0,n=0,i=!0){let s=1/0,r=-1/0,o=1/0,a=-1/0;const l=4,h=10**-l;for(const{x:p,y:_,width:y,height:w}of t){const t=Math.floor((p-e)/h)*h,n=Math.ceil((p+y+e)/h)*h,i=Math.floor((_-e)/h)*h,l=Math.ceil((_+w+e)/h)*h,c=[t,i,l,!0],d=[n,i,l,!1];this.#rs.push(c,d),s=Math.min(s,t),r=Math.max(r,n),o=Math.min(o,i),a=Math.max(a,l)}const c=r-s+2*n,d=a-o+2*n,u=s-n,f=o-n,m=this.#rs.at(i?-1:-2),g=[m[0],m[2]];for(const p of this.#rs){const[t,e,n]=p;p[0]=(t-u)/c,p[1]=(e-f)/d,p[2]=(n-f)/d}this.#ss={x:u,y:f,width:c,height:d,lastPoint:g}}getOutlines(){this.#rs.sort(((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]));const t=[];for(const e of this.#rs)e[3]?(t.push(...this.#as(e)),this.#ls(e)):(this.#hs(e),t.push(...this.#as(e)));return this.#cs(t)}#cs(t){const e=[],n=new Set;for(const r of t){const[t,n,i]=r;e.push([t,n,r],[t,i,r])}e.sort(((t,e)=>t[1]-e[1]||t[0]-e[0]));for(let r=0,o=e.length;r<o;r+=2){const t=e[r][2],i=e[r+1][2];t.push(i),i.push(t),n.add(t),n.add(i)}const i=[];let s;while(n.size>0){const t=n.values().next().value;let[e,r,o,a,l]=t;n.delete(t);let h=e,c=r;s=[e,o],i.push(s);while(1){let t;if(n.has(a))t=a;else{if(!n.has(l))break;t=l}n.delete(t),[e,r,o,a,l]=t,h!==e&&(s.push(h,c,e,c===r?r:o),h=e),c=c===r?o:r}s.push(h,c)}return new qi(i,this.#ss)}#ds(t){const e=this.#os;let n=0,i=e.length-1;while(n<=i){const s=n+i>>1,r=e[s][0];if(r===t)return s;r<t?n=s+1:i=s-1}return i+1}#ls([,t,e]){const n=this.#ds(t);this.#os.splice(n,0,[t,e])}#hs([,t,e]){const n=this.#ds(t);for(let i=n;i<this.#os.length;i++){const[n,s]=this.#os[i];if(n!==t)break;if(n===t&&s===e)return void this.#os.splice(i,1)}for(let i=n-1;i>=0;i--){const[n,s]=this.#os[i];if(n!==t)break;if(n===t&&s===e)return void this.#os.splice(i,1)}}#as(t){const[e,n,i]=t,s=[[e,n,i]],r=this.#ds(i);for(let o=0;o<r;o++){const[t,n]=this.#os[o];for(let i=0,r=s.length;i<r;i++){const[,o,a]=s[i];if(!(n<=o||a<=t))if(o>=t)if(a>n)s[i][1]=n;else{if(1===r)return[];s.splice(i,1),i--,r--}else s[i][2]=t,a>n&&s.push([e,n,a])}}return s}}class Ki{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Ji}}class qi extends Ki{#ss;#us;constructor(t,e){super(),this.#us=t,this.#ss=e}toSVGPath(){const t=[];for(const e of this.#us){let[n,i]=e;t.push(`M${n} ${i}`);for(let s=2;s<e.length;s+=2){const r=e[s],o=e[s+1];r===n?(t.push(`V${o}`),i=o):o===i&&(t.push(`H${r}`),n=r)}t.push("Z")}return t.join(" ")}serialize([t,e,n,i],s){const r=[],o=n-t,a=i-e;for(const l of this.#us){const e=new Array(l.length);for(let n=0;n<l.length;n+=2)e[n]=t+l[n]*o,e[n+1]=i-l[n+1]*a;r.push(e)}return r}get box(){return this.#ss}}class Xi{#ss;#fs=[];#ms;#gs;#ps=[];#_s=new Float64Array(18);#ys;#ws;#vs;#bs;#Ms;#Ss;#Cs=[];static#xs=8;static#Ts=2;static#ks=Xi.#xs+Xi.#Ts;constructor({x:t,y:e},n,i,s,r,o=0){this.#ss=n,this.#Ss=s*i,this.#gs=r,this.#_s.set([NaN,NaN,NaN,NaN,t,e],6),this.#ms=o,this.#bs=Xi.#xs*i,this.#vs=Xi.#ks*i,this.#Ms=i,this.#Cs.push(t,e)}get free(){return!0}isEmpty(){return isNaN(this.#_s[8])}#Ls(){const t=this.#_s.subarray(4,6),e=this.#_s.subarray(16,18),[n,i,s,r]=this.#ss;return[(this.#ys+(t[0]-e[0])/2-n)/s,(this.#ws+(t[1]-e[1])/2-i)/r,(this.#ys+(e[0]-t[0])/2-n)/s,(this.#ws+(e[1]-t[1])/2-i)/r]}add({x:t,y:e}){this.#ys=t,this.#ws=e;const[n,i,s,r]=this.#ss;let[o,a,l,h]=this.#_s.subarray(8,12);const c=t-l,d=e-h,u=Math.hypot(c,d);if(u<this.#vs)return!1;const f=u-this.#bs,m=f/u,g=m*c,p=m*d;let _=o,y=a;o=l,a=h,l+=g,h+=p,this.#Cs?.push(t,e);const w=-p/f,v=g/f,b=w*this.#Ss,M=v*this.#Ss;if(this.#_s.set(this.#_s.subarray(2,8),0),this.#_s.set([l+b,h+M],4),this.#_s.set(this.#_s.subarray(14,18),12),this.#_s.set([l-b,h-M],16),isNaN(this.#_s[6]))return 0===this.#ps.length&&(this.#_s.set([o+b,a+M],2),this.#ps.push(NaN,NaN,NaN,NaN,(o+b-n)/s,(a+M-i)/r),this.#_s.set([o-b,a-M],14),this.#fs.push(NaN,NaN,NaN,NaN,(o-b-n)/s,(a-M-i)/r)),this.#_s.set([_,y,o,a,l,h],6),!this.isEmpty();this.#_s.set([_,y,o,a,l,h],6);const S=Math.abs(Math.atan2(y-a,_-o)-Math.atan2(p,g));return S<Math.PI/2?([o,a,l,h]=this.#_s.subarray(2,6),this.#ps.push(NaN,NaN,NaN,NaN,((o+l)/2-n)/s,((a+h)/2-i)/r),[o,a,_,y]=this.#_s.subarray(14,18),this.#fs.push(NaN,NaN,NaN,NaN,((_+o)/2-n)/s,((y+a)/2-i)/r),!0):([_,y,o,a,l,h]=this.#_s.subarray(0,6),this.#ps.push(((_+5*o)/6-n)/s,((y+5*a)/6-i)/r,((5*o+l)/6-n)/s,((5*a+h)/6-i)/r,((o+l)/2-n)/s,((a+h)/2-i)/r),[l,h,o,a,_,y]=this.#_s.subarray(12,18),this.#fs.push(((_+5*o)/6-n)/s,((y+5*a)/6-i)/r,((5*o+l)/6-n)/s,((5*a+h)/6-i)/r,((o+l)/2-n)/s,((a+h)/2-i)/r),!0)}toSVGPath(){if(this.isEmpty())return"";const t=this.#ps,e=this.#fs,n=this.#_s.subarray(4,6),i=this.#_s.subarray(16,18),[s,r,o,a]=this.#ss,[l,h,c,d]=this.#Ls();if(isNaN(this.#_s[6])&&!this.isEmpty())return`M${(this.#_s[2]-s)/o} ${(this.#_s[3]-r)/a} L${(this.#_s[4]-s)/o} ${(this.#_s[5]-r)/a} L${l} ${h} L${c} ${d} L${(this.#_s[16]-s)/o} ${(this.#_s[17]-r)/a} L${(this.#_s[14]-s)/o} ${(this.#_s[15]-r)/a} Z`;const u=[];u.push(`M${t[4]} ${t[5]}`);for(let f=6;f<t.length;f+=6)isNaN(t[f])?u.push(`L${t[f+4]} ${t[f+5]}`):u.push(`C${t[f]} ${t[f+1]} ${t[f+2]} ${t[f+3]} ${t[f+4]} ${t[f+5]}`);u.push(`L${(n[0]-s)/o} ${(n[1]-r)/a} L${l} ${h} L${c} ${d} L${(i[0]-s)/o} ${(i[1]-r)/a}`);for(let f=e.length-6;f>=6;f-=6)isNaN(e[f])?u.push(`L${e[f+4]} ${e[f+5]}`):u.push(`C${e[f]} ${e[f+1]} ${e[f+2]} ${e[f+3]} ${e[f+4]} ${e[f+5]}`);return u.push(`L${e[4]} ${e[5]} Z`),u.join(" ")}getOutlines(){const t=this.#ps,e=this.#fs,n=this.#_s,i=n.subarray(4,6),s=n.subarray(16,18),[r,o,a,l]=this.#ss,h=new Float64Array((this.#Cs?.length??0)+2);for(let p=0,_=h.length-2;p<_;p+=2)h[p]=(this.#Cs[p]-r)/a,h[p+1]=(this.#Cs[p+1]-o)/l;h[h.length-2]=(this.#ys-r)/a,h[h.length-1]=(this.#ws-o)/l;const[c,d,u,f]=this.#Ls();if(isNaN(n[6])&&!this.isEmpty()){const t=new Float64Array(36);return t.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-o)/l,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-o)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-o)/l,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-o)/l],0),new Ji(t,h,this.#ss,this.#Ms,this.#ms,this.#gs)}const m=new Float64Array(this.#ps.length+24+this.#fs.length);let g=t.length;for(let p=0;p<g;p+=2)isNaN(t[p])?m[p]=m[p+1]=NaN:(m[p]=t[p],m[p+1]=t[p+1]);m.set([NaN,NaN,NaN,NaN,(i[0]-r)/a,(i[1]-o)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,(s[0]-r)/a,(s[1]-o)/l],g),g+=24;for(let p=e.length-6;p>=6;p-=6)for(let t=0;t<6;t+=2)isNaN(e[p+t])?(m[g]=m[g+1]=NaN,g+=2):(m[g]=e[p+t],m[g+1]=e[p+t+1],g+=2);return m.set([NaN,NaN,NaN,NaN,e[4],e[5]],g),new Ji(m,h,this.#ss,this.#Ms,this.#ms,this.#gs)}}class Ji extends Ki{#ss;#Es=null;#ms;#gs;#Cs;#Ms;#Rs;constructor(t,e,n,i,s,r){super(),this.#Rs=t,this.#Cs=e,this.#ss=n,this.#Ms=i,this.#ms=s,this.#gs=r,this.#As(r);const{x:o,y:a,width:l,height:h}=this.#Es;for(let c=0,d=t.length;c<d;c+=2)t[c]=(t[c]-o)/l,t[c+1]=(t[c+1]-a)/h;for(let c=0,d=e.length;c<d;c+=2)e[c]=(e[c]-o)/l,e[c+1]=(e[c+1]-a)/h}toSVGPath(){const t=[`M${this.#Rs[4]} ${this.#Rs[5]}`];for(let e=6,n=this.#Rs.length;e<n;e+=6)isNaN(this.#Rs[e])?t.push(`L${this.#Rs[e+4]} ${this.#Rs[e+5]}`):t.push(`C${this.#Rs[e]} ${this.#Rs[e+1]} ${this.#Rs[e+2]} ${this.#Rs[e+3]} ${this.#Rs[e+4]} ${this.#Rs[e+5]}`);return t.push("Z"),t.join(" ")}serialize([t,e,n,i],s){const r=n-t,o=i-e;let a,l;switch(s){case 0:a=this.#Ds(this.#Rs,t,i,r,-o),l=this.#Ds(this.#Cs,t,i,r,-o);break;case 90:a=this.#Hs(this.#Rs,t,e,r,o),l=this.#Hs(this.#Cs,t,e,r,o);break;case 180:a=this.#Ds(this.#Rs,n,e,-r,o),l=this.#Ds(this.#Cs,n,e,-r,o);break;case 270:a=this.#Hs(this.#Rs,n,i,-r,-o),l=this.#Hs(this.#Cs,n,i,-r,-o);break}return{outline:Array.from(a),points:[Array.from(l)]}}#Ds(t,e,n,i,s){const r=new Float64Array(t.length);for(let o=0,a=t.length;o<a;o+=2)r[o]=e+t[o]*i,r[o+1]=n+t[o+1]*s;return r}#Hs(t,e,n,i,s){const r=new Float64Array(t.length);for(let o=0,a=t.length;o<a;o+=2)r[o]=e+t[o+1]*i,r[o+1]=n+t[o]*s;return r}#As(t){const e=this.#Rs;let n=e[4],i=e[5],s=n,r=i,o=n,a=i,l=n,h=i;const c=t?Math.max:Math.min;for(let g=6,p=e.length;g<p;g+=6){if(isNaN(e[g]))s=Math.min(s,e[g+4]),r=Math.min(r,e[g+5]),o=Math.max(o,e[g+4]),a=Math.max(a,e[g+5]),h<e[g+5]?(l=e[g+4],h=e[g+5]):h===e[g+5]&&(l=c(l,e[g+4]));else{const t=X.bezierBoundingBox(n,i,...e.slice(g,g+6));s=Math.min(s,t[0]),r=Math.min(r,t[1]),o=Math.max(o,t[2]),a=Math.max(a,t[3]),h<t[3]?(l=t[2],h=t[3]):h===t[3]&&(l=c(l,t[2]))}n=e[g+4],i=e[g+5]}const d=s-this.#ms,u=r-this.#ms,f=o-s+2*this.#ms,m=a-r+2*this.#ms;this.#Es={x:d,y:u,width:f,height:m,lastPoint:[l,h]}}get box(){return this.#Es}getNewOutline(t,e){const{x:n,y:i,width:s,height:r}=this.#Es,[o,a,l,h]=this.#ss,c=s*l,d=r*h,u=n*l+o,f=i*h+a,m=new Xi({x:this.#Cs[0]*c+u,y:this.#Cs[1]*d+f},this.#ss,this.#Ms,t,this.#gs,e??this.#ms);for(let g=2;g<this.#Cs.length;g+=2)m.add({x:this.#Cs[g]*c+u,y:this.#Cs[g+1]*d+f});return m.getOutlines()}}class Zi{#si=this.#ri.bind(this);#Ps=this.#S.bind(this);#Is=null;#Os=null;#Ys;#Ns=null;#Fs=!1;#js=!1;#b=null;#Ws;#E=null;#Vs;static get _keyboardManager(){return H(this,"_keyboardManager",new Vt([[["Escape","mac+Escape"],Zi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Zi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Zi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Zi.prototype._moveToPrevious],[["Home","mac+Home"],Zi.prototype._moveToBeginning],[["End","mac+End"],Zi.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#js=!1,this.#Vs=m.HIGHLIGHT_COLOR,this.#b=t):(this.#js=!0,this.#Vs=m.HIGHLIGHT_DEFAULT_COLOR),this.#E=t?._uiManager||e,this.#Ws=this.#E._eventBus,this.#Ys=t?.color||this.#E?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const t=this.#Is=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0),t.addEventListener("click",this.#Bs.bind(this)),t.addEventListener("keydown",this.#si);const e=this.#Os=document.createElement("span");return e.className="swatch",e.setAttribute("aria-hidden",!0),e.style.backgroundColor=this.#Ys,t.append(e),t}renderMainDropdown(){const t=this.#Ns=this.#zs();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#zs(){const t=document.createElement("div");t.addEventListener("contextmenu",xt),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[e,n]of this.#E.highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",n),i.title=e,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${e}`);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=n,i.setAttribute("aria-selected",n===this.#Ys),i.addEventListener("click",this.#Us.bind(this,n)),t.append(i)}return t.addEventListener("keydown",this.#si),t}#Us(t,e){e.stopPropagation(),this.#Ws.dispatch("switchannotationeditorparams",{source:this,type:this.#Vs,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#Is)return void this.#Bs(t);const e=t.target.getAttribute("data-color");e&&this.#Us(e,t)}_moveToNext(t){this.#$s?t.target!==this.#Is?t.target.nextSibling?.focus():this.#Ns.firstChild?.focus():this.#Bs(t)}_moveToPrevious(t){t.target!==this.#Ns?.firstChild&&t.target!==this.#Is?(this.#$s||this.#Bs(t),t.target.previousSibling?.focus()):this.#$s&&this._hideDropdownFromKeyboard()}_moveToBeginning(t){this.#$s?this.#Ns.firstChild?.focus():this.#Bs(t)}_moveToEnd(t){this.#$s?this.#Ns.lastChild?.focus():this.#Bs(t)}#ri(t){Zi._keyboardManager.exec(this,t)}#Bs(t){if(this.#$s)return void this.hideDropdown();if(this.#Fs=0===t.detail,window.addEventListener("pointerdown",this.#Ps),this.#Ns)return void this.#Ns.classList.remove("hidden");const e=this.#Ns=this.#zs();this.#Is.append(e)}#S(t){this.#Ns?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#Ns?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#Ps)}get#$s(){return this.#Ns&&!this.#Ns.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#js||(this.#$s?(this.hideDropdown(),this.#Is.focus({preventScroll:!0,focusVisible:this.#Fs})):this.#b?.unselect())}updateColor(t){if(this.#Os&&(this.#Os.style.backgroundColor=t),!this.#Ns)return;const e=this.#E.highlightColors.values();for(const n of this.#Ns.children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#Is?.remove(),this.#Is=null,this.#Os=null,this.#Ns?.remove(),this.#Ns=null}}class Qi extends $t{#Gs=null;#Ks=0;#qs;#Xs=null;#v=null;#Js=null;#Zs=null;#Qs=0;#tr=null;#er=null;#a=null;#nr=!1;#vt=this.#ir.bind(this);#sr=null;#rr;#or=null;#ar="";#Ss;#lr="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=f.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Qi.prototype;return H(this,"_keyboardManager",new Vt([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Qi._defaultColor,this.#Ss=t.thickness||Qi._defaultThickness,this.#rr=t.opacity||Qi._defaultOpacity,this.#qs=t.boxes||null,this.#lr=t.methodOfCreation||"",this.#ar=t.text||"",this._isDraggable=!1,t.highlightId>-1?(this.#nr=!0,this.#hr(t),this.#cr()):(this.#Gs=t.anchorNode,this.#Ks=t.anchorOffset,this.#Zs=t.focusNode,this.#Qs=t.focusOffset,this.#dr(),this.#cr(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#nr?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#Ss,methodOfCreation:this.#lr}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#dr(){const t=new Gi(this.#qs,.001);this.#er=t.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#er.box);const e=new Gi(this.#qs,.0025,.001,"ltr"===this._uiManager.direction);this.#Js=e.getOutlines();const{lastPoint:n}=this.#Js.box;this.#sr=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#hr({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#er=t;const i=1.5;if(this.#Js=t.getNewOutline(this.#Ss/2+i,.0025),e>=0)this.#a=e,this.#Xs=n,this.parent.drawLayer.finalizeLine(e,t),this.#or=this.parent.drawLayer.highlightOutline(this.#Js);else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#a,t),this.parent.drawLayer.updateBox(this.#a,Qi.#ur(this.#er.box,(e-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#or,this.#Js),this.parent.drawLayer.updateBox(this.#or,Qi.#ur(this.#Js.box,e))}const{x:s,y:r,width:o,height:a}=t.box;switch(this.rotation){case 0:this.x=s,this.y=r,this.width=o,this.height=a;break;case 90:{const[t,e]=this.parentDimensions;this.x=r,this.y=1-s,this.width=o*e/t,this.height=a*t/e;break}case 180:this.x=1-s,this.y=1-r,this.width=o,this.height=a;break;case 270:{const[t,e]=this.parentDimensions;this.x=1-r,this.y=s,this.width=o*e/t,this.height=a*t/e;break}}const{lastPoint:l}=this.#Js.box;this.#sr=[(l[0]-s)/o,(l[1]-r)/a]}static initialize(t,e){$t.initialize(t,e),Qi._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case m.HIGHLIGHT_DEFAULT_COLOR:Qi._defaultColor=e;break;case m.HIGHLIGHT_THICKNESS:Qi._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#sr}updateParams(t,e){switch(t){case m.HIGHLIGHT_COLOR:this.#Xi(e);break;case m.HIGHLIGHT_THICKNESS:this.#fr(e);break}}static get defaultPropertiesToUpdate(){return[[m.HIGHLIGHT_DEFAULT_COLOR,Qi._defaultColor],[m.HIGHLIGHT_THICKNESS,Qi._defaultThickness]]}get propertiesToUpdate(){return[[m.HIGHLIGHT_COLOR,this.color||Qi._defaultColor],[m.HIGHLIGHT_THICKNESS,this.#Ss||Qi._defaultThickness],[m.HIGHLIGHT_FREE,this.#nr]]}#Xi(t){const e=t=>{this.color=t,this.parent?.drawLayer.changeColor(this.#a,t),this.#v?.updateColor(t)},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#fr(t){const e=this.#Ss,n=t=>{this.#Ss=t,this.#mr(t)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#v=new Zi({editor:this}),t.addColorPicker(this.#v)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#gr())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#gr())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#pr(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#cr(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#pr():t&&(this.#cr(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#mr(t){if(!this.#nr)return;this.#hr({highlightOutlines:this.#er.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}#pr(){null!==this.#a&&this.parent&&(this.parent.drawLayer.remove(this.#a),this.#a=null,this.parent.drawLayer.remove(this.#or),this.#or=null)}#cr(t=this.parent){null===this.#a&&(({id:this.#a,clipPathId:this.#Xs}=t.drawLayer.highlight(this.#er,this.color,this.#rr)),this.#or=t.drawLayer.highlightOutline(this.#Js),this.#tr&&(this.#tr.style.clipPath=this.#Xs))}static#ur({x:t,y:e,width:n,height:i},s){switch(s){case 90:return{x:1-e-i,y:t,width:i,height:n};case 180:return{x:1-t-n,y:1-e-i,width:n,height:i};case 270:return{x:e,y:1-t-n,width:i,height:n}}return{x:t,y:e,width:n,height:i}}rotate(t){const{drawLayer:e}=this.parent;let n;this.#nr?(t=(t-this.rotation+360)%360,n=Qi.#ur(this.#er.box,t)):n=Qi.#ur(this,t),e.rotate(this.#a,t),e.rotate(this.#or,t),e.updateBox(this.#a,n),e.updateBox(this.#or,Qi.#ur(this.#Js.box,t))}render(){if(this.div)return this.div;const t=super.render();this.#ar&&(t.setAttribute("aria-label",this.#ar),t.setAttribute("role","mark")),this.#nr?t.classList.add("free"):this.div.addEventListener("keydown",this.#vt);const e=this.#tr=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#Xs;const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),Yt(this,this.#tr,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(this.#or,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#or,"hovered")}#ir(t){Qi._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#_r(!0);break;case 1:case 3:this.#_r(!1);break}}#_r(t){if(!this.#Gs)return;const e=window.getSelection();t?e.setPosition(this.#Gs,this.#Ks):e.setPosition(this.#Zs,this.#Qs)}select(){super.select(),this.#or&&(this.parent?.drawLayer.removeClass(this.#or,"hovered"),this.parent?.drawLayer.addClass(this.#or,"selected"))}unselect(){super.unselect(),this.#or&&(this.parent?.drawLayer.removeClass(this.#or,"selected"),this.#nr||this.#_r(!1))}get _mustFixPosition(){return!this.#nr}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(this.#a,t),this.parent.drawLayer.show(this.#or,t))}#gr(){return this.#nr?this.rotation:0}#yr(){if(this.#nr)return null;const[t,e]=this.pageDimensions,n=this.#qs,i=new Array(8*n.length);let s=0;for(const{x:r,y:o,width:a,height:l}of n){const n=r*t,h=(1-o-l)*e;i[s]=i[s+4]=n,i[s+1]=i[s+3]=h,i[s+2]=i[s+6]=n+a*t,i[s+5]=i[s+7]=h+l*e,s+=8}return i}#wr(t){return this.#er.serialize(t,this.#gr())}static startHighlighting(t,e,{target:n,x:i,y:s}){const{x:r,y:o,width:a,height:l}=n.getBoundingClientRect(),h=e=>{this.#vr(t,e)},c={capture:!0,passive:!1},d=t=>{t.preventDefault(),t.stopPropagation()},u=e=>{n.removeEventListener("pointermove",h),window.removeEventListener("blur",u),window.removeEventListener("pointerup",u),window.removeEventListener("pointerdown",d,c),window.removeEventListener("contextmenu",xt),this.#br(t,e)};window.addEventListener("blur",u),window.addEventListener("pointerup",u),window.addEventListener("pointerdown",d,c),window.addEventListener("contextmenu",xt),n.addEventListener("pointermove",h),this._freeHighlight=new Xi({x:i,y:s},[r,o,a,l],t.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#vr(t,e){this._freeHighlight.add(e)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#br(t,e){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(t,e,n){const i=super.deserialize(t,e,n),{rect:[s,r,o,a],color:l,quadPoints:h}=t;i.color=X.makeHexColor(...l),i.#rr=t.opacity;const[c,d]=i.pageDimensions;i.width=(o-s)/c,i.height=(a-r)/d;const u=i.#qs=[];for(let f=0;f<h.length;f+=8)u.push({x:(h[4]-o)/c,y:(a-(1-h[f+5]))/d,width:(h[f+2]-h[f])/c,height:(h[f+5]-h[f+1])/d});return i.#dr(),i}serialize(t=!1){if(this.isEmpty()||t)return null;const e=this.getRect(0,0),n=$t._colorManager.convert(this.color);return{annotationType:f.HIGHLIGHT,color:n,opacity:this.#rr,thickness:this.#Ss,quadPoints:this.#yr(),outlines:this.#wr(e),pageIndex:this.pageIndex,rect:e,rotation:this.#gr(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class ts extends $t{#Mr=0;#Sr=0;#Cr=this.canvasPointermove.bind(this);#xr=this.canvasPointerleave.bind(this);#Tr=this.canvasPointerup.bind(this);#kr=this.canvasPointerdown.bind(this);#Lr=null;#Er=new Path2D;#Rr=!1;#Ar=!1;#Dr=!1;#Hr=null;#Pr=0;#Ir=0;#Or=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=f.INK;constructor(t){super({...t,name:"inkEditor"}),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,e){$t.initialize(t,e)}static updateDefaultParams(t,e){switch(t){case m.INK_THICKNESS:ts._defaultThickness=e;break;case m.INK_COLOR:ts._defaultColor=e;break;case m.INK_OPACITY:ts._defaultOpacity=e/100;break}}updateParams(t,e){switch(t){case m.INK_THICKNESS:this.#fr(e);break;case m.INK_COLOR:this.#Xi(e);break;case m.INK_OPACITY:this.#Yr(e);break}}static get defaultPropertiesToUpdate(){return[[m.INK_THICKNESS,ts._defaultThickness],[m.INK_COLOR,ts._defaultColor||$t._defaultLineColor],[m.INK_OPACITY,Math.round(100*ts._defaultOpacity)]]}get propertiesToUpdate(){return[[m.INK_THICKNESS,this.thickness||ts._defaultThickness],[m.INK_COLOR,this.color||ts._defaultColor||$t._defaultLineColor],[m.INK_OPACITY,Math.round(100*(this.opacity??ts._defaultOpacity))]]}#fr(t){const e=t=>{this.thickness=t,this.#Nr()},n=this.thickness;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#Xi(t){const e=t=>{this.color=t,this.#Fr()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#Yr(t){const e=t=>{this.opacity=t,this.#Fr()};t/=100;const n=this.opacity;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:m.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#jr(),this.#Wr()),this.isAttachedToDOM||(this.parent.add(this),this.#Vr()),this.#Nr()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Lr&&(clearTimeout(this.#Lr),this.#Lr=null),this.#Hr.disconnect(),this.#Hr=null,super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&null===t&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,e]=this.parentDimensions,n=this.width*t,i=this.height*e;this.setDimensions(n,i)}enableEditMode(){this.#Rr||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#kr))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#kr))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Br(){const{parentRotation:t,parentDimensions:[e,n]}=this;switch(t){case 90:return[0,n,n,e];case 180:return[e,n,e,n];case 270:return[e,0,n,e];default:return[0,0,e,n]}}#zr(){const{ctx:t,color:e,opacity:n,thickness:i,parentScale:s,scaleFactor:r}=this;t.lineWidth=i*s/r,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${e}${Nt(n)}`}#Ur(t,e){this.canvas.addEventListener("contextmenu",xt),this.canvas.addEventListener("pointerleave",this.#xr),this.canvas.addEventListener("pointermove",this.#Cr),this.canvas.addEventListener("pointerup",this.#Tr),this.canvas.removeEventListener("pointerdown",this.#kr),this.isEditing=!0,this.#Dr||(this.#Dr=!0,this.#Vr(),this.thickness||=ts._defaultThickness,this.color||=ts._defaultColor||$t._defaultLineColor,this.opacity??=ts._defaultOpacity),this.currentPath.push([t,e]),this.#Ar=!1,this.#zr(),this.#Or=()=>{this.#$r(),this.#Or&&window.requestAnimationFrame(this.#Or)},window.requestAnimationFrame(this.#Or)}#Gr(t,e){const[n,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===n&&e===i)return;const s=this.currentPath;let r=this.#Er;if(s.push([t,e]),this.#Ar=!0,s.length<=2)return r.moveTo(...s[0]),void r.lineTo(t,e);3===s.length&&(this.#Er=r=new Path2D,r.moveTo(...s[0])),this.#Kr(r,...s.at(-3),...s.at(-2),t,e)}#qr(){if(0===this.currentPath.length)return;const t=this.currentPath.at(-1);this.#Er.lineTo(...t)}#Xr(t,e){let n;if(this.#Or=null,t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),this.#Gr(t,e),this.#qr(),1!==this.currentPath.length)n=this.#Jr();else{const i=[t,e];n=[[i,i.slice(),i.slice(),i]]}const i=this.#Er,s=this.currentPath;this.currentPath=[],this.#Er=new Path2D;const r=()=>{this.allRawPaths.push(s),this.paths.push(n),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},o=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#jr(),this.#Wr()),this.#Nr())};this.addCommands({cmd:r,undo:o,mustExec:!0})}#$r(){if(!this.#Ar)return;this.#Ar=!1;const t=Math.ceil(this.thickness*this.parentScale),e=this.currentPath.slice(-3),n=e.map((t=>t[0])),i=e.map((t=>t[1])),{ctx:s}=(Math.min(...n),Math.max(...n),Math.min(...i),Math.max(...i),this);s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const r of this.bezierPath2D)s.stroke(r);s.stroke(this.#Er),s.restore()}#Kr(t,e,n,i,s,r,o){const a=(e+i)/2,l=(n+s)/2,h=(i+r)/2,c=(s+o)/2;t.bezierCurveTo(a+2*(i-a)/3,l+2*(s-l)/3,h+2*(i-h)/3,c+2*(s-c)/3,h,c)}#Jr(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const e=[];let n,[i,s]=t[0];for(n=1;n<t.length-2;n++){const[r,o]=t[n],[a,l]=t[n+1],h=(r+a)/2,c=(o+l)/2,d=[i+2*(r-i)/3,s+2*(o-s)/3],u=[h+2*(r-h)/3,c+2*(o-c)/3];e.push([[i,s],d,u,[h,c]]),[i,s]=[h,c]}const[r,o]=t[n],[a,l]=t[n+1],h=[i+2*(r-i)/3,s+2*(o-s)/3],c=[a+2*(r-a)/3,l+2*(o-l)/3];return e.push([[i,s],h,c,[a,l]]),e}#Fr(){if(this.isEmpty())return void this.#Zr();this.#zr();const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),this.#Zr();for(const n of this.bezierPath2D)e.stroke(n)}commit(){this.#Rr||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Rr=!0,this.div.classList.add("disabled"),this.#Nr(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){0===t.button&&this.isInEditMode()&&!this.#Rr&&(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#Ur(t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),this.#Gr(t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),this.#Qr(t)}canvasPointerleave(t){this.#Qr(t)}#Qr(t){this.canvas.removeEventListener("pointerleave",this.#xr),this.canvas.removeEventListener("pointermove",this.#Cr),this.canvas.removeEventListener("pointerup",this.#Tr),this.canvas.addEventListener("pointerdown",this.#kr),this.#Lr&&clearTimeout(this.#Lr),this.#Lr=setTimeout((()=>{this.#Lr=null,this.canvas.removeEventListener("contextmenu",xt)}),10),this.#Xr(t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#jr(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#Wr(){this.#Hr=new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)})),this.#Hr.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#Rr}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,i,s,r]=this.#Br();if(this.setAt(n,i,0,0),this.setDims(s,r),this.#jr(),this.width){const[n,i]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*i),this.setAt(t*n,e*i,this.width*n,this.height*i),this.#Dr=!0,this.#Vr(),this.setDims(this.width*n,this.height*i),this.#Fr(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#Wr(),this.div}#Vr(){if(!this.#Dr)return;const[t,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),this.#Zr()}setDimensions(t,e){const n=Math.round(t),i=Math.round(e);if(this.#Pr===n&&this.#Ir===i)return;this.#Pr=n,this.#Ir=i,this.canvas.style.visibility="hidden";const[s,r]=this.parentDimensions;this.width=t/s,this.height=e/r,this.fixAndSetPosition(),this.#Rr&&this.#to(t,e),this.#Vr(),this.#Fr(),this.canvas.style.visibility="visible",this.fixDims()}#to(t,e){const n=this.#eo(),i=(t-n)/this.#Sr,s=(e-n)/this.#Mr;this.scaleFactor=Math.min(i,s)}#Zr(){const t=this.#eo()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}static#no(t){const e=new Path2D;for(let n=0,i=t.length;n<i;n++){const[i,s,r,o]=t[n];0===n&&e.moveTo(...i),e.bezierCurveTo(s[0],s[1],r[0],r[1],o[0],o[1])}return e}static#io(t,e,n){const[i,s,r,o]=e;switch(n){case 0:for(let e=0,n=t.length;e<n;e+=2)t[e]+=i,t[e+1]=o-t[e+1];break;case 90:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=t[e+1]+i,t[e+1]=n+s}break;case 180:for(let e=0,n=t.length;e<n;e+=2)t[e]=r-t[e],t[e+1]+=s;break;case 270:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=r-t[e+1],t[e+1]=o-n}break;default:throw new Error("Invalid rotation")}return t}static#so(t,e,n){const[i,s,r,o]=e;switch(n){case 0:for(let e=0,n=t.length;e<n;e+=2)t[e]-=i,t[e+1]=o-t[e+1];break;case 90:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=t[e+1]-s,t[e+1]=n-i}break;case 180:for(let e=0,n=t.length;e<n;e+=2)t[e]=r-t[e],t[e+1]-=s;break;case 270:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=o-t[e+1],t[e+1]=r-n}break;default:throw new Error("Invalid rotation")}return t}#ro(t,e,n,i){const s=[],r=this.thickness/2,o=t*e+r,a=t*n+r;for(const l of this.paths){const e=[],n=[];for(let i=0,s=l.length;i<s;i++){const[r,h,c,d]=l[i];if(r[0]===d[0]&&r[1]===d[1]&&1===s){const i=t*r[0]+o,s=t*r[1]+a;e.push(i,s),n.push(i,s);break}const u=t*r[0]+o,f=t*r[1]+a,m=t*h[0]+o,g=t*h[1]+a,p=t*c[0]+o,_=t*c[1]+a,y=t*d[0]+o,w=t*d[1]+a;0===i&&(e.push(u,f),n.push(u,f)),e.push(m,g,p,_,y,w),n.push(m,g),i===s-1&&n.push(y,w)}s.push({bezier:ts.#io(e,i,this.rotation),points:ts.#io(n,i,this.rotation)})}return s}#oo(){let t=1/0,e=-1/0,n=1/0,i=-1/0;for(const s of this.paths)for(const[r,o,a,l]of s){const s=X.bezierBoundingBox(...r,...o,...a,...l);t=Math.min(t,s[0]),n=Math.min(n,s[1]),e=Math.max(e,s[2]),i=Math.max(i,s[3])}return[t,n,e,i]}#eo(){return this.#Rr?Math.ceil(this.thickness*this.parentScale):0}#Nr(t=!1){if(this.isEmpty())return;if(!this.#Rr)return void this.#Fr();const e=this.#oo(),n=this.#eo();this.#Sr=Math.max($t.MIN_SIZE,e[2]-e[0]),this.#Mr=Math.max($t.MIN_SIZE,e[3]-e[1]);const i=Math.ceil(n+this.#Sr*this.scaleFactor),s=Math.ceil(n+this.#Mr*this.scaleFactor),[r,o]=this.parentDimensions;this.width=i/r,this.height=s/o,this.setAspectRatio(i,s);const a=this.translationX,l=this.translationY;this.translationX=-e[0],this.translationY=-e[1],this.#Vr(),this.#Fr(),this.#Pr=i,this.#Ir=s,this.setDims(i,s);const h=t?n/this.scaleFactor/2:0;this.translate(a-this.translationX-h,l-this.translationY-h)}static deserialize(t,e,n){if(t instanceof Yi)return null;const i=super.deserialize(t,e,n);i.thickness=t.thickness,i.color=X.makeHexColor(...t.color),i.opacity=t.opacity;const[s,r]=i.pageDimensions,o=i.width*s,a=i.height*r,l=i.parentScale,h=t.thickness/2;i.#Rr=!0,i.#Pr=Math.round(o),i.#Ir=Math.round(a);const{paths:c,rect:d,rotation:u}=t;for(let{bezier:m}of c){m=ts.#so(m,d,u);const t=[];i.paths.push(t);let e=l*(m[0]-h),n=l*(m[1]-h);for(let i=2,r=m.length;i<r;i+=6){const s=l*(m[i]-h),r=l*(m[i+1]-h),o=l*(m[i+2]-h),a=l*(m[i+3]-h),c=l*(m[i+4]-h),d=l*(m[i+5]-h);t.push([[e,n],[s,r],[o,a],[c,d]]),e=c,n=d}const s=this.#no(t);i.bezierPath2D.push(s)}const f=i.#oo();return i.#Sr=Math.max($t.MIN_SIZE,f[2]-f[0]),i.#Mr=Math.max($t.MIN_SIZE,f[3]-f[1]),i.#to(o,a),i}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=$t._colorManager.convert(this.ctx.strokeStyle);return{annotationType:f.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:this.#ro(this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class es extends $t{#ao=null;#lo=null;#ho=null;#co=null;#do=null;#uo="";#fo=null;#Hr=null;#mo=null;#go=!1;#po=!1;static _type="stamp";static _editorType=f.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#co=t.bitmapUrl,this.#do=t.bitmapFile}static initialize(t,e){$t.initialize(t,e)}static get supportedTypes(){const t=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return H(this,"supportedTypes",t.map((t=>`image/${t}`)))}static get supportedTypesStr(){return H(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(f.STAMP,{bitmapFile:t.getAsFile()})}#_o(t,e=!1){t?(this.#ao=t.bitmap,e||(this.#lo=t.id,this.#go=t.isSvg),t.file&&(this.#uo=t.file.name),this.#jr()):this.remove()}#yo(){this.#ho=null,this._uiManager.enableWaiting(!1),this.#fo&&this.div.focus()}#wo(){if(this.#lo)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#lo).then((t=>this.#_o(t,!0))).finally((()=>this.#yo()));if(this.#co){const t=this.#co;return this.#co=null,this._uiManager.enableWaiting(!0),void(this.#ho=this._uiManager.imageManager.getFromUrl(t).then((t=>this.#_o(t))).finally((()=>this.#yo())))}if(this.#do){const t=this.#do;return this.#do=null,this._uiManager.enableWaiting(!0),void(this.#ho=this._uiManager.imageManager.getFromFile(t).then((t=>this.#_o(t))).finally((()=>this.#yo())))}const t=document.createElement("input");t.type="file",t.accept=es.supportedTypesStr,this.#ho=new Promise((e=>{t.addEventListener("change",(async()=>{if(t.files&&0!==t.files.length){this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(t.files[0]);this.#_o(e)}else this.remove();e()})),t.addEventListener("cancel",(()=>{this.remove(),e()}))})).finally((()=>this.#yo())),t.click()}remove(){this.#lo&&(this.#ao=null,this._uiManager.imageManager.deleteId(this.#lo),this.#fo?.remove(),this.#fo=null,this.#Hr?.disconnect(),this.#Hr=null,this.#mo&&(clearTimeout(this.#mo),this.#mo=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#lo&&null===this.#fo&&this.#wo(),this.isAttachedToDOM||this.parent.add(this))):this.#lo&&this.#wo()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#ho||this.#ao||this.#co||this.#do||this.#lo)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#ao?this.#jr():this.#wo(),this.width){const[n,i]=this.parentDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i)}return this.div}#jr(){const{div:t}=this;let{width:e,height:n}=this.#ao;const[i,s]=this.pageDimensions,r=.75;if(this.width)e=this.width*i,n=this.height*s;else if(e>r*i||n>r*s){const t=Math.min(r*i/e,r*s/n);e*=t,n*=t}const[o,a]=this.parentDimensions;this.setDims(e*o/i,n*a/s),this._uiManager.enableWaiting(!1);const l=this.#fo=document.createElement("canvas");t.append(l),t.hidden=!1,this.#vo(e,n),this.#Wr(),this.#po||(this.parent.addUndoableEditor(this),this.#po=!0),this._reportTelemetry({action:"inserted_image"}),this.#uo&&l.setAttribute("aria-label",this.#uo)}#bo(t,e){const[n,i]=this.parentDimensions;this.width=t/n,this.height=e/i,this.setDims(t,e),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#mo&&clearTimeout(this.#mo);const s=200;this.#mo=setTimeout((()=>{this.#mo=null,this.#vo(t,e)}),s)}#Mo(t,e){const{width:n,height:i}=this.#ao;let s=n,r=i,o=this.#ao;while(s>2*t||r>2*e){const n=s,i=r;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const a=new OffscreenCanvas(s,r),l=a.getContext("2d");l.drawImage(o,0,0,n,i,0,0,s,r),o=a.transferToImageBitmap()}return o}#vo(t,e){t=Math.ceil(t),e=Math.ceil(e);const n=this.#fo;if(!n||n.width===t&&n.height===e)return;n.width=t,n.height=e;const i=this.#go?this.#ao:this.#Mo(t,e);if(this._uiManager.hasMLManager&&!this.hasAltText()){const n=new OffscreenCanvas(t,e),s=n.getContext("2d");s.drawImage(i,0,0,i.width,i.height,0,0,t,e),this._uiManager.mlGuess({service:"image-to-text",request:{data:s.getImageData(0,0,t,e).data,width:t,height:e,channels:4}}).then((t=>{const e=t?.output||"";this.parent&&e&&!this.hasAltText()&&(this.altTextData={altText:e,decorative:!1})}))}const s=n.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(i,0,0,i.width,i.height,0,0,t,e)}getImageForAltText(){return this.#fo}#So(t){if(t){if(this.#go){const t=this._uiManager.imageManager.getSvgUrl(this.#lo);if(t)return t}const t=document.createElement("canvas");({width:t.width,height:t.height}=this.#ao);const e=t.getContext("2d");return e.drawImage(this.#ao,0,0),t.toDataURL()}if(this.#go){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*ct.PDF_TO_CSS_UNITS),i=Math.round(this.height*e*ct.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(n,i),r=s.getContext("2d");return r.drawImage(this.#ao,0,0,this.#ao.width,this.#ao.height,0,0,n,i),s.transferToImageBitmap()}return structuredClone(this.#ao)}#Wr(){this.#Hr=new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&this.#bo(e.width,e.height)})),this.#Hr.observe(this.div)}static deserialize(t,e,n){if(t instanceof Vi)return null;const i=super.deserialize(t,e,n),{rect:s,bitmapUrl:r,bitmapId:o,isSvg:a,accessibilityData:l}=t;o&&n.imageManager.isValidId(o)?i.#lo=o:i.#co=r,i.#go=a;const[h,c]=i.pageDimensions;return i.width=(s[2]-s[0])/h,i.height=(s[3]-s[1])/c,l&&(i.altTextData=l),i}serialize(t=!1,e=null){if(this.isEmpty())return null;const n={annotationType:f.STAMP,bitmapId:this.#lo,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#go,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#So(!0),n.accessibilityData=this.altTextData,n;const{decorative:i,altText:s}=this.altTextData;if(!i&&s&&(n.accessibilityData={type:"Figure",alt:s}),null===e)return n;e.stamps||=new Map;const r=this.#go?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has(this.#lo)){if(this.#go){const t=e.stamps.get(this.#lo);r>t.area&&(t.area=r,t.serialized.bitmap.close(),t.serialized.bitmap=this.#So(!1))}}else e.stamps.set(this.#lo,{area:r,serialized:n}),n.bitmap=this.#So(!1);return n}}class ns{#Oi;#Co=!1;#xo=null;#To=null;#ko=null;#Lo=null;#Eo=null;#Ro=new Map;#Ao=!1;#Do=!1;#Ho=!1;#Po=null;#E;static _initialized=!1;static#X=new Map([$i,ts,es,Qi].map((t=>[t._editorType,t])));constructor({uiManager:t,pageIndex:e,div:n,accessibilityManager:i,annotationLayer:s,drawLayer:r,textLayer:o,viewport:a,l10n:l}){const h=[...ns.#X.values()];if(!ns._initialized){ns._initialized=!0;for(const e of h)e.initialize(l,t)}t.registerEditorTypes(h),this.#E=t,this.pageIndex=e,this.div=n,this.#Oi=i,this.#xo=s,this.viewport=a,this.#Po=o,this.drawLayer=r,this.#E.addLayer(this)}get isEmpty(){return 0===this.#Ro.size}get isInvisible(){return this.isEmpty&&this.#E.getMode()===f.NONE}updateToolbar(t){this.#E.updateToolbar(t)}updateMode(t=this.#E.getMode()){switch(this.#Io(),t){case f.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case f.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case f.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of ns.#X.values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#Po?.div}addInkEditorIfNeeded(t){if(this.#E.getMode()!==f.INK)return;if(!t)for(const n of this.#Ro.values())if(n.isEmpty())return void n.setInBackground();const e=this.createAndAddNewEditor({offsetX:0,offsetY:0},!1);e.setInBackground()}setEditingState(t){this.#E.setEditingState(t)}addCommands(t){this.#E.addCommands(t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#xo?.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of this.#Ro.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#E.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!this.#xo)return;const e=this.#xo.getEditableAnnotations();for(const n of e){if(n.hide(),this.#E.isDeletedAnnotationElement(n.data.id))continue;if(t.has(n.data.id))continue;const e=this.deserialize(n);e&&(this.addOrRebuild(e),e.enableEditing())}}disable(){this.#Ho=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const i of this.#Ro.values())i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(e.set(i.annotationElementId,i),this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()):t.set(i.annotationElementId,i));if(this.#xo){const n=this.#xo.getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(this.#E.isDeletedAnnotationElement(n))continue;let s=e.get(n);s?(s.resetAnnotationElement(i),s.show(!1),i.show()):(s=t.get(n),s&&(this.#E.addChangedExistingAnnotation(s),s.renderAnnotationElement(i),s.show(!1)),i.show())}}this.#Io(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of ns.#X.values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#Ho=!1}getEditableAnnotation(t){return this.#xo?.getEditableAnnotation(t)||null}setActiveEditor(t){const e=this.#E.getActive();e!==t&&this.#E.setActiveEditor(t)}enableTextSelection(){this.div.tabIndex=-1,this.#Po?.div&&!this.#Lo&&(this.#Lo=this.#Oo.bind(this),this.#Po.div.addEventListener("pointerdown",this.#Lo),this.#Po.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#Po?.div&&this.#Lo&&(this.#Po.div.removeEventListener("pointerdown",this.#Lo),this.#Lo=null,this.#Po.div.classList.remove("highlighting"))}#Oo(t){if(this.#E.unselectAll(),t.target===this.#Po.div){const{isMac:e}=K.platform;if(0!==t.button||t.ctrlKey&&e)return;this.#E.showAllEditors("highlight",!0,!0),this.#Po.div.classList.add("free"),Qi.startHighlighting(this,"ltr"===this.#E.direction,t),this.#Po.div.addEventListener("pointerup",(()=>{this.#Po.div.classList.remove("free")}),{once:!0}),t.preventDefault()}}enableClick(){this.#ko||(this.#ko=this.pointerdown.bind(this),this.#To=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#ko),this.div.addEventListener("pointerup",this.#To))}disableClick(){this.#ko&&(this.div.removeEventListener("pointerdown",this.#ko),this.div.removeEventListener("pointerup",this.#To),this.#ko=null,this.#To=null)}attach(t){this.#Ro.set(t.id,t);const{annotationElementId:e}=t;e&&this.#E.isDeletedAnnotationElement(e)&&this.#E.removeDeletedAnnotationElement(t)}detach(t){this.#Ro.delete(t.id),this.#Oi?.removePointerInTextLayer(t.contentDiv),!this.#Ho&&t.annotationElementId&&this.#E.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#E.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#Do||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#E.addDeletedAnnotationElement(t.annotationElementId),$t.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),this.#E.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#E.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#Eo&&(t._focusEventsAllowed=!1,this.#Eo=setTimeout((()=>{this.#Eo=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0}),e.focus())}),0)),t._structTreeParentId=this.#Oi?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return this.#E.getId()}get#Yo(){return ns.#X.get(this.#E.getMode())}#No(t){const e=this.#Yo;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#Yo?.canCreateNewEmptyEditor()}pasteEditor(t,e){this.#E.updateToolbar(t),this.#E.updateMode(t);const{offsetX:n,offsetY:i}=this.#Fo(),s=this.getNextId(),r=this.#No({parent:this,id:s,x:n,y:i,uiManager:this.#E,isCentered:!0,...e});r&&this.add(r)}deserialize(t){return ns.#X.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#E)||null}createAndAddNewEditor(t,e,n={}){const i=this.getNextId(),s=this.#No({parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:this.#E,isCentered:e,...n});return s&&this.add(s),s}#Fo(){const{x:t,y:e,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,t),r=Math.max(0,e),o=Math.min(window.innerWidth,t+n),a=Math.min(window.innerHeight,e+i),l=(s+o)/2-t,h=(r+a)/2-e,[c,d]=this.viewport.rotation%180===0?[l,h]:[h,l];return{offsetX:c,offsetY:d}}addNewEditor(){this.createAndAddNewEditor(this.#Fo(),!0)}setSelected(t){this.#E.setSelected(t)}toggleSelected(t){this.#E.toggleSelected(t)}isSelected(t){return this.#E.isSelected(t)}unselect(t){this.#E.unselect(t)}pointerup(t){const{isMac:e}=K.platform;0!==t.button||t.ctrlKey&&e||t.target===this.div&&this.#Ao&&(this.#Ao=!1,this.#Co?this.#E.getMode()!==f.STAMP?this.createAndAddNewEditor(t,!1):this.#E.unselectAll():this.#Co=!0)}pointerdown(t){if(this.#E.getMode()===f.HIGHLIGHT&&this.enableTextSelection(),this.#Ao)return void(this.#Ao=!1);const{isMac:e}=K.platform;if(0!==t.button||t.ctrlKey&&e)return;if(t.target!==this.div)return;this.#Ao=!0;const n=this.#E.getActive();this.#Co=!n||n.isEmpty()}findNewParent(t,e,n){const i=this.#E.findParent(e,n);return null!==i&&i!==this&&(i.changeParent(t),!0)}destroy(){this.#E.getActive()?.parent===this&&(this.#E.commitOrRemove(),this.#E.setActiveEditor(null)),this.#Eo&&(clearTimeout(this.#Eo),this.#Eo=null);for(const t of this.#Ro.values())this.#Oi?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#Ro.clear(),this.#E.removeLayer(this)}#Io(){this.#Do=!0;for(const t of this.#Ro.values())t.isEmpty()&&t.remove();this.#Do=!1}render({viewport:t}){this.viewport=t,Pt(this.div,t);for(const e of this.#E.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#E.commitOrRemove(),this.#Io();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Pt(this.div,{rotation:n}),e!==n)for(const i of this.#Ro.values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#E.viewParameters.realScale}}class is{#pi=null;#a=0;#jo=new Map;#Wo=new Map;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(this.#pi){if(this.#pi!==t){if(this.#jo.size>0)for(const e of this.#jo.values())e.remove(),t.append(e);this.#pi=t}}else this.#pi=t}static get _svgFactory(){return H(this,"_svgFactory",new pt)}static#Vo(t,{x:e=0,y:n=0,width:i=1,height:s=1}={}){const{style:r}=t;r.top=100*n+"%",r.left=100*e+"%",r.width=100*i+"%",r.height=100*s+"%"}#Bo(t){const e=is._svgFactory.create(1,1,!0);return this.#pi.append(e),e.setAttribute("aria-hidden",!0),is.#Vo(e,t),e}#zo(t,e){const n=is._svgFactory.createElement("clipPath");t.append(n);const i=`clip_${e}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=is._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),i}highlight(t,e,n,i=!1){const s=this.#a++,r=this.#Bo(t.box);r.classList.add("highlight"),t.free&&r.classList.add("free");const o=is._svgFactory.createElement("defs");r.append(o);const a=is._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${s}`;a.setAttribute("id",l),a.setAttribute("d",t.toSVGPath()),i&&this.#Wo.set(s,a);const h=this.#zo(o,l),c=is._svgFactory.createElement("use");return r.append(c),r.setAttribute("fill",e),r.setAttribute("fill-opacity",n),c.setAttribute("href",`#${l}`),this.#jo.set(s,r),{id:s,clipPathId:`url(#${h})`}}highlightOutline(t){const e=this.#a++,n=this.#Bo(t.box);n.classList.add("highlightOutline");const i=is._svgFactory.createElement("defs");n.append(i);const s=is._svgFactory.createElement("path");i.append(s);const r=`path_p${this.pageIndex}_${e}`;let o;if(s.setAttribute("id",r),s.setAttribute("d",t.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke"),t.free){n.classList.add("free");const t=is._svgFactory.createElement("mask");i.append(t),o=`mask_p${this.pageIndex}_${e}`,t.setAttribute("id",o),t.setAttribute("maskUnits","objectBoundingBox");const s=is._svgFactory.createElement("rect");t.append(s),s.setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("fill","white");const a=is._svgFactory.createElement("use");t.append(a),a.setAttribute("href",`#${r}`),a.setAttribute("stroke","none"),a.setAttribute("fill","black"),a.setAttribute("fill-rule","nonzero"),a.classList.add("mask")}const a=is._svgFactory.createElement("use");n.append(a),a.setAttribute("href",`#${r}`),o&&a.setAttribute("mask",`url(#${o})`);const l=a.cloneNode();return n.append(l),a.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.#jo.set(e,n),e}finalizeLine(t,e){const n=this.#Wo.get(t);this.#Wo.delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){const n=this.#jo.get(t),i=n.firstChild,s=i.firstChild;s.setAttribute("d",e.toSVGPath())}removeFreeHighlight(t){this.remove(t),this.#Wo.delete(t)}updatePath(t,e){this.#Wo.get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){is.#Vo(this.#jo.get(t),e)}show(t,e){this.#jo.get(t).classList.toggle("hidden",!e)}rotate(t,e){this.#jo.get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){this.#jo.get(t).setAttribute("fill",e)}changeOpacity(t,e){this.#jo.get(t).setAttribute("fill-opacity",e)}addClass(t,e){this.#jo.get(t).classList.add(e)}removeClass(t,e){this.#jo.get(t).classList.remove(e)}remove(t){null!==this.#pi&&(this.#jo.get(t).remove(),this.#jo.delete(t))}destroy(){this.#pi=null;for(const t of this.#jo.values())t.remove();this.#jo.clear()}}s.AbortException,s.AnnotationEditorLayer,s.AnnotationEditorParamsType,s.AnnotationEditorType,s.AnnotationEditorUIManager,s.AnnotationLayer,s.AnnotationMode,s.CMapCompressionType,s.ColorPicker,s.DOMSVGFactory,s.DrawLayer,s.FeatureTest;var ss=s.GlobalWorkerOptions,rs=(s.ImageKind,s.InvalidPDFException,s.MissingPDFException,s.OPS,s.Outliner,s.PDFDataRangeTransport,s.PDFDateString,s.PDFWorker,s.PasswordResponses,s.PermissionFlag,s.PixelsPerInch,s.RenderingCancelledException,s.TextLayer,s.UnexpectedResponseException,s.Util,s.VerbosityLevel,s.XfaLayer,s.build,s.createValidAbsoluteUrl,s.fetchData,s.getDocument);s.getFilenameFromUrl,s.getPdfFilenameFromUrl,s.getXfaPageViewport,s.isDataScheme,s.isPdfFile,s.noContextMenu,s.normalizeUnicode,s.renderTextLayer,s.setLayerDimensions,s.shadow,s.updateTextLayer,s.version;"undefined"!==typeof window&&"Worker"in window&&(ss.workerPort=new Worker(new URL(n.p+n.u(332),n.b),{type:void 0}))},6908:function(t,e,n){"use strict";n.d(e,{yP:function(){return y}});var i=n(2022),s=n(641),r=n(953);const o={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},a={ariaLabel:{type:String},ariaDescribedby:{type:String}},l={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...o,...a},h="2"===s.rE[0]?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function c(t){return(0,r.ju)(t)?(0,r.ux)(t):t}function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return(0,r.ju)(e)?new Proxy(t,{}):t}function u(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function f(t,e){t.labels=e}function m(t,e,n){const i=[];t.datasets=e.map((e=>{const s=t.datasets.find((t=>t[n]===e[n]));return s&&e.data&&!i.includes(s)?(i.push(s),Object.assign(s,e),s):{...e}}))}function g(t,e){const n={labels:[],datasets:[]};return f(n,t.labels),m(n,t.datasets,e),n}const p=(0,s.pM)({props:l,setup(t,e){let{expose:n,slots:o}=e;const a=(0,r.KR)(null),l=(0,r.IJ)(null);n({chart:l});const h=()=>{if(!a.value)return;const{type:e,data:n,options:s,plugins:r,datasetIdKey:o}=t,h=g(n,o),c=d(h,n);l.value=new i.t1(a.value,{type:e,data:c,options:{...s},plugins:r})},p=()=>{const e=(0,r.ux)(l.value);e&&(t.destroyDelay>0?setTimeout((()=>{e.destroy(),l.value=null}),t.destroyDelay):(e.destroy(),l.value=null))},_=e=>{e.update(t.updateMode)};return(0,s.sV)(h),(0,s.hi)(p),(0,s.wB)([()=>t.options,()=>t.data],((e,n)=>{let[i,o]=e,[a,h]=n;const d=(0,r.ux)(l.value);if(!d)return;let g=!1;if(i){const t=c(i),e=c(a);t&&t!==e&&(u(d,t),g=!0)}if(o){const e=c(o.labels),n=c(h.labels),i=c(o.datasets),s=c(h.datasets);e!==n&&(f(d.config.data,e),g=!0),i&&i!==s&&(m(d.config.data,i,t.datasetIdKey),g=!0)}g&&(0,s.dY)((()=>{_(d)}))}),{deep:!0}),()=>(0,s.h)("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:a},[(0,s.h)("p",{},[o.default?o.default():""])])}});function _(t,e){return i.t1.register(e),(0,s.pM)({props:o,setup(e,n){let{expose:i}=n;const o=(0,r.IJ)(null),a=t=>{o.value=t?.chart};return i({chart:o}),()=>(0,s.h)(p,h({ref:a},{type:t,...e}))}})}const y=_("bar",i.A6)},5220:function(t,e,n){"use strict";n.d(e,{rd:function(){return b}});var i=n(641),s=n(953);Object.assign;const r=()=>{},o=Array.isArray;function a(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function l(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!h(t[n],e[n]))return!1;return!0}function h(t,e){return o(t)?c(t,e):o(e)?c(e,t):t===e}function c(t,e){return o(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var d,u;(function(t){t["pop"]="pop",t["push"]="push"})(d||(d={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(u||(u={}));new Map;Symbol("");var f;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(f||(f={}));Symbol(""),Symbol("");const m=Symbol(""),g=Symbol("");Symbol("");function p(t){const e=(0,i.WQ)(m),n=(0,i.WQ)(g);const o=(0,i.EW)((()=>{const n=(0,s.R1)(t.to);return e.resolve(n)})),h=(0,i.EW)((()=>{const{matched:t}=o.value,{length:e}=t,i=t[e-1],s=n.matched;if(!i||!s.length)return-1;const r=s.findIndex(a.bind(null,i));if(r>-1)return r;const l=w(t[e-2]);return e>1&&w(i)===l&&s[s.length-1].path!==l?s.findIndex(a.bind(null,t[e-2])):r})),c=(0,i.EW)((()=>h.value>-1&&y(n.params,o.value.params))),d=(0,i.EW)((()=>h.value>-1&&h.value===n.matched.length-1&&l(n.params,o.value.params)));function u(n={}){return _(n)?e[(0,s.R1)(t.replace)?"replace":"push"]((0,s.R1)(t.to)).catch(r):Promise.resolve()}return{route:o,href:(0,i.EW)((()=>o.value.href)),isActive:c,isExactActive:d,navigate:u}}Boolean,Boolean;function _(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function y(t,e){for(const n in e){const i=e[n],s=t[n];if("string"===typeof i){if(i!==s)return!1}else if(!o(s)||s.length!==i.length||i.some(((t,e)=>t!==s[e])))return!1}return!0}function w(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const v=(t,e,n)=>null!=t?t:null!=e?e:n;function b(){return(0,i.WQ)(m)}}}]);
//# sourceMappingURL=chunk-vendors.9af92bb2.js.map